{
	"auto_complete":
	{
		"selected_items":
		[
		]
	},
	"buffers":
	[
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/edit-settings.ctp",
			"settings":
			{
				"buffer_size": 9040,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "////\n/// SPLASH PLANNING TOOLS\n// 	main structure & flow\n//\\\n//\\\\\n\n@import 'global-mixins'\n\nblue = #06deef\nblueDK = #0093c6\npink = #ff2c5e\npinkDK = #da145f\ngreen = #00e28b\ngreenDK = #1eb260\npurple = #815bff\npurpleDK = #3030d1\norange = #3030d1\norangeDK = #ff0030\nyellow = #eaea0f\nyellowDK = #98db16\n\n////\n/// BODY\n//\nbody\n	background #f8f8f8\n\nhtml\n	background #F8F8F8\n\n////\n/// STRUCTURE\n//\n\n// Main planning tools holder\n// Default position is closed; nav only.\n\n\n@media screen and (max-width:858px)\n	#planning-tools\n		#planning-tools-header\n			.eventTitle\n			.planLinks\n				width 50% !important\n\n\nbody.finetune\n	//overflow-y scroll !important\n\n#planning-tools\n	position fixed\n	top 0\n	right 92px\n	height 100%\n	width calc(100% \\- 92px)\n	color #fff\n	z-index 2\n	// @noTransition\n	// transition width .3s linear\n\n	.content\n		background #191919\n		// trying this\n		background #f4f4f4\n		color #000\n\n	.canvas\n		padding 0\n		max-width none\n		// background #1f1f1f\n		transition background .1s linear 0s\n		overflow visible\n		text-align center\n		#venue-name\n			font-size 0.65em\n			margin-bottom 5px\n\n	#planning-tools-header\n\n		a#closePlanningTools\n			color #fff\n			font-family 'gibsonLight'\n			text-transform uppercase\n			position absolute\n			font-size 1.2em\n			top 10px\n			right 0\n			&:hover\n				color #c0c0c0\n\n		#pro-addon-button\n			position absolute\n			top 10px\n			right 75px\n			background-color greenDK\n			border-radius 2px\n			border 0\n			color #fff\n			font-size: 0.6em\n			padding 10px 20px\n			cursor pointer\n			user-select none\n			&:focus\n				outline none\n		.header-date-info\n			display none\n			position absolute\n			top 7px\n			right 75px\n			color #fff\n			width 205px\n			text-align left\n			small\n				font-size 0.5em !important\n				line-height 1em !important\n\n		.date-event-meta\n				.float-left\n					float left\n				small\n					width auto !important\n					&#planning-tools-display-date\n						font-size 0.7em\n				.clear\n					clear both\n				#edit-venue-info-button\n					padding 7px 15px\n					background-color #767676\n					color #fff\n					border-radius 2px\n					border 0\n					margin-left 30px\n					cursor pointer\n					user-select none\n					&:focus\n						outline none\n				#date-change-message\n					display none\n					font-size 0.5em\n					color #ff9494\n					&.date-changed\n						display block !important\n\n		.number-display\n			font-size 30px\n\n		.number-display-title\n			font-size 0.5em !important\n\n		.canvas\n			height 300px\n			> .w1-3\n				padding-left 0px !important\n			h4\n				font-size 1.6em\n				line-height 1em\n				text-align left\n				font-family 'gibsonRegular'\n				transition font-size .2s linear\n			small\n				font-size 0.6em\n				margin-top 2px\n				line-height 1.2em\n\n			.event-meta\n				padding-bottom 1em\n				transition opacity .2s linear\n				font-family 'gibsonLight'\n				.abs\n					padding-bottom 1em\n				.pb1-5\n					padding-bottom 1.5em !important\n			// &.minify\n\n\n	#planning-tools-header\n		display none\n\n	#ultimate-block-wrap\n		background #F4F4F4\n		position relative\n		display block\n		text-align left\n		margin-top 66px\n		width 100%\n		max-width 60em\n		float none\n		min-width 675px\n		overflow hidden\n\n		#stats-block\n			.statsWrap\n				width 70%\n				margin 0 auto\n				min-width 575px\n				.topLeftStats\n				.topRightStats\n					float left\n					width 47.5%\n					margin-top 26px\n					h3\n						background #fff\n						font-family 'gibsonLight' !important\n						font-weight normal\n						font-size 28px\n						padding-bottom 9px\n					.statsContent\n						position relative\n						left 0px\n						font-family 'gibsonLight'\n						color #555\n						border 1px solid #eee\n						box-shadow 0 -10px 21px 0px #eee inset\n						min-height 80px\n						padding 4px 9px\n						border-radius 4px\n						.page-views\n							position relative\n							height auto\n							font-size 47px\n							line-height 47px\n						.moreLink\n							position absolute\n							bottom 5px\n							right 12px\n							font-family 'gibsonLight'\n							&:hover\n								color #000\n						.statsTimeLen\n							position absolute\n							top 6px\n							right 12px\n							font-family 'gibsonLight'\n							font-size 17px\n				.topLeftStats\n					margin-right 5%\n\n				.galleryStats\n					margin-top 32px\n					.galHead\n						font-family 'gibsonLight'\n						margin-bottom -3px\n						font-size 18px\n					.galStat\n						height 70px\n						background #fff\n						border-radius 4px\n						border 1px solid #eee\n						box-shadow 0 -10px 21px 0px #eee inset\n						text-align center\n						font-family 'gibsonLight'\n						.statTitle\n							width 100%\n							font-size 14px\n						.statNum\n							font-size 18px\n\n				.comingSoonWrap\n					position relative\n					top 48px\n					margin 0 auto\n					width 60%\n					min-width 400px\n					text-align center\n					font-family 'gibsonLight'\n					clear both\n					border 1px solid #eee\n					padding 10px 10px\n					border-radius 4px\n					box-shadow 0 -10px 21px 0px #eee inset\n					height 95px\n					.soonText\n						color pink\n					.whatsComing\n						font-size 23px\n					.notifyLink\n						font-size 14px\n						cursor pointer\n						color #555\n						&:hover\n							color pink\n					.confirm\n						line-height 70px\n						font-size 1.2em\n						display none\n						.green\n							color green\n					&.confirmed\n						.intro\n							display none\n						.confirm\n							display inline-block\n\n	#planning-tools-header\n		padding 0px 1.8em\n		font-weight bold\n		font-size 22px\n		width 100%\n		background rgba(60, 60, 60, 0.85)\n		color #fff\n		//@noTransition\n		// transition left .3s linear\n		cursor default\n		width 100%\n		width calc( 100% \\- 92px )\n		position fixed\n		top 0\n		left 100%\n		display block\n		.canvas\n			background none\n			color #fff\n			width 100%\n			max-width 960px\n		&.open\n			left 0\n\n			&:hover\n				// background rgba(0,0,0,0.5)\n				.canvas\n					// padding-top 3px\n					.close-btn\n						top 3px\n						.close-x\n							border-right 2px solid #fff\n							border-bottom 2px solid #fff\n\n			.close-btn\n				position absolute\n				right 0\n				top 0\n				z-index 1\n				width 120px\n				text-align left\n				height 80px\n				font-size 11px\n				transition top .2s linear\n				.close-x\n					position absolute\n					text-align center\n					left 30px\n					top 16px\n					font-size 40px\n					color rgba(255,255,255,.5)\n					width 20px\n					height 20px\n					border-right 2px solid #888\n					border-bottom 2px solid #888\n					transform rotate(45deg)\n					.text\n						position absolute\n						bottom 2px\n						left 10px\n						display none\n	// Open the tools\n	&.expanded\n		height 100%\n		top 0\n		//background rgba(0,0,0,.8)\n		.canvas\n			padding 0\n			max-width none\n			color #555\n			background #F4F4F4\n			transition background .1s linear .2s\n			//apadding-bottom 10em\n\n		#ultimate-block-wrap\n		#planning-tools-header\n			display inline-block\n\n			#planningLoader\n				background #f4f4f4\n\n		// #ultimate-block-wrap\n		// 	margin-top 40px\n		.tabBlock\n			// margin-top 70px\n			margin-top 0\n			padding-left 0\n			padding-right 0\n			&[type=\"guests\"]\n				margin-top -30px\n			&[type=\"history\"]\n				margin-top 0\n				.email-history\n					&.empty-section\n						width 70%\n						float none\n						min-width 650px\n						text-align center\n						margin-top 60px\n						.big-email-icon\n							float none\n							margin 0 auto\n							position relative\n						.empty-email-text\n							font-family 'gibsonSemiBold', Arial, sans-serif\n							font-size 30px\n							text-align center\n							color rgb(0, 0, 0)\n							line-height 30px\n							margin-top 18px\n						#email-start-btn\n							background rgb(0, 0, 0)\n							color rgb(255, 255, 255)\n							width 175px\n							font-size 17px\n							padding 14px 0px\n							float none\n							margin 0 auto\n							margin-top 30px\n							&:hover\n								background rgb(190, 190, 190)\n								border 1px solid rgb(190, 190, 190)\n		#planning-section\n			margin-top 30px\n			.clips\n				#newClip\n					.newCommentForm\n						a\n							margin-right 5px\n				.clip\n					.comments\n						overflow hidden\n						padding-top 0px\n						.comment\n							padding 9px 10px 9px 6px\n							height auto\n							overflow hidden\n							&:first-child\n								overflow hidden\n								margin-top 0px\n								padding-bottom 0px !important\n							.deleteComment\n								&.clippedIcon\n									right 5px\n									width 33px\n									top 0px\n									&.open\n										width 100%\n										top 0px\n										right 0px\n								.inner\n									position absolute\n									margin-left 10px\n									font-size 12px\n									bottom 7px\n				#clips-list\n					margin-top 6%\n				.clips-header\n					.elementsWrap\n						position relative\n						width 175px\n						top auto\n						left auto\n						right auto\n						height 37px\n						z-index 4\n						float right\n						margin-left 10px\n						padding-right 10px\n						ul\n							&.elements\n								li\n									padding 3px 10px 9px 10px\n									font-size 14px\n									float left\n									width 175px\n									margin-bottom 0px\n									height 30px\n									padding-top 9px\n									&.active\n										background #d6d6d6\n								span\n									position relative\n									top -10px\n				.elementsWrap\n					&.open\n						div\n							font-size 14px\n							float left\n							width 175px\n							margin-bottom 0\n							padding 14px 10px 11px 10px\n							&:hover\n								background #eee\n				.newCommentForm\n					height 34px\n					width 100%\n					.upload\n						.qq-uploader\n							.smallUploadBtn\n								padding-left 5px\n							.clipFileUpload\n								margin-top 22%\n								input[type=\"file\"]\n									width 100%\n									height 100%\n\n		#budget-block\n			#budget-nav-focused\n				#backToBudget\n					position relative\n					top 4px\n				#selected-element\n					.current\n						padding-right 3px\n						img\n							width 32px\n			.budget_div\n				padding 0\n				table\n					thead\n						background #f0f0f0\n						th\n							padding 5px 0 4px 5px\n							color #3d3d3d\n							font-size 10px\n							text-shadow none\n							border-right 1px solid #f0f0f0\n							text-align left\n							text-transform uppercase\n							&.budgetHours\n								width 6%\n							&.budgetRate\n							&.budgetTax\n							&.budgetGrat\n								width 9%\n							&.budgetTotal\n								width 13%\n								border-right 1px solid #E6E5E1\n							&.blankTH\n								background #ffffff\n								border-right 1px solid #EEEEEE\n								border-left 1px solid #EEEEEE\n								width 1px\n								border none\n							&.budgetVendor\n								width 17%\n							&.budgetPaid\n								width 20px\n								padding 3px 4px 3px 0\n								border-right none\n					tbody\n						tr\n							&.myDragClass\n								td\n									&.drag-row\n											background url(/images/ui/drag-row.gif) 6px 10px no-repeat\n							&:hover\n								td\n									&.drag-row\n										background url(/images/ui/drag-row.gif) 6px 10px no-repeat\n									&.delete\n										background #fff url(/images/deletebtn.png) 1px 8px no-repeat !important\n							td\n								&.delete\n									background transparent\n									cursor pointer\n									width 26px\n									top 2px\n									position relative\n									left 6px\n								&.drag-row\n									width 20px\n									cursor move\n								.planning_input\n									height 37px !important\n								.budget_desc\n									padding-top 10px\n								.budget-checkbox\n									img\n										width 14px\n										margin-top 10px\n								ul\n									&#master_contact_list\n										position absolute\n										width auto !important\n										margin-top 0px\n										margin-left 0px\n										border 1px solid #EEE\n										background white\n										-moz-box-shadow 0 3px 6px rgba(0,0,0,.4)\n										-webkit-box-shadow 0 3px 6px rgba(0, 0, 0, .4)\n										box-shadow 0 3px 6px rgba(0, 0, 0, .4)\n										z-index 20\n										height 300px\n										overflow-x hidden\n										overflow-y scroll\n										padding-right 0\n										text-align left\n										padding 0px 12px\n										li\n											display block\n											cursor pointer\n											float left\n											clear both\n											margin 0\n											width 76px\n											width 100%\n											padding 5px 10px\n											border-bottom 1px solid #eeeeee\n											&:hover\n												background #eeeeee\n									&#master_tax_list\n										width 75px !important\n										height 64px\n										li\n											cursor pointer\n											&:hover\n												background #06deef\n												box-shadow 0 0px 0 1px rgba(0,0,0,0.2) inset, 0 -3px 0 0 rgba(0,0,0,0.2) inset\n												color #fff\n					tfoot\n						tr\n							td\n								.tableTotals\n								.subtotals\n									padding-left 10px\n									padding-top 4px\n								.tableTotals\n									.taxLabel\n									.gratLabel\n									.totalLabel\n									.budget-total-holder\n										clear left\n										color #3d3d3d\n										display inline\n										float left\n										height 20px\n										line-height 17px\n										text-align right\n										font-size 12px\n										padding-right 10px\n										padding-top 4px\n									.taxTotal\n									.gratTotal\n									.element-quick-data\n										display inline\n										float right\n										text-align right\n										font-size 12px\n										padding-right 10px\n								.grand-total\n									padding 10px 10px 2px 0px\n									background #fafafa\n									font-weight bold\n									margin-top 5px\n									.totalLabel\n										margin-left -20px\n										margin-top -2px\n									.budgeting-total\n										border 0 none !important\n										display inline\n										float right\n										font-size 13px\n										font-weight bold\n										text-align right\n										padding-bottom 8px\n										color #3d3d3d\n\n\n\n\n\n	////\n	/// Planning Tools Navigation\n	//\n\n	#rsvpSettingContain\n		.sort-ticket-order\n			display none\n\n	#splash-ticket-settings-form\n		.sort-ticket-order\n			border-radius 4px\n			padding 4px 8px\n		&.sorting\n			.sort-ticket-order\n				//border 1px solid blue\n				color blue\n			.ticketTypeTable\n				.typeRows\n					float left\n					width 100%\n					.display\n						min-height 0 !important\n						margin-bottom 6px !important\n						box-shadow none !important\n						padding 20px !important\n						cursor ns-resize !important\n						h2.name\n							font-size 14px\n						.right\n							width 80px\n							table\n								opacity 0\n								visibility hidden\n								height 0\n								transition opacity 0s linear 0s\n						.bottom-meta\n							opacity 0\n							visibility hidden\n							height 0\n							transition opacity 0s linear 0s\n						.ticketText\n							.description-d\n								opacity 0\n								visibility hidden\n								height 0\n								transition opacity 0s linear 0s\n\n	.pt-nav-wrap\n		z-index 2\n		background #fff\n		display inline-block\n		float none\n		top -40px\n		border-radius 0\n		box-shadow 0 0 0 1px rgba(0,0,0,0.2), 0 0 10px rgba(0,0,0,0.2)\n		display none !important\n	&.expanded\n		.pt-nav-wrap\n			top 0\n			left 0\n			width 100%\n			border-radius 0\n			background #fff\n			box-shadow none\n			display block !important\n			position absolute\n			text-align center\n			z-index 3\n\n\n		.planning-tools-nav\n			color #fff\n			width 90% !important\n			max-width 60em\n			float none\n			display inline-block\n			position relative\n			li\n				.nav-link\n					box-shadow none !important\n					display none !important\n				&.litesaver-wrap\n					&:hover\n						background #ff0\n						color #000\n	.planning-tools-nav\n		font-family 'gibsonSemiBold'\n		color #000\n		text-transform uppercase\n		margin-top 0\n		#ticketUtils\n			z-index 1\n			.sort-ticket-order\n				position relative\n				top -6px\n\n		.alert-circ\n			top 37px\n			left 153px\n			position absolute\n			color #fff\n			padding 0 !important\n			width 21px !important\n			height 19px !important\n			display inline-block\n			border-radius 100%\n			background tomato\n			margin-top -37px\n			text-align center\n			font-size 18px\n			padding-top 1px !important\n			box-shadow 0 0 0 2px tomato inset\n			opacity 0\n\n		#payoutSettingsLink\n			&.alert\n				padding-right 35px\n\n		li\n			float none\n			cursor pointer\n			width 100%\n			&:hover\n			&.ghostHover\n				background #fff\n				color #fff\n			&.active\n				background #fff\n				color #000\n				box-shadow 0 -2px 0 #fff\n			// Padding on the nav links\n			.nav-link\n				padding 0 1em\n				display inline-block\n				height 40px\n				line-height 37px\n				font-family 'gibsonRegular'\n				box-shadow -1px 0 0 #eee inset\n				font-size 15px\n				// Show when active\n			&.active .subnav\n				display block !important\n				z-index 1\n			// For the subnav\n\n			#emailSendSubNav\n				z-index 1\n				&.editing .litesaver-wrap\n					display block\n			.subnav\n				// position relative\n				width 100%\n				// height 45px\n				padding 0\n				background #fff\n				top 0\n				left 0\n				padding-top 9px\n				display none\n				&.mine\n					position fixed\n					width 160px\n					height auto\n					padding 1em\n					background #FFF\n					display none\n					text-align center\n					border 1px solid #000\n					border-right none\n					right 3.7em\n					bottom 11.4em\n					li\n						width 100%\n						> span\n							width 100% !important\n				li\n					margin 0\n					padding 0\n					color #000\n					&:hover\n						background none\n					&.section-title\n						> span\n							padding 0.7em 1em .6em 0\n							font-family 'gibsonSemiBold'\n							color #171717\n							font-size 1.4em\n							box-shadow none !important\n							&:hover\n								box-shadow none !important\n								cursor default\n						&:hover\n							cursor default\n					> span\n						padding 16px 1em 6px 1em\n						font-family 'gibsonRegular'\n						text-transform none\n						cursor pointer\n						font-size .9em\n						float left\n						border-radius 0\n						color #a1a0a0\n						margin 0\n						text-transform uppercase\n						letter-spacing .05em\n						box-shadow 0 -3px 0 #fff inset !important\n						transition box-shadow .15s linear\n						&:hover\n							color darken(#a1a0a0, 20%)\n						&.active\n							background none\n							color #171717\n							font-family 'gibsonSemiBold'\n\n				//\n				// The lite-saver styles\n				.litesaver-wrap\n					padding 0\n					position absolute\n					left 0\n					top 10px\n					width 100%\n					height 48px\n					padding-top 7px\n					margin 0\n					display none\n					background #ffff00\n					z-index 3\n					border-radius 6px\n					// box-shadow 0 0 0 2px #f8f8f8 inset\n					&:hover\n						background #ffff00\n					.litesaver\n						li\n							padding 0\n							margin 0 4px\n							margin-top -6px\n							width auto\n							span\n								box-shadow none !important\n								padding 0.1em\n							&:hover span\n								margin 0\n								background none\n								float none\n							&.action\n								float right\n							&.save\n							&.cancel\n							&.delete\n								/*width 68px\n								margin-left 18px*/\n								margin-left 0px\n								margin-top -3px\n							&.save\n								margin-right 9px !important\n							&.delete\n								margin-right 0px\n						.current-asset\n							width auto !important\n							float left\n							span\n								margin-left 3px !important\n								float left !important\n								font-size 1em\n								color #171717\n								margin-top .1em\n								&:before\n									line-height 1\n						.cancel-page-settings\n							background-color #000\n							color #fff\n							box-shadow 0 0 0 -1px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 0px #fff inset\n							margin-right 5px\n							padding 9px 18px\n							top 0px\n							font-size 10px\n							border-radius 4px\n							border 1px solid #000\n							&:hover\n								box-shadow 0 0 0 0px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 6px #ff0 inset\n								border 1px solid #000\n						.save-page-settings\n							background-color #000\n							color #fff\n							box-shadow 0 0 0 -1px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 0px #fff inset\n							margin-right 5px\n							padding 9px 18px\n							top 0px\n							font-size 10px\n							border-radius 4px\n							border 1px solid #000\n							&:hover\n								box-shadow 0 0 0 -1px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 6px #03E16A inset\n								border 1px solid #000\n						.nu-btn\n							&.cancel-page-settings\n							&.cancel-rsvp-settings\n								background-color black\n								color white\n								box-shadow 0 0 0 -1px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 0px #fff inset\n								margin-right 5px\n								padding 9px 18px\n								top 0px\n								border 1px solid #000\n								&:hover\n									box-shadow 0 0 0 0px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 6px #ff0 inset\n									border 1px solid #000\n							&.save-page-settings\n							&.save-rsvp-settings\n								background-color black\n								color white\n								box-shadow 0 0 0 -1px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 0px #fff inset\n								margin-right 5px\n								padding 9px 18px\n								top 0px\n								border 1px solid #000\n								&:hover\n									box-shadow 0 0 0 -1px #ffff00 inset, 0 0 0 5px #000000 inset, 0 0 0 6px #03E16A inset\n									border 1px solid #000\n						#ticketSettingsErrorMessage\n							position absolute\n							right 17px\n							top 51px\n							span\n								font-size 13px\n								color tomato\n							a\n								color tomato\n\n						#back-to-emails\n							width 34px\n							height 31px\n							display inline-block\n							background #000\n							box-shadow 0 0 0 0.00em #000\n							position relative\n							margin-top -1px\n							margin-left 0px\n							top -2px\n							border-radius 4px\n							float left\n							a\n								position relative\n								top -19px\n								i\n									position relative\n									&:after\n										top 29px\n										left 12px\n										background-position 0 -40px\n										transition left .05s ease-in;\n							&:hover\n								i\n									left -2px\n									animation backBounce .6s linear infinite\n									&:after\n										left 12px\n\n\n						#backToEmailSender\n							position relative\n							top 4px\n\n						// Keep the float\n						&:hover\n							//float: left\n\n						//\n						// Editing email and guestlists\n						.the-guestlist\n							display none\n						&.editing-guestlist\n							.the-guestlist\n								display block\n								margin-top -3px !important\n							.the-email\n								background #000\n								color #fff\n								padding 0 4px 5px 4px\n								margin-top -6px\n								border-radius 4px\n\n				&.rsvp-settings .litesaver\n					margin-top 3px\n				&.tracking-links .litesaver\n					margin-top 2px\n				&.editing.ticketSections .litesaver-wrap.ticket-settings .litesaver\n					top -4px\n					position absolute\n\n				/* this is a comment */\n				&.editing.ticketSections.discount .litesaver-wrap.discount-codes .litesaver\n					position relative !important\n					top 6px !important\n					#back-to-discount-codes\n						display none\n					.current-asset\n						position relative\n						top 2px\n\n				&.editing.ticketSections .litesaver-wrap.ticket-settings\n				&.editing.ticketSections.pageActionSettings .litesaver-wrap.pageSettings\n				&.editing.ticketSections.discount .litesaver-wrap.discount-codes\n					display block\n				//\n				// When editing\n				&.editing .litesaver-wrap.rsvp-settings\n					display block\n				&.editing\n					&.tracking\n						.litesaver-wrap\n							&.tracking-links\n								display block\n								padding-top 0px\n								padding-right 10px\n								.litesaver\n									margin-top 13px !important\n									.save\n										margin-right 1px !important\n								#back-to-tracking-links\n									display none\n								#saveTrackingLinks\n								#cancelTrackingLinks\n								#deleteTrackingLink\n									background-color #000\n									color #fff\n									box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 0px #fff inset\n									margin-right 5px\n									padding 9px 18px\n									top 1px\n									position relative\n									font-size 12px\n									border 1px solid #ccc\n									&:before\n										border-left 0px solid #05c8d7\n										&:hover\n											border-left 0px solid #05c8d7\n								#saveTrackingLinks\n									&:hover\n										box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #03e16a inset !important\n										border 1px solid #ccc\n								#cancelTrackingLinks\n									&:hover\n										box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #ff0 inset !important\n										border 1px solid #ccc\n								#deleteTrackingLink\n									&:hover\n										box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #f00 inset !important\n										border 1px solid #ccc\n							&.rsvp-links\n								display none\n\n				.save-ticket-order-discounts\n				#cancelDiscountCodesLink\n				.deleteDiscount\n				#cancelTicketSettingsLink\n				.delete-ticket\n				.save-ticket-settings\n					background-color #000\n					color #fff\n					box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 0px #fff inset\n					margin-right 5px\n					padding 9px 18px\n					top 1px\n					position relative\n					font-size 12px\n					border 1px solid #ccc\n					border-radius 4px\n					&:before\n						border-left 0px solid #05c8d7\n						&:hover\n							border-left 0px solid #05c8d7\n				.save-ticket-order-discounts\n				.save-ticket-settings\n					&:hover\n						box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #03e16a inset !important\n						border 1px solid #ccc\n				#cancelDiscountCodesLink\n				#cancelTicketSettingsLink\n					&:hover\n						box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #ff0 inset !important\n						border 1px solid #ccc\n				.deleteDiscount\n				.delete-ticket\n					&:hover\n						box-shadow 0 0 0 0px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 6px #f00 inset !important\n						border 1px solid #ccc\n				//\n				// Unsaved changes warning\n				#unsavedSettings\n					position absolute !important\n					background #FF6347 !important\n					color #FFF !important\n					padding 2px 5px\n					top 10px !important\n					left 0px !important\n					z-index 4\n					font-size 12px\n					margin 0\n					height 48px\n					text-align left\n					width 530px\n					line-height 43px\n					border-radius 6px 0 0 6px\n					.icon-right\n						float none !important\n						margin 0px !important\n						box-shadow none !important\n					.icons3-caution\n						float none !important\n						box-shadow none !important\n\n				//\n				// Right utils\n				.right-util\n					padding 7px 0.8em\n					margin 0\n					top auto\n					bottom .5em\n					width 36%\n					min-width 330px\n					li\n						margin 0\n					.addNewTicketOrderDiscount\n					.addNewTicketType\n					.addNewTrackingLink\n						position absolute\n						font-size 12px !important\n						padding .5em 2em .5em 2em !important\n						margin-top -0.5em !important\n						background #000\n						box-shadow none !important\n						color #FFF\n						border-radius 55px\n						font-weight bold\n						right 12px\n						bottom auto !important\n						top 50%\n						transform translateY(-21%)\n						text-transform uppercase\n						transition all .15s linear\n						b\n							font-weight bolder\n							font-family 'gibsonSemiBold'\n						&:hover\n							background rgba(0,0,0,.48)\n							box-shadow 0 0 0 2px #000 inset\n						&.disabled\n							opacity 0.15\n							&:hover\n								background black\n\n				#guestListSaver\n					z-index 2\n					margin-top -3px\n					.save\n						margin-right 1px !important\n						margin-left -2px\n						top 0px !important\n					.action\n						top 2px !important\n						position relative\n						right -8px\n					.schedule-for-later\n					#invite-draft-button\n					#invite-preview-btn\n					#save-template-button\n						background-color #000\n						color #fff\n						box-shadow 0 0 0 -1px #ff0 inset, 0 0 0 5px #000 inset, 0 0 0 0px #fff inset\n						margin-right 5px\n						padding 9px 18px\n						top 3px\n						border 1px solid #000\n						&:hover\n							box-shadow 0 0 0 0px #03e16a inset, 0 0 0 5px #000 inset, 0 0 0 6px #03e16a inset\n							border 1px solid #000\n\n	#quick-vital-stats\n		font-size .9em\n		li\n			cursor default\n			margin-right 1em !important\n			font-family 'gibsonRegular'\n			&:hover\n				color #000\n				background none\n	// &.expanded\n	// 	.planning-tools-nav\n	// 		li:hover\n	// 			box-shadow none\n	// 			background #f8f8f8\n\n	#ticketSettingContain\n		#tracking-stats-top\n			.stats\n				li\n					width 33%\n		#tracking-links-form\n			.discountText\n				li\n					width 33%\n					padding 0px 10px\n					text-align center !important\n					&:nth-child(2)\n						span\n							padding-right 48px\n\n	#trackingLinksFirstView\n			width 100%\n			float left\n			font-family 'gibsonSemiBoldItalic'\n			color #03E1FF\n			font-size 30px\n			text-align center\n			margin-top -20px\n	#tracking-container\n		ul\n			li\n				display inline-block\n				float left\n				font-size 16px\n				text-transform uppercase\n				margin-bottom 0\n				border-left 1px solid #cccccc\n				height 100%\n				padding 0 15px\n				padding-top 15px\n				width 50%\n				&:first-child\n					padding-left 5px\n					border-left none\n		#tracking-stats-top\n			font-size 1.85em\n			margin-bottom 9px\n			font-family 'gibsonSemiBold'\n			&.splitThreeWays\n				ul\n					li\n						width 33%\n			h3\n				margin-top 20px\n				display block\n				float none\n				color #181818\n				font-weight normal\n				line-height 1.25\n				font-size 2rem\n				margin-bottom 9px\n				margin-left 93px\n				text-align left\n			.stats\n				width 80%\n				text-align center\n				margin 0 auto\n				margin-bottom 20px\n				b\n					font-size 17px\n				ul\n					width 100%\n					clear left\n					margin 0 auto\n					height 70px\n\n\n		#trackingLinkExpl\n			color #777\n			font-family 'gibsonSemibold'\n			font-size 14px\n			position absolute\n			width 100%\n			margin 0 auto\n			right 0\n			padding-left 11%\n			padding-right 20%\n			padding-top 16%\n			z-index 1\n			&.hide-hard\n				display none\n				#trackingLinkExplQ\n					display none\n\n			#trackingLinkExplQ\n				color #000\n				float right\n				margin-right 80px\n				margin-top -10px\n		&.open\n			#trackingLinkExpl\n				display none\n			#tracking-stats-top\n				display none\n	#splash-ticket-order-discounts-form\n		.discountText\n			padding-top 32px\n			padding 10px 20px 0 20px\n			width 15%\n\n	#splash-ticket-order-discounts-form\n	#tracking-links-form\n		.fields\n			padding 20px\n			background #F8F8F8\n			width 80%\n			overflow hidden\n			opacity 1\n			box-shadow 2px 0 0 #000 inset\n			box-sizing border-box\n			-webkit-box-sizing border-box\n			-moz-box-sizing border-box\n			margin 0 auto\n			position relative\n			margin-bottom 20px\n			.code\n				display block\n				width 500px\n				float left\n				text-align left\n				font-family 'gibsonBold'\n				text-transform uppercase\n				font-size 26px\n				margin-bottom 20px\n				color #2f2f2f\n		.discountText\n			position absolute\n			top 0\n			right 0\n			height 100%\n			color #2F2F2F\n			padding 10px 20px 0 20px\n			text-align center\n			line-height 0.9em\n			min-width 100px\n			font-size 24px\n			background #f5f5f5\n			box-shadow 4px 0 10px -4px rgba(0, 0, 0, 0.1) inset\n			box-sizing border-box\n			-webkit-box-sizing border-box\n			-moz-box-sizing border-box\n			padding-top 26px\n			width 15% !important\n				small\n					font-size 65%\n			ul\n				li\n					padding-top 3px\n					padding-bottom 3px\n\n\n	#trackingLinkBody\n		width 100%\n		padding 10px\n		border 1px solid #e9e9e9\n		text-align left\n		background rgba(255,255,255,0.8)\n		margin 0 auto\n		float right\n\n	.trackingLink\n		cursor pointer\n		&.deleted\n			display none\n		.prefs\n			z-index 1\n			background #FFF\n			margin 0 auto\n			width 542px\n			margin-top 20px\n			text-align left\n			// width 70%\n			.discountFields\n				display none\n				.subhead-space\n					.lbl\n						font-family 'gibsonSemiBold'\n						margin-right 6px\n						color black\n						font-size 17px\n						&.sendto\n							margin-top 9px\n					.code\n						text-transform none\n						width 355px\n						font-size 26px\n						margin-left 0px\n					.tracking-link-url\n						width 354px\n						text-align left\n						background #e9e9e9\n						padding 7px 13px\n						word-wrap break-word\n						text-transform none\n						margin-left 4px\n						margin-top -4px\n						border-radius 4px\n						padding-top 12px\n						padding-bottom 12px\n						.link-display\n							display inline-block\n					.change-link-url\n					.share-link-url\n						cursor pointer\n					.tracking-url-textarea\n						position absolute\n						top 154px\n						right 0px\n						width 155px\n						resize none\n						margin-top 2px\n						margin-bottom 2px\n						padding-top 14px\n						padding-left 10px\n						height 48px !important\n						width 300px\n						font-size 15px\n						border-radius 4px\n						border 1px solid #ccc\n						color #555\n						&:focus\n							outline none\n							background #fff\n							border 1px solid #06deef !important\n							box-shadow none\n\n		&.open\n			cursor default\n			.discountFields\n				display block\n			.fields\n				display none\n\n	#tracking-links-form\n		&.open\n			.fields\n				height 0\n				opacity 0\n				padding 0\n			.trackingLink\n				display none\n				&.open\n					display block\n\n	///\n	// A sharp little util-nav\n	.block-content-util\n		border-bottom 1px solid #eee\n		margin-top -.5em\n		.util-nav\n			&.emails-filter\n				padding-top 10px\n			li\n				position relative\n				a\n					padding .2em 0.38em\n					color #888\n					font-size 0.9em\n					margin 0 .38em 0 0\n					&:before\n						font-size 1.5em\n					&.active\n						color #000\n				&:hover\n					a\n						color #000\n				&.active\n					a\n						color #000\n						box-shadow 0 0 0 1px #000\n						border-radius 2px\n					// A nice little down arrow completes the look!\n					&:before\n					&:after\n						content ''\n						position absolute\n						left 50%\n						margin-left -4px\n						border-top 4px solid #000\n						border-right 4px solid transparent\n						border-left 4px solid transparent\n						top 100%\n					&:after\n						border-top 4px solid #fff\n						top 95%\n\n	/*\n	.user-tools\n		padding 0\n		text-align right\n		position relative\n		top 0px\n	*/\n\n	.user-tools\n		padding 0\n		text-align right\n		position absolute\n		top -54px\n		right 130px\n\n\n	////\n	/// CUSTOM RSVP QUESTIONS\n	//\n\n	.holder\n		background #fafafa\n		position relative\n		padding 10px 20px\n		margin 4px 0\n		cursor pointer\n		&.locked\n			background #eee\n			cursor default\n		&.first-name\n		&.last-name\n			width 49.1%\n		&.last-name\n			margin-left 1.8% !important\n		.title\n			font-family 'gibsonSemiBold'\n		.type\n		.required\n			display inline-block\n			font-size .9em\n			max-width 100%\n			padding-right 4px\n		.required\n			font-family 'gibsonItalic'\n			opacity .7\n		.edit-btn\n		.delete-question\n			position absolute\n			top 20px\n			right 40px\n			width 100px\n			color #000\n			text-decoration none\n			background #f8f8f8\n			padding 2px 12px\n			border-radius 4px\n			text-align center\n			display none\n			&.locked\n				cursor default\n				opacity .5\n		.edit-btn\n			&.icons3-pencil\n				box-shadow 0 0 0 1px #ddd\n				&:hover\n					background #ddd\n\n		.delete-question\n			right 10px\n			width auto\n			background none\n			padding 0\n			&:hover\n				color #ff0033\n\n\n		&:hover\n			.edit-btn\n			.delete-question\n				display block\n				max-width 20%\n\n		&.openQuestion\n			.title\n			.type\n			.required\n				display none\n\n			.delete-question\n				display none !important\n\n			.edit-btn\n			.delete-question\n				display block\n\n\n		.drag-ns-handle\n			font-family 'Shifticons'\n			position absolute\n			top 0\n			left 0\n			font-size 14px\n			color #888\n			text-align center\n			width 10px\n			height 100%\n			background #ebebeb\n			box-shadow 1px 0 0 #EEE\n			cursor ns-resize\n			&:before\n			&:after\n				position absolute\n				top 50%\n				left 0\n				width 100%\n				margin-left -1px\n			&:after\n				content \"\"\n				margin-top -10px\n			&:before\n				content ''\n				margin-top -17px\n\n\n		.options-wrap\n			.multChoice\n				width 78%\n				padding 0.3em 0.5em\n				font-size .8em\n				margin-left 24px\n		.response-wrap\n			padding-left 0px\n			.required-opt\n				margin-top 10px\n\n		////\n		/// this really needs some js logic\n		//\n		.custom-rsvp-field-wrap\n			overflow visible !important\n			.nu-dropdown\n				.options\n					max-height 160px !important\n					overflow-y scroll\n			&.select\n				.fieldValueWrap\n					.nu-checkbox\n						display none\n					.nu-input\n						width 89% !important\n						margin-left 4px !important\n			input.custom-name\n				font-size 1em\n				font-family 'gibsonSemiBold'\n				width 75%\n\n			.response-wrap\n				span\n					line-height 35px\n				.custom_rsvp_fields\n					float left\n					margin-left 10px\n					min-width 15em;\n					width 50%\n			.response-options-wrap\n				width 60%\n				clear left\n				overflow hidden\n\n				.nu-input\n					margin: 0 0 0 7px;\n					padding: 5px 7px;\n					height: 26px;\n\n			.response-preview-wrap\n				float right\n				width 38%\n\n			.option-holder\n			.other-opt\n				display none\n			.values\n				margin-bottom 10px\n				width 100%\n\n			.response-options-wrap .nu-checkbox\n				margin-top 5px\n				margin-bottom 5px\n\n			.response-options-wrap>div\n				clear left\n				overflow hidden\n				margin 2px 0\n\n			.preview-header\n				color #999\n\n			.fieldValueWrap\n				background #EEE\n				padding 6px 3px 6px 5px\n				min-height 30px\n				.nu-checkbox\n					line-height 1em\n\n			&.check_multi .radio-check-wrap\n			&.radio .radio-check-wrap\n			&.select .radio-check-wrap\n			&.checkbox .checkbox-preview\n			&.label .label-preview\n			&.file .file-upload-preview\n			&.textarea .textarea-preview\n			&.text .text-preview\n			&.text .text-preview label\n			&.radio input.radio-input\n			&.checkbox input.checkbox-input\n			&.check_multi input.checkbox-input\n				display block\n\n			&.check_multi .fieldValueWrap label\n				padding-left 0\n				margin-top 5px\n\n			&.radio\n				.fieldValueWrap .radio-input\n					margin-top 7px\n				.option-holder\n					label.nu-checkbox:not(.other-opt)\n						display none\n					.multChoice\n						margin-left 0px\n\n			&.checkbox .checkbox-preview\n				.values\n					label\n						display none\n						&:first-child\n							display block\n			&.text\n			&.short_date\n			&.time\n				.show-as-label\n					display block !important\n\n			&.textarea .textarea-preview\n			&.text .text-preview\n				.question-name\n					display none\n					margin-right 5px\n\n			&.label .label-preview\n				.required-opt\n					display none\n\n			&.check_multi .other-opt\n			&.radio .other-opt\n			&.select .other-opt\n				margin-right 15px\n				font-size 11px\n				display block\n			textarea\n				&.question-name-placeholder\n					resize vertical\n			.checkBoxFileUpload\n				width 68%\n			.saveCheckBoxFile\n				float right\n\n			&.error\n				input\n					&.custom-name\n						border 1px solid tomato\n\n\n	////\n	/// RESPONSES SECTION\n	//\n\n	.stats\n		margin-top 1.5em\n		padding 0\n\n		.guests-hud\n			background #fff\n			min-height 12em\n\n			.bigTotal\n				font-family 'gibsonRegular'\n			.medTotal\n				font normal 2.18em 'gibsonSemiBold'\n			.dottedLeft\n				border-left 1px dotted #e0e0e0\n			.dottedBottom\n				border-bottom 1px dotted #e0e0e0\n\n			&.action-chunk\n				a\n				.fauxBtn\n					color #000\n					border-bottom 1px dotted #e0e0e0\n					&:hover\n						color #fff\n				// Big add guests link\n				#add-to-rsvp-list\n					color #000\n					padding-top 12px\n					&:hover\n						color white\n				#mobile-checkin-link\n					height 49px\n					padding-top 11px\n					text-align left\n					padding-left 9px\n					color #000\n				#exportFilesLi\n					margin-top 0px\n					width 50% !important\n					position relative\n					height 49px\n					display block\n					padding-top 13px\n					padding-left 10px\n					border-left 1px dotted #e0e0e0\n					#exportFilesLink\n						&:hover\n							color #555\n\n			object\n				position absolute\n				top 0\n				left 0\n			#messageAttendees\n			#messageAwaitingReply\n				color #555555\n				//border-top 1px dotted #e0e0e0\n				&:hover\n					color #fff\n\n			#messageAttendees\n			#awaitingBtn\n			#messageAwaitingReply\n				position absolute\n				top 0px\n				right 5px\n				z-index 1\n				&.fauxBtn\n					position relative\n					top 0px\n					right 0px\n					height 40px\n					box-shadow 0px 0px 0px 1px #ccc inset\n					border-radius 30px\n					width 85%\n					font-size 14px\n					margin-left 30px\n					color #afaeae !important\n				small\n					width auto\n					float none\n					display inline !important\n					font-size 14px !important\n					margin-left 3px\n					color #afaeae !important\n			#awaitingBtn\n			#messageAwaitingReply\n				&:hover\n					color #fff !important\n					background #00ec8e\n					border 1px solid #00ec8e\n					box-shadow none\n					small\n						color #fff !important\n\n			#messageAttendees\n				position absolute\n				top 7px\n				right 6px\n				z-index 1\n				font-size 27px\n				line-height 27px\n				color #858585\n				&:hover\n					color #00ec8e !important\n					background none\n					box-shadow none\n					border none\n			#awaitingBtn\n				padding-top 9px\n			#messageAwaitingReply\n				padding-top 7px\n				margin-left 10px !important\n			#jumpToWaitListFilter\n				position relative\n				top 0px\n				right 0px\n				height 40px\n				border 1px solid #7b7a7a\n				border-radius 30px\n				width 85%\n				font-size 14px\n				margin-left 10px\n				color #555\n				line-height 24px\n				&:hover\n					color #fff !important\n					background #00ec8e\n					border 1px solid #00ec8e\n					box-shadow none\n\n\n	///\n	// The responses list\n\n	// Search and filters\n	#rsvpQuickStats\n		cursor pointer\n		margin-top 0px\n		height 71px\n		background #fff\n		&.filtersOpen\n			height auto\n			.utilities\n				.filterToggle:before\n						top 37px\n		.utilities\n			z-index 2\n			position relative\n			.filterToggle\n				&:hover\n					background #8F8F8F\n					&:before\n						top 37px\n\n\n		#rsvp-search-icon\n			top 16px\n			right 8px\n			color #d7d5d5\n		#search-rsvp-list\n			min-width 3em\n			width 170px\n			box-shadow none\n			border none\n			border-radius 20px\n			padding-left 15px\n			border 1px solid #ccc\n			top 10px\n\n		.filterToggle\n			padding 25px 42px 21px 25px\n			font-size 17px\n			float left\n			top 0px\n			font-family 'gibsonSemiBold'\n			text-transform normal\n			letter-spacing 0px\n			background #afaeae\n			color #fff\n			&:after\n				content ''\n				position relative\n				bottom -15px\n				right -37px\n				border-top 33px solid #eee\n				border-right 0px solid transparent\n				border-left 2px solid #eee\n				opacity 0\n			&:before\n				content ''\n				position absolute\n				top 36px\n				left 166px\n				border-top 6px solid #fff\n				border-right 6px solid transparent\n				border-left 6px solid transparent\n		.searchIt\n			margin-top 8px\n			margin-right 11px\n		&.filtersOpen\n			#attendeeFilters\n				display block\n				position relative\n				z-index 1\n				margin-top 0px\n			.filterToggle\n				background #8F8F8F\n				color #FFF\n				box-shadow none\n				&:after\n				&:before\n					border-top 6px solid #fff\n		#bulkAttendeeActions\n			position relative\n			top -47px\n			left 202px\n			z-index 100\n			width auto\n			a\n				padding 0px 16px\n				background #A3A2A2\n				float left\n				color #fff\n				font-family 'gibsonRegular'\n				font-size 12px\n				margin-bottom -25px\n				height 27px\n				position relative\n				line-height 25px\n				margin-left 10px\n				border-radius 20px\n				&:hover\n					color #FFF\n					background #ff6ea2\n\n#planning-tools\n	#planningToolsNav\n		&.unsavedChanges\n			li .subnav .litesaver-wrap\n				background tomato !important\n\n#planning-content\n	&.showPlanning\n		.canvas\n			padding-bottom 110px !important\n\n#attendeeFilters\n	display none\n	background #f8f8f8\n	box-shadow 0 0 0 10px #fff inset, 0 0 0 11px #e0e0e0 inset\n	label\n		float left\n		clear left\n		font-size 0.8em\n		display block\n		width 100%\n		position relative\n		&.hide\n			display none\n		input\n			float left\n			margin-top 5px\n			margin-right 3px\n		.truncated-q\n			width 180px\n			width calc( 100% \\- 20px )\n			display inline-block\n			overflow hidden\n			white-space nowrap\n			float left\n			text-overflow ellipsis\n			.full\n				position absolute\n				top -2px\n				right 0\n				width 20px\n				font-size 1.3em\n				letter-spacing -.05em\n				text-align center\n				height 26px\n				.the-rest\n					position absolute\n					width 250px\n					left 100%\n					margin-left 10px\n					top -2px\n					background #202020\n					color #fff\n					white-space normal\n					text-align left\n					font-size 0.7em\n					padding .5em\n					letter-spacing normal\n					border-radius 4px\n					box-shadow 0 2px 4px rgba(0,0,0,.5)\n					display none\n					z-index 1\n					&:before\n						content ''\n						position absolute\n						top 12px\n						right 100%\n						border-top 6px solid transparent\n						border-right 6px solid #202020\n						border-bottom 6px solid transparent\n				&:hover\n					.the-rest\n						display block\n\n.simple-modal #attendeeFilters\n	display block\n\n#add-tag\n	min-height 220px\n	h3\n		margin-bottom 0px\n		border-bottom 1px solid #FFF\n	h4\n		text-align center\n	#tag-search\n		margin 0 auto\n		margin-top 20px\n	small.left\n		display block\n		clear both\n		float none\n		text-align center\n	.cancel\n		font-size 14px\n		color #F00\n		position absolute\n		top auto\n		bottom 8px\n		left 10px\n		right auto\n	#save-tag\n		position absolute\n		bottom 10px\n		right 11px\n\n\n#awaitingReplyTable\n	width 100%\n	tr\n		height 56px\n\n#attendeeAwaitingReply-viewer\n	max-height 600px\n	max-width 90%\n	width 620px\n	height 60%\n	h3\n		.awaitingCount\n			font-size 15px\n			position absolute\n			float right\n			margin-left 10px\n	.emailAll\n	.exportBtn\n		width 66px\n		position absolute\n		top 10px\n		padding 0px\n	.emailAll\n		right 93px\n	.exportBtn\n		right 14px\n		object\n			position absolute\n			left 0\n			top 0\n			height 100%\n			width 100%\n	.awaitingSearch\n		position relative\n		width 97%\n		&:before\n			position absolute\n			right -5px\n			top 6px\n			z-index 1\n			font-size 19px\n		&.hideMag\n			&:before\n				display none\n		input\n			margin-left 12px\n			width 100%\n			padding-right 36px\n		#clearAwaitingSearch\n			position absolute\n			top 6px\n			right -5px\n			padding 0px 7px\n			z-index 1\n			color #aaa\n			font-weight bold\n			font-size 18px\n			&:hover\n				color #555\n	.replyWrap\n		display block\n		overflow-y scroll\n		max-height calc(100% \\- 99px)\n		overflow-x hidden\n		.nothingFound\n			display none\n			text-align center\n			margin-top 8px\n			//.noResultsText\n			#clearSearchBtn\n				width 110px\n				margin 0 auto\n				margin-top 12px\n		&.no-results\n			.nothingFound\n				display block\n	table\n		padding 20px\n		thead\n			tr\n				th\n					&:first-child\n						padding-left 10px\n		tr\n			&:nth-child(even)\n				background #f8f8f8\n			td\n				line-height 16px\n				padding 3px\n				max-width 230px\n				word-wrap break-word\n				font-size 14px\n				&:first-child\n					padding-left 10px\n				.add\n					margin-right 5px\n\n\n#splash-container\n	.img_gal\n		.img-gal-item\n			position relative\n			.img-utils\n				width 80%\n				margin 0 auto\n				float none\n				left 10%\n			.edit-tools\n				left auto\n				bottom auto\n				top 0px\n				right 10%\n			&.current\n				.img-utils\n					display block\n				&:hover\n					.edit-tools\n						opacity 1\n\n\n\n#selected-element\n	width 200px\n	border-radius 2px\n	&:before\n		border-radius 0 2px 2px 0\n\n#planning-tools\n	table\n		.select-attends-nu\n			z-index 0\n		&.pretty-sort\n			thead\n				th\n					font-size 12px\n					padding 13px 18px 12px 10px\n					color #7a7a7a\n					white-space nowrap\n					font-weight 700\n					font-family 'gibsonRegular'\n					transition none\n					border-right none\n					cursor pointer\n					max-width 300px\n					overflow hidden\n					text-overflow ellipsis\n					&:hover\n						box-shadow 0 2px 0 #C7C7C7 inset, 0 -1px 0 #C7C7C7 inset\n						background #C7C7C7 !important\n						color #fff !important\n					&.headerSortDown\n					&.headerSortDown:hover\n					&.headerSortUp\n					&.headerSortUp:hover\n						box-shadow 0 2px 0 #C7C7C7 inset, 0 -1px 0 #C7C7C7 inset\n						background #C7C7C7 !important\n						color #fff !important\n					&:last-child\n						min-width 75px\n					&:first-child\n					&:last-child\n						cursor default\n						&.headerSortUp\n						&.headerSortDown\n						&:hover\n							background #fff\n							box-shadow 0 0px 0 #3d3d3d inset, 0 0px 0 #3d3d3d inset\n						&:after\n						&.headerSortUp:after\n						&.headerSortDown:after\n							opacity 0\n			tbody\n				tr\n					position relative\n					.open-details\n						position absolute\n						right 0\n						padding 12px\n						background #fff\n						box-shadow -6px 0px 5px -3px #fff\n						border-bottom 1px dotted black\n						border none\n						margin 2px\n						background white\n					td\n						padding 6px 10px\n						vertical-align middle\n						border-bottom 1px dotted #eee\n						font-size 12px\n						line-height 18px\n						text-align left\n						font-family 'GibsonRegular'\n						.attendee-edit.icons3-pencil\n							padding 0px 0px 0px 8px\n							border-radius 1px\n							color #888\n							white-space nowrap\n							float right\n							margin-right 0\n							font-size 19px\n							margin-top 3px\n							&:hover\n								color #06deef\n	table.pretty-sort thead th\n	table.pretty-sort thead th.headerSortDown\n	table.pretty-sort thead th.headerSortUp\n		&:after\n			content \"\"\n			opacity 1\n			color #FFF\n			font-family Shifticons\n			font-style normal\n			font-weight normal\n			display inline-block\n			vertical-align baseline\n			text-decoration inherit\n			padding-left .25em\n			-webkit-font-smoothing antialiased\n			display block\n			text-align right\n			font-size 15px\n			float right\n			width 100%\n			margin-top -27px\n\n	table.pretty-sort thead th.headerSortUp\n		&:after\n		&:after:hover\n			content \"\"\n			opacity 1\n			color #FFF\n\n	#rsvp-list-contain\n		&.searching\n			.empty-rsvps\n				display none !important\n		&:not(.searching)\n			.empty-search\n				display none !important\n\n	.empty-rsvps\n	.empty-search\n		width 60%\n		float none\n		margin 0 auto\n		margin-top 70px\n		margin-bottom 70px\n		> div\n			&:first-child\n				font-size 1.8em !important\n				color #000\n			&:nth-child(2)\n				font-size 1.4em\n				line-height 1.2em\n				margin-top 4px\n		img\n			margin-top 12px\n			display none\n\n	// The vip star\n	tr\n		.attendee-edit\n			opacity 0\n		.vip-star\n			font-size 18px\n			top 1px\n			position relative\n			cursor pointer\n			opacity 0\n			&.selected\n				opacity 1\n		&:hover\n			.attendee-edit\n				opacity 1\n			.vip-star\n				opacity 1\n\n	////\n	/// INVITE SECTION\n	//\n\n	///\n	// The Invite Dashboard\n\n\n	// EMAIl INVITE PAGE\n	#email-dashboard-block\n		.email-card\n			height 130px\n			width 27.6%\n			cursor pointer\n			margin-right 4%\n			margin-left 1%\n			> .grp\n				background #f8f8f8\n				border 1px solid transparent\n				height 104%\n				width 120%\n				margin-top -2px\n		.scheduled\n			.status\n				background #FFDF35 !important\n				color #000 !important\n				padding-top 48px\n\n		.template\n			.status\n				background #00e28b\n			.current-status\n				color #fff\n				//bottom -21px\n\n\n	#email-dashboard-list\n		table.pretty-sort\n			thead\n				background #f5f5f5\n				th\n					&:first-child\n						&:active\n						&:hover\n							background #5d5d5d\n						&.headerSortDown\n							background #3d3d3d\n					padding 4px 20px 4px 10px\n					font-size 14px\n					font-weight normal\n					color #222\n					font-family 'gibsonSemiBold'\n					&:after\n						content \"\"\n						opacity 1\n						color #ccc\n\n						font-family Shifticons\n						font-style normal\n						font-weight normal\n						display inline-block\n						vertical-align baseline\n						text-decoration inherit\n						padding-left .25em\n						-webkit-font-smoothing antialiased\n						margin -22px -12px 2px 0\n						display block\n						text-align right\n						font-size 15px\n						float right\n						width 100%\n						color #dedede\n		tbody\n			tr\n				td\n					border none\n					cursor auto\n					vertical-align middle\n					font-size 14px\n					padding 3px 10px\n		h4\n			padding 10px\n			text-transform uppercase\n			font-size 18px\n			font-family 'gibsonSemiBold'\n			margin 0\n			width auto\n			text-align left\n			box-sizing border-box\n			text-shadow none\n		.empty-section\n			position relative\n			width 80%\n			top 40px\n			display inline-block\n			margin 0 10%\n			padding-right 0%\n			font-size 15px\n			border 1px solid #ddd\n			padding 12px\n			border-radius 4px\n			h5\n				text-transform uppercase\n				font-size 16px\n				font-family 'gibsonSemiBold'\n				margin 0\n				width auto\n				text-align left\n				box-sizing border-box\n				text-shadow none\n.email-history\n#planning-tools\n	.hype\n		width 31% !important\n		height 230px\n		background #eaeaea\n		margin-left 1.8%\n		padding-top 30px\n		position relative\n		color #000\n		p\n			font-size 14px\n			font-weight normal\n			font-family 'gibsonSemiBoldItalic'\n			width 100%\n			margin-left 0px\n			line-height 16px\n			margin-top 10px\n			&.first\n				text-align right\n				padding-right 17px\n		h3\n			font-family 'gibsonBoldItalic'\n			font-size 18px\n			margin-top 9%\n		&.build-it\n			background #03e1ff !important\n			color #fff !important\n			box-shadow 0 0 20px #03e1ff\n			#build-btn\n				position absolute\n				bottom 14%\n				text-align center\n				left 0px\n				#firstViewJumpToNewList\n					background black\n					box-shadow 0 -2px 0 #000 inset\n					border 1px solid #000\n					color white\n					font-family 'gibsonBoldItalic'\n					font-size 14px\n					&:hover\n						background #ffff00\n						color #fff\n						box-shadow 0 -2px 0 #ff0 inset\n						border 1px solid #ff0\n		&.design-it\n			#design-btn\n				position absolute\n				bottom 14%\n				text-align center\n				left 0px\n				#firstViewJumpToNewEmail\n					background black\n					box-shadow 0 -2px 0 #000 inset\n					border 1px solid #000\n					color white\n					font-family 'gibsonBoldItalic'\n					font-size 14px\n					&:hover\n						background #ffff00\n						color #000\n						box-shadow 0 -2px 0 #ff0 inset\n						border 1px solid #ff0\n		&.send-track\n			.avail-soon\n				background: none\n				color #aaa\n				font-size 17px\n				text-align center\n				padding 0\n				width 80%\n				font-family 'gibsonBoldItalic'\n				bottom 10%\n				left 8%\n				position absolute\n				cursor pointer\n\n	// The dashboard email cards\n	.email-card\n\n		.subject\n			line-height 1em\n\n\n		> .grp\n			background #f8f8f8\n			border 1px solid #ddd\n			border-radius 3px\n			height 7em\n			cursor pointer\n			.delete-sched-email\n				position relative\n				top 31px\n\n		.grp\n			// Adjusting the ml grp width\n			&.ml\n				width 82%\n			&.s\n				width 53px !important\n			.middle\n				/*\n				font-size .9em\n				max-width 50%\n				top 50%\n				position absolute\n				transform translateX(-50%) translateY(-50%) rotate(-90deg)\n				left 50%\n				*/\n				/* CHRIS' STYLES TO FIX THE CENTER OF TEXT IN EMAIL CARD */\n				font-size 0.9em !important\n				top 50% !important\n				left -75% !important\n				position absolute !important\n				text-align center !important\n				width 130px !important\n				margin-top -0.8em !important\n\n\n		a\n			color #000\n\n		.timestamp\n			display none\n\n		.recipients\n			line-height 1.4em\n			color #888\n			text-transform uppercase\n			a\n				color #888\n			.label-wrap\n				text-overflow ellipsis\n				overflow hidden\n				white-space nowrap\n				width 100%\n				&:hover\n					color blue\n					a\n						color blue\n\n		.status\n		.stats\n			border-radius 0 2px 2px 0\n			box-shadow 1px 0 #ddd inset\n			margin-top 0\n		// Current status\n		.status\n			height 100%\n			background #ccc\n\n		// Stats (shown after email sent)\n		.stats\n			height 100%\n			background #fff\n			overflow hidden\n			.designCardStats\n				line-height 1em\n				font-size .95em\n				text-decoration none\n				color #888\n				&:hover\n					color blue\n				small\n					font-size .6em\n\n		// Edit & Copy actions\n		.actions\n			height 100%\n			font-size 0.5em\n			background #ddd\n			color #fff\n			border-radius 0 2px 2px 0\n			transition right .1s linear\n			border-radius 3px 0 0 3px\n			margin .25em 0\n			height 96%\n\n			// For the action icon\n			i\n				font-size 2.5em\n				display block\n				top 6px\n				position relative\n			a\n				color #000\n				&.delete-sched-email:hover\n					color #ff0000\n				&.edit-email:hover\n					color blue\n				&.clone-email:hover\n					color green\n		&:hover\n			> .grp\n				border 1px solid #888\n			// Slide out the card actions\n			.actions\n				right 17%\n\n		//\n		// Card states\n\n		// Draft\n		&.draft\n			.status\n				background orange\n				color #fff\n\n		// Scheduled\n		&.scheduled\n			.status\n				background #fff\n				color #888\n\n	#jumpToNewList\n	#jumpToNewEmail\n	#sendToList\n		padding 10px\n		position relative\n		top 2px\n\n\n#rsvp-question-list\n	.fileUploadContain\n		.saveCheckBoxFile\n			z-index 2\n			position relative\n			background-color rgb(255, 255, 255)\n			width auto\n			padding 0px 10px\n			border-radius 4px\n			margin-right -10px\n			color #555\n		.viewLink\n			padding 0px 9px !important\n			height 17px\n			line-height 16px\n			position relative\n			top -19px !important\n			left 7px\n\n///\n// Email creator\n\n//\n// Email Head\n.email-head\n	padding-left: 13px\n	padding-top: 8px\n	b\n		display: inline-block\n		min-width: 5em\n		font-size: 0.8em\n	input\n		font-size: 18px\n		width calc(100% \\- 70px)\n		padding: 5px 15px\n	#sendToWrapper\n		width 33%\n		top 17px\n		#email-send-to\n			span\n				&:first-child\n					width 95%\n					display inline-block\n					overflow hidden\n				&:nth-child(2)\n					position absolute\n					right 39px\n					text-align right\n					background #FFF\n					box-shadow -12px 0px 4px -1px #FFF\n					height 31px\n\n	.quick-list-jump\n	#newQuickList\n		top -10px\n		padding 4px 8px !important\n	#emailSenderName\n		margin-top 4px\n	#emailSubjectName\n		margin-top -2px\n	.relative\n		padding 4px 0px\n	#calendarInvite\n		position relative\n		left 68px\n		width calc(100% \\- 70px)\n	#calendarInviteDate\n		display none\n		float right\n		line-height 24px\n		cursor pointer\n\n\n//\n// Email Composer\n\n\n#email-meter\n	z-index 0\n	text-align right\n	font-weight normal\n	font-family 'gibsonregular'\n	position relative\n	overflow hidden\n	color #8162fb\n	font-size 18px\n	line-height normal\n	padding 6px 0px\n	box-sizing border-box\n	top -124px\n	border 1px solid #8162fb\n	border-radius 4px\n	padding-bottom 0px\n	background #FAF9FF\n	cursor pointer\n	&:hover\n		a.get-more\n			background #8162FB\n			color #fff\n\n	.highlight-wrap\n		margin-bottom 0px\n		float right\n		width 100%\n		text-align center\n		font-family 'gibsonSemiBold'\n		padding-bottom 12px\n		padding-top 6px\n		border-bottom 1px solid #dcd7f3\n	a.meter-wrap\n		color #8162fb\n	a.get-more\n		font-family 'gibsonSemiBold'\n		color #8162fb\n		font-size 16px\n		text-align center\n		width 100%\n		display inline-block\n		height 30px\n		padding-top 5px\n		margin-top 0\n		top 0px\n		position relative\n		padding-bottom 0\n		background #fff\n\n\n.email-composer\n	#emailPreviewCell\n		line-height 1em\n	#invite-message1\n	#invite-header\n	.invite-middle-custom-content\n	.invite-bottom\n		min-height 70px\n		padding 10px;\n		cursor pointer\n\n	.invite-placeholder\n		border 2px dashed #bbb\n		border-radius 4px\n		height 100%\n		line-height 50px\n\n	img\n		&.em-body-image\n			min-height 50px //allows for broken source to be editable\n\n	// For the edit utils\n	.editable\n		.email-util-overlay\n			height 100%\n			background rgba(0,0,0,0.7)\n			font-size 11px\n			display none\n			.util-option\n				background black\n				color #fff\n				border-radius 3px\n				padding 6px 12px\n				line-height 1\n				cursor pointer\n				i\n					font-size 22px\n				&:hover\n					background blue\n		// On hover\n		&:hover .email-util-overlay\n			display block\n		// Hide when editing\n		&.active .email-util-overlay\n			display	none\n		.editingBlock:focus\n			&.mce-edit-focus\n				background rgba(255, 255, 179, 0.35);\n\n	#sendToWrapper\n		width 35%\n\n\n///\n// Email design toolbar\n\n#email-design-sidebar\n	background #f8f8f8\n	width 300px\n	top -85px\n	&.fixed\n		top 160px\n	.section\n		overflow hidden\n		.design-utils-inner\n			margin-top -430px\n			#emailTemplateFont\n				width 100%\n		.advanced-settings-inner\n			background: #fff;\n			box-shadow: 0 0 0 2px #eee inset;\n			margin-top -380px\n		&.open\n			overflow visible\n			.design-utils-inner\n			.advanced-settings-inner\n				margin-top 0\n		#emailTemplateFont\n			.options\n				min-width 100px\n\n		.section-name\n			padding 0 0 0 20px\n		.advanced-settings-inner\n			.section-name\n				padding 0\n		.template-label\n		.email-color-contain\n			padding-top 5px\n		.email-color-box\n			width 1em\n			line-height 1em\n			box-shadow 0 0 0 1px #ccc inset\n		// The header img thumb\n		#invite-image-preview-mini\n			width 40px !important\n			border-radius 2px\n			border 1px solid #cccccc\n			cursor pointer\n		.design-piece\n			cursor pointer\n			.section-name\n				cursor pointer\n			&:hover\n				background #f8f8f8\n				box-shadow 0 1px 0 #eee inset, 0 -1px 0 #eee inset\n				cursor pointer\n			.icon-eye\n				position absolute\n				left 2px\n				font-size 13px\n				top 10px\n				color #000\n				cursor pointer\n				box-shadow 0 0 0 1px #eee\n				width 20px\n				text-indent 2px\n				height 19px\n				line-height 16px\n				border-radius 2px\n				&:hover\n					background #ff0033\n					color #fff\n			&.deselected\n				.icon-eye\n					background rgb(245, 180, 193)\n					color #fff\n\n	#email-design-switch\n	#advanced-settings-switch\n	#dp-template\n		position relative\n		z-index 1\n		background #eee\n		cursor pointer\n		&:hover\n			box-shadow 0 0 0 1px #ddd inset\n			background #f8f8f8\n		label\n			padding 0\n	#dp-template\n		z-index 2\n		background #f8f8f8\n\n	#emailSettingsErrorMessage\n		position absolute\n		top 50px\n		right 40px\n		color tomato\n		a\n			color tomato\n\n	//  INVITE GUEST LIST\n\n.messageRecipWrap\n	padding 25px 18px 18px 26px\n	#eventMessageRecipients\n		background #fff\n		width 100%\n		margin 0 0 18px\n		border 1px solid #ddd\n		font-size 14px\n		thead\n			background #f5f5f5\n			tr\n				border-bottom 1px solid #f0f0f0\n				th\n					border-top 1px solid #f0f0f0\n					vertical-align middle\n					padding 0.4em 0.2em\n					&:first-child\n						border-left none\n					&:last-child\n						border-right none\n		tbody\n			tr\n				border-bottom 1px solid #f0f0f0\n				&:nth-child(even)\n					background #f9f9f9\n				td\n					color #333\n					padding 9px 10px\n					vertical-align top\n					border none\n					.status-block\n						padding 3px 4px\n						color #ffffff\n						background #05c2ea\n						text-transform uppercase\n						font-family 'GibsonSemiBold'\n						&.opened\n							background green\n						&.bounced\n							background red !important\n\n#simple-modal-ajax\n\n	&[xtra-attr=\"trackLinkDeet\"]\n		width 520px\n		max-width 95%\n		> div\n			margin-top 10px\n			width 100%\n			text-align center\n			margin-bottom 10px\n		#trackingRowResults\n			width 100%\n			tbody td:first-child\n			thead th:first-child\n				padding-left 15px\n\n	&[xtra-attr=\"bounce\"]\n		display inline-block\n		padding 20px\n		max-width 80%\n		min-width 660px\n		height 590px\n		ul.bounce-expl\n			margin-bottom 12px\n\n	&[xtra-attr=\"dev-tools\"]\n		max-height 76% !important\n		max-width 90% !important\n\n#sendToWrapper\n	#email-send-list\n		.option\n			padding 2px 10px\n			max-width 320px\n			border-bottom 1px solid #ccc\n			height 40px\n			position relative\n			span\n				display inline-block\n				max-width 150px\n				overflow hidden\n				&:first-child\n					float left\n			span.count\n				position absolute\n				right 0\n				background white\n				top 0\n				padding-top 2px\n				padding-right .5em\n				padding-left .5em\n				box-shadow -12px 0 4px -10px #fff\n			&:hover\n				span.count\n					background blue\n					box-shadow -12px 0 4px -10px blue\n\n			&.special-list\n				background #f8f8f8\n				span.count\n					background #f8f8f8\n					box-shadow -12px 0 4px -10px #f8f8f8\n				&:hover\n					background blue\n					span.count\n						background blue\n						box-shadow -12px 0 4px -10px blue\n\n\n#planning-tools\n\n	// Dropdown as title, bump up the fontsize\n	#invitee-table-contain\n		//.inviteeTableHeader\n\n		.listName\n			.options\n				div\n					padding 2px 10px\n					max-width 320px\n					border-bottom 1px solid #ccc\n					height 40px\n					span\n						max-width 240px\n						overflow hidden\n						max-height 30px\n						&:first-child\n							float left\n\n		.listName .nu-dropdown .current\n			font-family 'gibsonSemiBold'\n			font-size 18px\n			line-height normal\n		.inviteeTableWrap\n			.export\n				width 74px\n				cursor pointer\n			table\n				tr\n					th\n						border-top 1px solid #f0f0f0\n						vertical-align middle\n						padding 0.4em 0.2em\n						background-color #f8f8f8 !important\n						color #555555 !important\n						text-shadow none !important\n						box-shadow none !important\n						font-size 13px\n						padding-left 9px\n						&:first-child\n							padding-left 0px\n						&.check\n							&.noSort\n								position relative\n								z-index 1\n								.select-all-nu-chk\n									z-index 100\n									position relative\n									left 11px\n\n	// Add to the list\n	#quick-adder-wrap\n		background #504F4F\n		#duplicate-box\n			text-align center\n			background-color #FFD7D7\n			padding 4px 0\n			border-radius 2px\n			-webkit-border-radius 2px\n			-moz-border-radius 2px\n			color #333333\n			z-index 10\n			font-size 16px\n			width 40%\n			margin 0 auto\n			#duplicate-tiptip\n				color #c30000\n			#duplicate-box-close\n			.icon-close-2\n				color #000\n				float right\n				position relative\n				right 5px\n				top -1px\n			.title-tip\n				width auto\n				display none\n			&:hover\n				.title-tip\n					display block\n					position absolute\n					margin-left -80px\n					top 39px\n\n		.ico-add\n			&.nu-btn\n				&:after\n					margin-right -3px\n				&:before\n					right 6px\n\n		#adding-methods-contain\n			& > div\n				background #fff\n		.adder-nav\n			padding 1em 0\n			li\n				a\n					color #fff\n					padding .5em 1em\n				&:hover\n					a\n						color #fff\n						background rgba(0,0,0,0.4)\n				&.active\n					a\n						color #fff\n						background #969595\n						box-shadow 2px 0 0 2px #504F4F inset\n					// A little right arrow nub\n					&:after\n						content ''\n						position absolute\n						top 50%\n						right -.5em\n						margin-top -.5em\n						border-left .5em solid #969595\n						border-top .5em solid transparent\n						border-bottom .5em solid transparent\n		.add-bk-contacts-wrap\n			thead\n				tr th label\n					margin-left 3px\n		#quick-add-error\n			margin-left 10px\n			text-align center\n			margin-top 5px\n		#contact-import-ul\n			background rgba(0,0,0,0.3)\n			box-shadow -.5em 0 0 #f0f0f0, -.6em 0 0 #d0d0d0\n			margin-left .5em\n			li\n				a\n					padding .2em .5em\n\n		#upload-section\n			.qq-upload-button\n				height auto\n				position relative\n				overflow hidden\n				direction ltr\n				margin-top 49px\n				padding 8px 15px\n				font-size 16px\n			.qq-upload-list\n				position absolute\n				left 54%\n				bottom 7px\n				li\n					float left\n			.new-uploaded-list\n				height auto\n				float left\n			small\n				color #808080\n				line-height 1.1em\n				width 120%\n				font-size 12px\n			.icon-download\n				position relative\n				top 7px\n				font-size 12px\n\n		.addToList\n			padding 8px 30px 6px 13px\n			font-size 10px !important\n			.plusCirc\n				top 35px\n				left 41px\n				position absolute\n				color #fff\n				font-size 1.7em\n				padding 0 !important\n				width 15px !important\n				height 15px !important\n				display inline-block\n				border-radius 100%\n				background #06deef\n				margin-top -30px\n				padding-top 1px !important\n				border 0px\n				line-height 14px\n\n		//\n		// Sneaky text area for bulk manual add\n		#email-holder\n			// The labels\n			.email-item\n				display inline-block\n				margin .2em\n				background #fff\n				padding 0 .2em\n				border-radius 2px\n				float left\n				// Does not compute\n				&.invalid\n					background tomato\n					color #fff\n				// Legit ass shiat\n				&.legit\n					background rgb(174, 255, 163)\n				.delete\n					margin-left 0.4em\n					display inline-block\n					background #000\n					color #fff\n					padding 0 .2em\n					border-radius 0 2px 2px 0\n					margin-right -0.2em\n					&:hover\n						background #ff0000\n			// The hidden input\n			#sneaky-email-adder\n				background none\n				border none\n				resize none\n				outline none\n				display inline-block\n				padding 0 .2em\n				font-size 14px\n				-webkit-resize none\n\n		#closeQuickAdd\n			background #d0d0d0\n			color #fff\n			padding 0 0.4em\n			border-radius 0 0 0 3px\n			&:hover\n				background #000\n\n		// Wraps the results table\n		.add-bk-contacts-wrap\n		.gmailResultsWrap\n			max-height 14em\n			margin-bottom 1em\n			overflow-x hidden\n			overflow-y scroll\n			box-shadow 0 0 0 1px #e0e0e0\n			border-radius 3px\n			background #fff\n\n		#clear-address-book-search\n			top 10px\n			right 10px\n\n		small\n			color #808080\n			line-height 1.1em\n\n\n\n	#invitee-table\n		width 100%\n\n		tbody\n			tr\n				&:hover\n					background rgba(3, 222, 239, 0.06)\n					cursor pointer\n				&.selected\n					background #FFFBD3\n\n		.editable\n			& > td\n				background #f0f0f0\n				padding 1em\n				table\n					background #fefefe\n					border-radius 4px\n					box-shadow 0 2px 4px 2px #d0d0d0\n					tr\n						border none\n						td\n							padding .5em\n		.action\n			color black\n			margin-right 7px\n			&:hover\n				color #06deef\n	.rsvp-contain\n		margin-top 0px !important\n		&.external-link\n			width 55%\n			margin 27px auto 0 50px !important\n			b\n				display block\n				font-size 18px\n				margin-bottom 6px\n				color #888\n				float left\n				font-family 'GibsonSemiBold', Helmet, Freesans, sans-serif\n				font-weight normal\n			#external_link_input\n				font-size 30px\n				width 100%\n			#externalLinkSave\n				float right\n				margin-top 10px\n				margin-right 0px\n		&.ticketEvent\n			ul\n				&.guests-hud\n					> li\n						&.amount\n							font-size 48px\n							font-family 'gibsonRegular'\n							text-align center\n							position relative\n							line-height 0.75em\n							padding-bottom 18px\n							color #7b7a7a\n							border-radius 0px\n							margin-bottom 0\n							margin-top 14px\n							border-bottom 1px solid #eaebec\n						> ul\n							margin-top .67em !important\n		ul\n			&.guests-hud\n				#messageAttendees\n					&.icon-email\n						&:hover\n							color #06deef\n					&.fauxBtn\n						&:hover\n							color #fff !important\n							background #00ec8e\n							border 1px solid #00ec8e\n							box-shadow none\n\n				&.ticket-sales\n					padding 10px 0px 0px\n					min-height 12em\n					//> li > ul > li\n					//	padding 7px 0px !important\n				&.ticketTotals\n					padding 10px 0px\n					height 131px\n					&.midTop\n\n					&.feat-number\n						padding 32px 0px\n						.refresh-responses\n							top -24px\n				> li\n					&.amount\n						font-size 48px\n						font-family 'gibsonRegular'\n						text-align center\n						position relative\n						line-height 0.75em\n						padding-bottom 0px\n						color #7b7a7a\n						border-radius 3px\n						margin-bottom 0px\n						margin-top 0px\n					&.bl\n						width 50%\n						margin-top 26px\n					small\n						display block\n						text-transform none\n						font-size 24px\n						font-family 'gibsonRegular'\n						color #7b7a7a\n					.bigTotal\n						font-size 48px !important\n						color #7b7a7a\n						line-height 0.75em\n						vertical-align middle\n					.refresh-responses\n						font-size 20px\n						position absolute\n						left -1px\n						top -11px\n					> ul\n						padding 0\n						margin 0\n						float left\n						width 100%\n						text-align center\n						display table-row\n						box-sizing border-box\n						> li\n							display table-cell\n							vertical-align middle\n							margin 0 0px\n							padding 5px 10px\n							text-align center\n							width 35%\n							min-height 38px\n							color #757575\n							small\n								display block\n								font-size 12px\n								text-transform none !important\n							a\n								font-size 12px\n								white-space nowrap\n								font-family 'gibsonSemiBold'\n								color #2f2f2f\n								&:hover\n									color #03deef\n								&.edit-link\n									width auto\n									padding 10px 28px\n									box-shadow 0px 0px 0px 1px #ccc inset\n									border-radius 29px\n									font-size 17px !important\n									font-family 'gibsonRegular' !important\n									color #afaeae !important\n									font-size 14px !important\n									margin-left 3px\n									color #555\n									margin-left 3px\n									color #555\n									&:hover\n										background #00ec8e\n										color #fff !important\n										box-shadow none !important\n\n	.limitWrap\n		.limitOptions\n			display none\n		&.open\n			.limitOptions\n				display block\n				margin-left 20px\n				.nu-input\n					width 80%\n\n	/// ADD SOME SPACE TO CHECKBOX ON RESPONSES RESULTS\n	.guests-block\n		table thead tr th:first-child\n			padding-right 5px\n			width 40px\n			z-index 2\n\n	#selectAllAttendees\n		z-index 2\n	////\n	/// PLANNING SECTION\n	//\n\n	///\n	// Budget\n\n	// The accordian for expanded bidget view\n	.accordion\n		margin-bottom 5px\n		.accordion-header\n			&:after\n				content ''\n				position absolute\n				top 2em\n				right .5em\n				border-top 0.6em solid #888\n				border-right 0.6em solid transparent\n				border-left 0.6em solid transparent\n			&:hover\n				&:after\n					border-top-color #fff\n			&.accordion-open\n				box-shadow none\n				background #f8f8f8\n				color #000\n				&:after\n					border-top none\n					border-bottom 0.6em solid #888\n\n	// An inline edit table\n	// For tables for inline inputs and textareas\n	.inline-editing\n		tr\n			td\n				padding 0\n				vertical-align top\n				border-bottom 1px solid #eee\n				input\n				textarea\n					font-size 0.8em\n					margin 0\n					padding .5em\n					border none\n					resize none\n					vertical-align top\n					width 100%\n					height 2.58em\n					&:focus\n						outline none\n				&:hover\n					input\n					textarea\n						background #fff8d5\n						cursor pointer\n\n				.cell-holder\n					height 2.58em\n					padding .5em 1.2em .5em .5em\n					cursor pointer\n					&:hover\n						background #fff8d5\n	.budget_div\n		table\n			thead\n				th\n					padding 5px 0 4px 5px\n					color #3d3d3d\n					font-size 10px\n					text-shadow none\n					border-right 1px solid #f0f0f0\n					text-align left\n					text-transform uppercase\n					&:first-child\n						border-right none\n	///\n	// Tasks\n\n	.accordion\n		.addAnother\n			margin-top 15px\n			margin-bottom -20px\n	.task_list\n		.sw\n			padding-bottom 0px\n	.task_list\n	.accordion\n		.taskItem\n			float left\n			clear both\n			padding 15px 0 15px 20px\n			position relative\n			width 100%\n			background #fff\n			color #3d3d3d\n			margin-bottom 10px\n			border-radius 4px\n			max-height 54px\n			&:hover\n				.vendor_delete\n					display block\n				.dragHandle\n					opacity 1\n			.dragHandle\n				float left\n				cursor move\n				width 10px\n				height 57px\n				background transparent url(/images/ui/drag-row.gif) 0px 21px no-repeat\n				opacity 0\n				position absolute\n				left -13px\n				top -2px\n				z-index 1\n			.check-box\n				width 22px\n				height 22px\n				background transparent url('/images/ui/checkbox-sprite.gif') 0 2px no-repeat\n				float left\n				margin-left 6px\n			.green-arrow-complete\n				.check-box\n					background-position 0 -26px\n			.add_task_div\n				display block\n				cursor pointer\n				padding-right 5px\n				white-space pre-line\n				width 65%\n				float left\n				margin-top 1px\n				margin-left 8px\n				font-size 16px\n				padding-bottom 0\n				max-width 360px\n				text-align left\n			.add_another_task\n				position relative\n				top 10px !important\n				left 8px\n			.edit-task-fields\n				position relative\n				top -7px\n				.add_task_input\n					width 35%\n					margin-left 6px\n					float left\n				.save\n					padding 6px 12px\n					border-radius 3px\n					text-shadow none\n					font-size 14px\n					float left\n					margin-left 7px\n					margin-top 3px\n\n			.vendor_delete\n				position absolute\n				right 19px\n				top 17px\n				cursor pointer\n			.taskContactWrap\n				float right\n				width 215px\n				margin-top 2px\n				margin-right 2%\n				a\n					color #3D3D3D\n					font-size 14px\n				.task-deadline-div\n					float left\n					text-align left\n					width 40%\n					height 20px\n					margin-right 15px\n					cursor pointer\n				.task-contact-div\n					float left\n					text-align left\n					width 40%\n					cursor pointer\n					.by-contact\n						#master_contact_list\n							position absolute\n							top 10px\n							right 10px\n							border 1px solid #eeeeee\n							background #ffffff\n							-moz-box-shadow 0 3px 6px rgba(0,0,0,.4)\n							-webkit-box-shadow 0 3px 6px rgba(0,0,0,.4)\n							box-shadow 0 3px 6px rgba(0,0,0,.4)\n							z-index 20\n							padding-left 10px\n							width 20% !important\n							overflow-x hidden\n							overflow-y scroll\n							height 350%\n							.add-new-contact-li\n								background #DDE6DA\n							li\n								cursor pointer\n								&:hover\n									background #eeeeee\n	#task-overview-container\n		&.byContact\n			.accordion\n				height 50px\n				margin-bottom 10px\n				clear left\n				box-shadow -1px 0 0 #f0f0f0 inset, 1px 0 0 #f0f0f0 inset, 0 1px 0 #f0f0f0 inset\n				.accordion-header\n					box-shadow 1px 0 0 #f0f0f0 inset, 0 3px 0 #f0f0f0 inset, -1px 0 0 #f0f0f0 inset\n					.budget-total-wrapper\n						float right\n						margin-top 17px\n						margin-right 10px\n					.element-cue\n						float left\n						font-size 15px\n						font-weight bold\n						color #3d3d3d\n						line-height 50px\n						img\n							width 50px\n							float left\n							margin 0 5px 10px 0px\n				.taskItem\n					margin-bottom: 10px\n					margin-top: 0px\n\n					.task-contact-div\n						#master_element_list\n							position absolute\n							top 10px\n							right 10px\n							border 1px solid #eeeeee\n							background #ffffff\n							-moz-box-shadow 0 3px 6px rgba(0,0,0,.4)\n							-webkit-box-shadow 0 3px 6px rgba(0,0,0,.4)\n							box-shadow 0 3px 6px rgba(0,0,0,.4)\n							z-index 20\n							height 200px\n							overflow-x hidden\n							overflow-y scroll\n							li\n								display block\n								cursor pointer\n								float left\n								clear both\n								margin 0\n								padding 5px 10px\n								border-bottom 1px solid #eeeeee\n								text-align left\n								width 100%\n								&:hover\n									background #eeeeee\n\n				.vendorList\n					.addAnother\n						.add_another_task\n							float left\n							margin 10px 0px 20px 35px\n							background #EEE\n							color #3D3D3D\n							padding 4px 6px\n							border-radius 3px\n							cursor pointer\n#edit-list-form\n		width 400px\n		.inner-wrap\n			text-align center\n			#edit-list-name\n				width 299px !important\n				display inline-block  !important\n				font-size 14px  !important\n				margin 0 auto  !important\n			.actions\n				a\n					margin 19px\n				#saveGuestListChanges\n					float right\n				#cancelGuestListChanges\n				#deleteGuestList\n					float left\n					margin-top 26px\n\n////\n/// Some handy table classes\n//\n\n// 8% width\n.w8p\n	width 8%\n\n////\n/// SIMPLE MODAL SECTION STYLES\n//\n\n///\n// Add a new section\n\n#add-new-section\n		.header\n			.basic-eles\n				display none\n			.adv-eles\n				display block\n\nbody\n	&:not(.advMode)\n	// .layout-jump\n		// 	display none !important\n		#add-new-section\n			.header\n				.basic-eles\n					display block\n				.adv-eles\n					display none\n\n#add-new-section\n\n	max-width 760px\n	// first state\n	// height 190px\n	transition height .2s\n	//\n	// Section type buttonss\n\n	.sectionType\n		.nu-btn\n			height 100px\n			transition all .2s linear\n			&:hover\n				background transparent\n				border none\n				color #ce2b4a\n				// i[class^=\"ico-\"]\n				// 	transform scale(1.1)\n				// 	transform-origin 50% 50%\n				transition all 0 linear\n			&:active\n				background transparent\n				border 1px solid #202020\n				transform scale(.9)\n				transition all 0 linear\n			&.disabled\n				cursor default\n				&:active\n					transform scale(1)\n			i[class^=\"ico-\"]\n				display inline-block\n				top -0.4em\n				position relative\n		div[section-type=\"gallery\"]\n			.nu-btn\n				.has-gall\n					display none\n					position absolute\n					top 50%\n					right 50%\n					margin-top -12px\n					margin-right -12px\n					width 24px\n					height 24px\n					text-align center\n					font-size 10px\n					background #03deef\n					border-radius 100%\n					&:before\n						content '\\2714'\n						display inline-block\n						color white\n						position absolute\n						left 6px\n						z-index 1\n						top -13px\n						font-size 14px\n				&.disabled\n					opacity 1\n					background none\n					box-shadow none\n					border 1px solid #ddd\n					img\n						opacity .3\n					.has-gall\n						display inline-block\n\n\n// .showSimple\n// 	.simple-modal-wrap\n// 		transition opacity .2s linear, left 0 linear 0s, background .2s linear\n\n.simple-modal-wrap\n	#new-list-form\n		text-align center\n		width 30%\n	#attendee-form\n	#new-list-form\n	#edit-list-form\n		h3\n			text-align left\n		label\n			margin-top 30px\n			display block\n			// margin-bottom -23px\n		#new-list-name\n			width 50%\n			height 39px\n		.cancel\n			color red\n			margin-left 19px\n			font-size 14px\n			margin-top 9px\n			&:hover\n				background transparent\n				border 0px solid transparent\n				box-shadow 0 0 0 transparent inset\n		.save\n			padding 6px 12px\n			border-radius 3px\n			text-shadow none\n			font-size 16px\n			margin 0 20px 11px\n	#attendee-form\n		label\n			margin-top 0px\n		#manualRsvpForm\n			> div\n				padding 0px 22px\n				margin-bottom 0px\n				.errors\n					background #FF6347\n					color #FFF\n					float left\n					width 100%\n					margin-bottom 2em\n					padding 0\n					border-radius 0.3em\n					text-align center\n			.allow_guests_field\n				padding-bottom 4px !important\n			.checkbox_field\n				margin-bottom 24px\n			.select-field\n				margin-top 20px\n			.radio_field\n				.radio:last-child\n					padding-bottom 24px\n			a\n				&.delete\n					display none !important\n			.ticket_type_wrap\n				b\n					position relative\n					top 0px\n				table\n					background #FFF\n					width calc(100% \\- 1em)\n					margin 0\n					border 1px solid #DDD\n					margin-bottom 1em\n					margin-left 0.5em\n					border-radius 6px\n					overflow hidden\n					tr\n						border-bottom 1px solid #eee\n						th\n						td\n							font-size 1em\n							line-height 18px\n							text-align left\n					thead\n						background #f5f5f5\n						tr\n							th\n								padding 8px 10px 9px\n								font-size 14px\n								font-weight normal\n								color #222\n								font-family 'gibsonSemiBold'\n					tbody\n						tr\n							td\n								vertical-align middle\n								color #333\n								padding 9px 10px\n								vertical-align top\n								border none\n								&:nth-child(2)\n									padding-top 19px\n			.waitlist_field\n				border-radius 8px\n				text-transform uppercase\n				.the-type\n					margin-top .6em\n				.nu-pill-btn\n					background none\n					&:hover\n						background #000\n				&.on-waitlist\n					border 1px solid #ECE900\n					background #FFE\n					.the-type:before\n						content 'ON WAITLIST'\n					.nu-pill-btn:after\n						content 'ADD FROM WAITLIST'\n				&.on-guestlist\n					background #CDFEEB\n					border 1px solid #00EC8E\n					.the-type:before\n						content 'ON GUESTLIST'\n					.nu-pill-btn:after\n						content 'ADD TO WAITLIST'\n			.save\n				margin 0 8px 11px\n			.cancel\n				margin-left 8px\n\n		.cancel\n			margin-top 0px\n			margin-bottom 10px\n			cursor pointer\n\n	#new-list-form\n		label\n			margin-top 27px\n			display block\n			margin-bottom -11px\n			font-family 'gibsonSemiBold'\n			font-size 18px\n		#previous-list-id\n			margin-bottom 20px\n\n///\n// General style for cancel button\n.simple-modal .cancel\n	&:hover\n		background #ff3300\n		border 1px solid darken(#ff3300, 10%)\n		box-shadow 0 -2px 0 darken(#ff3300, 10%) inset\n	&:active\n		background #eeeeee\n		border 1px solid #d0d0d0\n		color #a6a6a6\n		box-shadow none\n\n///\n// RSVP Settings - new question\n#newQuestionModal\n	margin-top 10%\n	width 36em\n	#question-wrap\n		margin-left 5%\n		margin-top 30px\n		.suggested-question-block\n			text-align left\n			&.custom-question-wrap\n				padding 20px 10px 28px 0\n				border-top 1px dashed #eee\n				width 100%\n				text-align center\n		.suggested-questions\n			li\n				a\n					display block\n					text-align left\n					text-decoration none\n					padding 0px 30px 0px 10px\n					background #f8f8f8\n					margin 4px 8px 4px 0px\n					border-radius 4px\n					color #000\n					position relative\n					transition background .1s linear\n					&:hover\n						background blue\n						color #fff\n						&:after\n							content '+'\n							position absolute\n							top 0\n							right 8px\n							color #fff\n					&.selected\n						color #aaa\n						border 1px solid #f8f8f8\n						cursor default\n						&:hover\n							color #aaa\n							border 1px solid #f8f8f8\n							cursor default\n\nbody\n	&:not(.inlineForm)\n		.btn-color-pkr\n		#submit-text-picker\n		.submit-picker-label\n			display none !important\n\n	&.inlineForm\n		#submit-bg-color-picker\n			left auto !important\n		.btn-color-pkr\n			margin-bottom 10px\n		#submit-text-picker\n			width 100%\n			float left\n			margin-bottom 14px\n		.submit-picker-label\n			float left\n			font-size 12px\n			font-family gibsonLight\n\n.simple-modal-flow-control\n	&.questions\n		z-index 0\n\n.custom_rsvp_fields\n	.nu-dropdown\n		margin-top 0px\n		max-width 80%\n		float left\n		width 200px\n		border-radius 10px\n		&:before\n			background #ccc\n		.current\n			overflow hidden\n			text-overflow ellipsis\n\n	.required-opt\n		&:after\n			top 1px\n			left 6px\n\n#page-action-settings\n	.status-box\n		padding 20px 10px 10px\n		font-size 15px\n	.nu-dropdown.rsvp-status\n		box-shadow 0 0 0 0px #7CC576 inset, 0 0 0 1px #7CC576\n		background rgba(3,225,106,0.04)\n		margin-bottom 10px\n		width 100%\n		border-radius 11px\n		margin-top 0px\n		&:before\n			color #03E16A\n			background rgba(3, 225, 106,0.54)\n			box-shadow 0 0px 0 #bbb inset\n		&.closed\n			box-shadow 0 0 0 0px #f03 inset, 0 0 0 1px #f03\n			background rgba(255, 0, 51, 0.04)\n			&:before\n				color #ff0033\n				background rgba(255,0,51,0.54)\n				box-shadow 0 0px 0 #bbb inset\n		#rsvp-quick-status\n			font-family 'gibsonSemiBold'\n			font-size 14px\n	#rsvp-limit-input\n		height 29px\n		width 25%\n\n	#privacy-type\n		margin-bottom 5px\n\n	#allow-guests-types\n		padding 2px 10px 0px 20px\n		.allow_guests_settings\n			float left\n			margin-top 10px !important\n			margin-bottom 6px\n			padding-bottom 0px\n		#guest-limit\n			margin-top 4px\n			margin-left 7px\n			margin-bottom 0px\n	label.nu-checkbox:before\n		top 4px\n	label.nu-checkbox:after\n		top 5px\n\n#no-payout-msg\n	display none\n	background tomato\n	color #fff\n	margin-bottom 1em\n	text-align center\n	font-size 0.8em\n	margin-top -0.5em\n	letter-spacing 0.05em\n	a\n		color #fff\n		text-decoration underline\n		&:hover\n			color #eee\n.noPayoutData\n	#no-payout-msg\n		display block\n\n#rsvp-options\n	font-family 'gibsonBold'\n	.rsvp_closed\n		font-family 'gibsonRegular'\n		&.active\n			box-shadow 3px 0 0 #2f2f2f inset, 14px 0 0 #fff inset, 0 1px 0 #e5e5e5 inset\n			font-family 'gibsonSemiBold'\n			&:hover\n				box-shadow 4px 0 0 #2f2f2f inset, 3px 0 0 #fff inset, 0 1px 0 #e5e5e5 inset\n				background #ffff00\n				color #000\n		&:hover\n			background #ddd\n			color #000\n\n#inviteOnlyLabel\n	.nu-tiptip\n		z-index 1\n\n////\n/// RSVP SETTINGS MESSAGING\n\n#rsvp_conf_message_splash\n#rsvp_conf_message\n#rsvp_conf_message_wl\n#rsvp_conf_message_splash_wl\n	margin 0px 0px 9px\n	height 170px\n	font-size 13px\n	resize vertical\n\n#inclCal\n#inclCalWL\n	font-size 15px\n	width 50%\n	left 9px\n	top -4px\n\n#sendEmailOpt\n#sendEmailOptWL\n	display block\n	clear left\n	margin-left 10px\n	position absolute\n	right 18px\n	top 22px\n\n#rsvp-messages-container\n	text-align center\n	.conf-msgs\n		margin 0 auto\n		float none\n		text-align left\n		clear left\n		display inline-block\n		background #F8F8F8\n		margin-bottom 13px\n		width 75% !important\n		&:nth-child(2)\n			background #f8f8f8\n			border-radius 4px\n			.messaging-wrap:nth-child(3)\n				padding-bottom 0 !important\n\n\n\n\n////\n///\n\n#button-closed-message\n	width 100%\n	resize vertical\n\n////\n/// SPLASH RSVP MODAL\n/*\n#rsvp-modal\n	.close-form\n		color #fff\n		top 0.5em\n		right 1em\n		font-size 1.2em\n		opacity .5\n		&:hover\n			opacity 1\n\n			*/\n\n//\n// For the section adder\n// .theme-card\n// 	border 1px solid #d9d9d9\n// 	background #f8f8f8\n// 	box-shadow 0 1px 0 #d9d9d9\n// 	color #000\n// 	.grp\n// 		.abs\n// 			bottom 0.4em\n// 			left 0\n// 			width 100%\n// 			text-align center\n// 			&.c\n// 			&.e\n// 				transition bottom .15s linear\n// 			&.e\n// 				bottom -200px\n// 	&:hover\n// 		.grp\n// 			background blue\n// 			border 1px solid darken(blue, 50%)\n// 			.abs\n// 				color #fff\n// 				&.c\n// 					bottom -200px\n// 				&.e\n// 					bottom 0.4em\n\n.theme-card\n	border 1px solid #d9d9d9\n	background #f8f8f8\n	box-shadow 0 1px 0 #d9d9d9\n	color #fff\n	border-radius 6px\n	background-size 376px auto\n	background-position center center\n	height 120px\n	transition background-size .15s linear\n	cursor pointer\n	.theme-name\n		opacity 1\n		transition opacity .15s linear 0s\n		display none !important\n	.edit-overlay\n		opacity 0\n		transition all .15s linear 0\n		position absolute\n		top 0\n		left 0\n		width 100%\n		height 100%\n		background rgba(0,0,0,0.8)\n		line-height 113px\n		transform scale(0)\n\n	&.show-title\n		.theme-name\n			display inline-block !important\n\n	&:hover\n		background-size 100% auto\n		.theme-name\n			opacity 0\n			transition opacity .15s linear 0\n		.edit-overlay\n			opacity 1\n			transform scale(1)\n			transition all .15s linear 0s\n	&:active\n		opacity .5\n\n\n.section.customize[chunk=\"design\"]\n	border 1px solid transparent !important\n	box-shadow none !important\n	background none !important\n	border-radius 3px !important\n	font-family 'gibsonRegular' !important\n	color #000 !important\n	padding 6px 1.3em 6px 1em !important\n	text-align center !important\n	transition none !important\n	&:before\n		top 3px !important\n		left 10px !important\n		font-size 1em !important\n	&:hover\n		background green !important\n		border 1px solid darken(green, 20%) !important\n		box-shadow 0 2px 0 darken(green, 20%) !important\n		color #fff !important\n	&:active\n		background green darken(green,20%)\n		border 1px solid darken(green, 30%) !important\n		box-shadow 0 2px 0 darken(green, 30%) !important\n\n\n#video-embed\n	textarea\n		&.loading\n			opacity 0.2\n	#videoCheckBoxes\n		margin: 0 auto;\n		text-align: left;\n		width: 100%;\n		padding: 3.5em;\n		.nu-checkbox\n			text-transform uppercase\n			font-size 0.7em\n			letter-spacing .05em\n			color #6F6F6F\n			&:before\n				content ''\n				position absolute\n				width 15px\n				height 15px\n				top -2px\n				left 0\n				background #FFF\n				border 1px solid #E8E8E8\n				border-radius 4px\n				box-shadow none\n			&.checked\n				&:after\n					border-right 3px solid #808080\n					border-bottom 3px solid #808080\n			&:hover\n				&:before\n					background #E8E8E8\n					box-shadow none\n\n		&.extras\n		&.open\n			padding 1em\n			height auto\n			overflow visible\n			// z-index 1\n			label\n				margin-bottom 10px\n			> div\n				display block\n		&.extras\n			cursor default\n			padding 2px\n			border none\n			border 1px solid #E7E7E7\n			padding 1em 1em\n			border-radius 2px\n			label.class-name\n				font-size 12px\n				text-transform uppercase\n				input.nu-input\n					margin-top 4px\n					font-size 11px\n			.check-opt\n				margin-bottom 10px\n			&.disabled\n				opacity 0.5\n				.nu-checkbox\n					&:after\n						top 1px\n						left 7px\n			.add-to-element-library\n				width 100% !important\n				float left\n				margin-top 10px\n				font-size 12px\n				padding 6px 0px\n				font-family gibsonSemiBold\n				background #7ec479\n				border none\n				color #fff\n				letter-spacing 1px\n				&:before\n					display none !important\n\n#audio-embed\n	.intro\n		top 50%\n		width 100%\n		text-align center\n		left 0\n		transform translateY(-80%)\n		i\n			font-size 2.5em\n	.loading-place\n		position absolute\n		left 0\n		top 82px\n		width 100%\n		color #aaa\n		text-align center\n		z-index 0\n	.results\n		// background #fff\n		position relative\n		z-index 1\n		.artist\n		.album-name\n			max-width 45%\n			white-space nowrap\n			overflow hidden\n			text-overflow ellipsis\n			float left\n		.album-name\n			color #a0a0a0\n	.holder\n		position relative\n		iframe\n			width 100%\n	.audio-src\n		top 20px\n	.embed-area\n		min-height 410px\n		position relative\n		// background #fff\n		z-index 1\n	.saveAudio\n		display none\n	&.songSelected\n		.saveAudio\n			display inline-block\n			font-size 0.8em\n	// .change-song\n	// 	height 22px\n	// 	background #000\n	// 	width 22px\n	// 	border-radius 11px\n	// 	top 38px\n	// 	right 28px\n	// .close-x\n	// 	position relative\n	// 	left 0px\n	// 	font-size 16px\n	// 	color #fff\n#video-embed\n	.loading-place\n		position absolute\n		top 180px\n		width 100%\n		left 0\n		text-align center\n		color #aaa\n		z-index 0\n	.embed-area\n		position relative\n		z-index 2\n	.removeVideo\n		height 22px\n		background #000\n		width 22px\n		border-radius 11px\n		top -10px\n		right 2px\n		position absolute\n		.close-x\n			position relative\n			font-size 16px\n			color #fff\n\n\n#gallery-container\n	&.hasPhotos\n		#gallery-placeholder\n			display none\n\n	#gallery-placeholder\n		text-align left\n		font-size 30px\n		background rgba(0,0,0,0)\n		box-shadow 0 0 0 4px rgba(255,255,255,0.8) inset\n		transition background 0.1s linear\n\n		.textWrap\n			width 100%\n			height 210px\n			margin 0 auto\n			font-family 'gibsonSemiBold'\n			font-size 27px\n			line-height 12px\n			padding-top 76px\n			border 2px dotted #000\n			margin-left -0.7%\n			transition background .1s linear\n\n		.placeHash\n			font-size 42px\n			padding-top 4px\n			text-transform uppercase\n\n		.shareText\n			margin-bottom 20px\n\nbody.finetune\n	#gallery-placeholder\n		cursor pointer\n	.mega-date-wrap\n	.mega-date-wrap *\n	.mega-location-wrap\n	.mega-location-wrap *\n		cursor pointer !important\n\n.zmodal\n	// text-align center\n	// width 80% !important\n	// min-height 80%\n	// max-width 980px\n	// background #F4F4F4\n	// border-radius 0\n	// .zmodal-close\n	// 	position: absolute\n	// 	top -15px\n	// 	right -40px\n	// 	z-index: 2;\n	// 	color: #fff;\n	// 	font-size: 34px;\n	// 	font-style: normal;\n	// .zmodal-header\n	// 	background #000\n	// 	floatgroup()\n	// 	h4\n	// 		float: left;\n	// 		font-family: GibsonRegular;\n	// 		color: #fff;\n	// 		padding: 20px;\n	// 		margin: 0;\n	// 		border-bottom: 0;\n	// 		font-size: 14px;\n	// 		line-height: 20px;\n	// 		margin-left: 40px;\n	// 		letter-spacing: 1px;\n	// 		font-weight: 800;\n	// 	ul\n	// 		float: left;\n	// 		margin-left: 80px;\n	// 		li\n	// 			display inline-block\n	// 			a\n	// 				display: block;\n	// 				padding: 20px 40px;\n	// 				color: #ddd;\n	// 				text-transform: uppercase;\n	// 				font-size: 12px;\n	// 				line-height: 20px;\n	// 				letter-spacing: 1px;\n	// 				&:hover,&.active\n	// 					color #FFF\n	// .zmodal-content\n	// 	text-align center\n	// 	padding 0 40px 20px 40px\n	// 	clear both\n\n\n.simple-modal\n	.zmodal-hr\n		background: #E5E5E5;\n		height: 1px;\n		display: block;\n		border: 0;\n		margin: 20px 0;\n	.zmodal-label\n		text-align: left;\n		display: block;\n		font-size: 14px;\n		color: #4C4B4B;\n		padding: 0 0 10px 0;\n	button.elt-chooser\n		background: #fff;\n		border-radius: 4px;\n		border: 0;\n		cursor pointer\n		font-size: 68px\n		color: #F3386A\n		margin: 0.2em\n		padding: 8px 14px\n		position relative\n		outline 0\n		max-width 128px\n		&.disabled\n			background #eee\n			opacity 0.8\n			color #fff\n			cursor default\n		// smooth out the hovering\n		// by closing the whitespace bt\n		// eles with this guy:\n		&:before\n			content ''\n			top 50%\n			left 50%\n			-webkit-transform translateX(-50%) translateY(-50%)\n			width 100%\n			width calc(100% \\+ 0.45em)\n			height 100%\n			height calc(100% \\+ 0.4em)\n			position absolute\n\n		span\n			font-size: 12px\n			color: #B0B0B0\n			display: block\n			padding 10px 0 5px 0\n		&.longtext\n			span\n				font-size 9px\n		&:hover\n			background #F3386A\n			color #FFF\n			// box-shadow 0 0 0 2px #F3386A inset\n			// transform(scale(1.1))\n			span\n				color #FFF\n		&.large\n			font-size: 110px;\n			max-width: 160px;\n			padding: 0;\n\n#add-new-section\n	.addContain\n		max-width 550px\n		float none\n		position relative\n		width 100%\n		left 0px\n		height 480px\n		overflow hidden\n		margin 0 auto\n		top 50%\n		transform translateY(-64%)\n		.addTitle\n			color #fff\n			text-transform uppercase\n			font-family gibsonRegular\n			letter-spacing 1px\n			font-size 16px\n			top 30px\n			position relative\n	.addSecWrap\n		width 300%\n		height 85%\n		left 0%\n		transition left .25s linear\n		position absolute\n		.sectionType\n			small.label\n				width 100%\n				overflow hidden\n				white-space nowrap\n				text-overflow ellipsis\n				color #fff\n		.nu-btn\n			line-height 110px\n			z-index 1\n			border none\n			font-size 3em\n			text-align center\n			text-indent .02em\n			border-radius 10px\n			background transparent\n			color #fff\n			box-shadow none\n			border none\n			padding-bottom 0px !important\n			span[data-icon]\n				font-size 1.8em\n			.label\n				position absolute\n				bottom 10px\n				left 0\n				width 100%\n				text-align center\n				line-height normal\n				font-size 0.7em\n			&.admin-only\n				line-height 1.3em\n				padding-top 1.3em\n				font-size 1em\n				small\n					color #aaa\n					width 100%\n					display block\n				&:hover\n					color #000\n			.ico-fb-large\n			.ico-twitter-dk\n				top 14px !important\n			.ico-fb-large:after\n				background-position -440px -80px\n		[section-type=\"gallery\"]\n			.nu-btn\n				span[data-icon]\n					font-size 3.8em\n				.label\n					font-size 1em\n\n	.slidePicker\n		margin 0 auto\n		display inline\n		border-radius 0\n		position absolute\n		width 100%\n		padding 8px 10px 4px\n		bottom 0.1em\n		left 0\n		background transparent\n		z-index 10\n		.slideCirc\n			display inline-block\n			background #FFF\n			border 1px solid #CCC\n			width 19px\n			height 19px\n			margin 0px 3px\n			border-radius 11px\n			cursor pointer\n			&.active\n				background #000\n				box-shadow 0 0 0 4px #FFF inset\n\n		.slideArrow\n			display inline-block\n			background #FFF\n			border 1px solid #CCC\n			width 24px\n			height 24px\n			margin 0px 3px\n			border-radius 14px\n			cursor pointer\n			top 2px\n			position relative\n\n		.slideLeft\n		.slideRight\n			&:after\n				content ''\n				display block\n				width 7px\n				height 7px\n				transform rotate(45deg)\n				position relative\n			&:hover\n				background #f5f5f5\n		.slideLeft\n			&:after\n				left 8px\n				top 7px\n				border-left 1px solid #000\n				border-bottom 1px solid #000\n		.slideRight\n			&:after\n				left 5px\n				top 7px\n				border-right 1px solid #000\n				border-top 1px solid #000\n\n	&.slide2\n		.addSecWrap\n			left -100%\n	&.slide3\n		.addSecWrap\n			left -200%\n\n#map-embed\n#iframe-embed\n#video-embed\n#audio-embed\n	position relative\n	.zmodal-header\n		position relative\n	.zmodal-content\n		overflow hidden !important\n		.main-stuff\n			overflow scroll\n			overflow-x hidden\n			position absolute\n			right 0px\n			height calc( 100% - 54px)\n			top 1px\n	.action-wrap\n		position absolute\n		bottom 0px\n		right 10px\n		margin-bottom 0px\n\n@media screen and (min-width:959px)\n	#map-embed\n	#iframe-embed\n		.zmodal-content\n			.main-stuff\n				max-width 71%\n\n\n#map-embed\n	.map-opts\n		display none\n		width 160px\n		font-size 11px\n		background #fafafa\n		color #333333\n		.opt-title\n			font-weight 800\n			color #333\n			text-transform uppercase\n			letter-spacing .1em\n			font-family 'gibsonSemiBold'\n		.input-wrap\n			.unit\n				position absolute\n				top 50%\n				right 0.5em\n				width 1.2em\n				text-transform uppercase\n				color #C4C4C4\n				transform translateY(-50%)\n\n	input.map-dimension\n		width 100%\n		float right\n		padding-right 25%\n		border 1px solid #eeeeee\n		background #ffffff\n		color #b7b7b7\n		&:focus\n			color #333333\n			border 1px solid #c0c0c0\n			background #fff\n	#map-hidden-img.loading\n		opacity 0.3\n\nbody\n	&.advMode\n	&.designerMode\n		#map-embed\n			.map-opts\n				display block\n\n.map-embed-placeholder\n	height 270px\n	background #f8f8f8\n	text-align center\n	line-height 240px\n	border none\n	font-size 6em\n	color #eaeaea\n	text-shadow -1px -1px 0 #ddd, 1px 1px 0 #fff\n	border-radius 4px\n	// border 1px solid #eee\n	margin 10px 0\n	position absolute\n	top 0\n	left 0\n	width 100%\n	height 100%\n	&.loading\n		// display block !important\n		// position absolute\n		// width 65.3%\n		// top 91px\n		// height 341px\n		// padding-top 30px\n		// background #fff\n		opacity 0.8\n		// border 0\n\n.map-holder\n	min-height 277px\n	.modal-map-preview\n		width auto\n		max-width 100%\n		max-height 700px // limiting preview height for vertical maps\n		margin 0 auto\n		display block\n		float none\n	.thisLoader\n		background transparent\n		display none\n		&.loading\n			display block\n\n//\n// Some simple modal touches for adder\n.simple-modal\n	.back\n		margin-right 10px\n		cursor pointer\n		position relative\n		transition left .15s linear\n		&:hover\n			color blue\n	&.editing\n		.back\n			display none\n\n#simple-modal-ajax\n	&.simple-modal\n		// width 86% !important\n		// max-width 85% !important\n		// padding 40px 19px\n		// padding-left 35px\n		h2\n			font-size 26px\n			text-shadow none\n			text-transform uppercase\n			font-family 'gibsonSemiBold'\n			margin-bottom 2%\n		#guest_list_import_contain\n			#step1Import\n				padding 20px 30px\n				text-align center\n				p\n					span\n						font-size 19px\n						padding-bottom 0px\n						line-height 45px\n					#properImportFormat\n						color #2a85e8\n				.import-options\n					.action-btn\n						position relative\n						overflow hidden\n						direction ltr\n						width 240px\n						margin 0 auto\n						margin-top 15px\n					.no-dupes\n						position relative\n						top 17px\n\n\n		#element-list-view1\n			#element_list_ul\n				li\n					float left\n					margin 0 8px 8px 0\n					width 13%\n					height 11%\n					font-size .8em\n					background #eeeeee\n					border-radius 3px\n					cursor pointer\n					text-align center\n					color #444545\n					border 1px solid #ddd\n					position relative\n					transition all .15s linear\n					.element-image\n						width 55%\n						height auto\n						display block\n						margin 12px auto 0 auto\n					&:hover\n						background #ddd\n						border 1px solid #ccc\n						box-shadow 0 2px 6px rgba(0, 0, 0, 0.2)\n					&.disabled-li\n						opacity .2\n						&:hover\n							border 1px solid #DEDCD8\n							background #F8F7F4\n							box-shadow none\n							cursor default\n\n	&[xtra-attr='upload-list']\n		max-width 450px\n		max-height 320px\n		#importGuestListResults\n			h3\n				background none\n				color #000\n				font-family 'gibsonRegular'\n				text-transform none\n				padding-left 0\n				padding-bottom 0\n\n	&[xtra-attr='email-preview']\n		overflow visible !important\n		max-width none !important\n		background #fff\n\n	&[xtra-attr='schedule']\n		max-height 549px\n		height 549px\n		overflow visible !important\n\n	&[xtra-attr='custom-assets']\n		max-height 771px\n		height auto\n\n@media screen and (min-width:959px)\n	#simple-modal-ajax\n		&[xtra-attr='schedule']\n			max-height 615px\n			min-height 614px\n\n@media screen and (max-width:959px)\n\n	#swatchDonutWrap\n		.swatchMask\n			width 200px !important\n		#swatchBack\n			top 63px !important\n			&:after\n				top 93px !important\n\n#over-the-limit-popup\n	min-height 210px\n\n\n.simple-modal-wrap\n	#rsvp-adder\n		.quick-nav\n			li\n				&[type=\"edit\"]\n					position absolute\n					left -103px\n					margin-bottom -33px\n					border-bottom none\n					top 9px\n					padding 2px 10px\n					box-shadow none\n					font-size 10px\n					&.active\n						box-shadow 0 0 0 2px blue inset\n						background lighten(blue, 50%)\n						a\n							color #000\n				&[type=\"order\"]\n					position absolute\n					left -206px\n					margin-bottom -33px\n					border-bottom none\n					top 9px\n					padding 2px 10px\n					box-shadow none\n					&.active\n						box-shadow 0 0 0 2px blue inset\n						background lighten(blue, 50%)\n						a\n							color #000\n				a\n					color #000\n				&:hover\n					a\n						color #fff\n		#attendee-order-data\n			.ticket-order-data\n				padding 20px 31px\n				.ticket-sales\n					.ticket_sale\n						float left\n						width 227px\n						background #EEE\n						color black\n						padding 10px 50px 10px 10px\n						position relative\n						margin 10px 30px 20px 10px\n						&:before\n						&:after\n							content ''\n							width 10px\n							height 100%\n							background #ddd\n							position absolute\n							top 0\n							left -10px\n						&:after\n							background #fff\n							height 10px\n							border-radius 100px\n							top 50%\n							left -16px\n							margin-top -6px\n						.name\n							font-size 14px\n							font-family 'gibsonSemiBold'\n						.quantity\n							position absolute\n							top 0\n							right 0\n							height 100%\n							width 40px\n							text-align center\n							border-left 1px solid #DDD\n							line-height 55px\n							font-family 'gibsonSemiBold'\n							font-size 14px\n							padding-top 7px\n						.total\n							width 130px\n						.resend-ticket\n							color #333333\n							padding 0 4px\n							position absolute\n							right 50px\n							font-size 11px\n							bottom 10px\n			.lined-list\n				&:first-child\n					margin-left 0px\n				display block\n				width 47%\n				margin-left 27px\n				li\n					border-bottom 1px dashed #DDD\n					font-size 13px\n					color black\n					text-transform uppercase\n\n	#event-planners-modal\n			width 730px\n			max-width 80%\n		> small\n			position absolute\n			bottom 2px\n			left 161px\n		h4\n			text-align left\n			border-bottom 1px solid #f2f2f2\n			padding-bottom 5px\n			font-size 18px\n\nbody\n	#edit-settings\n		&.onlyDate\n		&.onlyVenue\n			height 50%\n			overflow hidden !important\n			top 50%\n			transform translateX(-50%) translateY(-50%)\n			left 50%\n			width 530px !important\n			min-width 500px !important\n			#settings-content\n				overflow hidden !important\n				top 0 !important\n				height 100% !important\n				&:before\n					position absolute\n					width 100%\n					left 0\n					height auto\n					color #fff\n					background #1c1c1c\n					font-size 16px\n					padding 16px 19px\n					text-align left\n					font-family gibsonRegular\n					text-transform uppercase\n					letter-spacing 2px\n					box-sizing border-box\n			.user-logout\n			.settings-fixed-hdr\n			#settings-sidebar\n			.settings-right\n			.sectionTitle\n				display none !important\n			#settings-content\n			.settings-left\n			#venue-edit-contain\n				width 100% !important\n			#eventSettingsWrap\n				margin-top 0px !important\n\n		&.onlyVenue\n			height 350px !important\n			min-height 100px\n			.settings-stuff\n				padding-top 0px !important\n			.tbdHolder\n				height 2.4em\n			#settings-content\n				&:before\n					content 'Edit Venue'\n\n			div.grp.w2-5\n				height 50px\n			#event-settings-wrap\n				margin-top 40px !important\n			.edit-venue\n				margin-top 50px\n			#eventSettingsWrap\n				margin-top 50px !important\n				position absolute\n				left 0\n				text-align center\n				min-height 0\n				height calc(100% - 3em)\n				top 0\n			#eventSettingsContain\n				margin 0 auto\n				float none\n				display inline-block\n				position absolute !important\n				padding-bottom 0px !important\n				height auto\n				width 100%\n				top 7em\n				left 0\n				transform translateY(-50%)\n				.settings-left > div:not(.editVenueHolder)\n					display none !important\n		&.onlyDate\n			min-height 205px !important\n			height 305px !important\n			.nu-input\n				top 0px !important\n				height 36px !important\n				/* margin-right 4px !important Guillermo */\n			#addEventEndDate\n				padding 1em 2em 1em 2em\n				top 0px\n			#eventSettingsWrap\n				margin-top 50px !important\n				width 100% !important\n				left 50%\n				position absolute\n				text-align center\n				transform translateX(-50%)\n			#settings-content\n				&:before\n					content 'Edit Date / Time'\n			#eventSettingsContain\n				margin 0 auto\n				float none\n				width auto\n				display inline-block\n				.settings-left\n					> div:not(.editDateHolder)\n						display none !important\n		.user-logout\n			height 10px\n			line-height 10px\n			list-style-type none\n			top 37px\n			left 28px\n			position absolute\n			display block\n			font-size 20px\n			.logout-link\n				background rgba(0, 0, 0, 0)\n				font-family 'gibsonLight'\n				text-transform uppercase\n				color #2C2B2B\n				font-size 16px\n				&:hover\n					color pink\n		.top-half\n			.planners-title\n				display block\n				clear both\n				margin-bottom 20px\n				text-transform uppercase\n				font-size 23px\n				color #4d4d4d\n				letter-spacing 2px\n\n		#topProfileWrap\n			.avatar-wrap\n				float left\n				min-height 90px\n				img\n					width 75px\n					height 75px\n					border-radius 100%\n			.top-bit\n				float left\n				top 11px\n				position relative\n				left 16px\n				list-style none\n				line-height 27px\n				.account-name\n					font-size 30px\n					font-family gibsonLight\n				.user-email\n					font-size 14px\n					font-family gibsonLight\n					position relative\n\n			.close-modal\n				cursor pointer\n				&:hover\n					color red\n\n		.userProfileWrap\n			width 30%\n			height auto\n			position relative\n			float left\n			clear left\n			li\n				list-style-type none\n			.avatar-wrap\n				float left\n				width 60px\n				height 60px\n				float left\n				margin 10px 0 0 10px\n				overflow hidden\n			.top-bit\n				float left\n				margin-left 77px\n				padding-top 10px\n				.account-name\n					font-size 16px\n					height 16px\n					line-height 16px\n				.user-email\n					font-size 11px\n					height 14px\n					line-height 14px\n					font-family 'gibsonLight'\n\n			.events-wrap\n				margin-top 30px\n				.events-nav\n					clear left\n					padding-left 20px\n					font-family 'gibsonSemiBold'\n					a\n						color #000000\n						margin-left 10px\n						&:before\n							position relative\n							left -6px\n						&:hover\n							color #555\n					li\n						margin 10px 0px\n		.planningWrap\n			float left\n			width 100%\n			background #fff\n			position relative\n			.contact-access\n				.access2\n					display none\n\n			.contact-notify\n				.notify1\n				.notify2\n					position relative\n					width 130px !important\n					// top -18px\n					display inline-block\n					&.hide\n						display none !important\n					&:hover\n						color #333 !important\n\n			.planner-title\n				margin 30px 20px 10px 0\n				font-family gibsonRegular\n				font-size 1em\n				text-transform uppercase !important\n				color #555\n		ul\n			&.contacts\n				//max-height 246px\n				overflow-x hidden\n				overflow-y auto\n				width 100%\n				margin 0 auto\n				background transparent\n				li\n					float left\n					width 100%\n					clear both\n					display inline-block\n					position relative\n					font-size 12px\n					line-height 24px\n					margin 0 0 8px 0\n					&:first-child\n						margin-right 10px\n					&.is-group-row.hide\n						display none !important\n					&.contact-wrap\n						margin 0\n						padding 1em\n						width 100%\n						border-top 1px solid #E4E4E4\n						&:first-child\n							border none\n						&:hover\n							.delete-event-contact\n								display block\n						img\n							&:first-child\n								float left\n								margin-right 12px\n								border 1px solid white\n								width 60px\n								height 60px\n								border-radius 100%\n							&.active\n								position absolute\n								left 5px\n								height 15px\n								width 15px\n								border none\n								margin-top 6px\n						.alpha-avatar\n							width 60px\n							height 60px\n							margin-right 1em\n							div.letter\n								line-height 60px\n						&.uc\n							.event-owner\n								display none\n						.contact-inner\n							float left\n							text-align left\n							margin 10px\n							width 44%\n							width calc( 100% \\- 60px \\- 1em \\- 35% )\n							font-family 'gibsonLight'\n							.name\n								font-weight normal\n								font-size 20px\n								margin-top 2px\n								//font-family 'gibsonRegular'\n								white-space nowrap\n								text-overflow ellipsis\n								overflow hidden\n								a\n									font-size 18px\n								.owner\n									font-weight normal\n									font-size 14px\n								.email\n									display block\n									font-weight normal\n									font-size 14px\n									font-family 'gibsonLight'\n								.phone\n									font-size 12px\n							.invite-sent\n								display block\n								font-weight normal\n								color #ce294d\n								text-transform uppercase\n								font-size 10px\n								margin-bottom 1px\n							.unconfirmed\n								font-size 12px\n								background tomato\n								color white\n								border-radius 2px\n								padding 0px 4px\n								display inline-block\n								margin-top 3px\n							// .resend-invite\n							// 	padding 0 4px\n							// 	border-radius 2px\n							// 	margin-top -1px\n							// 	color #888\n							// 	position absolute\n							// 	right -4em\n							// 	top -24px\n							// 	transition all .15s linear\n							// 	&:hover\n							// 		background #3d3d3d\n							// 		color #fff\n							.resend-invite\n							.unconfirmed\n							.invite-sent\n								display none\n\n						.resend-invite\n							color #FFF\n							background #000\n							border-radius 19px\n							padding 0.4em 1em\n							font-family 'gibsonLight'\n							font-weight bold\n							position relative\n							//top 30px\n							//left 33%\n							&:hover\n								//background darken(#CFCFCF, 30%)\n\n						&.access\n							.invite-sent\n								display block\n								position absolute\n								margin 0 0 0 82px\n								top 60px\n								width 200%\n								left -50%\n						&.uc\n							.resend-invite\n								display block\n							.unconfirmed\n								display inline-block\n								color #ff6347\n								text-transform uppercase\n								text-align center\n								width 93%\n						.contact-access\n							float left\n							font-size 13px\n							font-family 'gibsonLight'\n							.access\n								margin-top 1px\n								float left\n								font-size 13px\n								cursor pointer\n								.access1\n								.access2\n								.acesss1:hover\n								.access2:hover\n									color #888\n							.locked\n								font-size 13px\n								color #999999\n								margin-left 0px\n								margin-top 0px\n								float left\n								.access1\n								.access2\n								.acesss1:hover\n								.access2:hover\n									color #888\n						.contact-notify\n							float right\n							font-family 'gibsonLight'\n							margin-right 0px\n							position relative\n							top 1px\n							.notify\n								// position absolute\n								top 0\n								font-size 13px\n								float left\n								cursor pointer\n								height 100%\n								.notify1\n								.notify2\n								.notify1:hover\n								.notify2:hover\n									color #888\n						.delete-event-contact\n							position absolute\n							font-size 33px\n							top 55px\n							right -5px\n							color #c5c5c5\n							display none\n							&:hover\n								color #ce294d\n						.ec-actions\n							float left\n							position absolute\n							width auto\n							font-family 'gibsonLight'\n							right 50px\n							top 50%\n							transform translateY(-50%)\n							.resend-wrap\n								position absolute\n								right 200px\n								width 104px\n								text-align center\n								top -22px\n							ul\n								display block\n								width 70%\n								background none\n								border-top none\n								margin 0\n								position absolute\n								padding-top 0\n								z-index 1\n								li\n									a\n										color #888\n										padding 0 4px\n										width 100px\n										font-size 13px\n										border-radius 1px\n										transition all 0.15s linear\n		.form-contact\n			margin 0 auto\n			padding 20px 10px\n			padding-top 9px\n			border-radius 0\n			color #ccc\n			padding-bottom 1px\n			background-color transparent\n			&.add-new\n				color #3d3d3d\n				font-family 'GibsonSemiBold', Helmet, Freesans, sans-serif\n				padding 1em\n				background #fff\n				> .head\n					border-top 1px solid #E4E4E4\n				> .inner\n					padding-bottom 1em !important\n					border-bottom 1px solid #E4E4E4\n				.set-padding\n					color #555\n					font-family gibsonLight\n					font-size 1.4em\n					position relative\n					width 100%\n			.add-another-collab\n				width 140px\n				padding 10px 20px !important\n				background #171717\n				height auto !important\n				text-align center\n				color #fff\n				font-size 12px !important\n				font-family gibsonSemiBold\n				border-radius 20px !important\n			.inner\n				width 100%\n				position relative\n				.error\n					position absolute\n					color #ff0000\n					right 5px\n					top -34px\n					font-size 14px\n				.section\n					float left\n				.organizer-name\n				.organizer-email\n					width 220px !important\n					margin-right 10px !important\n\n				.access .access1\n				.access .access2\n				.access .notify1\n				.access .notify2\n					background #BBB\n					color white\n					padding 3px 6px\n					border-radius 3px\n					float left\n					transition all .15s linear\n				.access\n					cursor pointer\n					.access1\n					.access2\n						cursor pointer\n						padding 3px 5px\n						margin-left 6px\n						margin-right 6px\n						font-size 12px\n						height 31px\n						&:hover\n							background #03e16a\n				.actions\n					.save\n						position relative\n						margin-right -20px\n						float right\n						margin-top 0px\n						margin-left 4px\n\n				#add-previous-collabs\n					margin 3px 9px 3px 0px\n					font-size 10px\n					color #3d3d3d\n					font-weight bold\n					padding 0 3px\n					font-family 'gibsonLight'\n				#previous-collabs\n					clear left\n					margin-bottom 10px\n				ul\n					margin 0 0 0 10px\n					float left\n					font-size 14px\n					width 69%\n					overflow hidden\n					text-align left\n					li\n						margin-bottom 0\n						&.name\n							font-size 16px\n							margin-top 4px\n						&.small\n							font-size 12px\n							margin-top -7px\n				.recent-collabs\n					width 100%\n					overflow-y auto\n					max-height 250px\n					li\n						a\n							background #3d3d3d\n							color #ffffff\n							border-radius 3px\n							text-shadow none\n							padding 4px 6px\n							float left\n							margin 0 5px 5px 0\n							width 252px\n							transition none\n							&:hover\n								background #000\n		#close-collabs-modal\n			float right\n			margin 10px 25px 10px 0px\n			position absolute\n			bottom 2px\n			right -12px\n		> .actions\n			text-align center\n			float right\n			width 100%\n			padding-top 14px\n			#close-collabs-modal\n				float right\n				padding 6px 12px\n				border-radius 3px\n				text-shadow none\n				font-size 14px\n				margin-right 36px\n				margin-bottom 14px\n\n\n//\n// Font chooser\n#font-chooser\n	h3\n		margin-bottom 0\n	.font-list\n		max-height 280px\n		scroll()\n		> div\n			font-size 1.5em\n			display block\n			border-bottom 1px solid #eee\n			cursor pointer\n			padding .5em\n			&:last-child\n				border none\n			&:hover\n				background #f8f8f8\n			&:active\n				opacity .5\n\n.font-size-picker\n	.options\n		div\n			float none\n			border-bottom none !important\n			&:hover\n				background #fff\n		.option\n			padding .5em 0 0 0 !important\n			height 140px\n			.slider-wrap\n				height auto\n			.shadow-labels\n				width 100% !important\n				padding 0 !important\n				text-align center\n				small\n					padding 0 !important\n	.ui-slider\n		.ui-slider-handle\n			top auto\n\n.ui-datepicker\n	.ui-datepicker-prev\n	.ui-datepicker-next\n		top 6px\n		&:after\n			display none\n			&:hover\n				display none\n\n		span\n			margin-top -8px\n			color transparent\n	tr\n		td\n			&.ui-datepicker-current-day\n				a\n					border-radius 0px\n\n.ui-state-default\n.ui-widget-content .ui-state-default\n.ui-widget-header .ui-state-default\n	border-radius 0px\n\n.task-datepick\n	.task-input\n		width 80px\n		margin-top -7px\n\n\n#customPrimaryFont\n#customSecondaryFont\n.fontContain > .pane-title\n	z-index 2\n\n.fontContain.editPrimary\n	#fontFamilyHead\n		height 98px\n	#customSecondaryFont\n		display none\n	#customPrimaryFont\n		margin-top 1em !important\n		&:hover\n			&:before\n				display none\n\n// #customPrimaryFont\n// 	&:hover\n// 		&:before\n// 			content ''\n// 			width 89%\n// 			height 65px\n// 			background #f8f8f8\n// 			display inline\n// 			position absolute\n// 			top 25px\n// 			left 50%\n// 			z-index -1\n// 			transform translateX(-50%)\n// 			border-radius 6px\n\n#imgLoader\n	background rgba(255, 255, 255, 0.8) !important\n\n.fontContain.editSecondary\n	#fontFamilyHead\n		height 98px\n	#customPrimaryFont\n		display none !important\n	#customSecondaryFont\n		margin-top 1em !important\n		&:hover\n			&:before\n				display none\n\n\n// #customSecondaryFont\n// 	&:hover\n// 		&:before\n// 			content ''\n// 			width 89%\n// 			height 67px\n// 			background #f8f8f8\n// 			display inline\n// 			position absolute\n// 			top -1px\n// 			left 50%\n// 			z-index -1\n// 			transform translateX(-50%)\n// 			border-radius 6px\n\n////\n///\n// Design first view\n#design-first-view\n	position fixed\n	top 40px\n	left 60px\n	background blue\n	color #fff\n	width 322px\n	padding 1em\n	border-radius 4px\n	text-align left\n	&:after\n		content ''\n		position absolute\n		top 20px\n		right 100%\n		border-right 8px solid #03deef\n		border-top 8px solid transparent\n		border-bottom 8px solid transparent\n	.nu-btn.m\n		box-shadow none\n		border none\n		background darken(blue, 20%)\n		color #fff\n		margin-top 20px\n		&:hover\n			background darken(blue, 30%)\n		&:active\n			background darken(blue, 40%)\n\n////\n/// @FINETUNE\n//\n\n#finetune-sections\n	.finetune-outer-contain\n		float left\n		// border 1px dashed #ebebeb\n		// margin-top 20px\n		border-radius 5px\n		width 100%\n		overflow visible\n		.outer-title\n			font-family gibsonRegular\n			font-size 14px\n			color #9b9b9b\n			padding 8px 10px 9px\n			background #fafafa\n			z-index 1\n			position relative\n			> *\n				text-transform uppercase\n				font-size 0.8em\n				letter-spacing 0.1em\n				line-height 1.4em\n			.number-count\n				text-transform none\n			.font-paging\n				display block\n			&.on-bottom\n				border-radius 0 0 4px 4px\n				margin-bottom -2px\n			&.smart-txt\n				> .left\n					&:after\n						content 's'\n						display inline-block\n				.first-word\n					&:before\n						content ''\n						display inline-block\n			.edit-link-btn\n				display none\n				float right\n				text-transform uppercase\n				font-family gibsonSemiBold\n				font-size 13px\n				cursor pointer\n				position absolute\n				top 0\n				right 0\n				padding 0.7em\n				width 100%\n				text-align right\n				&:before\n					position relative\n					top -0.2em\n					right -0.3em\n		&#colorSwatchContain\n			.outer-title .first-word:before\n				content 'Color'\n		&#fontComboContain\n			padding-bottom 18px\n			// height 170px\n			.outer-title .first-word:before\n				content 'Font'\n			&.editing\n				.font-family\n					.open\n						.options\n							display none\n\n	.collapsable\n		height 2.5em\n		overflow hidden\n\n		.outer-title\n			padding-left 2.5em !important\n			&:before\n				display none !important\n\n		.icon-f-wide-darr\n			position absolute\n			padding .6em 0 .5em .5em\n			top 0\n			left 0\n			width 100%\n			cursor pointer\n			&:before\n				// transition top .05s linaer\n				font-size .8em\n				transform rotate(-90deg)\n			&:hover\n				&:before\n					position relative\n					// top 4px\n\n		.icon-f-tb-add\n			position absolute\n			top 0\n			right 0\n			height calc(100% - 2px)\n			padding 0.6em 1em 0 1em\n			cursor pointer\n			display none\n			transition all .05s linear\n			&:hover\n				color #171717\n				&:before\n					transform scale(1.1)\n\n		&.open\n			height auto\n			.on-bottom\n				border-radius 0\n			.icon-f-wide-darr\n				&:before\n					transform rotate(0deg)\n			.icon-f-tb-add\n				display inline-block\n\n\n	.themeContain\n	.fontContain\n	.colorContain\n	.sectionContain\n	.galContain\n		display none\n		.closeBtn\n			background #CCC\n			border-radius 100px\n			width 18px\n			height 18px\n			display inline-block\n			line-height 19px\n			padding-left 4px\n			font-size 14px\n			color #FFF\n			float right\n			right 16px\n			position relative\n			cursor pointer\n			&:hover\n				background #000\n	.galContain\n		.gal-toggle-wrap\n			display block\n			width 100%\n			background #f3f3f3\n			padding 12px\n			border-radius 6px\n			text-transform uppercase\n			letter-spacing 2px\n			.gal-toggle-btn\n				position absolute\n				width 56px\n				height 74%\n				top 50%\n				right 8px\n				transform translateY(-50%)\n				background #f64150\n				padding 3px 3px\n				border-radius 4px\n				cursor pointer\n				.gal-slider\n					position relative\n					display inline-block\n					height 100%\n					background #fff\n					width 50%\n					border-radius 3px\n					transition left .15s linear\n		.add-photos-button\n			cursor pointer\n			height 200px\n			border 1px dashed #ebebeb\n			top 28px\n			padding-top 32px\n			.pic-icon\n				font-size 5.6em\n				height 95px\n				color #DFDFDF\n				display none\n			.text-under-plus-circ\n				margin-top 18px\n				font-family gibsonSemiBold\n				text-align center\n				font-size 16px\n				letter-spacing 1px\n			.plus-circ\n				border-radius 100%\n				width 100px\n				height 100px\n				font-size 20px\n				padding 1px 6px\n				color #fff\n				background #7fc479\n				border 10px solid #7fc479\n				top 20px\n				margin 0 auto\n				transition all 0.08s linear\n				span\n					font-size 40px\n					margin-left -1px\n					line-height 51px\n					transform translate(7px, 15px)\n					-webkit-transform translate(7px,15px)\n					-moz-transform translate(7px,15px)\n					-o-transform translate(7px,15px)\n				&:hover\n					transform scale(1.1,1.1)\n					-webkit-transform scale(1.1,1.1)\n					-moz-transform scale(1.1,1.1)\n					-o-transform scale(1.1,1.1)\n					transition all 0.08s linear\n		&.galOn\n			.inner-contain\n				padding-top 14px\n			.gal-toggle-wrap\n				.galText\n					&.galOff\n						display none\n					&.galOn\n						display inline\n				.gal-toggle-btn\n					background #7ec479\n					.gal-slider\n						left 25px\n			.galStuffWrap\n				display block\n\n		.secTitle\n			text-align center\n			margin 6px 0px 10px\n			font-size 18px\n		.inner-contain\n			width 14em\n			margin 0 auto\n		.imgCount\n			float left\n			position relative\n			font-family gibsonRegular\n			margin-top 54px\n			width 100%\n			.countText\n			.imgText\n				font-size 18px\n				display inline\n			.countText\n				color #ffffff\n				font-weight bold\n				margin-right 5px\n				font-size 12px\n			.imgText\n				text-transform uppercase\n				color #DFDFDF\n			.viewText\n				display block\n				float left\n				text-align center\n				width 142px\n				height 34px\n				line-height 34px\n				border-radius 3px\n				background #292929\n				color #fff\n				margin-top 0px\n				cursor pointer\n				transition all 0.1s linear\n				font-size 10px\n				text-transform uppercase\n				font-family gibsonRegular\n				letter-spacing 1px\n				position relative\n				&:hover\n					background-color #ee3a69\n		.gal-btn-wrap\n			position relative\n			float right\n			.live-feed-jump\n				display block\n				text-align center\n				font-family gibsonSemiBold\n				font-size 12px\n				text-transform uppercase\n				cursor pointer\n				transition all 0.1s linear\n				height auto\n				right 0px\n				background transparent\n				color #000\n				float right\n				font-size 40px\n				top -3px\n				position relative\n				&:hover\n					background #fff\n					color #ee3a69\n				&:before\n					padding 0 !important\n					margin 0 !important\n					float left\n			.recap-report-jump\n				display block\n				float left\n				text-align center\n				color #8c8b8b\n				font-family gibsonSemiBold\n				font-size 12px\n				border-bottom 1px solid #e8e8e8\n				text-transform uppercase\n				cursor pointer\n				transition all 0.1s linear\n				float right\n				max-width 85px\n				padding-left 0px\n				padding-right 0px\n				&:hover\n					background #696969\n					color #fff\n\n	.colorContain\n		.closeBtn\n			top 1px\n			right -2px\n\n.advMode\n	#finetune-sections\n		.finetune-outer-contain\n			.outer-title\n				.number-count\n					margin-right 2em\n				&:hover:not(.theme-card-wrap)\n					color #171717\n	&.editColors\n	&.editFonts\n		.theme-card-header\n			display none !important\n		#finetune-sections\n			.finetune-outer-contain\n				.outer-title\n					.number-count\n						margin-right 0\n		.theme-card-wrap\n			display none !important\n\n\n#subdivcheck\n	border-bottom 1px solid rgba(206, 206, 206, 0.3)\n	width 95%\n	margin 0 auto\n	height 70px\n	.nu-checkbox\n		position relative\n		padding-left 24px\n		top 20px\n		font-family 'gibsonLight', arial, sans-serif\n		font-size 16px\n		color #4c4c4c\n		margin-left 30px\n		&:before\n			content ''\n			position absolute\n			width 15px\n			height 15px\n			top 0\n			left 0\n			border 2px solid #767676\n			border-radius 0px\n			-moz-border-radius 0px\n			-webkit-border-radius 0px\n			-o-border-radius 0px\n			background-color transparent\n			margin-left -8px\n		&:before:hover\n			background-color #ee3a69\n		&:hover:before\n			height 15px !important\n			width 15px !important\n			box-shadow none\n		&.checked:after\n			border-right 3px solid #767676\n			border-bottom 3px solid #767676\n			left -1px\n			top 3px\n	.nu-btn\n		&.m\n			height 35px\n			line-height @height\n			width 150px\n			float right\n			margin-top 20px\n			border-radius 0px\n			background-color transparent\n			text-transform uppercase\n			color #4d4c4c\n			font-family 'gibsonLight'\n	.nu-dropdown\n		&:before\n			background none\n			border-radius 0px\n			box-shadow none\n			border-left none !important\n		&:hover:before\n			background none\n			box-shadow none\n		.options\n			background #F4F4F4\n			div\n				background transparent\n				&:hover\n					background #ee3a69\n.editColors\n	.swatch-links-wrap\n		display block !important\n		border 1px solid #EBEBEB\n		border-top none\n		background #FAFAFA\n.editFonts\n	.upload-font\n		display block !important\n\n.editColors\n.editFonts\n	#finetune-sections\n		.finetune-outer-contain\n			.outer-title\n				background #fafafa\n				&:hover\n					background #fafafa\n					color #9B9B9B\n			.collapsable\n				.outer-title:hover\n					color #171717\n		#themeList\n			display none !important\n\n#allFontCombos\n	.combo-opt\n		padding 1.2em 0 1.2em 3.2em\n		border 1px solid #EBEBEB\n		border-top none\n		&:first-child\n			margin-top .5em\n			border-top 1px solid #ebebeb\n		.theCombo\n			> span\n				display block\n				&:first-child\n					font-size 1em\n				&:last-child\n					font-size .8em\n		// &:hover\n		// 	opacity 1\n		&.active\n			opacity 1\n			&:before\n				content '\\e889'\n				position absolute\n				top 50%\n				left 1.2em\n				font-family 'fontello'\n				transform translateY(-50%)\n\n.smallAddBtn\n.smallRemoveBtn\n#addFontComboBtn\n#addSwatchBtn\n	background #7EC479\n	color #FFF\n	border-radius 1px\n	font-size 0.6em\n	padding .5em .6em\n	cursor pointer\n	transform translateX(2px) translateY(-117%)\n	&:before\n		position relative\n		top -.01em\n		left .01em\n	&:hover\n		background darken(#7EC479, 20%)\n\n.smallAddBtn\n.smallRemoveBtn\n	transform none\n\n.smallRemoveBtn\n	background #474847\n	&:hover\n		background #f57a7c\n\n#addFontComboBtn\n	transform translateY(-55%)\n#addSwatchBtn\n	transform translateX(2px) translateY(-117%)\n\n\n#finetune-sections\n\n	.inner\n		&.basic-tools\n			position absolute\n			height 100%\n\n	.pane-title\n		font-size 1em\n		font-family 'gibsonSemiBold'\n		line-height 2em\n		color #383838\n		// margin-top 0.2em\n		text-align left\n		padding 0px 1em\n		&:before\n			position absolute\n			left 0\n			opacity .4\n			font-size .8em\n			display none\n		&.icon-f-th:before\n			font-size .7em\n\n	&.theme\n		.themeContain\n			display block\n			overflow hidden\n			overflow-y scroll\n\n	&.fonts\n	&.colors\n		.fontContain\n		.colorContain\n			height 92.7%\n			position absolute\n			left -1px\n			padding-top 0px\n			margin-top -2px\n	&.gallery\n		.galContain\n			display block\n	&.fonts\n		.fontContain\n			display block\n			padding 0\n			.fontActionWrap\n				width 100%\n				height 29px\n				margin-bottom 4px\n				display none\n			.createComboText\n				display none\n				padding 0px 0 0px\n				float left\n				width 100%\n				text-align center\n				.icon-upload\n					float none\n					cursor pointer\n					font-size 24px\n					text-align center\n					&:hover\n						color blue\n			.font-list-head\n				display none\n				width 48%\n				height 20px\n				float left\n				clear both\n				font-size 13px\n				text-align center\n				background #8D8D8D\n				color #fff\n				margin-top 12px\n				border-radius 4px 4px 0 0\n				&.secondaryHead\n					clear none\n					float right\n					margin-right 0px\n			.font-list\n				width 48%\n				overflow hidden\n				padding 5px 0px\n				line-height 34px\n				background #f8f8f8\n				height 330px\n				overflow scroll\n				display none\n				.customFontOpt\n					text-overflow ellipsis\n					white-space nowrap\n					width 100%\n					display block\n					padding 0px 14px\n					overflow hidden\n					cursor pointer\n					&:hover\n						background #E7E7E7\n					&.active\n						background #000\n						color #fff\n			#fontListSecondary\n				float right !important\n			#fontListPrimary\n				clear both\n				float left\n			&.selectCombo\n			&.editPrimary\n			&.editSecondary\n				#browsingFontText\n					display none\n				#fontFamilySelect\n				#toggleCustomFont\n					display block\n			// &.selectCombo\n			// 	#changeFontToggle\n			// 		box-shadow 0px 10px 12px -9px #CCC, -1px 0 0 rgba(0, 0, 0, 0.1), 10px 0 6px -8px rgba(0, 0, 0, 0.1) inset\n			// 		&:after\n			// 			transform rotate(-135deg)\n\n			&.editPrimary\n			&.editSecondary\n				#fontFamilySelect\n					.options\n						height 100%\n				#editCustomFontText\n				#cancelCustFontBtn\n					display block\n\n\n			&.editPrimary\n				#editCustomFontText\n					.primary\n						display inline\n				#customPrimaryFont\n					background #F8F8F8\n					&:after\n						border-color #000\n						margin-top -3px\n					&:hover\n						color #000 !important\n						opacity 1 !important\n				#customSecondaryFont\n					display none\n				#fontFamilySelect\n					.option\n						&.activePrimary\n							.inner-opt\n								background #DDD\n						&.combo\n							display none\n						&.customFont\n							display block\n			&.editSecondary\n				#editCustomFontText\n					.secondary\n						display inline\n				#customPrimaryFont\n					opacity .3\n					&:after\n						border-color #000\n						margin-top -3px\n				#customSecondaryFont\n					background #F8F8F8\n					&:after\n						border-color #000\n						margin-top -3px\n					&:hover\n						color #000 !important\n						opacity 1 !important\n\n				#fontFamilySelect\n					.option\n						&.activeSecondary\n							.inner-opt\n								background #DDD\n						&.combo\n							display none\n						&.customFont\n							display block\n			&.editCustom\n				#fontFamilyHead\n					margin-bottom 9px\n					border-bottom none\n					padding 16px 0px 0px\n					height 84px\n					&:after\n						display none\n					.current\n						opacity 1 !important\n					&:hover\n						cursor default\n						// .customComboBtn\n						// 	display none\n				.fontActionWrap\n					// border-bottom 1px solid #CCC\n					margin-bottom 8px\n					top 89px\n					position relative\n					margin-top 17px\n					display block\n					padding-bottom 41px\n				.font-list\n				.font-list-head\n					display block\n\n\n	&.colors\n		.colorContain\n			display block\n			padding 0\n\n	&.content\n		.sectionContain\n			display block\n\n.sorting .dragging\n	background #8cb76d !important\n	color #fff !important\n\n\n// .finetuneOpen\n// 	#finetune-block\n// 		transition all .05s ease-in-out\n\n\n\n\nbody\n	#finetune-block\n		&[tab=\"theme\"]\n			.sectionHead .instructs.design\n				display block\n\n		&[tab=\"gallery\"]\n			.sectionHead .instructs.gallery\n				display block\n		&[tab=\"content\"]\n			.sectionHead .instructs.layout\n				display block\n\n		.instructs\n			span\n				// padding 0.3em 1.5em 0.2em 1.5em\n				padding 0em 1.5em 0.2em 1.5em\n				overflow hidden\n				text-overflow ellipsis\n				white-space nowrap\n\n	// DESIGN TAB INSTRUCTS\n\n	&:not(.editColors):not(.editFonts) // main design tab instructs\n		#finetune-block\n			&[tab=\"theme\"]\n				.sectionHead .instructs.design\n					.main\n						display block\n\n	&:not(.advMode)\n	&:not(.designerMode)\n		&.editSwatchColor // edit swatch color individually\n			#colorSwatchContain\n				.swatch-links-wrap\n					display none !important\n			#basic-color-done\n				display block !important\n			#finetune-block\n				&[tab=\"theme\"]\n					.sectionHead .instructs.design\n						.main\n							display none\n						.editSwatch\n							display block\n\n	&.editColors  // manage colors tab\n\n		&:not(.editSwatchColor):not(.editLinks)\n			#finetune-block\n				&[tab=\"theme\"]\n					.sectionHead .instructs.design\n						.manageSwatch\n							display block\n		&.editSwatchColor // edit swatch color individually\n			#colorSwatchContain\n				.swatch-links-wrap\n					display none !important\n			#basic-color-done\n				display block !important\n			#finetune-block\n				&[tab=\"theme\"]\n					.sectionHead .instructs.design\n						.editSwatch\n							display block\n		&.editLinks // edit link mode on colors tab\n			#finetune-block\n				&[tab=\"theme\"]\n					.sectionHead .instructs.design\n						.link\n							display block\n\n	&.editFonts  // manage font combos tab\n		#finetune-block\n			&[tab=\"theme\"]\n				.sectionHead .instructs.design\n					.editFonts\n						display block\n\n	// END DESIGN TAB INSTRUCTS\n\n#finetune-block\n	// @finetuneTransition\n	// transition all .3s ease-in-out\n	.finetuneCloseBtn\n		z-index 1\n		display block\n		position relative\n		float right\n		color #000\n		margin-right 2px\n		margin-top 27px\n		font-size 21px\n		cursor pointer\n		height 27px\n		width 12%\n		text-align right\n		background transparent\n		//box-shadow 1px 0 0 1px #ccc\n		&:hover\n			color red\n\n	#ftg-draghelper\n		background #e6f9f9 !important\n		color #414141\n		margin-left 1px\n		text-align center\n		opacity .7\n		box-shadow 0 0 0 2px #adc4c4\n		.ele-utils\n		.collapse\n			display none !important\n		.section\n			&:hover\n				&.hovering\n					&[chunk]\n					&[block-type]\n					&[group-type]\n						> .title\n							padding-left 14px !important\n\n	.sorting #allSectionsContain #finetune-layout-contain\n		.section\n			cursor ns-resize !important\n			&:after\n				display none\n			.move-icon\n				position absolute\n				top 50%\n				right 0px\n				transform translateY(-50%)\n				z-index 2\n				font-size 0.8em\n				display block\n			&.hide\n				.move-icon\n					display none !important\n\n	.sorting #allSectionsContain #finetune-layout-contain\n		.section\n			> .delete-section\n				display none !important\n			.accordion\n				display none !important\n\n	#allSectionsContain #finetune-layout-contain\n		.master_group\n\n			&:hover\n				> .delete-section\n					left 0em !important\n					display none !important\n\n		.section\n			.move-icon\n				display none\n			&.dragging\n				background #fff\n\n			&.open\n				&:hover\n					&[chunk]\n					&[block-type]\n					&[group-type]\n						> .title\n							padding-left 10px !important\n\n			&:first-child\n				border-top 1px solid #ccc\n			&:before\n				content ''\n				background spriteUI\n				background-position 50px 0px\n				width 0px\n				height 0px\n				display inline-block\n				margin-top -4px\n				margin-left -11px\n\n\n\n			// &[chunk=\"album\"]\n			&[chunk]\n			&[block-type]\n			&[group-type]\n				> .title\n					width 100%\n\n			// Section utils\n			// delete, drag, edit\n			> .delete-section\n			.collapse\n			.drag\n				display none\n				position absolute\n				top 0\n				height 100%\n			> .delete-section\n				width 35px\n				height auto\n				font-size 16px\n				display block !important\n				position absolute\n				left -3.6em\n				top 0px\n				transition left 0.15s linear\n				color #fff\n				background #f0f0f0\n				line-height 38px\n				text-align center\n				border 1px solid rgba(0,0,0,0.015)\n				border-radius 0\n				z-index 1\n				font-size 10px\n				text-align center\n				color #000\n				font-family 'gibsonLight'\n				text-transform uppercase\n				&:after\n					content 'Hide'\n				&:hover\n					background #929292 !important\n					border 1px solid #929292\n			&.open\n				> .delete-section\n					display none !important\n			.drag\n				left 0\n				width 44px\n				//background rgba(0, 0, 0, 0.4)\n				&:before\n				&:after\n					content ''\n					top 15px\n					left 57%\n					position absolute\n					margin-left -6px\n					width 6px\n					height 6px\n					background none\n					transform rotate(45deg)\n					border-left 1px solid #888\n					border-top 1px solid #888\n					pointer-events none\n\n				&:after\n					top auto\n					bottom 13px\n					border-top none !important\n					border-left none\n					border-bottom 1px solid #888\n					border-right 1px solid #888\n\n				&:hover\n					cursor ns-resize\n					&:before\n						border-bottom-color blue\n					&:after\n						border-top-color blue\n\n	//\n	// For the custom section blocks\n	// Uses x(N) to define family tree\n\n	#allSectionsContain #finetune-layout-contain\n		width 100%\n		background #fff\n		> .section.grp-wrapper\n			> .move-icon\n				display none !important\n		.section\n			cursor pointer !important\n			padding 1 !important\n			line-height 45px\n			height auto\n			text-align left\n			width 100%\n\n			// temp pane\n			// position static\n\n			text-transform capitalize\n			// background #f0f0f0\n			.nu-btn.delete-section\n				padding 0px !important\n			.blockEmbedHolder\n				.embed-type\n					display none\n				.form-wrap\n					height 141px\n					line-height 28px\n					width 110%\n					margin 0 auto\n					float none\n					background #FAFAFA\n					border 0\n					left -0.5em\n					position relative\n					margin-bottom 13px\n					.iframeIcon\n						line-height 1.5em\n						&:after\n							top 50%\n							right 40px\n							margin-top -42px\n							margin-right -4px\n						&.ico-add-map\n							&:after\n								margin-top -46px\n					.title\n						display block !important\n						float none\n						width auto !important\n						padding 0px 7px !important\n						font-size 1.2em\n					> .grp\n						display inline-block\n						float none\n						width auto\n						padding 0px\n						position absolute\n						bottom 9px\n						left 50%\n						transform translateX(-50%)\n\n			&.grp-wrapper\n				float left\n\n			&.ele-wrapper\n				float left\n				margin-top 2px\n				background #b1b0b0\n				padding 0\n				color #fff\n\n				.hide-sec-btn\n					position absolute\n					display block !important\n					top 0px\n					left 0px\n					z-index 100\n					padding 0px\n					background #F0F0F0\n					color #000\n					font-family gibsonLight\n					font-size 10px\n					text-transform uppercase\n					letter-spacing 1px\n					left 0\n					width 34px\n					text-align center\n					transition all .15s linear\n					transform translateX(-100%)\n					&:hover\n						transform translateX(0)\n				&.section-hidden\n					background #ccc\n					&:after\n						content 'Hidden'\n						position absolute\n						top 14px\n						right 0px\n						transform translateX(-50%)\n						font-size 10px\n						color rgb(248, 79, 133)\n						height 16px\n						line-height 18px\n						font-family gibsonSemiBold\n						text-transform uppercase\n					.hide-sec-btn\n						.hideText\n							display none\n						.showText\n							display block\n\n				&.hovering\n					background lighten(#b1b0b0, 30%)\n				&:hover\n					.hide-sec-btn\n						transform translateX(0)\n\n				.ele-utils\n				.collapse\n					display none !important\n\n				.noLayouts\n					.innerStuffWrap\n						&.layoutShapeStuff\n							display none !important\n\n				.innerStuffWrap\n					&.layoutShapeStuff\n						.gallerySortStuff\n							display none\n\n				.title\n					.subText\n						display block\n						clear both\n						font-family 'gibsonSemiBold', arial\n						font-size 1.2em\n						position relative\n						top -57px\n						text-transform capitalize\n						display none\n\n				// When the section is hidden\n				&.section-hidden\n					.title\n						.subText\n							&:after\n								content 'HIDDEN'\n								display inline\n								color #FFF\n								background #FEAAAA\n								margin-left 0.6em\n								font-family 'gibsonRegular'\n								letter-spacing 0.05em\n								padding .1em 0.3em\n								font-size 0.7em\n								border-radius 2px\n								line-height 1\n\n			&.open\n				.toggle-content\n					&.shapes\n						padding-bottom 19px\n					.bgText\n						height 34px\n						line-height 37px\n\n			> .title\n				width 100%\n				text-overflow ellipsis\n				white-space nowrap\n				position relative\n				overflow hidden\n				display block\n				height auto\n				font-family 'gibsonRegular'\n				cursor pointer\n				text-align center\n				margin-bottom 0\n				text-transform uppercase\n				letter-spacing .1em\n				font-family 'gibsonSemiBold'\n				font-size .8em\n				padding 0 2em\n\n			&.grp-wrapper\n				padding-top 0\n			&.grp-wrapper > .title\n				display none\n\n			&.master_group\n				min-height 15px\n				background none\n				cursor default !important\n				> .move-icon\n					display none !important\n				&.ft-grp\n					&:after\n						display none\n			&:hover.hovering\n				.title\n					&:after\n						display none\n			&.hovering\n				> .title\n					&:after\n						border 1px solid blue\n			.collapse\n			.drag\n				display none\n			&:before\n				top 7px\n				left 13px\n				font-size 0.9em\n				display none\n				position absolute\n\n			&:hover.hovering\n\n				> .delete-section\n				> .drag-handle\n					display block\n				&[chunk=\"album\"]\n					&:before\n					&:after\n					.title:after\n						display block\n\n\n	#manage-photos-btn-wrap\n		display none\n\n\n	#admin-group-clusters #finetune-layout-contain\n		background none\n		// padding 0.3em .5em 0 .5em\n		#finetune-layout-missing-elements .element\n			border 1px solid black\n			border-radius 4px\n			padding 5px\n			margin 5px\n			cursor pointer\n\n\n	// Main inner-wrap container\n	.content-inner-wrap\n		// background #f8f8f8\n		//box-shadow -1px 0 0 #000 inset\n		// -webkit-transform perspective(600)\n\n		// This holds a group of toolbar properties\n		& > .grp\n			// width 92%\n			// margin-left 4%\n			// padding .5em .5em 1em .5em\n			// margin-bottom .5em\n			// box-shadow 0 1px 0 #eee, 0 5px 8px -6px #ddd\n			// position relative\n\n			//trying this\n			// width 90%\n			// box-shadow none\n			// margin-left 0%\n			// padding 0.5em 0em 1em 0.9em\n			// position relative\n			// border-bottom 1px solid #f8f8f8\n\n			// A little extra margin for the first group\n			& > .grp\n				&.solo\n					padding .5em 0\n					background none\n					i\n						margin-right .5em\n\n			// Clean style for section titles\n			&.clean\n				margin-bottom 0\n				background none\n				padding 0.2em 1em 0.2em 0em\n				box-shadow none\n\n			.faux-link\n				color darken(blue, 60%)\n				width auto\n				clear both\n				font-size .7em\n				&:hover\n					color blue\n\n			// For hiding this. Contains creepy eyeball icon\n			.can-hide\n				// box-shadow 0 -2px 0 #ccc inset, 0 0 0 1px #ccc inset\n				box-shadow none\n				border-radius 4px\n				padding 0\n				text-align center\n				cursor pointer\n				// width 10%\n				user-select none\n				float right\n				pointer-events fill\n				// margin-top .5em\n				// margin-right .5em\n				&:hover\n					background #f8f8f8\n				&:active\n					background #eee\n					box-shadow none\n				&.is-hidden\n					i\n						&:after\n							background-position-y -120px\n			.is-hidden\n				&.content-inner\n					opacity .3\n					pointer-events none\n					.s-title\n						cursor pointer\n						pointer-events fill\n			///\n			// Make the dropdowns and buttons a little shorter\n			.nu-dropdown\n				font-family 'gibsonRegular'\n			// trying this (rm 3px)\n			// .nu-dropdown.m\n			// 	top 3px\n			> .nu-btn.s\n			> .nu-btn.s:before\n			.nu-dropdown.m\n			.nu-dropdown.m:before\n				height 30px\n				line-height 30px\n				padding 0 4px\n			.nu-dropdown.s\n				top 3px\n				width 100%\n				padding 0 21px 0 6px\n			.nu-dropdown.s\n			.nu-dropdown.s:before\n				height 25px\n				line-height 23px\n\n			//\n			// Nice styles for design dropdowns\n			.nu-dropdown.m\n				background #fff\n				box-shadow none\n				border none\n				padding-top 9px !important\n				border 1px solid #DDD\n				width 100%\n				padding 5px !important\n				height 40px\n				&.open\n					border 1px solid #DDD\n				&:active\n					background darken(blue, 50%)\n					border 1px solid darken(blue, 50%)\n				// &:before\n				// 	display none\n				&:after\n					top 17px\n					right 10px\n					background none\n					border-radius 1px\n					border-right 3px solid #000\n					border-bottom 3px solid #000\n					transform rotate(45deg)\n					width 4px\n					height 4px\n					opacity .1\n				.options\n					top 38px\n					color #000\n					div\n						color #000\n						border none !important\n						&:hover\n							background #f0f0f0\n						&.active\n							background #E9E9E9 !important\n					.col\n						> .grp\n							box-shadow none !important\n							&.fill\n								background transparent\n				&:hover\n					background #fff\n					box-shadow none\n					color #000\n					&:after\n						opacity 1\n						// border-color #000\n				&:active\n					background #fff\n					border 1px solid #ccc\n					&:hover\n						border-color #ccc\n				.current\n					padding 0 1em\n\n			// Darker for the advanced slide\n			.adv-slide\n				.nu-dropdown.m\n					background none\n					border 1px solid #303030\n					color #fff\n					&:before\n						display none\n					&:hover\n						border 1px solid blue\n					.options\n						background #303030\n						box-shadow 0 0 0 1px #202020, 0 2px 0 1px #202020\n						div\n							color #fff\n							border-bottom 1px solid #303030\n							&:hover\n								background blue\n								color #fff\n\n			> .nu-btn.s\n				padding 0px 30px 0px 8px\n\n\n		////\n		/// Theme Cards\n		//\n		&.themes\n			// A theme card\n			.theme-option\n				box-shadow 0 0 0 1px #bebebe\n				border none\n				padding 0\n				border-right 0px\n				border-radius 4px\n				transition all .1s linear\n				margin-bottom 15px\n				background-color #303030\n				min-height 7.5em\n				overflow hidden\n				width 97%\n				float none\n				cursor default\n				img\n					display block\n					position relative\n					max-height 126px\n					width 100%\n					border-radius 3px\n				.action-word\n					opacity 0\n					background rgba(0,0,0,.9)\n					color #fff\n					letter-spacing .05em\n					font-size 1.4em\n					font-family 'gibsonLight'\n					z-index 1\n					> div\n						top 0\n						position relative\n						transition top .15s linear 0\n					.current\n						display none\n				.theme-utils\n					top 100%\n					transition top .15s linear 0\n\n				&:hover\n					// opacity .8\n					.action-word\n						opacity 1\n						display block\n\n				&.previewing\n					box-shadow 0 0 0 3px blue\n					.action-word\n						opacity 1\n						display none\n						> div\n							top 100%\n				&.previewing\n					.theme-utils\n						top 34%\n						transition top .15s linear .15s\n				&.current-theme\n					cursor default\n					&:hover\n						opacity 1\n					&:before\n						content ''\n						position absolute\n						top 50%\n						transform translateX(-50%) translateY(-50%)\n						left 50%\n						width 64px\n						height 64px\n						border-radius 100%\n						background #000\n						z-index 1\n						border 3px solid #FFF\n						box-shadow 0 0 0px 100px rgba(255, 255, 255, 0.5)\n					&:after\n						content ''\n						width 26px\n						height 11px\n						background rgba(0, 0, 0, 0)\n						position absolute\n						display block\n						z-index 1\n						border-left 8px solid #FFF\n						border-bottom 8px solid #FFF\n						top 47%\n						left 50%\n						transform translateX(-50%) translateY(-50%) rotate(-46deg)\n						//background #0f0\n						//border 2px solid #fff\n\n					.action-word\n						opacity 1\n						display none\n						.preview\n							display none\n						.current\n							top 0\n							display inline-block\n\n	.form-wrap\n		// border 1px solid #eee\n		// border-radius 6px\n		// background #f8f8f8\n		width 94%\n		.inner-title\n			display inline !important\n		.nu-input\n			border 1px solid #eaeaea\n			box-shadow none\n			padding .5em\n			margin-bottom 3px\n			background none\n			&:hover\n				background #eee\n			&:focus\n				background #fff\n				border 1px solid blue\n		label\n			font-size 0.8em\n\n		// For the timepicker\n		.timePicker\n			border 1px solid transparent\n			&:hover\n				background none\n				border 1px solid #eee\n				> .grp\n					background #EEE\n\n		// For the headings\n		.grp.semiBoldItalic:first-child\n			margin-left -4%\n\n		// Host section\n		.currentHost\n			font-size 0.6em\n			border 1px solid #eee\n			height 34px\n			width 34px\n			margin-top 2px\n			.qq-upload-button\n				&:before\n					position relative\n					top 2px\n					left 3px\n					color #888\n	.form-wrap\n		// border 1px solid #eee\n		// border-radius 6px\n		// background #f8f8f8\n		width 94%\n		.inner-title\n			display inline !important\n		.nu-input\n			border 1px solid #eaeaea\n			box-shadow none\n			padding .5em\n			margin-bottom 3px\n			background none\n			&:hover\n				background #eee\n			&:focus\n				background #fff\n				border 1px solid blue\n		label\n			font-size 0.8em\n\n		// For the timepicker\n		.timePicker\n			border 1px solid transparent\n			&:hover\n				background none\n				border 1px solid #eee\n				> .grp\n					background #EEE\n\n\n////\n///\n// Modal Page Re-Ordering\n#admin-group-clusters\n	min-width 700px\n	width 80%\n	#finetune-layout-contain\n		width 100%\n		margin-top 25px\n		margin-bottom 0.4em\n		padding .5em !important\n		> .content-inner-wrap\n			background #fff\n			padding .5em\n		.accordion\n			display none\n		> .delete-section\n		> .title\n			text-overflow ellipsis\n			text-transform capitalize\n		.ft-grp\n			position relative\n			background rgba(0, 0, 0, 0) !important\n			//cursor ns-resize\n			.moveCursor\n				cursor ns-resize\n				display block\n				position absolute\n				right 0\n				bottom 0\n				width 1.9em\n				height 100%\n				cursor ns-resize\n				font-size 16px !important\n				&:before\n					position absolute\n					top 50%\n					left 50%\n					transform translateX(-50%) translateY(-50%)\n			.opts\n				//display none !important\n			.hidden\n				//hidden styles\n			&.ele-wrapper\n				> .title\n					border-top none\n					display block\n					// box-shadow -1px 0 0 #EFEEEE inset, 0 -1px 0 #EFEEEE, 1px 0 0 #EFEEEE inset\n					font-family 'gibsonLight'\n					user-select none\n					margin 0\n\n			&.ele-wrapper\n			&.grp-wrapper\n				> .title\n					padding 0.3em 3.5em 0.3em 0.4em\n					&:hover\n						background #f1f2f1\n\n			titleOffset = 1.2em\n			arrowOffset = 1.1em\n\n			&[nestedattr=\"1\"]\n				&.grp-wrapper\n					> .title\n						padding-left titleOffset\n			// &.x2\n			&[nestedattr=\"2\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*2)\n				.collapse\n					left (arrowOffset)\n			// &.x3\n			&[nestedattr=\"3\"]\n				&.grp-wrapper\n					.title\n						padding-left 5em\n						padding-left (titleOffset*3)\n				.collapse\n					left (arrowOffset*2)\n			// &.x4\n			&[nestedattr=\"4\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*4)\n				.collapse\n					left (arrowOffset*3)\n			// &.x5\n			&[nestedattr=\"5\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*5)\n\n				.collapse\n					left (arrowOffset*4)\n			// &.x6\n			&[nestedattr=\"6\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*6)\n\n				.collapse\n					left (arrowOffset*5)\n			// &.x7\n			&[nestedattr=\"7\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*7)\n				.collapse\n					left (arrowOffset*6)\n			// &.x7\n			&[nestedattr=\"8\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*8)\n				.collapse\n					left (arrowOffset*7)\n			// &.x7\n			&[nestedattr=\"9\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*9)\n				.collapse\n					left (arrowOffset*8)\n			// &.x7\n			&[nestedattr=\"10\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*10)\n				.collapse\n					left (arrowOffset*9)\n			// &.x7\n			&[nestedattr=\"11\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*11)\n				.collapse\n					left (arrowOffset*10)\n			// &.x7\n			&[nestedattr=\"12\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*12)\n				.collapse\n					left (arrowOffset*11)\n			// &.x7\n			&[nestedattr=\"13\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*13)\n				.collapse\n					left (arrowOffset*12)\n			// &.x7\n			&[nestedattr=\"14\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*14)\n				.collapse\n					left (arrowOffset*13)\n			&[nestedattr=\"15\"]\n				&.grp-wrapper\n					.title\n						padding-left (titleOffset*15)\n				.collapse\n					left (arrowOffset*14)\n\n			&:after\n				display block\n				content ''\n				clear both\n\n			&.dragging\n				box-shadow 0 0 0 2px #8cb76d\n				color #fff\n				background #cfe9cd !important\n\n			> .delete-section\n			> .move-icon\n				display none !important\n\n		.collapse\n			display none\n			position absolute\n			top 0\n			left 0\n			z-index 2\n			cursor pointer\n			height 2.1em\n			width 1.2em\n			&:before\n				top 50%\n				left 50%\n				font-size 0.5em\n				margin 0\n				position absolute\n				transform translateX(-50%) translateY(-50%)\n\n		.ele-utils\n			position absolute\n			top 0\n			right 0\n			font-size 0.9em\n			padding 0.3em 2.6em 0em 0.5em\n			span\n				color #333232 !important\n				font-size 20px !important\n				top -2px\n				&:hover\n					color lighten(#333232, 30%) !important\n\n		.lightningBolt\n			// position absolute\n			display inline-block\n			// top 1.2em\n			// right .5em\n			cursor pointer\n			&:hover\n				color #000\n\n		.grp-wrap-btn\n			position relative\n			display inline-block\n			cursor pointer\n\n		.ele-wrapper:hover\n		.grp-wrapper:hover\n			background rgba(0,0,255,.1)\n\n		// no children\n		.ele-wrapper\n			> .title\n				span\n					font-size 0.9em\n					letter-spacing .02em\n					color #949494\n			> .opts\n				display block\n				right 0\n\n		// has children\n		.grp-wrapper\n			// border-top 1px solid white\n			//padding 1em 0.2em 0em 0.3em\n			> .title\n				position relative\n				// background #b1b0b0\n				text-transform uppercase\n				display block\n				// box-shadow 0 -1px 0 #fff inset\n				.ele-utils\n					padding 0.2em 2.6em 0.1em 0.5em\n					.grp-wrap-btn\n						top -1px\n				span\n					font-size 0.8em\n					letter-spacing .05em\n			> .opts\n			> .collapse\n				display block\n			&.master_group\n				> .title span\n					font-family 'gibsonRegular'\n			&.collapsed\n				> .ft-grp\n					display none\n				.collapse\n					&:before\n						transform translateX(-50%) translateY(-50%) rotate(-90deg)\n\n		.ele-wrapper\n		.grp-wrapper\n			.ele-utils\n				display none\n			&.hovering\n				> .ele-utils\n					//display block\n			&.sibling-active\n				> .ele-utils\n					//display none\n			> .title\n				&.dragging\n					background #cde8d2 !important\n					// box-shadow 0 0 0 1px #E6F9F9, 0 -2px 0 #E6F9F9 inset\n					// color #ADC4C4 !important\n\n\n.ft-grp\n	&.isBodyGroup\n		> .title\n			background #e0e0e0\n			.ele-utils\n				display none !important\n		> .collapse\n			display none !important\n\n		> .accordion .fonts.main-controls > div:not(.extras)\n			display none\n\n// only show font size ctrls for when where\n// .font-ctrl-wrap\n// 	display none !important\n\n.accordion\n	&[group-type=\"when\"]\n	&[section-name^=\"when \"]\n	&[section-name^=\"where \"]\n		.fonts.main-controls .font-ctrl-wrap\n			display block !important\n\n// when we're dragging in layout\n.ft-grp.the-placeholder\n	display block\n	height 0\n	overflow hidden\n	box-shadow 0 1px 0 2px #464646, 100px 1px 0 2px #464646, -100px 1px 0 2px #464646\n	position relative\n	z-index 2000\n\n.view-bolt\n	#admin-group-clusters\n		#finetune-layout-contain\n			padding 0 !important\n\n.ele-utils.hovering\n	display block !important\n.ele-wrapper\n	.title\n		.subText\n			display none\n.reorderHovered\n	.section.ele-wrapper\n		border-color blue !important\n.sortingStuff\n	.section.ele-wrapper\n		background #cfe9cd !important\n		> .title\n			cursor ns-resize !important\n\n.addEleHovered\n	.section.ele-wrapper\n		border-color pink !important\n\n\n//newLayout Options\n#nestedLayoutContainer\n	overflow-y auto\n	overflow-x hidden\n	position relative\n	&.isBasicEle\n		.accordion\n			.delete-section\n				display none !important\n			.hideSecBtnWrap\n				width 100% !important\n	.container-undo-btn\n		position fixed\n		width 288px\n		background #ffffff\n		z-index 999\n		.reorder-undo-grp\n			width 100%\n			height 50px\n			text-align center\n\n			.undo\n				color #bcbcbc\n				font-family fontello\n				content '\\21b6'\n				top 10px\n				right 2em\n				font-size 0.75em\n				border-radius 20px\n				box-shadow 0 0 0 2px #c5c3c3 inset\n				padding .5em 2em\n				margin 0px 0px 0px 8px\n				display inline-block\n				float none\n				letter-spacing 0.05em\n				span\n					top 0.05em\n					line-height 0\n					position relative\n				&.active\n					color #FFFFFF\n					background #f66e6f !important\n					box-shadow 0 0 0 2px #f66e6f inset\n					animation slap-delay .1s linear .2s\n					&:hover\n						background lighten(#f66e6f, 30%) !important\n						box-shadow 0 0 0 2px lighten(#f66e6f, 30%) inset\n			.addContain\n				float right\n				margin 0 15px 0 10px\n			.addCol\n				float right\n				margin 0 14px 0 0px\n\n@keyframes slap-delay\n	0%\n		transform scale(1.0)\n	33%\n		transform scale(1.1)\n	66%\n		transform scale(0.9)\n	100%\n		transform scale(1.0)\n\n#admin-group-clusters\n	min-width 0\n	width 100%\n	padding-top 15px\n	#finetune-layout-contain\n		.ft-grp\n			clear both\n			position relative\n			span.title\n				white-space nowrap\n				overflow hidden\n				text-overflow ellipsis\n				display block\n				padding 0.7em 4em 0.7em 2em\n\n		&[draggable]\n			text-align left\n			  -moz-user-select none\n			  -khtml-user-select none\n			  -webkit-user-select none\n			  user-select none\n			  -khtml-user-drag element\n			  -webkit-user-drag element\n\n		.ft-grp.open .accordion\n			display block !important\n			.adminOnly\n				display block !important\n			.hide-section.nu-checkbox\n				margin 30px 0px 0px 0\n				clear both\n			.delete-section\n			.hideSecOpt\n				position relative\n				cursor pointer\n				float left\n				padding .5em 1em\n				text-align center\n				width 100%\n				text-transform uppercase\n				letter-spacing .1em\n				margin-top 10px\n				font-family 'gibsonSemibold'\n				background #f57b7d\n				font-size 11px\n				color #fff\n				border None\n				border-radius 2px\n				&:hover\n					background #D10101\n			.hideSecOpt\n				background #b3b2b2\n				&:hover\n					background darken(#b3b2b2, 20%)\n\n			.add-to-element-library\n				padding .5em 1em\n				color #fff\n				background #7ec479\n				text-transform uppercase\n				letter-spacing .1em\n				border none\n				border-radius 4px\n				&:hover\n					background darken(#7ec479, 20%)\n		.ft-grp.savedAsCustomElement\n			> .accordion .add-to-element-library\n				background rgb(137, 137, 253)\n\n		.ft-grp.hotlinked .hide-when-hotlinked\n			display none\n\n.sp-dragging\n.changedBgColor\n	#simple-modal-wrap\n		background transparent\n\n//\n// For the color picker\n.sp-container\n	background #d9d9d9\n	.sp-input\n		background none\n		color #000\n		box-shadow none\n		font-family 'gibsonLight'\n		padding-left 0\n		border-bottom 1px solid #b9b9b9\n		border-radius 0\n		padding-bottom 8px\n		margin-bottom 4px\n		&:focus\n			outline none\n			background #e9e9e9\n\n.sp-replacer\n	width 100%\n	padding 0\n	background none\n	border none\n	.sp-preview\n		width 100%\n		border none\n		float right\n		margin-right 0\n	.sp-dd\n		display none\n\n.sp-picker-container\n	width 206px\n	padding-top 0\n	border-left none\n\n.sp-palette\n	width 185px\n.sp-palette-row\n	float left\n	.sp-thumb-el\n		width 33px\n		height 33px\n		margin 2px 2px\n		border none\n		border-radius 100%\n		overflow hidden\n		box-shadow 0 0 0 1px #b9b9b9\n\n.sp-palette-container\n	border-right none\n\n.sp-sm\n	.sp-replacer\n		width 40px\n		//height 60px\n		position relative\n		top 0px\n		overflow visible\n	.spectrum-input\n	.sp-preview\n		float left\n		margin-top 2px\n		height 30px\n		width 30px\n		border-radius 100%\n		padding 0\n		border none\n		cursor pointer\n		outline none\n		box-shadow 0 0 0 1px rgba(0,0,0,.2)\n		background url('/images/empty-bg.png')\n		&:hover\n			box-shadow 0 0 0 2px rgba(0,0,0,.4)\n		.sp-preview-inner\n			border-radius 100%\n	&.stack\n		input\n		.sp-replacer\n			width 18px\n			height 18px\n			position relative\n			z-index 1\n			border-radius 3px\n			&:hover\n				box-shadow 0 0 0 2px rgba(0,0,0,.4)\n			// stack top\n			&.st\n				z-index 1\n			// stack bottom\n			&.sb\n				z-index 0\n			&:last-child\n				top -12px\n				position relative\n				left 8px\n				z-index 0\n				// &:hover\n				// 	z-index 2\n			&:first-child\n				position relative\n				z-index 1\n			.sp-preview\n				margin 0\n				.sp-preview-inner\n					&:before\n						display none\n\n#cancelCustomSwatch\n	padding 0px 7px\n	top 9px\n	left 0px\n	margin-top 12px\n#saveCustomSwatch\n	padding 0px 7px\n	margin 10px -3px 5px\n	margin-top 22px !important\n\n#customSwatch\n	background #FFF\n	border-top none\n	position relative\n	min-height 130px\n	min-height 166px\n	display block !important\n	cursor default\n	font-family 'gibsonLight'\n	border-radius 0\n	margin-bottom 0em\n	// border 1px solid #E9E9E9\n	border-bottom 0\n	width 101%\n	.swatch-wrap\n		position relative\n		left -14px\n		top 16px\n		width 88%\n		margin 0 auto\n		.swatch-item\n			&:nth-child(odd)\n				top -20px\n				position relative\n	.swatch-item\n		&:hover\n			z-index 2\n		.w1-5\n			width 19%\n\n	.sp-replacer\n		top 1px\n		&.sp-active\n			z-index 2\n	.sp-sm\n		.spectrum-input\n		.sp-preview\n			margin-top 4px\n			height 56px\n			width 56px\n	// .editColorText\n	// 	display block\n	// 	clear both\n	// 	width 100%\n	// 	text-align center\n.half-color-chooser\n	.cover-inner\n		.spectrum-input\n		.sp-replacer\n			width 50%\n			float left\n			display inline-block\n			border-radius 6px 0 0 6px\n			text-indent -10000px\n			height 60px\n			.sp-preview-inner\n				border-radius 0\n			&.rsvp-color-picker\n				border-radius 6px 0 0 6px\n			&.rsvp-bg-color-picker\n				border-radius 0 6px 6px 0\n		#rsvp-bg-color-picker\n			border-radius 0 6px 6px 0\n		#rsvp-color-picker\n			border-radius 6px 0 0 6px\n\n\n\n#rsvp-block\n	//overflow-y hidden\n	overflow hidden\n	.guests-block\n		position relative\n		top 16px\n	.rsvp-contain\n		::-webkit-scrollbar-thumb\n			background #C0C0C0 !important\n			box-shadow 0 0 0 1px #FFF inset !important\n		::-webkit-scrollbar-track\n			background #fff !important\n		/*&:not(.ticketEvent)\n			.rsvp-collect\n				.bigTextWrap\n					small\n						margin-top 6px\n				#awaitingBtn\n					margin-top 6px */\n// .splug\n// 	display none\n\n\nbody\n	#fake-modal-back\n		position fixed\n		display none\n		width 100%\n		height 100%\n		background #000\n		z-index 100\n		opacity 0.7\n	&.dateVenueModal\n	&.settingsOpen\n		#splash-container\n			position fixed\n			overflow hidden\n		#fake-modal-back\n			display block\n		#hdr-tools\n			display none\n	&.dateVenueModal\n		#edit-settings\n			.header\n				display none\n			.settings-stuff.active\n				width 100%\n				height 100%\n			&.onlyDate\n				.editDateHolder\n					margin-top 40px\n					.tbdHolder\n						width 353px !important\n						top -2px !important\n						height 44px !important\n						padding-top 8px\n			#dateTBDCheckbox\n				left 27.7em !important\n				top 10px !important\n			#deleteEventEndDate\n				top 1px\n				&:before\n					top 1.3em\n				&:after\n					height 35px\n		&.event-has-end-time\n		&.date-tbd\n			#edit-settings\n				#dateTBDCheckbox\n					left 27.7em !important\n\n.lockItUp\n	&.toolsOpen\n		border none\n		overflow visible\n		#addReorderTools\n			display none !important\n		#hdr-tools\n			display none\n		.splug\n			display none\n		.design-link-wrap\n			top -41px\n			left 0\n			z-index 2\n			width 68px\n			overflow hidden\n			background transparent\n			border-color transparent\n			border-bottom none\n			border-left none\n			box-shadow none\n			#design-link\n				display none\n			#preview-link\n				left -2px\n				top 2px\n				line-height 40px\n				padding 5px 7px 21px 12px\n				height 47px\n				position relative\n				margin -4px\n				color #fff\n				span\n					display none\n				.icon-eye\n				.icon-paintbrush\n					top -1px\n					left 1px\n					position relative\n\n			#settings-link\n				display inline-block\n				padding 4px 7px\n				float left\n				top 0px\n				left 2px\n				cursor pointer\n				position relative\n				color #fff\n				.icon-cog\n					position relative\n					left 2px\n					top 1px\n					width 12px\n					height 23px\n					padding-top 10px\n					line-height 30px\n			#preview-link\n				width 40px\n				z-index 0\n			#design-link\n				top -12px\n				left 9px\n				z-index 2\n			#preview-link\n			#settings-link\n				&:hover\n					background rgba(255,255,255,0.4)\n		#quick-vital-stats\n			li:hover\n				color #D0D0D0 !important\n\n//\n// Some nice scrolling logics for planning tools\n#planning-tools\n	// position absolute\n	width 0\n	overflow hidden\n	> .content\n		margin-top 300px\n		position relative\n		z-index 1\n		background #f4f4f4\n.lockItUp\n	&.toolsOpen\n		#splash-container\n			overflow hidden\n			position fixed\n		#planning-tools.expanded\n			height auto\n			position absolute\n			// right 60px;\n			overflow-x hidden\n			overflow-y auto\n			width 92%\n			width calc(100% \\- 92px)\n\n.pt-has-scrolled\n	.event-meta\n		opacity 0\n\n.hide-when-mnfy\n	transition opacity .1s\n\n.prep-minify\n	.hide-when-mnfy\n		opacity 0\n\n// When we hit 40px from top\n.minify\n	.hide-when-mnfy\n		opacity 0\n	#planning-tools.expanded .pt-nav-wrap\n		position fixed\n		top 40px\n		box-shadow 0 2px 8px rgba(0,0,0,0.2)\n		width calc( 100% \\- 92px )\n	#planning-tools-header\n		height 40px\n		z-index 2\n		background #000\n		overflow hidden\n		h4\n			font-size 1em !important\n		a#closePlanningTools\n			font-size 1.1em !important\n	#pageActionSettings\n		// position fixed\n		right auto\n		//width 30%\n		z-index 0\n		.nu-dropdown\n			&:before\n				background #ccc\n	#pro-addon-link\n		display none\n	#pro-addon-button\n		display none\n		top 0 !important\n	a#closePlanningTools\n		font-size 1em\n		top 3px !important\n	.header-date-info\n		display block !important\n		cursor pointer\n\n	#ticket-settings-container\n		#pageActionSettings\n			padding-left 0 !important\n\n#invite-contact-import\n	height 588px\n	#empty-search-tr td\n		padding-left 12px\n	#clear-gmail-search\n		margin-left 8px\n	#invite-import-close\n		&:hover\n			background none\n			border none\n			box-shadow none\n			cursor pointer\n			color #fff !important\n	#gmail-contact-search\n		width 99%\n		padding-right 28px\n		&:focus\n		&:focus:hover\n			border 1px solid #aaa\n	#clear-gmail-search-2\n		color #aaa\n		padding-right 7px\n		&:before\n			font-size 19px\n			position relative\n			top -2px\n			left 6px\n		&:hover\n			&:before\n				color #555\n	#gmail-json-content\n		height 354px\n		#gmail-contact-table\n			min-width 100%\n			td\n			th\n				min-width 120px\n				max-width 280px\n				line-height 16px\n				&:first-child\n					min-width 0px\n					padding-right 11px\n			tr\n				height 45px\n				&:nth-child(even)\n					background #f8f8f8\n	#gmail-contact-count\n		color #555\n\n//\n// Nu nu btn styles\n.nu-btn.mnml\n	border none\n	box-shadow #C0C0C0 0 0 0 1px\n	border-radius 2px\n	color #303030\n	font-family 'gibsonLight'\n	transition box-shadow .2s linear\n	&:hover\n		box-shadow #404040 0 0 0 1px\n		color #404040\n		background #fff\n		transition box-shadow 0s linear\n	&:active\n		background #202020\n		box-shadow #202020 0 0 0 1px\n		color #fff\n		transition box-shadow 0s linear\n\n//\n// The editpage/preview links\n\n#nuTool\n	position fixed\n	z-index 14\n	opacity 1\n	top 0px\n	right 0px\n	padding-top 0px\n	height 100%\n	// overflow hidden\n	border-radius 0\n	color #fff\n	transition all .1s linear\n	#nuToolTop\n		color #000\n		z-index 12\n		border-radius 0\n		display block\n		height 8px\n		display none\n		#preview-link\n		#settings-link\n			color #747272\n			padding-left 10px\n			display inline\n			padding-right 6px\n			padding-top 7px\n			padding-bottom 4px\n			cursor pointer\n			top 4px\n			&:hover\n				background #555\n				color #fff !important\n		#preview-link\n			padding-left 11px !important\n			padding-right 12px\n			padding-bottom 5px\n			.icon-preview\n				width 15px\n				height 13px\n				background url(/images/preview-settings-sprite.png) no-repeat -16px 0px\n				position relative\n				top 1px\n			&:hover\n				.icon-preview\n					background-position -16px -16px\n		#settings-link\n			padding-right 9px !important\n			border-left 1px solid rgba(0,0,0,0.2)\n			padding-left 12px\n			.icon-settings\n				width 15px\n				height 13px\n				background url(/images/preview-settings-sprite.png) no-repeat\n				top 1px\n				position relative\n				left 1px\n			&:hover\n				.icon-settings\n					background-position 0px -16px\n\n#nuPlan\n	position fixed\n	z-index 14\n	opacity 1\n	bottom 0px\n	right 0px\n	height auto\n	width 50px\n	border-radius 0\n	color #FFF\n\n#responseTab\n	.rsvpCountBadge\n		position absolute\n		top 18px\n		right 74px\n		font-size 11px\n		width auto\n		padding 1px 7px\n		background #f33769\n		color #fff\n		border-radius 14px\n		font-family gibsonSemiBold\n		&.longNum\n			top 16px\n			left -21px\n			width 42px\n			height 42px\n			line-height 42px\n\n#nuTool\n#nuPlan\n	width 92px\n	.toolBtn\n		background transparent\n		color #000\n		z-index 12\n		box-shadow none\n		border-radius 0\n		font-size 10px\n		width 100%\n		text-align center\n		cursor pointer\n		color #909090\n		position relative\n		overflow hidden\n		padding-top 1.4em\n		padding-bottom 1.4em\n		&.responses\n			overflow visible\n		// transition color .2s linear\n		// &:after\n		// 	content ''\n		// 	position absolute\n		// 	top 2.4em\n		// 	left -6px\n		// 	border-top 6px solid rgba(0, 0, 0, 0)\n		// 	border-bottom 6px solid rgba(0, 0, 0, 0)\n		// 	border-left 6px solid #FFF\n		// 	transition left .1s linear 0\n		&.theme\n			padding-top 16px\n		.toolClose\n			position absolute\n			top 1.5em\n			right -1.5em\n			margin-left -.1em\n			text-align center\n			font-size 1.3em\n			transition right .2s linear\n		.toolBtnText\n			line-height 1\n			display block\n			margin-top 6px\n			margin-bottom 6px\n			font-size 1.2em\n			letter-spacing .05em\n		.toolIcon\n			margin-bottom 0px\n			display block\n			position relative\n			&:before\n				font-size 2.3em\n				width 100%\n				margin-left -0.01em\n				text-align center\n			&.icon-f-tb-gallery\n				&:before\n					font-size 2.8em\n			&.icon-f-tb-design\n				&:before\n					font-size 2.3em\n\n		.toolClose\n		.toolIcon\n			transition top .15s linear\n		.icon-f-beaker:before\n			font-size 2.7em\n			margin-left -0.025em\n			margin-bottom 0em\n		.icon-f-th:before\n			font-size 2.2em\n		&.fvFlash\n			transition all .25s linear\n			background #AAA\n			color #000\n			.toolIcon\n				.toolBtnText\n					color #000 !important\n				&:before\n					color #000 !important\n		&.active\n			color #fff\n			&:after\n				left 0\n				transition left .1s linear .3s\n			&:hover\n				// transition none !important\n				// color #fff !important\n				// background #fff\n			.toolClose\n				right .6em\n			&.planning\n				.toolBtnText\n					top 16px\n					position relative\n					opacity 1\n					font-size 12px\n					left 1px\n		&.account\n			padding-top 1.8em\n			padding-bottom 1.6em\n			// background #292929\n			.avatar-wrap\n				.avatar\n					width 41px\n					height 41px\n					border-radius 100%\n\n#nuTool\n	.top-level\n		margin-top 0.4em\n		padding-top 8px\n		transition all 0.1s linear\n		.util\n			padding 0\n			font-size 1em\n			// color #909090\n			// width 100%\n			float left\n			font-size 20px\n			&:before\n				margin-left 0\n				font-size .7em\n				padding-right 0px\n			.thisLoader\n				display none\n\n\n		a\n		#viewSettings\n			color #909090\n			position relative\n			font-size 30px !important\n			margin 0px 0px\n\n			.toolClose\n				opacity 0\n				position absolute\n				top 50%\n				right .2em\n				pointer-events none\n				transform translateY(-50%)\n\n\n			// &:after\n			// 	content 'Preview'\n			// 	position absolute\n			// 	top 0\n			// 	left 0\n			// 	font-size 14px\n			// 	text-align center\n			// 	color pink\n			// 	width 100%\n			// 	height 100%\n			// 	line-height 48px\n			// 	background rgba(32, 32, 32, 0.75)\n			// 	opacity 0\n			// 	transition opacity .15s linear\n			// &:hover\n			// 	&:after\n			// 		opacity 1\n		#viewSettings\n			.toolClose\n				font-size 0.4em\n				right 0.7em\n				margin-top 0.2em\n			// &:before\n			// 	margin-left .5em !important\n			// &:after\n			// 	content ''\n			// 	border-left 6px solid #FFF\n			// 	border-top 6px solid rgba(0, 0, 0, 0)\n			// 	border-bottom 6px solid rgba(0, 0, 0, 0)\n			// 	width 0\n			// 	height 0\n			// 	background none\n			// 	z-index 1\n			// 	top 50%\n			// 	opacity 0\n			// 	margin-top -0.2em\n			// 	position absolute\n			// 	left 0\n			&:hover\n				&:after\n					opacity 0\n\n//\n// Toolbar colors for adv and basic\n\n#nuTool\n	background #1c1c1c\n	.toolBtn\n		color #b1b0b0\n		&:hover\n			background #292929\n		&.active\n			color #171717\n			background #F4F4F4\n	.top-level\n		background #292929\n		#viewSettings\n		.util\n			&:hover\n			&.active\n				color #fff\n		.util\n			.thisLoader\n				background #292929\n\n// @scrollbar\nbody.finetune\n	&::-webkit-scrollbar\n		width 10px\n\n	&::-webkit-scrollbar-track\n		background #303030\n\n\n	&::-webkit-scrollbar-thumb\n		border-radius 0\n		background #1C1C1C\n		box-shadow 0 0 0 1px #303030 inset\n		&:hover\n			background #101010\n\n\n\n\n.settingsOpen\n	#edit-settings\n		display block\n	#nuTool #viewSettings\n		color #FFF\n		&:after\n			opacity 1 !important\n		.toolClose\n			opacity 1 !important\n\n.advMode\n.designerMode\n	.settingsOpen\n		#nuTool #viewSettings\n			color #fff\n\n#miniSaveBtn\n	margin-top 2px !important\n	width 100%\n	white-space nowrap\n	transition width .15s linear\n	.icon-f-tb-save\n		position relative\n		top -4px\n		&:before\n			font-size 1em\n			margin-top 15px\n	small\n		font-size 0.5em\n		color #A0A0A0\n		letter-spacing .1em\n\n.top-level\n	.save-wrap\n		.util\n			color #7CC576 !important\n		#bottom-util\n			z-index -1\n			right auto\n			left 100%\n			background #fff\n			border-radius 6px 0 0 6px\n			padding 1.5em 1.5em 1em 1.5em\n			position fixed\n			transition left .3s linear\n			.autosave-contain\n				top 1em\n			.event-id\n				position absolute\n				bottom 0\n				right 2.9em\n				font-size .8em\n				color #a0a0a0\n				cursor default\n				&:hover\n					color #000\n		&:hover\n			#bottom-util\n				left calc( 100% \\- 18em \\- 92px )\n\n.has-changes\n	.top-level\n		.save-wrap\n			.util\n				color yellow !important\n				i:before\n					content '\\e810'\n\n\n.in-progress\n.in-progress.has-changes\n	.top-level\n		.util\n			i:before\n				content '\\e82c'\n			.thisLoader\n				display block !important\n\n// show bottom util when finetune open\n// .finetuneOpen\n// 	.top-level\n// 		.save-wrap\n// 			#bottom-util\n// 				left calc( 100% \\- 18em \\- 92px )\n\n// #nuTool:hover\n// 	.toolBtn\n// 		&.fvFlash\n// 			color #000 !important\n// 		&:hover\n// 			color #fff\n// 			color #d0d0d0\n\nbody.showTutorial\n\n	#nuAddSecBtn\n	.toolBtn:not(.theme)\n		pointer-events none\n	.toolBtn.theme\n		&:hover\n			background transparent !important\n		&.fvFlash\n			cursor pointer !important\n			&:hover\n				color #000000 !important\n				background #ccc !important\n\n\n@media screen and (max-height:765px)\n\n	.toolBtnText\n		display none !important\n	.showTutorial\n		.toolBtn\n			&:hover\n				.toolBtnText\n					display none !important\n	.toolBtn\n		height 52px !important\n		&.active\n			margin 3px 0px 4px !important\n			height 45px !important\n			.toolIcon\n				top -0.1em !important\n			&:hover\n				.toolBtnText\n					display none !important\n		&:hover\n			.toolBtnText\n				position absolute\n				left 50%\n				transform translateX(-50%)\n				bottom -5px !important\n				display block !important\n		.toolClose\n			display none !important\n\n	body.finetune\n		#nuTool\n			#nuPlanBtns\n				.toolBtn\n					&.active\n						.toolIcon\n							top -0.155em !important\n							&:first-child\n								top -0.4em !important\n					&.account\n						margin-top 0em\n						padding 0px !important\n						height 65px !important\n						padding-top 10px !important\n\n@media screen and (max-height:580px)\n	/*\n	#nuToolBtns\n		.toolBtn\n			&:not(:first-child)\n				display none\n	*/\n	#nuPlanBtns\n		.toolBtn\n			//&:nth-child(-n+3)\n			//	display none\n			&.account\n				display block\n			&.util\n				display block\n	.showTutorial\n		#nuTool\n			&.topOpen\n			&.bottomOpen\n				/*#nuToolBtns\n					.toolBtn\n						&:not(:first-child)\n							display none !important*/\n				#nuPlanBtns\n					.toolBtn\n						//&:nth-child(-n+3)\n						//	display none !important\n						&.account\n							display block !important\n\n\n	#nuTool\n		&.topOpen\n			#nuToolBtns\n				.toolBtn\n					display block\n		&.bottomOpen\n			#nuPlanBtns\n				.toolBtn\n					display block\n		#nuToolBtns\n		#nuPlanBtns\n			.toolBtn\n				height 42px !important\n				&.active\n					margin 0px 0px 0px !important\n					height 40px !important\n				&:hover\n					.toolBtnText\n						background rgba(255, 255, 255, 0.8)\n						z-index 2\n						padding 2px 2px 1px\n						bottom 6px !important\n						border-radius 5px\n						color rgb(0, 0, 0)\n\n	.finetuneOpen\n		#nuTool\n			#nuToolBtns\n				.toolBtn\n					display block\n			/*\n			&.bottomOpen\n				#nuToolBtns\n					.toolBtn\n						&:not(:first-child)\n							display none\n									*/\n	.toolsOpen\n		#nuTool\n			#nuPlanBtns\n				.toolBtn\n					display block\n\n\n\n\n\n.showTutorial\n	#nuTool\n		#nuToolBtns\n		#nuPlanBtns\n			.toolBtn\n				cursor default\n				&:hover\n					color #AAA\n\n\nbody\n	#planning-tools\n		#planningToolsNav\n			&.rsvp\n				// FOR ATTENDEES PLANNING TAB\n				display none\n\n			#emailSendSubNav\n			#planSubNav\n				display none !important\n			#rsvpTabSections\n				.litesaver-wrap\n					.litesaver\n						.save\n							width auto\n							margin-right 1px !important\n							.cancel-rsvp-settings\n								margin-right 7px !important\n			&.settings\n				#rsvpTabSections\n					display block !important\n			&.rsvp\n				display block !important\n				#responseSubNav\n					display inline-block !important\n					.refresh-responses\n						font-size 19px\n						position absolute\n						left 113px\n						top 21px\n						&:before\n							content ''\n							position absolute\n							top 0px\n							left 0px\n							width 30px\n							height 30px\n							background #E4E4E4\n							border-radius 100%\n							padding-right 0px\n						i\n							color #808080\n							position relative\n							z-index 1\n							margin-left 6px\n							top -1px\n						&:hover\n							&:before\n								background green\n							i\n								color #fff\n				#rsvpTabSections\n					display none !important\n			&.invite\n				#emailSendSubNav\n					display block !important\n			&.plan\n				#planSubNav\n					display block !important\n			// Styles for guest utils\n\n			.guests-hud\n				position relative\n				top 0.8em\n				width calc(100% \\- 150px)\n				text-align right\n				float right\n				#add-to-rsvp-list\n					i:before\n						margin-right 2px\n				li\n					width 136px\n					display inline-block\n					margin 0 5px\n					text-transform none\n				.pill\n					border 1px solid #afaeae\n					border-radius 2px\n					padding 0.3em 0em\n					color #818181\n					display block\n					font-size 12px\n					font-family 'gibsonRegular'\n					text-align center\n					&:hover\n						background #00ec8e\n						color #fff !important\n						box-shadow none !important\n						border 1px solid #00ec8e\n					&:active\n						background darken(#00ec8e, 50%)\n						color darken(white, 50%)\n						border-color darken(#00ec8e, 50%)\nbody\n	&.settingsOpen\n		#simple-modal-wrap\n			width calc(100% \\- 92px)\n	#planning-tools\n		.attending-left\n			padding-left 0\n			.guests-hud:not(.waitlistActive)\n				.btnWrapLeft\n					float left\n					left 50%\n					position relative\n					transform translateX(-50%)\n					.messagingLink\n						margin-left 0px !important\n						width 100% !important\n		.responses-right\n			padding-right 0\n			.ticketTotals:not(.hasAwaiting)\n				.btnWrapLeft\n					float left\n					left 50%\n					position relative\n					transform translateX(-50%)\n					.awaiting-wrap\n						margin-left 0px !important\n						width 100% !important\n\n			.rightWrap\n				li.w50\n					width 50%\n\n\n#topFinetune\n	padding 6px 12px\n	font-family 'gibsonSemibold'\n	border-bottom 1px solid #EEE\n	font-size 14px\n	.closeFinetune\n		cursor pointer\n		display inline\n		&:before\n			content '\\2716'\n			float right\n			color #b2b2b2\n		&:hover\n			&:before\n				color #f00\n\n#fineTuneForm\n	padding-top 0 !important\n\n.finetuneOpen\n	&.advMode\n	&.designerMode\n		#finetune-block\n			#allSectionsContain\n				&.open\n					padding 0\n\n.finetuneOpen\n	#finetune-block\n		#allSectionsContain\n			overflow-y auto !important\n			overflow-x hidden\n			padding-bottom 10px\n			#finetune-layout-contain\n				.grp-wrapper:hover > .delete-section\n					display none !important\n	.sorting\n		.appearance\n			opacity .5\n			cursor default !important\n			.mainCard\n				height 28px\n				background #dbdbdb !important\n				cursor default !important\n				position relative\n				&:after\n					font-family Shifticons1719\n					font-style normal\n					font-weight normal\n					vertical-align baseline\n					text-decoration inherit\n					-webkit-font-smoothing antialiased\n					content ''\n					position absolute\n					top 4px\n					right 22px\n					text-align right\n					color rgba(85, 85, 85, 0.51)\n					display block\n					width 100%\n					font-size 1.3em\n				&.is-hidden\n					opacity 1 !important\n				.cardHead\n					line-height 31px\n					cursor default !important\n					> span\n						left 0em !important\n					.nu-checkbox\n						margin-left -3.5em !important\n						line-height 29px\n\n.design-link-wrap\n	position fixed\n	left 0\n	top 100px\n	background #fff\n	color #000\n	z-index 2\n	box-shadow 0 0 0 1px #000, 2px -2px 0 2px rgba(0,0,0,0.1)\n	border-radius 5px 5px 0 0\n	transform rotate(90deg)\n	transform-origin 0 100%\n	transition left .3s\n	display none\n	.opt\n		display inline-block\n		padding 4px 8px\n		float left\n		cursor pointer\n		&:hover\n			background #191919\n			color white\n		&:first-child\n			border-radius 5px 0 0 0\n		&:last-child\n			border-radius 0 5px 0 0\n\n	#preview-link\n		color #000\n		i\n			position relative\n			top 3px\n		&:hover\n			color white\n\n	#settings-link\n		i\n			position relative\n			left 3px\n\n	#preview-link\n	#settings-link\n		#newTip\n			top -90px\n			left -38px\n			transform rotate(-90deg)\n			&:before\n				border-right 8px solid #303030\n				border-top 8px solid transparent\n				border-bottom 8px solid transparent\n				left -15px\n				top 5px\n	#preview-link\n		padding-left 12px !important\n		padding-right 1px !important\n\n	.close-txt\n		display none\n	&.active\n		left 22.6em\n		box-shadow 0 0 0 1px #888, 2px -2px 0 2px rgba(0,0,0,0.1)\n		#design-link\n			span\n				display none\n			span.close-txt\n				display inline-block\n				// width 65px\n\n.toolsOpen\n	.design-link-wrap\n		.opt\n			border-right 1px solid transparent\n\n@media (max-width:1050px)\n	#planningToolsNav\n	#ultimate-block-wrap\n		width 90% !important\n\n	#email-design-sidebar\n		width 254px !important\n\n@media (max-width: 958px)\n\n	#all-themes-contain\n		.theme-option\n			width 100% !important\n\n	body\n		#finetune-sections\n			#fontComboContain\n				height 120px !important\n		&.designerMode\n			#finetune-sections\n				#fontComboContain\n					height 210px !important\n		&.editFonts\n			#finetune-sections\n				#fontComboContain\n					height auto !important\n\n	#fineTuneForm\n		padding-top 15px\n	#nuToolTop\n		padding 0 0px\n	#customSwatch\n		.sp-sm\n			.spectrum-input\n			.sp-preview\n				width 52px !important\n				height 52px !important\n		.swatch-wrap\n			left -9px\n			top 14px\n			.swatch-item\n				left -0.1em !important\n				.w1-5\n					width 18.2%\n	body.finetuneOpen\n		#splash-container\n			width calc(100% \\- 17.4em \\- 92px) !important\n\n\n	.email-head\n		input\n			width 80% !important\n\n	// #save-details-design\n	// 	right 4.5em !important\n	// 	width 206px !important\n\n	// .in-progress\n	// 	#save-details-design\n	// 		right 4.5em !important\n\n	// .changes-saved\n	// 	#save-details-design\n	// 		right 4.5em !important\n\n\n// Nudge the link when screen reduces width\n@media (max-width: 29.938em)\n	.design-link-wrap.active\n		right -6.25em\n\n\n.event-bg-url\n	cursor default !important\n	&.loading\n		opacity 0.6\n		&:after\n			background url('/images/nu-loader/nu-loader-sprite.png')\n			width 98px\n			height 98px\n			position absolute\n			top 50%\n			left 50%\n			display none\n			margin-left -64px\n			margin-top -64px\n			background-position-y 206px\n			content ''\n			display block\n			animation rotate 0.8s linear infinite\n		.main-area\n			display none !important\n\n////\n/// Inline editing\n//\n\n// @edittools\n.core-edit-tools\n.edit-tools\n	.edit-tools-layout\n		&:before\n			content ''\n			position absolute\n			top 100%\n			left 0\n			width 100%\n			height 3px\n\n\n// .core-edit-tools\n// .edit-tools\n// 	&.topofpagerotate\n// 		bottom auto !important\n// 		top 100%\n// 		// margin-top 6px\n// 		margin-bottom 0\n// 		&:before\n// 			top auto\n// 			bottom 100%\n// 		&:after\n// 			border-top none\n// 			border-bottom 10px solid #101010\n// 			margin-top 0\n// 			margin-bottom -4px\n// 			top auto\n// 			bottom 100%\n\n\n// showing layout-jump v.s. column-switch\n.element\n	.layout-jump\n		display inline-block !important\n	.column-switch\n		display none !important\n	&.container-ele\n		> .edit-tools\n			.layout-jump\n				display none !important\n		> .column-switch\n			display inline-block !important\n\n//\n// For locking elements at the theme level\nbody.finetune\n	.locked-full\n	[lock=\"full\"]\n		pointer-events none\n		.edit-tools\n		.core-edit-tools\n			display none !important\n		.element\n			.edit-tools\n			.core-edit-tools\n				display none !important\n				&:after\n					display none\n		&:hover\n			cursor default\n		> div:hover\n			background none !important\n		.children\n			> div:hover\n				background none !important\n\n	.locked-partial\n	[lock=\"partial\"]\n		.element >\n			.edit-tools\n			.core-edit-tools\n				.delete\n				.delete-jump\n					display none !important\n\n.parentWrap\n	&:hover\n		.parent-tools\n			opacity 1\n			left 50%\n			transform translateX(-50%)\n\n// Show some tools when hovering\n// on .editable items\n// @edittools\n// @eleutils\n\ndiv[id^=\"g-\"]\n	// &.event-bg-url\n	// .element\n	&.flipToolsDown\n		> .core-edit-tools\n		> .edit-tools\n			.edit-tools-layout\n				bottom auto !important\n				top 100% !important\n\n	.core-edit-tools\n	.edit-tools\n		.edit-tools-layout\n			position absolute\n			opacity 0\n			//transition opacity .2s linear\n			user-select none\n			cursor pointer\n			bottom 100%\n			left -10000px\n			white-space nowrap\n			text-align center\n			font-size 16px\n			width auto\n			line-height 1em\n			margin-bottom 3px\n\n			// 2.OH\n			z-index 1\n			.inner\n				margin 0 auto\n				float left\n				width 100%\n				background #171717\n				border-radius 2px\n				overflow hidden\n				div\n					color #fff\n					display inline-block\n					width auto\n					font-size 15px\n					padding 12px\n					letter-spacing normal\n					line-height normal\n					&:hover\n						color #fff !important\n						background #575757\n						&.delete\n						&.delete-jump\n							background #ff3300\n							color #fff !important\n					&:active\n						opacity .7\n						transition none\n					// Hide the tiptips\n					// TODO hide inline labels and bring em\n					// back when small window\n					.nu-tiptip\n						display none\n\n			&.compact\n				.inner\n					.inline-label\n						display none\n\n\n		&.noBG\n			#changeHeaderInline\n				border-radius 8px\n			#changeBgInline\n				display none !important\n\n\n		// For anything else that's finetune only\n		.ft\n			display none\n		.sw:hover .sh\n		.sh:hover .sh\n			opacity 0\n			pointer-events none\n\n\n#hdr-tools\n.hdr-tools\n	border 2px solid #222222\n	background #fff\n	color #9B9B9B\n	font-size 0.7em\n	position absolute\n	top 1em\n	left 1em\n	letter-spacing .1em\n	font-family 'gibsonSemiBold'\n	text-align center\n	opacity .6\n	> div\n		position relative\n		letter-spacing .02em\n		padding 0.5em 1.5em\n		text-transform uppercase\n		float none\n		display inline-block\n		bottom auto !important\n		top auto !important\n		&:before\n			content ''\n			display inline-block\n			width 1.6em\n			height 1em\n			background #222\n			margin-right 0.5em\n			position relative\n			top .1em\n			box-shadow 0 0 0 1px inset, 0 0 0 2px #fff inset\n			border-radius 2px\n		&.editHead\n			&:before\n				background #222\n\n		&.editBG:not(.editHead)\n			&:before\n				background #fff\n				box-shadow 0 0 0 2px inset\n			&:after\n				content ''\n				position absolute\n				width 2px\n				border-radius 2px\n				height 1em\n				top 50%\n				right 100%\n				transform translateY(-50%)\n				background #222222\n		&:hover\n			color #222222\n\n.hdr-tools\n	position relative\n	float left\n	width 100%\n	display block\n	border-top none\n	margin-bottom 2em\n	top 0\n	left 0\n	background #FAFAFA\n	border none\n	collapsed #abaaaa\n	> div.editBg:before\n		background #fafafa\n		box-shadow 0 0 0 1px inset\n		color #a6a5a5\n	> div.editBg:after\n		display none\n	> div.editHead:before\n		background #a6a5a5\n		color #a6a5a5\n\n\n.hdr-tools\n	> div.editBG:not(.editHead):before,\n	.hdr-tools > div.editBG:not(.editHead):before\n		box-shadow 0 0 0 1px #C0C0C0 inset\n		top 2px\n		position relative\n		background #fafafa\n	> div.editBG:not(.editHead):after,\n	.hdr-tools > div.editBG:not(.editHead):after\n		display none\n\n// .hovering.the-focus\n.hovering\n	#hdr-tools\n		display inline-block\n		z-index 1\n		opacity 1\n\n#cropAnyPhoto\n	.image-tip\n		display none\n	&.editBG\n	&.editHead\n		.image-tip\n			display block\n\n//\n// Edit tools for images\n.media\n	.img-utils\n		z-index 0\n		background rgba(0,0,0,.3)\n		border-radius 4px\n		opacity 0\n		font-size 16px\n		color #000\n		&:hover\n			opacity 1\n		.editExistingImg\n			border-radius 30px\n			width 80%\n			line-height 1em\n			border none\n			box-shadow none\n			background none\n			color #fff\n			letter-spacing .15em\n\n		> div\n			position absolute\n			width 100%\n			left 0\n			line-height 1em\n			text-shadow none\n			letter-spacing normal\n			&.addImage\n			&.removePlaceholder\n				span.nu-btn\n					.small\n						display none\n			&.addImage\n				top 50%\n				left 0\n				margin-top -1.5em\n				span.nu-btn\n					background #64BD87\n					border none\n					box-shadow none\n					border-radius 30px\n					color #FFF\n					text-transform none\n					width 80%\n					min-width 113px\n					display inline-block\n					font-size 18px\n					transition all .15s linear\n					&:hover\n						background rgba(100, 189, 135, 0.48)\n						box-shadow 0 0 0 2px #64BD87 inset\n			&.removePlaceholder\n				bottom 10%\n				span.nu-btn\n					background #EA355D\n					text-transform none\n					color #FFF\n					border-radius 30px\n					font-size 1em\n					transition all .15s linear\n					font-size 18px\n					width 60%\n					min-width 113px\n					display inline-block\n					&:hover\n						background rgba(234, 53, 93, 0.48)\n						box-shadow 0 0 0 2px #EA355D inset\n\n.is-placeholder\n	.editExistingImg\n		text-indent -10000px\n		&:after\n			content 'ADD IMAGE'\n			position absolute\n			text-indent 0\n			left 0\n			width 100%\n			text-align center\n\n\n.nu-circle\n	.media\n		.img-utils\n			border-radius 100%\n\n// .is-placeholder\n// 	.media\n// 		.img-utils\n// 			opacity 1\n\n.compact-img-util\n// some temp classes for legacy themes\n.main-sidebar\n.details-wrap\n	.media\n		.img-utils\n			> div\n				.nu-btn\n					padding 0 !important\n					width 50px !important\n					height 50px\n					min-width 0 !important\n					line-height 50px\n				.big\n					display none\n				.small\n					display block !important\n\n.super-compact-img-util\n	.media\n		.img-utils\n			> div\n				.nu-btn\n					padding 0 !important\n					width 32px !important\n					height 32px\n					min-width 0 !important\n					line-height 32px\n				.big\n					display none\n				.small\n					display block !important\n			.removePlaceholder\n				margin-left -8px !important\n				width auto !important\n				bottom 24% !important\n			.addImage\n				margin-left 50px !important\n				width auto !important\n				margin-top -16px !important\n\n@keyframes jellySlap\n	0%\n		transform scale(.9)\n	25%\n		transform scale(1.1)\n	60%\n		transform scale(.95)\n	100%\n		transform scale(1)\n\n//@2.Oh\n// #host-img-block-wrap\n// 	.img-utils\n// 		background rgba(0, 0, 0, 0.8)\n// 		opacity 0\n// 	&:hover\n// 		.img-utils\n// 			opacity 1\n// 			transition opacity 0s linear\n// 			background rgba(0, 0, 0, 0.8)\n// 			&:active\n// 				background rgba(255,255,255,.8)\n\n#drop-placeholder\n	display inline-block\n	height 40px\n	background #eee\n	box-shadow 0 0 0 2px #ddd inset\n\n//\n// Rel for layout groups\ndiv[id^=\"g-\"]\n	position relative\n\ndiv[id^=\"g-\"].abs\n	position absolute\n\n\n//// This breaks the Invite Section Email editor.\n//body.toolsOpen\n//	.mce-tinymce-inline\n//		display none\n\n.style-drop\n	position fixed\n	top 46px\n	left 50%\n	margin-left 50px\n	background-color #FFF\n	border-top-left-radius 4px\n	border-top-right-radius 4px\n	border-bottom-right-radius 4px\n	border-bottom-left-radius 4px\n	padding 0.5em 0.5em 1em\n	z-index 100\n	width 300px\n	box-shadow 0 0 0 1px #000\n	color #000\n	&:after\n		content ''\n		border-top 1px solid #000\n		border-right 1px solid #000\n		width 8px\n		height 8px\n		background #FFF\n		position absolute\n		bottom 100%\n		left 50%\n		margin-bottom -4px\n		transform rotate(-45deg)\n	.text-shadow-color\n		width 55px\n		height 55px\n\n#rteTextShadowPicker\n	&.style-drop\n		margin-left -56px\n	.text-shadow-color\n		width 55px\n		height 55px\n		left 10px\n		top 34px\n		border-radius 100%\n	.sp-replacer\n		width 55px\n		height 55px\n		border-radius 100%\n		top 34px\n		left 10px\n		position relative\n		display block\n		.sp-preview\n			height 100%\n			border-radius 100%\n			.sp-preview-inner\n				border-radius 5px\n	.slideParentWrap\n		width 85%\n		.slider\n			width 95%\n		.slideText\n			font-family 'gibsonLight'\n			font-size 12px\n		.sliderInput\n			width 24px\n			top -12px\n			position relative\n			left 26px\n			height 20px\n\n\n#rteTextSpacingPicker\n	&.style-drop\n		padding-top 1em\n		padding-bottom 0.5em\n		padding 1em 0 0.7em 1.6em\n		margin-left -19px\n	.slideContain\n		width 98%\n		.slideText\n			font-family 'gibsonLight'\n			font-size 14px\n		.sliderInput\n			width 28px\n			height 23px\n			left -17px\n\n.finetuneOpen\n	#rteTextShadowPicker\n		&.style-drop\n			margin-left -196px\n	#rteTextSpacingPicker\n		&.style-drop\n			margin-left -159px\n\n.mce-tinymce-inline\n	position fixed !important\n	top 8px !important\n	left 0px !important\n	z-index 2 !important\n	border-radius 0 0 0 3px !important\n	//background #f8f8f8 !important\n	transition top .15s linear\n	width calc(100% \\- 92px) !important\n	.mce-container-body\n		border-radius 0 0 4px 4px !important\n	.mce-stack-layout\n		background #fff !important\n		margin 0 auto !important\n		text-align center\n		.mce-panel\n			margin 0 auto !important\n			position relative !important\n\n.finetuneOpen\n	.mce-tinymce-inline\n		left -10em !important\n		pointer-events none\n\n\n// .grp.top\n// 	.element-subtitle\n// 	.element-title\n// 		.core-edit-tools\n// 			.edit-tools-layout\n// 				bottom 0px !important\n// 				transform translateY(100%)\n\n// .mce-menu\n// 	position fixed !important\n// 	top 38px !important\n// 	margin-left 50% !important\n\nbody.sizeMenu\nbody.alignerMenu\n	.mce-menu\n		width 5em !important\n		top 35px !important\nbody.sizeMenu\nbody.fontFamilyMenu\n	.mce-menu\n		top 35px !important\n		.mce-menu-item\n			.mce-ico\n				display none !important\n\nbody.alignerMenu\n	.mce-menu\n		.mce-menu-item\n			.mce-text\n				display none\n\n\n// body.fontFamilyMenu\n// 	.mce-menu\n// 		left -186px !important\n// 	&.finetuneOpen\n// 		.mce-menu\n// 			left -326px !important\n\nbody.lineHeightMenu\n	.mce-menu\n		left -40px !important\n	&.finetuneOpen\n		.mce-menu\n			left -180px !important\n\n// body.alignerMenu\n// 	.mce-menu\n// 		left 0px !important\n// 	&.finetuneOpen\n// 		.mce-menu\n// 			left -140px !important\n\n\nbody.editWithMCE\n	.mce-tinymce-inline\n		top 8px !important\n	#hdr-tools\n		display none\n\n.mce-floatpanel\n	&.mce-menu\n		padding 0px !important\n		position fixed !important\n		float left\n		top 170px !important\n	.mce-menu-item\n		padding 5px 15px 5px 12px !important\n		line-height 8px !important\n\n.mce-floatpanel\n	.mce-menu-item\n		&.mce-fontFamItem\n			.mce-text\n				font-family inherit\n				font-size 12px !important\n\n\n.mce-container-body\n	margin 0 auto !important\n\n\n@keyframes rotateCC\n	0%\n		transform rotate(0deg)\n	100%\n		transform rotate(-360deg)\n//\n// When editing is active\n\n\n.finetune\n	#splash-container\n\n		div[id^=\"g-\"]\n			&.abs\n				position absolute !important\n			&.editing\n				.element\n					> .core-edit-tools\n					> .edit-tools\n						.edit-tools-layout\n							display none\n\n			.element-rsvp\n				&:active\n				&:hover\n					transform none\n				.edit-tools-layout\n					min-width 100% !important\n					.rsvp-picker-wrap\n						padding 0\n						.rsvp-color-wrap\n							&:hover\n								background transparent !important\n						.rsvp-bg-wrap\n							&:hover\n								background transparent !important\n\n					.inner\n						> div\n							float left\n						.rsvp-picker-wrap\n							float right\n							margin-right 16px\n							padding 0 !important\n				.core-edit-tools\n					.edit-tools-layout\n						width auto !important\n						max-width none !important\n						.rsvp-picker-wrap\n							float none\n							width 70px !important\n							margin-left -10px\n				.delete\n					display none !important\n			#element-social-links\n				.core-edit-tools\n					.edit-tools-layout\n						.delete-jump\n							.inline-label\n								display block !important\n							&:hover\n								.inline-label\n									display none !important\n			&.hovering\n			&.editing\n				position relative\n				transition none !important\n\n				&.element-title\n				&.element-subtitle\n					z-index 2\n\n				#element-where-tbd\n				#element-when-time\n				.element-when-time\n				#element-when-month\n					cursor pointer !important\n				&.layoutGrp\n					cursor default\n					h1\n					h2\n					h3\n					h4\n					h5\n					p\n					span\n					#host-intro-text\n					#element-host-name\n					#event-description-text\n						cursor text\n					&.element-when-day\n					&.element-when-day span\n					&.element-when-time\n					&.element-when-time span\n					&.element-when-month\n					&.element-when-month span\n					.imgEditTools\n					.imgEditTools span\n						cursor pointer\n					&.element-when-month\n						background-color rgba(255, 255, 255, .2) !important\n\n					.addNewItem\n					.addNewItem span\n					.core-edit-tools\n					.core-edit-tools span\n					.core-edit-tools .inner > div\n					.edit-tools .inner > div\n					.core-edit-tools .inner > div span\n					.edit-tools .inner > div span\n						cursor pointer !important\n\n					#element-where-venue\n					.venue-address\n					.venue-city\n					.venue-state\n					#element-where-zip\n						cursor pointer\n\n					#element-hash\n					#element-hash .hashLink\n						cursor text\n\n				&.firstTiny\n					background none !important\n\n				// @hovers\n				// .element\n				// 	> .edit-tools\n				// 	> .core-edit-tools\n				// 		opacity 1\n				// 		left 50%\n				// 		transform translateX(-50%)\n				// 		width auto\n				// 		max-width 100%\n				// 		right auto\n				// 		bottom 100%\n\n				#element-title\n				#element-subtitle\n					h1\n					h2\n						span\n							min-width 100%\n							min-height .7em\n					.core-edit-tools\n						.move\n							display none\n\n				// @hovers\n				// 2.OH\n				// .ft\n				// 	display block\n\n			// @hovers\n			// &.element-title\n			// &.element-subtitle\n			// 	&.hovering\n			// 	&.editing\n			// 		.element\n			// 			> .core-edit-tools\n			// 			> .edit-tools\n			// 				bottom 100%\n\n			&.headerHover\n				position relative\n				// background-color #101010\n				// color #fff\n				transition none\n				// z-index 1\n				// cursor pointer\n				// border-radius 4px\n				> .edit-tools\n				> .core-edit-tools\n					opacity 1\n					left 0\n\n			.element\n				.editable:focus\n					outline none\n					cursor text\n				.children\n					.edit-tools\n						margin-bottom 3px\n						opacity 0\n						left -10000px\n						bottom 100%\n						z-index 1\n						position absolute\n						.inner\n							background #929191 !important\n							border-radius 2px\n							width auto\n							float left\n							&:before\n								content ''\n								position absolute\n								top 100%\n								left 0\n								width 100%\n								height 3px\n							div\n								font-size 12px\n								padding 8px\n								width auto\n								float left\n								color #fff\n								&:hover\n									background darken(#929191, 30%) !important\n								&.delete\n									background #f06168 !important\n					> div:hover\n					> li:hover\n						// position relative\n						// background rgba(0,0,0,0.1)\n						// background rgba(0,0,0,0.1)\n						// box-shadow 0 0 0 1px #929191 inset\n						> .edit-tools\n							opacity 1\n							left 0\n							.inner\n								&:hover\n									background darken(#929191, 30%)\n\n\n				.qq-uploader\n					.qq-upload-drop-area\n						right 0\n						top 0\n						width 100%\n						height 99px\n						z-index 2\n					.qq-upload-button\n						border 1px dashed #000\n						&:hover\n							background rgba(0,0,0,.2)\n					.qq-upload-list\n						.progress-bar\n							right 0\n							width 100%\n							top 44px\n							background #DDD\n							border-radius 20px\n							overflow hidden\n							box-shadow none\n							.progress\n								width 50%\n								position absolute\n								left 0\n								top 0\n								background #06DEEF\n								height 100%\n\n.layoutGrp\n	.addUnder\n		position absolute\n		top 100%\n		left 0\n		width 100%\n		width calc(100% \\- 2px)\n		padding 0\n		display none\n		transform translateY(-50%)\n\n		// 2.OH\n		z-index 2\n\n		// 2.OH\n		// &.editTicker\n		// 	border-radius 4px !important\n		// 	padding 0px 50px !important\n		// 	margin-left -54px !important\n		span\n			display inline-block\n		.context\n			display none\n			opacity 1\n			cursor pointer\n\n			&.addItem\n				background #7ec479\n				position absolute\n				border-radius 2px\n				width auto\n				height 34px\n				line-height 34px\n				top 50%\n				left 50%\n				color #fff\n				font-size 11px\n				padding 0 1em\n				letter-spacing .1em\n				font-family 'gibsonSemibold'\n				text-transform uppercase\n				transform translateX(-50%) translateY(-50%)\n				&:hover\n					background darken(#7ec479, 30%)\n\n			&.addElement\n				background #464646\n				position absolute\n				border-radius 0 0 2px 2px\n				width 28px\n				height 28px\n				top 0\n				left 0\n				margin-top 4px\n				&:before\n					position absolute\n					font-size 11px\n					top 50%\n					left 50%\n					transform translateX(-50%) translateY(-50%)\n					color #fff\n				&:hover\n					background lighten(#464646, 30%)\n	&.hovering.the-focus\n		> .edit-tools > .addUnder\n			display block\n\n// context for add item\n[block-type=\"speakers\"]\n	> .edit-tools\n		.addUnder\n			.context\n				&.addNewItem\n					&:after\n						content ' a Speaker'\n[block-type=\"images\"]\n	> .edit-tools\n		.addUnder\n			.context\n				&.addNewItem\n					&:after\n						content ' an Image'\n[block-type=\"schedule-list\"]\n	> .edit-tools\n		.addUnder\n			.context\n				&.addNewItem\n					&:after\n						content ' a Schedule Item'\n[block-type=\"list\"]\n	> .edit-tools\n		.addUnder\n			.context\n				&.addNewItem\n					&:after\n						content ' an Item'\n\n.layoutGrp\n	//&.p-grp\n	> .edit-tools .addUnder\n		.context\n			&.addElement\n				display block\n			&.addItem\n				display none\n\n	&.has-items\n		> .edit-tools\n			.addUnder\n				.context\n					&.addElement\n						display none\n					&.addItem\n						display block\n\nbody\n	&.advMode\n		.layoutGrp\n			//&.p-grp\n			&.flipToolsDown\n				> .edit-tools .addUnder\n					.onPageAddSec\n						top 100%\n						margin-top 43px\n			> .edit-tools .addUnder\n				height 5px\n				left 1px\n				border-bottom 1px solid #464646\n				&:hover\n					border-bottom-color lighten(#464646, 30%)\n				&:before\n					context ''\n					position absolute\n					bottom 100%\n					left 0\n					height 3px\n\n////\n/// The @boxmodel for hovers\n//\n\n.box-model\n	content ''\n	position absolute\n	width 100%\n	height 100%\n	top 0\n	left 0\n	box-shadow 0 0 0 .1em #f6a57c inset\n	pointer-events none\n	font-size 16px !important\n	display none\n	span\n		opacity .2\n		// display none\n		&.box-padding\n			color #7AFF97\n			top .1em\n			left .2em\n			width calc(100% \\- .2em)\n			height calc(100% \\- .2em)\n		&.box-margin\n			color #FF003D\n\n.layoutGrp .edit-tools .box-model\n	box-shadow 0 0 0 .1em #44fffe inset\n.layoutGrp.element\n	> .edit-tools .box-model\n		box-shadow 0 0 0 .1em #f6a57c inset\n\n// show the most hovered\n#splash-container:hover\n	.layoutGrp:not(.the-focus)\n		.box-model\n			opacity .3 !important\n\n	.layoutGrp.the-focus\n		.box-model\n			opacity 1 !important\n\n//\n// @hovers helpers\n\n//\n// Don't show edit tools for event-body ele\n.layoutGrp.event-body\n	> .edit-tools\n		display none !important\n\n///\n// when hovering in tool\ndiv[id^=\"g-\"]\n	&.hovering\n	&.editing\n		// &.p-grp\n		// > .element\n		// > .core-edit-tools\n		> .edit-tools\n			.edit-tools-layout\n				display none\n		&.mega-location-wrap:hover > .edit-tools .box-model\n		&.mega-date-wrap:hover > .edit-tools .box-model\n			display none\n		> .edit-tools .box-model\n			display block\n			span\n				display none\n\n// only show margin-padding box-modal in advMode\n.advMode\n.designerMode\n	div[id^=\"g-\"]\n		&.hovering\n		&.editing\n			> .edit-tools .box-model\n				span\n					display block\n\n\n// for columns\n.drop-area\n	&.hovering\n		> .edit-tools\n			.edit-tools-layout\n				display none\n		> .edit-tools .box-model\n			display block\n			span\n				display block\n\n///\n// when hovering on page\n#splash-container:hover\n	div[id^=\"g-\"]\n		&.hovering.the-focus\n			> .core-edit-tools\n			> .edit-tools\n				.edit-tools-layout\n					display block\n					opacity 1\n					left 0\n					width auto\n					white-space nowrap\n					right auto\n					bottom 100%\n\n		&.hovering\n			&.mega-location-wrap > .edit-tools .box-model\n			&.mega-date-wrap > .edit-tools .box-model\n			// > .element > .edit-tools .box-model\n			> .edit-tools .box-model\n				display block\n				span\n					display none !important\n\n		&.editing\n			> .edit-tools\n				.edit-tools-layout\n					display none\n\n\n\n/* BASIC MODE - MEGA EDITOR */\nbody.finetune\n	&:not(.advMode)\n	&:not(.designerMode)\n		#splash-container:hover\n			div[id^=\"g-\"]\n				&.hovering.the-focus\n					> .core-edit-tools\n					> .edit-tools\n						.edit-tools-layout\n							width auto\n							background transparent\n							left 0\n							margin-bottom 3px\n							.inner\n								margin 0 auto\n								width auto\n								background #171717\n								border-radius 2px\n								overflow hidden\n								display inline-block\n								div\n									position relative\n									font-size 22px\n									padding 10px 17px 22px\n								.inline-label\n								.inline-state\n									width 100%\n									left 0px\n								.inline-label\n									display inline-block !important\n								.inline-state\n									display none !important\n								div\n									&:hover\n										.inline-state\n											display inline-block !important\n										.inline-label\n											display none !important\n									.inline-state\n									.inline-label\n										bottom 5px\n					&.element-rsvp\n						> .core-edit-tools\n						> .edit-tools\n							.edit-tools-layout\n								.inner\n									min-width 100%\n\n\n/*    */\n\n// for columns\n.drop-area\n	&.hovering\n		> .edit-tools\n			.edit-tools-layout\n				display none\n		> .edit-tools .box-model\n			display block\n			// span\n			// 	display none\n\n\n////\n/// @basichovers \n/// some hovers in basic mode\n//\n\nbody.finetune:not(.advMode):not(.designerMode)\n	div[id^=\"g-\"]\n			&.hovering\n				.edit-tools\n					.onPageAddSec\n						display none !important\n\n\n\nbody.finetune\n	&:not(.advMode)\n	&:not(.designerMode)\n	//\n	// these are adv\n\n		#sectionTabWrap\n			#sectionTabHead\n				display block\n				background #f0efef\n				color #414141\n				padding 0.6em 1em\n				height auto\n				&:before\n					content '\\e88a'\n					font-family 'fontello'\n					position absolute\n					top 50%\n					right 1em\n					font-size 0.8em\n					transform translateY(-50%)\n				&:after\n					display none\n				&:hover\n					background darken(#f0efef, 10%)\n\n			.contentTabTitle\n				margin-left 0\n\n			.elesWrap\n				display none\n			#finetune-layout-contain\n				display none !important\n				.section\n					left 0px\n					margin-top 0px !important\n					&.section-hidden\n						opacity 0.5\n						&:after\n							color #817F7F !important\n					.title\n						background #fff\n						color #000\n						font-family gibsonLight !important\n						letter-spacing 0.03em !important\n						height 46px !important\n						line-height 46px\n						border-bottom 1px solid #f0f0f0\n						text-align left !important\n						padding 0 1.1em !important\n						transition left 0.165s linear\n						left 0px\n						cursor default !important\n				.ele-wrapper\n					background #fff !important\n			&.open\n				#finetune-layout-contain\n					display block !important\n				#sectionTabHead\n					&:before\n						transform translateY(-50%) rotate(-180deg)\n		#sections-wrap\n			&:not(.sorting)\n				#sectionTabWrap\n					#finetune-layout-contain\n						.ele-wrapper\n							&:hover\n								.title\n									left 3.4em\n									position relative\n				#sectionTabHead\n					.contentTabDesc\n						&.drag-text\n							display none !important\n			&.sorting\n				#allSectionsContain\n					cursor default\n				#sectionTabWrap\n					#sectionTabHead\n						pointer-events none !important\n						cursor default !important\n						&:before\n							display none\n						.contentTabDesc\n							display none\n							&.drag-text\n								display block\n					#finetune-layout-contain\n						.title\n							background #d5e5cd !important\n							color #fff !important\n							border-bottom 1px solid #fff !important\n							cursor ns-resize !important\n							&:hover\n								background darken(#d5e5cd, 50%) !important\n						#ftg-draghelper\n							cursor ns-resize !important\n							.title\n								background transparent !important\n						.ele-wrapper\n							&.the-placeholder\n								.title\n									background darken(#d5e5cd, 50%) !important\n						.hide-sec-btn\n							display none !important\n\n				#basicsTabWrap\n				#buttonTabWrap\n					opacity 0.45\n					pointer-events none\n					cursor default !important\n					.contentTabHead\n						&:before // LOCK ICON\n							content '\\E8BF'\n\n			// show the mega-*-wrap utils always when .hovering\n			// hide the children hovers for date and time\n			&.mega-location-wrap\n			&.mega-date-wrap\n				&.hovering\n					> .edit-tools .edit-tools-layout\n						display block\n						opacity 1\n						left 0\n						width auto\n						white-space nowrap\n						right auto\n						bottom 100%\n					*\n						.edit-tools\n							display none !important\n						*\n							.edit-tools\n								display none !important\n\n\nbody:not(.advMode):not(.designerMode)\n	div[id^=\"g-\"]\n			&.hovering\n				.edit-tools\n					display none !important\n\nbody.designerMode:not(.advMode)\n	div[id^=\"g-\"]\n			&.hovering\n				.edit-tools\n					.addUnder\n						.onPageAddSec\n							display none !important\n\nbody.finetune:not(.advMode)\n	div[id^=\"g-\"]\n			&.editable_bg\n				&.hovering\n					.edit-tools\n						display inline !important\n					.addUnder\n						display none !important\n\n			&.mega-location-wrap .edit-tools\n			&.mega-date-wrap .edit-tools\n				display none !important\n\n			//\n			// these are basic\n			&[class*=\" element-\"]\n			&[class*=\" element-custom-block-\"]\n			&.mega-location-wrap\n			&.mega-date-wrap\n				&.hovering\n					> .edit-tools\n						display block !important\n\n						// don't show the inline ele adder\n						> .addUnder\n							box-shadow none !important\n							.onPageAddSec\n								display none !important\n				.children\n					> div:hover\n					> li:hover\n						// background rgba(0,0,0,0.1)\n						> .edit-tools\n							display block !important\n\n// @hovers hovering on list-items\n// .finetune\n// 	.hovering.the-focus\n// 		.element\n// 			.children .list-item\n// 				//&:hover:before\n// 					//content ''\n// 					//position absolute\n// 					//width 100%\n// 					//height 100%\n// 					//border 1px solid rgba(0,0,0,.1)\n// 					//left 0\n// 					//top 0\n// 					pointer-events none\n\n\n////\n///  @utilsoptions\n//\n\n// show the drag btn if inside a drop area\n.edit-tools\n	.drag-handle\n		display none !important\n\n.container-ele\n.list-item\n	.edit-tools\n		.drag-handle\n			display inline-block !important\n\n// in columns, hide column switch and clone\n.drop-area\n	> .edit-tools\n		.edit-tools-layout\n			.column-switch\n			.clone-section\n				display none !important\n\n\n// hide clone btn for p-grps\ndiv[id^=\"g-\"].p-grp\n	> .edit-tools\n		.edit-tools-layout\n			.clone-section\n				display none !important\n\n\n#list-options\n	.listName\n		.nu-dropdown\n			padding 7px 36px 0 10px\n			margin-top 6px\n			margin-left 8px\n			width 100%\n	#guestListAdder\n		margin-left 10px\n		border-radius 0\n		&.active\n			background #404040\n			color #fff\n			&:after\n				content ''\n				position absolute\n				bottom -6px\n				left 135%\n				width 0px\n				margin-left -95px\n				border-top 6px solid #404040\n				border-right 8px solid transparent\n				border-left 8px solid transparent\n	#editGuestList\n	#deleteGuestList\n		margin-left 10px\n		font-size 20px\n		color #000\n\n#search-rsvp-list\n	&::-webkit-input-placeholder {\n	   color:#ccc !important;\n	   font-family: 'gibsonRegular' !important;\n	}\n\n	&:-moz-placeholder {\n	   color:#ccc !important;\n	   font-family: 'gibsonRegular' !important;\n	}\n\n	&::-moz-placeholder {\n	   color:#ccc !important;\n	   font-family: 'gibsonRegular' !important;\n	}\n\n	&:-ms-input-placeholder {\n	   color:#ccc !important;\n	   font-family: 'gibsonRegular' !important;\n	}\n\n////\n/// THEME SWITCHING\n//  move this to the right place....\nbody\n	#splash-container\n		transition opacity .4s linear\n		opacity 1\n		position relative\n		.mega-location-wrap\n		.mega-date-wrap\n			i[show=\"hover\"]\n				display none !important\n			.inner\n				> div\n					&:hover\n						i[show=\"hover\"]\n							display block !important\n		.mainStuff\n			.layoutGrp\n				display inline-block\n				float none\n		&.finetune\n			width calc(100% \\- 92px)\n	&.loading-theme\n		#splash-container\n			opacity 0\n			pointer-events none\n	&.loading-theme\n	&.loading-page\n		.popwrap\n			display none !important\n		#nuAddSecBtn\n			display none\n	&.fake-load\n		#splashLoader\n			.event-title\n				display none !important\n\n	&.hasVidBG\n		&.showSimple\n			&.sp-dragging\n				#main-canvas\n					.vidBG\n						display none\n\n////\n/// Finetune Design Pane\n//\n\n#changeThemeBtn\n	position relative\n\n#themeSectionWrap\n	.themeSection\n		text-align center\n		background #dbdbdb\n		margin-top 15px\n		cursor pointer\n		display block\n		overflow visible !important\n		float left\n		width 100%\n		&:first-child\n			margin-top 0px\n		&.themeHead\n			padding 40px 0px\n		&.themeBody\n			padding 22px 0px\n		&.themeBack\n			padding 8px 0px\n		&:hover\n			background #969696\n			color #fff\n	.cardHead\n		transition line-height .2s linear, height .2s linear\n		text-align center\n		> span\n			font-size 14px\n			font-family 'gibsonRegular'\n\n	#header_theme_styles\n		max-height 70px\n		.cardHead\n			height 70px\n			line-height 70px\n	#body_theme_styles\n		max-height 45px\n		.cardHead\n			height 45px\n			line-height 45px\n	.mainCard\n		margin-top 15px\n		&:first-child\n			margin-top 0\n		&.expanded\n		&.forceExpand\n			cursor default\n			max-height 800px !important\n	#header_theme_styles\n		&.expanded\n			.cardHead\n				height 50px\n				line-height 50px\n\n\n#topBodyContain\n	height 149px\n	background #FFF\n	margin-top 0px\n	margin-bottom 15px\n	position relative\n	cursor pointer\n	// border 1px solid #E0E0E0\n	width 96%\n	border-radius 6px\n	font-family 'gibsonLight'\n	box-shadow 0 0 0 1px #c0c0c0 inset\n	float left\n	margin-left 1em\n	background-attachment local !important\n	width calc( 100% \\- 2em )\n	&:before\n		content ''\n		border-radius 5px\n		position absolute !important\n		top 0px !important\n		left 0px\n		height 100%\n		width 100% !important\n		background rgba(255, 255, 255, 0.3)\n		transition opacity .1s linear\n	&:after\n		content ''\n		width 90px\n		text-align center\n		display block\n		top 12px\n		color #000\n		font-size 14px\n		margin 0 auto\n		position relative\n	&:hover\n		&:before\n			opacity 0\n		&:after\n			content 'Change'\n			background rgba(0, 0, 0, 0.3)\n			border-radius 4px\n			width 140px\n			color #fff\n	&.headHover\n		&:before\n			opacity 1\n			transition none\n		&:after\n			content ''\n			color #000\n			background none\n	#topHeadContain\n		position absolute\n		width 10em\n		height 84px\n		background #fff\n		// border 1px solid #e0e0e0\n		left 50%\n		margin-left -5em\n		bottom 1em\n		cursor pointer\n		&:before\n			content ''\n			position absolute !important\n			top 0px !important\n			left 0px\n			height 100%\n			width 100% !important\n			background rgba(255, 255, 255, 0.3)\n			transition opacity .1s linear\n			box-shadow 0 0 0 1px #fff inset\n			// border-radius 4px\n		&:after\n			content ''\n			width 90px\n			text-align center\n			display block\n			top 29px\n			color #000\n			font-size 15px\n			margin 0 auto\n			position relative\n		&:hover\n			&:before\n				opacity 0\n			&:after\n				content 'Change'\n				background rgba(0, 0, 0, 0.3)\n				border-radius 4px\n				width 124px\n				color #FFF\n	&.noBG\n		&:before\n			content ''\n			position absolute !important\n			top 0px !important\n			left 0px\n			height 100%\n			width 100% !important\n			background rgba(255, 255, 255, 0.9)\n			transition opacity .1s linear\n		&:after\n			content 'Edit Header'\n			width auto\n			text-align center\n			display block\n			top 55px\n			color #555\n			font-size 22px\n			margin 0 auto\n			position relative\n			padding 10px\n		&:hover\n			&:before\n				opacity 0\n			&:after\n				background rgba(0, 0, 0, 0.3)\n				border-radius 4px\n				width 124px\n				color #FFF\n		#topHeadContain\n			display none\n\n\n#header_theme_styles\n#body_theme_styles\n	.bgTypeDropDown\n		display none\n	&.expanded\n	&.forceExpand\n		.cardHead\n			height 28px !important\n			line-height 35px !important\n			box-shadow none\n\n#changeThemeBtn\n#fontFamilySelect\n#fontColorSelect\n#customSwatch\n#sections-wrap\n	user-select none\n\n\n#editCustomColors\n	position absolute\n	top auto\n	right 0px\n	bottom 8px\n	width 84px\n	padding 0px 9px\n	z-index 2\n\n#dev-tools-btn\n	cursor pointer !important\n	display inline-block\n	width 28px\n	padding 0 !important\n	height 27px\n	line-height 27px\n	border-radius 4px\n	box-shadow 0 0 0 2px #ebebeb\n	opacity 0\n	color #828282\n	top 2px\n	span\n		font-size 1.4em\n	&:hover\n		background #ebebeb\n\n.advMode\n.designerMode\n	#finetune-block[tab=\"theme\"]\n	#finetune-block[tab=\"content\"]\n		#dev-tools-btn\n			opacity 1\n\n.advMode\n	#nuAddSecBtn\n		display none !important\n\n#nuAddSecBtn\n	width auto\n	text-transform uppercase\n	position fixed\n	left 50px\n	bottom 16px\n	padding 16px\n	font-size 22px\n	letter-spacing 2px\n	color #fff\n	border-radius 2px\n	cursor pointer\n	border 2px solid #fff\n	transform translateX(-50%)\n	background #7ec479\n	transition bottom .1s linear\n	z-index 1\n	&:hover\n		background darken(#7ec479, 30%) !important\n		//background darken( rgba(148, 148, 148, 1), 20% )\n	&.nearBottom\n		bottom 80px\n\n.customEdit\n	#editCustomColors\n		display none\n\n#themeList\n	.card-wrap\n		padding-top 60%\n		background-size 100% auto\n		background-position top center !important\n		&:before\n			content 'VIEW THEMES'\n			position absolute\n			top 50%\n			left 50%\n			padding .5em 1em\n			border-radius 50px\n			box-shadow 0 0 0 200px rgba(255, 255, 255, 0.5)\n			font-size .8em\n			letter-spacing .1em\n			border 1px solid #000\n			color #FFF\n			background rgba(0,0,0,.2)\n			text-shadow 0 1px 2px rgba(0, 0, 0, 0.4)\n			pointer-events none\n			opacity 0\n			transition none !important\n			transform translateX(-50%) translateY(-50%)\n		&:hover\n			&:before\n				opacity 1\n.editColors\n.editFonts\n	#themeList\n		display none\n\n#sections-trig\n	display none\n\n#sections-wrap\n	position static\n	max-height 2000px\n\n#sectionTabHead\n	display none\n\n#allSectionsContain\n	width 100% !important\n	margin 0 auto !important\n	float none !important\n	padding 0 0.5em\n	&.open\n		width 100% !important\n	> .is-hidden\n		overflow hidden !important\n		opacity .5\n		height 28px\n		position relative\n		&:after\n			content 'HIDDEN'\n			position absolute\n			color #444\n			top 50%\n			right 2em\n			font-size 0.6em\n			margin-top -1em\n		.cardHead\n			line-height 30px\n			height 30px\n			&:after\n				display none\n\n.contentTabWrap\n	float none\n	// width 82%\n	width 100%\n	margin 0 auto\n	overflow hidden\n	&.hovering\n		.contentTabHead\n			color pink\n	&.expanded\n		width 100%\n	.contentTabHead\n		position relative\n		margin-bottom 0.2em\n		background #979696\n		transition all .2s linear\n		&:hover\n			//background #bebebe\n			//border-color #bebebe\n			//border-radius 6px\n			//color #fff\n			//transition all 0s linear\n\n		.contentTabTitle\n			font-family 'gibsonRegular'\n			margin 0 0 0 15px\n			font-size 9pt\n			font-weight 700\n			padding 3px 0px 1px 0px\n			color #454545\n			letter-spacing .02em\n		.contentTabDesc\n			display block\n			clear both\n			font-size 12px\n			font-family 'gibsonLight'\n			top 26px\n\n	.section.ele-wrapper\n		transition all .2s linear\n\n\n	.contentTabInner\n		display none\n	.innerStuffWrap\n		display block\n		width 100%\n		height 100%\n		position relative\n		float left\n		background #FAFAFA\n		padding-top 8px\n		padding 9px\n		padding-bottom 0\n		height auto\n		border-radius 5px\n		margin-bottom 20px\n		.toggle-content.shapes\n			.content-inner\n				padding-top 0\n			.arrowLeft\n			.arrowRight\n				top 13px\n		&.shapesStuffWrap\n			margin-bottom 22px !important\n		&.bgStuffWrap\n			padding-bottom 10px\n		&.shapesStuffWrap\n		&.bgStuffWrap\n			width 100% !important\n			margin 0 auto\n			float left\n			.uiChooser\n				> div > span\n					line-height 2.3em\n					padding-bottom 4px\n					font-size 1.1em\n		.column-contain\n			> span\n				font-size 1.1em\n		.cardTitle\n			position relative\n			top 4px\n			font-size 1.1em\n			&.shapesTitle\n				position relative\n				top 0px\n				margin-bottom 0\n				height 28px\n				line-height normal\n				padding-top 8px\n\n	.customTitle\n		font-family 'gibsonSemiBold'\n\n	&.open\n		.contentTabHead\n			margin-bottom 0px\n			height 40px\n			//background #F7F7F7\n			//border-radius 4px 4px 0 0\n			//border 1px solid #E9E9E9\n			border-bottom 0\n			&:after\n				margin-top -1px\n				transform rotate(45deg)\n			&:hover\n				color #000\n				&:after\n					border-color #000\n		.contentTabInner\n			display block\n			background rgba(250, 250, 250, 0.58)\n			border-radius 0 0 6px 6px\n			border none\n			border-top none\n			border 1px solid #F0F0F0\n			border-top 0\n		#finetune-layout-contain\n			&.contentTabInner\n				border none !important\n		// .contentTabDesc\n		// 	opacity 0\n	&.expanded\n		.contentTabInner\n			border 1px solid transparent\n\n.contentTabWrap\n	#basicsTabHead\n	#buttonTabHead\n		background #f0efef\n		color #414141\n		padding 0.6em 1em\n		height auto\n		&:before\n			content '\\e88a'\n			font-family 'fontello'\n			position absolute\n			top 50%\n			right 1em\n			font-size 0.8em\n			transform translateY(-50%)\n		&:after\n			display none\n\n		&:hover\n			background darken(#f0efef, 10%)\n\n		.contentTabTitle\n			margin-left 0\n	&.open\n		#basicsTabHead\n		#buttonTabHead\n			&:before\n				transform translateY(-50%) rotate(-180deg)\n\n\n// New custom elements look\n\n#sections-wrap\n	.elesHead\n		small\n			color #8c8b8b\n			opacity 0\n			transition opacity .2s linear\n\n	.custom-eles-wrap\n		> .grp\n			text-align center\n			margin-bottom 0.2em\n			font-size .8em\n			padding 0.9em\n			font-weight 700\n			background #b1b0b0\n			color #fff\n			letter-spacing .05em\n			transition background .2s linear\n\n	&.sorting\n		.custom-eles-wrap\n			.grp\n				background #cfe9cd\n				cursor ns-resize\n		.elesHead\n			small\n				color #8c8b8b\n				opacity 1\n.linkingBtn\n	position absolute\n	bottom 10px\n	right 20px\n.juicyBtn\n	width 100%\n	border-radius 50px\n	border 2px solid #171717\n	color #171717\n	text-align center\n	position relative\n	top 0px\n	left 0px\n	font-family 'gibsonSemiBold'\n	font-size 0.9em\n	display inline-block\n	text-transform uppercase\n	letter-spacing .05em\n	transition all .1s linear\n	padding .9em\n	.juicyTxt\n		// width 0\n		// overflow hidden\n		// opacity 0\n		// transition width .1s linear .02s, color .1s linear 0\n		display inline-block\n	.icon:before\n		margin-left .2em\n		margin-right 0\n		font-size 0.7em\n		top -0.62em\n		position relative\n	&.hovering\n	&:hover\n		background #171717\n		color #FFF\n		border-color #171717\n	&:active\n		background lighten(#171717, 30%)\n		transition all 0s linear\n#nav-items-list-contain\n	.header-display\n		position relative\n		top 20px\n		left 32px\n		color #8d8d8d\n		font-size 0.8em\n	.header-linkto\n		position relative\n		top 20px\n		left 45px\n		color #8d8d8d\n		font-size 0.8em\n#nav-items-list\n#social-links-list\n	clear both\n	padding 1.5em\n	.floatRight\n		float right\n	.navLi\n		background #fff\n	.nu-dropdown.m\n		margin-top 0px !important\n		width 88% !important\n		&:after\n			content '\\e88a'\n			font-family 'fontello'\n			width auto\n			height auto\n			background none\n			margin 0\n			position absolute\n			right 0.8em\n			top 0.1em\n			color #919191\n.drk-cancel-btn\n	position absolute\n	bottom 30px\n	.cancel\n		color #000000 !important\n		text-decoration underline\n		font-size 0.8em\n\n////\n/// Default state\n//\n#addSecBtn\n	width calc(100% \\- 50px)\n	&.emptySec\n		width 100%\n	.icon:before\n		margin-right 0.6em\n	.juicyTxt\n		// transition all 0s linear\n		opacity 1\n		width auto\n\n.isScrolling\n	#addSecBtn\n		width calc( 100% \\- 62px )\n#inline-reorder-init\n	width 100%\n	display block !important\n	float left\n	display none !important\n	.icon:before\n		margin-left .5em\n	.reorder\n		display block\n	.done\n		display none\n	// &:hover\n	// 	background #171717\n	// 	border-color #171717\n	.icon:before\n		margin-right 0em\n	// &.hideReorderBtn\n	// 	display none !important\n\n.sortingStuff\n	#addSecBtn\n		width 0\n		overflow hidden\n		margin-left -1px\n		opacity 0\n	#inline-reorder-init\n		// width 100%\n		// background blue\n		// border-color blue\n		// color white\n		// left 0px\n		// .icon:before\n		// 	margin-right 0.6em\n		.juicyTxt\n			opacity 1\n			width auto\n			.reorder\n				display none\n			.done\n				display block\n\n// #inline-reorder-init\n// 	.moveIcon\n// 		display block\n// 		width 10px\n// 		height 0\n// 		position relative\n// 		top 4px\n// 		left -1px\n// 		z-index 2\n// 		box-shadow 0px 3px 0 1px #DDD,0px 7px 0 1px #DDD, 0px 10px 0 1px #DDD\n// 	.reorderText\n// 		float right\n// 	&.hideReorderBtn\n// 		display none !important\n\n\n#buttonTabWrap\n	.ui-borderRadius\n		padding-left 0px\n		position relative\n		top 0px\n		padding-right 0.5em\n	.sp-sm\n		position relative\n		top 1px\n		left 3px\n	label\n		margin-top 4px\n		font-family 'gibsonLight'\n		margin-bottom 7px\n		clear both\n		padding-left 30px\n		padding-top 4px\n	&.is-hidden\n		.contentTabHead\n			// &:after\n			// 	display none\n			.contentTabTitle\n				&:after\n					content 'HIDDEN'\n					display inline\n					color #FFF !important\n					background #FEAAAA\n					margin-left 0.6em\n					font-family 'gibsonRegular'\n					letter-spacing 0.05em\n					padding .1em 0.3em\n					font-size 0.7em\n					border-radius 2px\n					line-height 1\n					position relative\n					top -1px !important\n					right 0 !important\n			&:hover\n				.contentTabTitle\n					&:after\n						color #fff\n\n		&.open\n			.contentTabHead\n				.contentTabTitle\n					&:after\n						top 9px\n						right 1em\n				&:hover\n					.contentTabTitle\n						&:after\n							color #888787\n\n.bdr-contain\n\n	&.hideColorPkr\n		.bdrWidthDrop\n			width 60%\n		.sp-sm\n			display none !important\n\n	clear both\n	// height 35px\n	&.open\n		height auto\n		#sectionTabHead\n			&:after\n				margin-top -1px\n	#sectionTabHead\n		display none\n		&:after\n			right 42px !important\n			margin-top -3px\n			width 3px\n			height 3px\n		&.hideAfter\n			&:after\n				display none !important\n	&.empty\n		#sectionTabHead\n			&:after\n				display none !important\n\nbody\n	#sections-wrap\n		&.sorting\n			// #inline-reorder-init\n			// 	display none !important\n			// #inline-reorder-done\n			// 	display block\n			#sectionTabHead\n				&:after\n					right 17px !important\n\n\n//\n// Some nice interactions for element view\n#elementsContain\n	position relative !important\n	// transition top .2s linear !important\n	// height auto !important\n	// top 0 !important\n	z-index 2\n	background #fff\n	animation entrance .2s linear\n	opacity 1\n	transition opacity .1s linear\n	&.view-bolt\n		animation entrance .2s linear\n		opacity 1\n\n@keyframes entrance\n	0%\n		opacity 0\n	100%\n		opacity 1\n\n.section\n	.accordion\n		height 0\n		// transition height .2s linear !important\n	&.open\n		.accordion\n			height 0\n			// transition height .2s linear !important\n\n#elementsWrap\n	position relative\n	overflow hidden\n	background #fff !important\n	#elementsContain\n		position relative\n		top 0\n\n#host_theme_styles\n	.toggle-content\n		.toggle-wrap\n			padding 1px 11px 8px 5px\n			padding-bottom 10px\n			padding-right 0px\n			width 157px\n			height 50px\n			transform translateX(-3%)\n			float none\n			.hideHostImg\n				width 67px\n				margin-top 2px\n				#hideHostImgBtn\n					padding 0px 15px 0px 17px\n					top 8px\n					.hideText\n					.showText\n						width 34px\n						left -5px\n						position relative\n					.hideText\n						display block\n					.showText\n						display none\n				&.is-hidden\n					opacity 0.5\n					#hideHostImgBtn\n						.hideText\n							display none\n						.showText\n							display block\n		.content-inner\n			.ico-eyeOpen\n				top 5px\n				position relative\n\n	.imgLabel\n		margin-top 6px\n\n@keyframes fadeRightArrowColors\n	0%\n		border-right 1px solid blue\n		border-top 1px solid blue\n	33%\n		border-right 1px solid green\n		border-top 1px solid green\n	66%\n		border-right 1px solid purple\n		border-top 1px solid purple\n	100%\n		border-right 1px solid blue\n		border-top 1px solid blue\n\n\n//\n// Section header\n.sectionHead\n	color #171717\n	// box-shadow 0 6px 0 #f4f4f4 inset\n	small\n		color #8c8b8b\n\n\nbody\n	#finetune-back-btn\n		position absolute\n		left 0\n		top 0\n		font-size 15px\n		cursor pointer\n		color #000\n		height 5.5em\n		width 3em\n		padding-top 2em\n		&:before\n			position relative\n			left 0\n			transition left .1s linear\n		&:hover\n			color lighten(#000, 50%)\n			&:before\n				left -4px\n	&.editColors\n	&.editLinks\n	&.editSwatchColor\n	&.editFonts\n		#finetune-back-btn\n			display inline-block\n\n#emailSettingsErrorMessage\n	width 100%\n	position absolute\n	left 0px\n	top -56px\n	background #FF6347\n	padding 12px\n	color #FFF\n	font-family 'gibsonSemiBold'\n	padding-bottom 8px\n	z-index 2\n	height 48px\n	border-radius 6px\n	.dismissError\n		position absolute\n		right 10px\n		color #FFF\n		font-size 20px\n		top 7px\n		cursor pointer\n	#emailPromptSave\n	#emailPromptCancel\n		position absolute\n		top 12px\n		padding 0px 10px\n	#emailPromptSave\n		right 108px\n	#emailPromptCancel\n		right 38px\n\n\n//\n// Nutralize the nu-dropdown defualts\n.nu-dropdown.nu-accord\n	border none\n	&:hover\n		border none\n		box-shadow none\n	.options\n		position relative\n		top 0\n\n//\n// Lockup the dropdowns + customize\n// buttons\n\n.nu-accord\n.faux-accord-wrap\n	min-height 50px\n	max-height 0px\n	overflow hidden\n	transition max-height .3s linear\n	box-shadow none\n	position relative\n	cursor pointer\n	color #000\n	border-radius 0\n	border none\n	padding 0\n	&.empty\n		&:after\n			display none\n\n	//\n	// Gradient border\n	.nu-accord-trig\n	.faux-accord\n		position relative\n		height 50px\n		border-radius 3px\n		font-family 'gibsonLight'\n		padding 2px 14px\n		&:before\n			content ''\n			position absolute\n			background linear-gradient(to bottom, #E1E1E1, #A1A1A1)\n			top 0\n			left 0\n			width 100%\n			height 100%\n			z-index 0\n			border-radius 4px\n		&:after\n			content ''\n			position absolute\n			top 1px\n			left 1px;\n			width 99%\n			height 96.8%\n			background linear-gradient(to bottom, #fff, #f7f7f7)\n			z-index 0\n			border-radius 3px\n		// The labels\n		small\n			color #ababab\n			span\n				color #000\n\n		&:hover\n			&:before\n				background linear-gradient(to bottom, #A1A1A1, #A1A1A1)\n		&:active\n			&:after\n				background linear-gradient(to bottom, #f7f7f7, #f7f7f7)\n\n	&.open\n		max-height 2000px\n		height auto\n\n		.nu-accord-trig\n			&:before\n				border-radius 4px 4px 0 0\n				background linear-gradient(to bottom, #A1A1A1, #E1E1E1)\n			&:after\n				background linear-gradient(to bottom, #F7F7F7, #FFF)\n				z-index 0\n				border-radius 3px 3px 0 0\n				height 100% !important\n\n		&.empty\n			.nu-accord-trig\n				&:before\n					border-radius 4px\n					background linear-gradient(to bottom, #E1E1E1, #A1A1A1)\n				&:after\n					background linear-gradient(to bottom, #fff, #f7f7f7)\n					z-index 0\n					border-radius 3px\n					height 96.8% !important\n	//\n	// Options in dropdown\n	> .options\n		padding 0 6px\n		border 1px solid #E1E1E1\n		border-top none\n		border-radius 0 0 4px 4px\n		float left\n		width 100%\n		.option\n			line-height 1em\n			padding 0\n			position relative\n			border-top 1px solid #d8d8d8\n			float left\n			width 100%\n			text-align center\n			.inner-opt\n				padding 10px\n				margin 3px 0\n				border-radius 6px\n				float left\n				width 100%\n\n			> div\n				float none\n				margin 0 auto\n				border-top 0px\n			&:hover\n				.inner-opt\n					background rgba(240, 238, 239, 0.7)\n			// &.active\n			// 	.inner-opt\n			// 		box-shadow 0 0 0 1px blue inset\n\n#fontColorSelect\n	height 100%\n	.editWhatText\n		float left\n		position relative\n		width 100%\n		text-align center\n		font-style normal !important\n		font-family 'gibsonLight'\n		font-size 1.25em !important\n		height 1.49em\n		display none\n	.colorAccordTrig\n		background none\n		&:before\n		&:after\n			background none\n		&:hover\n			&:before\n			&:after\n				background none\n\n	.sp-container\n		top 0em !important\n		position relative !important\n		float left\n		background #FFF\n		width 17em\n		display none !important\n		box-shadow none\n		left 50% !important\n		transform translateX(-50%)\n		button\n			padding 0.7em 1em\n			margin-top 1.4em\n			font-size 1.2em\n			width 100%\n			float left\n		.sp-cancel\n			position relative\n			display block\n			margin 0 auto\n			color #555 !important\n			text-decoration none !important\n			width 35%\n			float right !important\n			top 0px\n			display inline-block\n			clear none\n			&:hover\n				color #fff !important\n			&:active\n				color #555 !important\n		.sp-top\n			margin-bottom 22px !important\n		.sp-input-container\n			width 60%\n			float left\n		.sp-input\n			border-bottom none\n		.sp-picker-container\n			padding-top 14px\n		.recentColorTitle\n			float left\n			width 100%\n			margin-bottom 5px\n			font-family 'gibsonLight'\n			font-size 14px\n			border-top 1px solid #CCC\n			padding-top 7px\n		.sp-palette-container\n			padding-left 2px\n			padding-right 2px\n			z-index 0\n			border-bottom 1px solid #CCC\n			padding-bottom 12px\n			margin-bottom -6px\n			padding-top 0px\n			float left !important\n			.sp-palette-row\n				.sp-thumb-el\n					width 16px\n					height 16px\n					.sp-thumb-inner\n						background-size 13px\n					&:nth-child(n+10)\n						display none\n		.sp-button-container\n			z-index 1\n			position relative\n		.sp-cancel\n			float left\n	&.open\n		overflow visible\n		.colorAccordTrig\n			background none\n			&:hover\n				&:before\n				&:after\n					background none\n\n#finetune-all-tools\n	margin-left 0em !important\n	&.admin\n		margin-left -18em !important\n		#addReorderTools\n			display none\n\n#customSwatch\n	margin-bottom 2.6em\n	.sp-sm\n		.spectrum-input\n			transition transform .08s linear\n\n			&:hover\n				box-shadow 0 0 0 1px rgba(0,0,0,0.2)\n			&.hovering\n				transform scale(1.125)\n				box-shadow 0 0 0 2px rgba(0,0,0,0.4)\n		.sp-preview\n			transform scale(1.125)\n			box-shadow 0 0 0 2px rgba(0,0,0,0.4)\n\n.nu-accord\n	&:after\n		content ''\n		position absolute\n		top 8px\n		right 10px\n		width 4px\n		height 4px\n		border-right 2px solid #D5D4D4\n		border-bottom 2px solid #D5D4D4\n		transform rotate(45deg)\n\n\n#customFontBtn\n	width 120px\n	float none\n	margin-bottom 6px\n	margin-top 3px\n	padding 1px 7px\n	margin 0 auto\n	display none !important\n	&.save\n		background #000\n		color #FFF\n		box-shadow 0 -1px 0 #B8B1B1, 0 -2px 0 #363131 inset\n		border 1px solid #000\n		position absolute\n		top 10px\n		width 84px\n		right 6px\n		display block !important\n		&:hover\n			background #796D6D\n			color #fff\n			box-shadow 0 -1px 0 #B8B1B1, 0 -2px 0 #746C6C inset\n			border 1px solid #423C3C\n\n#toggleCustomFont\n	width 72%\n	margin 0 auto\n	padding 5px 14px 4px\n	margin-top 8px\n	display none !important\n\n#fontText\n	position relative\n	top 14px\n	float none\n	padding 2px 7px\n	width 140px\n	margin 0 auto\n	&.cancel\n		cursor pointer\n		top -16px\n		font-size 12px\n		color #F00\n		float left\n		&:hover\n			color #f00\n	&.done\n		width 60px\n		float right\n		display none !important\n\n.editCustom\n	#fontText\n		top -98px\n\n	#changeFontToggle\n		display none\n\n	#customFontBtn\n		margin-top -1px\n\n\n@media screen and (max-height:650px)\n	//#fontFamilySelect .options\n	//	height 290px !important\n	#fontFamilySelect .option:last-child .inner-opt\n		margin-bottom 50px !important\n\n\n#fontColorSelect\n	&.open\n		min-height 0px !important\n	&.hovering\n		#viewMoreSwatchBtn\n		.options\n		#doneSwatchBtn\n			display none !important\n	&.hovering\n	&.editingColors\n		.editWhatText\n			display block !important\n\n#finetune-sections\n	.toggleBtnHead\n		padding 0 10px !important\n		border-radius 8px\n		height 47px\n		line-height 47px\n		position relative\n\n#changeFontToggle\n#viewMoreSwatchBtn\n	height 49px\n	transition border .1s linear, height .05s linear .2s\n	.toggleBtnHead\n		&:after\n			content ''\n			display block\n			width 6px\n			height 6px\n			border-right 2px solid #000\n			border-bottom 2px solid #000\n			transform rotate(45deg)\n			position absolute\n			right 15px\n			top 50%\n			margin-top -6px\n			transition margin-top .1s .1s linear\n	&:hover\n		border-color #bebebe\n		background #bebebe\n		color #fff\n		.toggleBtnHead\n			&:after\n				margin-top -3px\n				border-color #fff\n\n.juicyOpen\n	#changeFontToggle\n	#viewMoreSwatchBtn\n		background-color #fff\n		color #000\n		border-color #bebebe\n		transition border .1s linear, height .05s linear 0\n		.toggleBtnHead\n			&:after\n				border-color #000\n		&:hover\n			background-color #fff\n			.toggleBtnHead\n				&:after\n					border-color #000\n\n#editCustomFontText\n	cursor default !important\n	.cancelBtn\n		display inline-block\n		right 10px\n		top 10px\n		position absolute\n	.primary\n	.secondary\n		color #888\n\n// cancel font\n#cancelCustFontBtn\n	width 100%\n	text-align center\n	padding 10px\n	border-top 1px solid #E9E9E9\n	border-bottom 1px solid #E9E9E9\n	text-transform uppercase\n	font-size 13px\n	cursor pointer\n	display none !important\n	&:hover\n		background #F8F8F8\n	&:active\n		background #E9E9E9\n\n\n#editCustomFontText\n#changeFontToggle\n#viewMoreSwatchBtn\n	text-align left\n	padding 0em 1em\n	width calc( 100% \\- 2em )\n	left 1em\n	float none\n	font-size 0.9em\n	border-bottom 1px solid #E9E9E9\n	cursor pointer\n	position relative\n	z-index 2\n	display inline-block\n	float left\n	border 1px solid #000\n	border-radius 8px\n	font-family gibsonSemiBold\n	margin-top 1em\n	padding-left 0\n	padding-right 0\n	overflow hidden\n\n#fontFamilySelect\n#fontColorSelect\n	.nu-accord-trig\n		cursor default !important\n		display none !important\n		.closeAccord\n			display none\n	&:after\n		display none\n	&.customEdit\n		min-height 620px\n	&.customEdit\n	&.open\n		.nu-accord-trig\n			.current\n				height 43px\n			.closeAccord\n				transform rotate(0deg)\n				border none\n				top 4px\n				right 3px\n				font-size 12px\n				color #000\n				background #fff\n				width 16px\n				height 16px\n				line-height 16px\n				text-align center\n				border-radius 10px\n				position absolute\n				z-index 1\n				display block\n			&:hover\n				.closeAccord\n					color #fff\n					background #000\n\n\n.moreSwatch\n	border-top 1px solid #d8d8d8\n\n.nu-accord\n	.nu-dropdown.m.noEdge\n		border 1px solid #D8D8D8\n		color #191919\n		&:hover\n			box-shadow none\n			background #eee !important\n			border 1px solid #d9d9d9\n			color #191919 !important\n\n	.ui-borderRadius\n		.nu-dropdown.m.noEdge\n			&:hover\n				background none !important\n\n	.adv-slide\n		.nu-dropdown.m.noEdge\n			color #ddd\n			&:hover\n				box-shadow none\n				background #eee !important\n				border 1px solid #eee\n				color #000\n\n///\n// Special cases for each\n\n// Themes\n.faux-accord-wrap\n	min-height 4.3em\n#changeThemeBtn\n	height 4.3em\n\n// Font combos\n\n#fontFamilyHead\n	text-align center\n	margin-bottom 0px\n	border-radius 0\n	float left\n	transform translateX(-50%)\n	left 50%\n	position relative\n	padding 0em\n	width 100%\n	margin 0 auto\n	margin-top 0.4em\n	user-select none\n	&.singleCombo\n		.delete-btn\n			display none !important\n\n	#fontDotWrap\n		display block\n		height 20px\n		width 100%\n		background #fff\n		position relative\n		float none\n		clear both\n		margin 0 auto\n		top 4px\n		.fontDot\n			width 10px\n			height 10px\n			background #d3d3d3\n			display inline-block\n			margin 0px 3px\n			border-radius 100%\n			cursor pointer\n			&.active\n				background #000\n\n	.prevBtn\n	.nextBtn\n		color #8d8d8d\n		position absolute\n		top 50%\n		transform translateY(-50%)\n		cursor pointer\n		// border 1px solid #EBEBEB\n		border-radius 100%\n		padding 0.2em\n		&:hover\n			color #171717\n			background #fafafa\n\n	.prevBtn\n		left .5em\n	.nextBtn\n		right .5em\n\n	.current\n		padding 0em\n		width 75%\n		margin 0 auto\n		float left\n		left 50%\n		position relative\n		transform translateX(-50%)\n		.primary\n		.secondary\n			transition opacity .1s linear\n			position relative\n\n		.primary\n			.font-type\n				font-size 1.7em\n				letter-spacing 0.02em\n				width 100%\n				text-overflow ellipsis\n				overflow hidden\n				margin 0 auto\n		.secondary\n			.font-type\n				font-size 1.2em\n\n		.font-type:last-child\n			display none\n			font-size 14px\n			font-family 'gibsonRegular' !important\n			color #b8b6b6\n\n\n		.fontName\n			// font-family 'gibsonRegular' !important\n			font-size 14px\n			line-height 1.4em\n			color #444444\n			text-transform none\n			&:before\n				display none\n\n	&.noHover\n		&:after\n		.customComboBtn\n			opacity 0 !important\n		.current\n			opacity 1 !important\n\nbody.designerMode\n	#fontFamilyHead\n		width 100%\n		border 1px solid #ededed\n		.prevBtn\n			left auto\n			transform translateX(-110%)\n		.nextBtn\n			right auto\n			transform translateX(110%)\n\n.flat-grey-btn\n	background-color #fafafa\n	border-radius 3px\n	position relative\n	width auto\n	left 50%\n	padding .5em 2em\n	font-size .7em\n	text-transform uppercase\n	letter-spacing .05em\n	transform translateX(-50%)\n	&:hover\n		darken(#fafafa, 30%)\n\n.editFonts\n	.upload-font\n		background #eee\n		color #FFF\n		width 100%\n		border-radius 1px\n		font-size .8em\n		font-family 'gibsonSemiBold'\n		display block !important\n		&:hover\n			background darken(#C0C2C0, 20%)\n\n#fontFamilySelect\n#fontFamilyHead\n	min-height 5.6em\n	.primary\n	.secondary\n		display block\n\n#fontFamilySelect\n	height auto\n	overflow hidden\n	padding 0\n	width 100%\n	margin 0 auto\n	max-height none\n	display none\n	position absolute\n	top 40px\n	height calc( 100% \\- 40px )\n\n	&:after\n		display none\n	.primary\n		font-size 1.3em\n		line-height 1em\n	.secondary\n		font-size 0.9em\n\n	.primary\n	.secondary\n		transition font-size .1s linear\n\n\n	.nu-accord-trig\n		height 5em\n		&:after\n			height 4.86em\n	.options\n		width 100%\n		border none !important\n		border-radius 0px\n		left 0\n		position relative\n		height 100%\n		overflow-y scroll\n		overflow-x hidden\n	.option\n		// opacity 0.5\n		width 100%\n		margin 0 auto\n		float none\n		border none\n		.inner-opt\n			padding 10px 10px 10px !important\n			margin 4px 0 !important\n		&:last-child\n			.inner-opt\n				margin-bottom 80px !important\n\n		&.active\n			opacity .9\n			.inner-opt\n				background #ddd\n		&.active\n			background #eee\n		&:first-child\n			border-top none\n			margin-top 2px\n		&.combo\n			display block\n		&.customFont\n			display none\n	&.open\n		.nu-accord-trig\n			&:after\n				border-bottom 1px solid #A8A7A7\n\n.editSecondary\n.editPrimary\n	#fontFamilySelect\n		height 100%\n		top 0\n\n#changeThemeSection\n	display none\n	height calc(100% \\- 87px)\n	width 100%\n	position relative\n	float left\n	transition opacity .15s linear\n	.nu-dropdown.theme-util\n		width 100%\n		width calc( 100% \\- 4em )\n		margin 0 auto\n		left 0\n		top 0px\n		box-shadow none\n		border-top 0\n		background none\n		border-radius 0\n		border none !important\n		border-top 1px solid #bebebe !important\n		border-bottom 1px solid #bebebe !important\n		box-shadow none !important\n		.current\n			padding-left 0.5em !important\n		&:before\n			display none\n		&:after\n			content ''\n			width 4px !important\n			height 4px !important\n			border-right 2px solid #000 !important\n			border-bottom 2px solid #000 !important\n			position absolute\n			top 50% !important\n			right 1.4em !important\n			-webkit-transform rotate(45deg)\n			opacity 1 !important\n			margin-top -4px\n		&:hover\n		&.open\n			&:after\n				margin-top -2px !important\n\n	#theme-list-wrap\n		height calc( 100% \\- 0.2em )\n		width 100%\n		position relative\n		float left\n		padding 0\n		overflow-x hidden\n		overflow-y auto\n		position absolute\n		top 40px\n		height calc( 100% \\- 92px )\n		height 100%\n\n#changeThemeSection\n.fontContain\n.colorContain\n	h4\n		font-size 12px !important\n		margin-bottom 0px !important\n		margin-top 11px\n		font-family 'gibsonRegular' !important\n		margin-left 2px\n		text-align left !important\n		width 17.7em\n		padding 0\n	.cancelThemeChange\n	.cancelFontChange\n	.cancelSwatchChange\n		position relative !important\n		text-transform uppercase !important\n		font-size 10px !important\n		top 1px !important\n		float right !important\n		cursor pointer\n		width 50px !important\n		right 14px\n		left auto !important\n		z-index 1\n		color #F30\n\n#changeThemeSection\n	h4\n		margin-left 16px\n		width 98%\n		position relative\n\n.fontContain\n	h4\n		display none\n		width 99%\n		margin-left 10px\n	#browsingFontText\n		font-family 'gibsonLight'\n		font-size 1.45em\n		color #555\n		text-align left\n		float left\n		width 95%\n		margin-left 5.5%\n	&.selectCombo\n		#changeFontToggle\n			&:hover\n				&:after\n					top 15px !important\n\n	&.editSecondary\n		#fontFamilyHead\n			&.priHover\n				#customSecondaryFont\n					opacity 1 !important\n\n	&.editPrimary\n		#fontFamilyHead\n			&.secHover\n				#customPrimaryFont\n					opacity 1 !important\n\n\n	&.editPrimary\n	&.editSecondary\n		.toggleBtnHead\n			display none !important\n		#custFontWrap\n			cursor pointer\n\n	#fontFamilyHead\n		&.priHover\n			#customSecondaryFont\n				opacity .3\n\n		&.secHover\n			#customPrimaryFont\n				opacity .3\n\n.colorContain\n	h4\n		margin-top 0px\n		position relative\n		left 7px\n		cursor default\n\n	#randSwatchBtn\n		display none\n\n// Swatch combos\n#fontColorSelect\n	min-height 60px\n	cursor default\n	padding 0\n	#swatchContain\n		float left\n		width 100%\n		position relative\n		.options\n			.option\n				> div\n					padding-right 12px\n	.nu-accord-trig\n		height 60px\n		.current\n			height 30px\n			min-height 0\n			overflow hidden\n			position absolute\n			bottom -1px\n			.inner-opt\n				.wA\n					width 100% !important\n					padding-right 0 !important\n			.swatch\n				width 50px\n				height 50px\n				margin-right -6px\n			.swatch-name\n				margin-top -1.1em\n\n	.swatch\n		width 40px\n		height 40px\n		margin-right -12px\n		display inline-block\n		border-radius 100%\n		top 2px\n		position relative\n		overflow hidden\n		box-shadow 0 1px 2px rgba(0, 0, 0, 0.2)\n		&:after\n			content ''\n			position absolute\n			top 0\n			left 0\n			width 100%\n			height 100%\n			border-radius 100%\n			box-shadow 0 0 0 1px rgba(0, 0, 0, 0.1) inset, 1px 2px 0 rgba(0, 0, 0, 0) inset\n		&.p1\n			z-index 0\n		&.p2\n			z-index 1\n		&.p3\n			z-index 2\n		&.p4\n			z-index 3\n		&.p5\n			z-index 4\n			padding 0\n\n	.swatch-name\n		position absolute\n		top 94%\n		margin-top -1.6em\n		left 0em\n		text-align center\n		width 100%\n		display none\n\n	#doneSwatchBtn\n		position relative\n		width 12em\n		float left\n		left 50%\n		margin-left -6.3em\n		display none\n\n	.options\n		display none\n		position absolute\n		top 0px\n		height 100%\n		overflow-x hidden\n		overflow-y auto\n		border none\n		z-index 0\n		padding-bottom 1em\n		&:hover\n			.option\n				opacity 1\n	.option\n		border-top none\n		width 85%\n		text-align center\n		color #555\n		padding .5em 0\n		float left\n		border-radius 4px\n		position relative\n		cursor pointer\n		margin-left 50%\n		transform translateX(-49%)\n		transition box-shadow .2s linear\n		margin-bottom 0\n		&:hover\n			box-shadow 0 0 0 1px #c0c0c0 inset\n			transition box-shadow 0s linear\n		&.custom\n			display none\n		&.active\n			box-shadow 0 0 0 1px #000 inset\n			border 4px\n			opacity 1\n			.swatch-name\n				font-family 'gibsonSemiBold'\n		&:first-child\n			margin-top 6px\n		&[value=\"custom\"]\n			border-top none\n			display none\n			&:hover\n				background none\n				cursor normal\n			&:hover\n			&:active\n				&:before\n				&:after\n					display none\n			.inner-opt\n				border-top 1px solid #ccc\n				&:hover\n					background #06deef !important\n					color #fff !important\n					box-shadow 0 -2px 0 #05c8d7 inset !important\n				&.editColors\n						width 92px\n						margin 0 auto\n						float none\n						padding 4px\n						margin-bottom 9px\n		&:last-child\n			margin-bottom 40px\n			display block\n\n	.moreSwatch\n		font-size 11px\n		width 144px\n		padding 0px\n		margin-bottom 11px\n		margin-top 13px !important\n		float left\n		left 50%\n		margin-left -72px !important\n	&.open\n		.nu-accord-trig\n			box-shadow 0 0px 0 1px #d8d8d8\n			background #fff !important\n			border-radius 0\n			border 0\n			height 159px\n			padding 2px 0px\n			&:before\n			&:after\n				background transparent !important\n			.current\n				top 32px\n				height 80px\n				bottom auto\n		#customSwatch\n			display block !important\n	&.open.hasCustom\n		.option\n			&.custom\n				height 80px\n				box-shadow 0 -1px 0 0 #d8d8d8\n				display none\n			&[value=\"custom\"]\n				.inner-opt\n					bottom 2px\n					width 60% !important\n					top auto !important\n					margin 0 auto\n					margin-top -29px\n					&.editColors\n						width 124px\n						margin-bottom 5px\n\n		.moreSwatch\n			margin-bottom 12px !important\n\n\n	&.browsingColors\n		h4\n			display block\n		.options\n		#doneSwatchBtn\n			display block\n\n		#viewMoreSwatchBtn\n			// box-shadow 0px 10px 12px -9px #CCC\n			&:after\n				transform rotate(-136deg)\n\n	&.editingColors\n		.sp-container\n			display block !important\n		#viewMoreSwatchBtn\n		.options\n		h4\n			display none\n\n#cancelSwatchSelect\n	right -4px\n\n\n@media screen and (max-width:958px)\n\n	#swatchContain\n		.option\n			> div\n				padding-right 16px !important\n				.swatch\n					margin-right -17px\n\n	#planning-tools .planning-tools-nav li .subnav.editing.ticketSections .litesaver-wrap.ticket-settings .litesaver\n		top 3px\n\n	#host_theme_styles\n		.toggle-content\n			.toggle-wrap\n				padding 10px 0px 10px 10px\n				.hideHostImg\n					margin-top 1px\n	#pieContainer\n		#donutHole\n			transform translateX(-53%) translateY(-48%) !important\n\n	#fontColorSelect\n		.option\n			&:before\n				left 1em !important\n				top 1.35em !important\n			&:after\n				right 1.1em !important\n				top 1.35em !important\n			&:hover\n				&:before\n					top 1.47em !important\n				&:after\n					top 1.47em !important\n		.current\n			> div\n				.swatch\n					margin-right -10.2px !important\n		&.customEdit\n			.current\n				width 100%\n				> div\n					width 100% !important\n					left 0\n		.sp-container\n			position relative !important\n			float left\n\n	#fontFamilyHead\n		.current\n			padding 0em 0em !important\n\n	#topBodyContain\n		height 136px !important\n		&:after\n			top 8px !important\n		&.noBG\n			&:after\n				top 48px !important\n\n	#customSwatch\n		.editWhatText\n			font-size 1.25em !important\n			bottom 0.2em\n		.swatch-item\n			position relative\n			left -0.5em !important\n\n	.finetuneOpen\n		.mce-tinymce-inline\n			left -10em !important\n\n	#cancelSwatchSelect\n		right 8px\n\n	#edit-settings\n		&.onlyDate\n			#eventSettingsWrap\n				margin-top 3.3em !important\n				overflow visible !important\n\n		&.onlyVenue\n			#eventSettingsWrap\n				margin-top 2.8em !important\n\n// Sections\n#sections-wrap\n	min-height 60px\n	position relative\n	overflow visible\n	.nu-accord-trig\n		height 60px\n	#inline-reorder-done\n		display none !important\n	&.sorting\n		.addSecBtn\n			opacity 0\n			pointer-events none\n		#inline-reorder-init\n			display none\n		#inline-reorder-done\n			display inline-block !important\n		> .delete-section\n			left -3.6em !important\n\n	.faux-accord-wrap\n		position static\n	&:before\n	&:after\n		pointer-events none\n		content ''\n		position absolute\n		top 0\n		left 0\n		width 100%\n		height 3px\n		background rgba(0, 0, 0, 0.2)\n		z-index 2\n		box-shadow 0 3px 12px rgba(0, 0, 0, 0.2)\n		opacity 0\n		transition opacity .2s linear\n		transform none\n	&:after\n		top auto\n		bottom 0\n		box-shadow 0 -3px 12px rgba(0, 0, 0, 0.2)\n	&.containIsScrolling\n		&:before\n		&:after\n			opacity 1\n	&.open\n		.container-undo-btn\n			//display none !important\n\n#addSecBtn\n	// float left\n	// margin-bottom 1em\n	margin-top 1px\n	// margin 2px 0 10px 1px\n	// width 100px\n	// text-align left\n\n////\n/// Positioning the options\n//\n.section-options-wrap\n	float left\n	width 100%\n	position relative\n	position absolute\n	top 0\n	height 100%\n	height calc(100% \\- 49px)\n	.section-options-inner\n		position absolute\n		top 0px\n		width 100%\n		height 100%\n\n//\n// Some nice circle buttons\n.circle-btn\n	position absolute\n	top 50%\n	right 10px\n	margin-top -14px\n	width 30px\n	height @width\n	border 1px solid #ccc\n	box-shadow 0 -2px 0 #eaeaea inset\n	border-radius 100%\n	background #fff\n	&.rarr\n		&:after\n			width 6px\n			height @width\n			content ''\n			position absolute\n			top 50%\n			left 50%\n			margin-top -(@height/2)\n			margin-left -1px\n			border-right 3px solid #000\n			border-bottom @border-right\n			transform rotate(-45deg)\n			transform-origin 0 100%\n	&.add\n		&:after\n			content '\\271A'\n			position absolute\n			top 0\n			width 100%\n			color #000\n			line-height 28px\n			text-align center\n		&:hover\n			&:after\n				color #fff\n\n#changeThemeBtn .circle-btn\n	border none !important\n	box-shadow none !important\n	background none !important\n\n// Designer modal\n\nbody.designerMode.custom-editor\n	.splashui-confirm\n		background rgba(54, 54, 54, 0.7)\n	#custom-style-editor-container\n		.close-modal\n			display none\n\n.splashui-inner\n	&.designer-mode-modal\n		width 520px\n		.title-wrap\n			background #ebebeb\n			.top-icon\n				border 5px solid #ebebeb\n		.adv-mode-info\n			h3.semiBold\n				color #4c4b4b\n\n	&.builder-mode-modal\n		.title-wrap\n			color #fff\n			background #434343\n			.top-icon\n				border 5px solid #434343\n		.adv-mode-info\n			h3.semiBold\n				color #fff\n\nbody.designer-intro\n	.splashui-confirm\n		background rgba(0, 0, 0, 0.75)\n\n.splashui-inner.designer-mode-modal\n.splashui-inner.builder-mode-modal\n	background #FFF\n	padding 0\n	padding-bottom 70px\n	.title-wrap\n		padding 32px 0px 14px\n		.top-icon\n			position absolute\n			top -29px\n			left 50%\n			transform translateX(-50%)\n			color #4c4b4b\n			background #fff\n			padding 5px\n			font-size 26px\n			border-radius 3px\n	> p\n		display none\n	p\n		color #969595\n		font-size 13px\n	h5\n		font-size 14px\n	button\n		letter-spacing 0.1em\n		width 32%\n		padding 16px !important\n		font-size 13px\n		position absolute\n		&.splashui-confirm-btn\n			right 19px\n			float right\n			left auto\n			&:hover\n				background darken(#7cc576, 30%)\n		&.plain\n			width auto\n			right 200px\n			background transparent\n			color #202020\n			&:hover\n				background #F0F0F0\n	.adv-mode-info\n		color #878686\n		h3\n			text-align center\n			&.subtitle\n				font-size 22px\n		.done-wrap\n			h3.subtitle\n				font-size 16px\n				margin-top 10px\n				small\n					display block\n					margin 10px 0px 8px\n					font-size 12px\n		p\n			margin-bottom 0 !important\n		.inner-wrap\n			padding 20px 40px 7px\n		.colors-fonts\n		.remix-themes\n		.write-code\n		.specify-fonts\n		.tweak-colors\n		.modify-themes\n			margin-bottom 2em\n			padding 15px 0px 17px\n			padding-left 86px\n			background-size 69px\n			background-repeat no-repeat\n		.colors-fonts\n			background-image url('/images/builder-colors.png')\n			.semiBold\n				color #434343\n		.remix-themes\n			background-image url('/images/builder-remix.png')\n			/*\n			background-position 100% 0px\n			padding-left 0\n			padding-right 86px\n			text-align right\n			*/\n			.semiBold\n				color #434343\n		.write-code\n			background-image url('/images/builder-code.png')\n			margin-bottom 17px\n			.semiBold\n				color #434343\n		.specify-fonts\n			background-image url('/images/designer-text.png')\n			.semiBold\n				color #9964d8\n		.tweak-colors\n			background-image url('/images/designer-color.png')\n			.semiBold\n				color #5cc3ed\n		.modify-themes\n			background-image url('/images/designer-layout.png')\n			padding-top 8px\n			.semiBold\n				color #e2628b\n	&.loading //access requested\n		padding-bottom 0px\n		padding 20px 30px\n		width auto\n		.inner-wrap\n		.title-wrap\n		button.splashui-confirm-btn\n		button.plain\n			display none\n		.loading-wrap\n			display block\n	&.done //access requested\n		padding-bottom 0px\n		padding 20px 30px\n		width 440px\n		.inner-wrap\n		.title-wrap\n		button.splashui-confirm-btn\n		button.plain\n			display none\n		.done-wrap\n			display block\n			text-align center\n			h3.semiBold\n				color #434343\n		.done-btn\n			cursor pointer\n			letter-spacing 0.1em\n			border none\n			background #7cc576\n			color #fff\n			margin 0px\n			position relative\n			margin-top 10px\n			font-size 12px\n			padding 13px 15px !important\n			width auto\n			float none\n			&:hover\n				background darken(#7cc576, 30%)\n\n\n\n.sectionContain\n	#elementsHeader\n		display none\n		&.isBackBtn\n			background #333\n			color #FFF\n			height 38px\n			padding-top 5px\n			text-align left\n			padding-left 10px\n			cursor pointer\n			&:after\n				content ''\n				display block\n				top 51%\n				right 12px\n				position absolute\n				border-bottom 8px solid #FFF\n				border-left 7px solid rgba(0, 0, 0, 0)\n				border-right 7px solid rgba(0, 0, 0, 0)\n				transform translateY(-50%)\n			&:hover\n				background #413F3F\n			&:active\n				background #333\n	.pane-title\n		margin-top -2px\n	.mainCard\n		\n		&:hover\n			.cardHead\n				.nu-checkbox\n					margin-left 0\n				> span\n					left 2.5em\n					position relative\n		&.toggle-inside\n			.cardHead\n				//background #FAFAFA\n				box-shadow none\n			&:hover\n				.cardHead\n					> span\n						left 0\n					.nu-checkbox\n						margin-left -3.5em\n				.mainCard\n					.cardHead:hover\n						> span\n							left 2.5em\n						.nu-checkbox\n							margin-left 0\n		&.noContent\n			.cardHead\n				&:after\n					display none\n			&.is-hidden\n				.cardHead\n					&:after\n						display block !important\n		&.expanded\n			.cardHead\n				.nu-checkbox\n					box-shadow 8px 6px -6px #A8A8A8 inset, 0 -1px 0 #D9D9D9 inset\n		#when-fontpicker\n		#where-fontpicker\n			width auto\n			padding 10px\n\n	#themeSectionWrap\n		.mainCard\n			&:hover\n				.cardHead\n					> span\n						left 0em\n						position relative\n\n\n#when_theme_styles\n#where_theme_styles\n	&.expanded\n		overflow visible !important\n	.nu-dropdown\n		.options.scroll\n			height 180px\n	.content-inner.styles\n		.font-picker\n		.fontColors\n			padding 15px 0px 10px 1.5em\n			border-radius 100%\n			width 62%\n		.fontSizeDrop\n			display none\n		.font-picker\n			.nu-dropdown\n				width 100%\n		.fontColors\n			border-radius 100%\n			width 33%\n			padding-left 10px\n			.text-color\n				width 32px\n				height 32px\n				border-radius 100%\n			.sp-replacer\n			.sp-preview\n				border-radius 100%\n				width 32px\n				height 32px\n				.sp-preview-inner\n					border-radius 100%\n		#edit-date-time\n		#edit-location\n			left 50%\n			position relative\n			transform translateX(-50%)\n			float left\n			top 0px\n			margin 3px 0px 14px\n			padding 0px 9px\n			width 123px\n\n.design-pane-utils\n	padding-bottom 2em\n\nbody.designerMode\n	.design-pane-utils\n		background #fff\n		&:before\n			background none !important\n\n	#fontFamilyHead\n		.primary\n		.secondary\n			cursor pointer\n			&:hover\n				background #fafafa\n			&.active .fontList\n				background #fff\n			.fontName\n				font-size 1.1em !important\n				white-space nowrap\n				text-overflow ellipsis\n				overflow hidden\n				width 86%\n				text-align left\n				margin-left 0px\n				&:before\n					display block\n					color #ccc\n					position absolute\n					top 53%\n					right 9px\n					font-size 12px\n					transform translateY(-50%)\n			.font-type\n				display block\n				font-size 11px\n\n\nbody:not(.editLinks):not(.editColors):not(.editSwatchColor)\n	.design-pane-utils\n		&:before\n			display none\n			content ''\n			position absolute\n			left 0\n			bottom 100%\n			z-index 11\n			width 100%\n			height 1.6em\n			background linear-gradient(to top, rgb(255,255,255),rgba(255,255,255,0))\n		//box-shadow 0 -19px 20px 0px rgba(255,255,255,0.9)\n\n//\n// #share-buttons\n.mainCard\n	cursor pointer\n	overflow hidden\n	max-height 46px\n	transition max-height .3s linear\n	background #fff\n	// &.hovering\n	&:hover\n		background #fff\n	.cardHead\n		cursor pointer\n		padding 0 1em\n		height 46px\n		line-height 46px\n		border-bottom 1px solid #f0f0f0\n		font-family 'gibsonLight'\n		position relative\n		> span\n			pointer-events none\n			font-size 15px\n			transition left .165s linear\n			left 0\n			position relative\n		&.dwn-nub\n			position relative\n\n		.nu-checkbox\n			padding-top 30px\n			padding 0px\n			top 0\n			left 0\n			position absolute\n			width 34px\n			height 100%\n			margin-left -3.5em\n			margin-top 0\n			background #f0f0f0\n			cursor pointer\n			letter-spacing .03em\n			transition margin-left 0.15s linear\n			&:before\n				content ''\n				position absolute\n				width 12px\n				height 12px\n				top 17px\n				left 9px\n				background #fff\n				border 1px solid #ccc\n				border-radius 100%\n				box-shadow 0 -2px 0 #eaeaea inset\n				display none\n			.hide-text\n				font-size 10px\n				width 100%\n				text-align center\n				display block\n				color #000\n				&:after\n					content 'HIDE'\n\n			&:hover\n				background #929292\n				&:before\n					border 1px solid #aaa\n					background #f8f8f8\n			&.checked\n				&:after\n					top 18px\n					left 13px\n					width 2px\n					height 6px\n					border-right 3px solid #279aea\n					border-bottom 3px solid #279aea\n					display none\n	&.hovering\n		.cardHead\n			// box-shadow 0 0 0 1px pink inset\n			color pink\n	&.is-hidden\n		.cardHead\n			.nu-checkbox\n				.hide-text\n					font-size 9px\n					&:after\n						content 'SHOW'\n\n	.toggle-wrap\n		cursor default\n		// padding 0 6px\n		// border 1px solid #E1E1E1\n		// border-top none\n	&.expanded\n	&.forceExpand\n		cursor default\n		max-height 940px\n\n		// temp pane\n		// position absolute\n		// top 0\n		// z-index 2\n		// height 100%\n		// background #fff\n		// max-height none\n		.cardHead\n			background #f8f8f8\n			color #000\n			border-color transparent\n			box-shadow 0 8px 6px -6px #a8a8a8 inset, 0 -1px 0 #d9d9d9 inset\n			padding 0 14px\n		.toggle-wrap\n			padding 0\n		.content-inner.styles\n			background #f8f8f8\n\n\n#basicsTabWrap\n	.mainCard\n		&.is-hidden\n			color #c0c0c0\n			.cardHead\n				&:after\n					content 'Hidden'\n					border none\n					transform rotate(0deg)\n					font-size 10px\n					position absolute\n					top 5px\n					right 0px\n					font-family 'gibsonLight'\n					text-transform uppercase\n					// background #FFF\n					width 41px\n					padding-left 6px\n					height 100%\n	#subtitle_theme_styles.mainCard\n		&.is-hidden\n			.cardHead\n				&:after\n					top 1px\n\n#share-buttons\n	.cardHead\n		border-bottom 1px solid #eee\n\n#body_theme_styles\n	border-top 1px solid #eee\n\n.mainBackColor\n	.sp-preview\n	.sp-preview-inner\n		width 204px\n		border-radius 0 !important\n		margin-bottom 10px\n		height 34px !important\n\n#canvas-bg-color\n	width 204px\n	border-radius 0 !important\n	margin-bottom 10px\n	height 34px !important\n\n#addReorderTools\n	position absolute\n	bottom 4em\n	width 100%\n	left 0\n\nbody\n	&:not(.advMode)\n	&:not(.designerMode)\n		#allSectionsContainInner\n			#addReorderTools\n				bottom 0px\n				position relative\n			&.isScrolling\n				#addReorderTools\n					position absolute\n\n#addElementReorder\n	font-family 'gibsonSemiBold'\n	background #1C1C1C !important\n	width 157px\n	border-radius 2px\n	padding .9em 0 !important\n	display none\n	&:hover\n		background lighten(#1c1c1c, 30%) !important\n\n#finetune-block[tab=\"content\"]\n	#addElementReorder\n		display inline-block\n\nbody\n	&:not(.advMode)\n		#finetune-block[tab=\"content\"]\n			#addElementReorder\n				display none\n\n.advMode\n.designerMode\n	#finetune-block[tab=\"content\"]\n		#addElementReorder\n			margin-right 1em\n\n\n////\n/// Finetune Saving\n//\n\n#save-details-design\n	width 100%\n	transition all .15s linear\n	text-align center\n	background #7cc576\n	color #fff\n	margin-left 0\n	cursor pointer\n	padding 0.3em\n\n	line-height 40px\n	border-radius 50px\n	width 100%\n	text-transform uppercase\n	letter-spacing .05em\n	border none !important\n	&:hover\n		background darken(#7cc576, 20%)\n	.as-save\n		display inline-block\n	.as-saved\n	.as-save-changes\n	.as-saving\n		display none\n\n.changes-saved\n	#save-details-design\n		// bottom 4px\n		// right 3.95em\n		.as-save\n			display none\n		.as-saved\n			display inline-block\n\n.has-changes\n	#save-details-design\n		// bottom 4px\n		background yellow\n		color #fff\n		// cursor pointer\n		// left auto\n		// right 3.95em\n		box-shadow 0 0 0 0 yellow\n		&:hover\n			box-shadow 0 0 0 2px yellow\n		.as-save\n		.as-saved\n			display none\n		.as-save-changes\n			display inline-block\n.in-progress\n	#save-details-design\n		// bottom 4px\n		background yellow\n		color #000\n		opacity .7\n		box-shadow none\n		// right 3.95em\n		&:hover\n			box-shadow none\n		.as-save\n		.as-saved\n		.as-save-changes\n			display none\n		.as-saving\n			display inline-block\n\n//// TICKETS SETTINGS\n///\n\n.rsvp-contain\n	float left\n	width 100%\n	margin 0\n	margin-top 13px !important\n	position relative\n	#ticketSettingContain\n		margin-top 30px\n		text-align center\n		&.noTickets\n			#pageActionSettings\n				display none !important\n		#ticket-payout-settings\n			margin-top 0px\n			position relative\n			.right-sidebar\n				width 45%\n				right 0px\n				position relative\n				top 0px\n				float right\n\n				.sidebar-section\n					padding 10px 0\n					margin-bottom 1px\n					background #f8f8f8\n					ul li\n						padding 8px 6px 6px 5px\n						margin 0 0 1px 0\n						position relative\n						cursor pointer\n						transition background .15s linear\n						b\n							font-weight bold\n							font-size 13px\n							float left\n							margin-left 6%\n							margin-bottom 3%\n					.payout-status\n						width 87%\n						text-align center\n						display inline-block\n						background #ddd\n						padding 6px 0\n						font-family 'gibsonSemiBold'\n						border-radius 3px\n						border 1px solid #DDD\n						&.paid\n						&.sent\n							background #03e16a\n							color #fff\n			h5\n				color #181818\n				line-height 1.25\n				font-weight normal\n				margin-bottom 3px\n				font-size 17px\n				font-family: 'gibsonSemiBold'\n				&.payout-head\n					margin-top 7px\n			.methodSelector\n				b\n					font-weight bold\n			.payout-method\n				&.custom-select\n					width 40%\n					position relative\n					float left\n					margin-left 10px\n		#ticket-settings-container\n		#discount-codes-container\n			//display block // this overrides .hide and shows the discount codes when it shouldn't be showing\n			width 100%\n			margin 0 auto\n			&.container\n				padding 0px 20px\n			.ticketOrderDiscountTable\n				.appliesTo\n					label\n						display block\n						text-align left !important\n						margin-bottom 8px\n						margin-left 10px\n						&.blockIt\n							display block !important\n						&.all-types\n							border-bottom 1px solid #EEE\n							padding-bottom 10px\n							margin-bottom 10px\n							min-width 300px\n							margin-top 5px\n							display inline-block !important\n						input\n							width 15px !important\n							float left\n							margin-right 6px\n							margin-top 5px\n\n			label.all-types\n			label.type\n				float left\n				width 100%\n\n			#splash-ticket-order-discounts-form\n			#tracking-links-form\n				.open-prefs\n					position absolute\n					top 32px\n					right 26%\n					margin-top -10px\n					margin-left -30px\n					background #03E1FF\n					color #fff\n					text-align center\n					padding 4px 8px\n					border 2px solid #fff\n					border-radius 2px\n					opacity 0\n					cursor pointer\n			#splash-ticket-order-discounts-form\n				.prefs\n					width 70%\n					margin 0 auto\n					.subhead-space\n						font-family 'gibsonSemiBold'\n						text-transform uppercase\n						font-size 11px\n						color #000\n						letter-spacing .1em\n						margin-bottom .5em\n					.discountFields\n						text-align left\n						.subhead-space\n							&.codespace\n								width 100%\n					.discount-toggle\n						float left\n						padding 2px\n						width 50%\n					.discount-type-toggle\n						&.dollar\n						&.percent\n							display inline-block\n							padding 8px 14px 8px 14px\n							background #EEE\n							border-radius 3px 0 0 3px\n							margin-right -3px\n							// box-shadow -2px 0px 0 #CCC, -20px 0 30px -20px #CCC inset\n							top -5px\n							position relative\n							font-size 20px\n							cursor pointer\n							border 1px solid #E0E0E0\n							transition all .1s linear\n							&:hover\n								background #62b886\n								border-color #62b886\n								color #fff\n						&.percent\n							border-radius 0 3px 3px 0\n						&.active\n							background #62b886\n							border-color #62b886\n							color #fff\n					input.discount_amount\n						width 85px\n						font-size 24px\n						text-align center\n						border-radius 0\n						box-shadow none\n						border 1px solid #e0e0e0\n						top -3px\n						border-right none\n						border-left none\n						padding 9px 14px 9px 14px\n						&:hover\n							background #fff\n				.discountFields\n					.code\n					.max_discount_amount\n						font-size 26px\n						margin-left 0px\n						width 100%\n					.max_discount_amount\n						width 100px\n				.discountRows\n					text-align center\n					position relative\n					&:hover\n						cursor pointer\n						.open-prefs\n							opacity 1\n						.fields\n							box-shadow 2px 0 0 #03e16a inset\n					.displayStatus-wrap\n						position absolute\n						left 22px\n						bottom 11px\n						font-size 15px\n					.prefs\n						display none\n					&.open\n						.prefs\n							display block\n						.fields\n							display none\n						.open-prefs\n							display none\n					&.deleted\n						.fields\n						.prefs\n						.open-prefs\n							display none\n			.splash-ticket-settings-form\n				&.open\n					.ticketOrderDiscountTable\n						.fields\n							display none\n				#page-action-settings\n					width 30%\n					min-height 335px\n				.filled\n					div.inf\n						opacity 0\n				div.inf\n					box-sizing border-box\n					position absolute\n					top 50%\n					left 0\n					padding 0 !important\n					font-size 24px\n					color #999\n					cursor text\n					opacity 1\n					transition opacity .08s linear\n					user-select none\n					z-index 1\n					width 100%\n					text-align center\n					transform translateY(-50%)\n					&.fee\n						font-size 12px\n						text-align right\n						padding-right 0.6em !important\n				.prefs\n					div\n						span\n							position relative\n							&.delete-value\n								margin-top -7px\n						//display inline-block\n					.settings\n						position relative\n						display block\n						// margin -7px 20px 0 0\n						.cancel-ticket-settings\n							display none\n						.preview\n							cursor pointer\n					.yellow-hl\n						background #FFC\n						padding 0px .5em\n						border-radius 2px\n\n					textarea\n						height 100px\n\n					.tracking-link-ids\n						padding-left 15px\n						label\n							display block\n					.exclusive-tracking-links\n						position relative\n						> .nu-tiptip\n							position absolute !important\n							right -38px\n							top -5px\n					.tracking-link-ids\n						.nu-tiptip\n							position absolute !important\n							top -5px\n							left 48px\n					.tiered-ticket\n						font-size 13px\n					.tiered-ticket-opts\n						margin-left 10px\n						label\n							width 100%\n				.discountText ul li\n					width 31%\n					&:nth-child(2)\n						margin-right 12px\n			.tickets-first-view\n				width 1000px\n				float left\n				font-family 'gibsonSemiBoldItalic'\n				color #03E1FF\n				font-size 30px\n				margin-top -30px\n				text-align center\n				margin-left 10px\n			.ticketTypeTable\n				width 68%\n				display block\n				float left\n				text-align center\n				position relative\n				margin-top 0\n				z-index 1\n				.messages\n					textarea:focus::-webkit-input-placeholder\n						color transparent\n					textarea:focus::-moz-input-placeholder\n						color transparent\n					textarea:focus::-o-input-placeholder\n						color transparent\n				.ticketText\n						width 60% !important\n						display block\n						word-wrap break-word\n				.stub-price\n					width 30%\n					position absolute\n					height 100%\n					top 10px\n					right 20px\n					table\n						position absolute\n						right 0px\n						top 40px\n					table\n					table tr td\n						border none\n						font-family 'GibsonRegular'\n						color #000\n						margin 0\n						font-size 12px !important\n						padding 2px !important\n						text-align right\n						// background #eee\n						&.buyer_pays_cell\n							padding 10px 2px 2px 40px !important\n							font-size 20px !important\n							font-family 'gibsonSemiBold'\n						&:first-child\n							padding-left 12px !important\n					table tbody tr\n						padding 6px 10px\n						vertical-align middle\n						border-bottom 1px dotted #eee\n\n				.open-prefs\n					font-size 12px\n					background #ddd\n					cursor pointer\n					padding 2px 6px\n					border-radius 2px\n					text-transform uppercase\n					font-family 'gibsonSemiBold'\n					color #fff\n					margin-bottom 20px\n					float right\n				.typeRows\n					.display\n						h2\n							&.name\n								text-shadow none\n								font-size 24px\n								font-weight normal\n								font-family 'gibsonSemiBold'\n								margin-bottom 6px\n								line-height 1.1em\n								color #000\n						.bottom-meta\n							position absolute\n							bottom 0\n							left 0\n							padding 0 0 20px 20px\n							width 100%\n							box-sizing border-box\n							-webkit-box-sizing border-box\n							-moz-box-sizing border-box\n							.remaining\n								font-size 11px\n								text-transform uppercase\n								position absolute\n								z-index 1\n								color #2f2f2f\n								bottom 17px\n								left 25px\n						.status\n							margin-bottom 18px\n							span\n								&.active\n									span\n										padding 2px 4px\n										border-radius 2px\n										font-family 'gibsonSemiBold'\n										font-size 12px\n										&.on-sale\n											box-shadow 0 0 0 2px #03E16A inset\n											color #03E16A\n					&.deleted\n					&.hidden\n					&.ended\n						.display .status > span > span\n							box-shadow 0 0 0 2px #F03 inset !important\n							color #FF0033 !important\n					&.nested-ticket\n						> .display\n							width 90%\n							margin-left 50px\n							.stub\n								background-color rgb(255, 165, 0)\n					> .display\n						width 96%\n						margin-bottom 30px\n						padding 10px 10px 70px 20px\n						box-sizing border-box\n						-webkit-box-sizing border-box\n						-moz-box-sizing border-box\n						text-align left\n						margin-left 15px\n						float left\n						position relative\n						clear both\n						min-height 155px\n						// box-shadow 4px 0px 6px -2px rgba(0, 0, 0, 0.1)\n						background #fff\n						cursor pointer\n						top 0\n						.stub\n							content ''\n							position absolute\n							top 0\n							left -14px\n							height 100%\n							width 14px\n							background #2f2f2f\n							&:before\n								content ''\n								position absolute\n								top 50%\n								left -7px\n								margin-top -7px\n								background #f4f4f4\n								width 14px\n								height 14px\n								z-index 1\n								border-radius 50px\n						&:hover\n							box-shadow 0 0 0 1px #171717 inset\n							.open-prefs\n								background #03E1FF\n					> .prefs\n						opacity 0\n						visibility hidden\n						position absolute\n						text-align left\n						box-shadow -4px -1px 10px -2px rgba(0, 0, 0, 0.1), 1px 0 0 #03e1ff inset\n						height 0\n						overflow hidden\n						top -30px\n						left 110px\n						box-shadow none\n						padding 20px 40px\n						width 700px\n			.open\n				.ticketTypeTable\n					width 94%\n					.typeRows\n						> .display\n							min-height 0\n							margin-bottom 6px\n							box-shadow none\n							padding 20px\n							opacity 0\n							visibility hidden\n						> .prefs\n							opacity 0\n							visibility hidden\n							position absolute\n							text-align left\n							box-shadow -4px -1px 10px -2px rgba(0, 0, 0, 0.1), 1px 0 0 #03e1ff inset\n							height 0\n							overflow hidden\n							top -30px\n							left 4%\n							box-shadow none\n							padding 20px 40px\n							width 92%\n							.toggle-wrap\n								&.open\n									.switch\n										&.toggler\n											background #f8f8f8\n											color #000\n											&:hover\n												&:after\n													border-top 6px solid transparent\n													border-bottom 6px solid #fff\n											&:after\n												border-bottom 6px solid #000\n												border-top 6px solid transparent\n												top 12px\n								.switch\n									display block\n									color black\n									font-family 'gibsonSemiBold'\n									text-transform uppercase\n									font-size 16px\n									margin 10px 0 0px 0px\n									text-align left\n									padding-top 10px\n									letter-spacing 0.1em\n									width 100%\n									padding 8px 10px\n									background #f8f8f8\n									border 1px solid #eee\n									position relative\n									cursor pointer\n									&.toggler\n										&:hover\n											background #2f2f2f\n											color #fff\n											&:after\n												border-top 6px solid #fff\n										&:after\n											content ''\n											position absolute\n											top 18px\n											right 15px\n											border-top 6px solid #000\n											border-right 6px solid transparent\n											border-left 6px solid transparent\n						&.open\n							> .prefs\n								opacity 1\n								visibility visible\n								height auto\n								overflow visible\n								input\n									&.name\n										font-size 24px\n										width 100%\n										margin-bottom 20px\n										font-family 'gibsonSemiBold'\n\n						.prefs\n							.settings\n								.subhead-space\n									.tabOutTip\n										margin-right 22px\n									&.messages\n										font-family 'gibsonSemiBold'\n										text-transform uppercase\n										font-size 16px\n									&.light\n										font-size 10px\n										font-family 'GibsonRegular'\n									&.required-field\n										&:after\n											content '*'\n											color #F03\n											font-size 14px\n											display inline-block\n											line-height 5px\n									&.on_site_confirmation-d\n									&.email_confirmation-d\n									&.extra_ticket_info-d\n										width 97% !important\n\n									position relative\n									display inline-block\n									text-transform uppercase\n									letter-spacing 0.1em\n									font-family 'gibsonSemiBold'\n									font-size 11px\n									color #000\n									&.Ticket\n										width 100%\n									textarea\n										width 100%\n										min-height 50px\n										resize vertical\n										margin-bottom 20px\n										transition height .2s linear\n										-webkit-transition height .2s linear\n										-moz-transition height .2s linear\n										-ms-transition height .2s linear\n										-o-transition height .2s linear\n										box-shadow 0 -8px 10px -8px #DDD inset\n\n						.toggle-wrap\n							.toggle-content\n								height 0px !important\n								overflow hidden\n								padding-left 30px\n								.newTicketQuestion\n									margin-top 10px\n								.all-custom-field-wrap\n									.holder\n										float left\n										width 100%\n										margin 10px 0 2px\n\n								.description-d\n									width 65%\n									.nu-tiptip\n										#newTip\n											left 2px\n											top 16px\n\n								.email_confirmation-d\n								.extra_ticket_info-d\n									width 100%\n									.nu-tiptip\n										top -3px\n										left 2px\n										#newTip\n											top 16px !important\n\n								.email_confirmation-d\n									&.email-subject\n										.nu-tiptip\n											top 1px\n											left 1px\n\n								.email-subject\n								.on_site_confirmation-d\n									.nu-tiptip\n										#newTip\n											top 16px !important\n											left -18px\n\n\n								.email_subject\n									width 97%\n								.copyFields\n									cursor pointer\n									position absolute !important\n									top -2px\n									right 0\n									padding 10px\n									z-index 1\n									padding 4px 10px\n									bottom 9px\n									height 30px\n									line-height 26px\n									transition none\n									&.opened\n										height 65px\n										background #eee\n										color #000\n										box-shadow 0 4px 8px rgba(0,0,0,0.3)\n										border-radius 0\n										&:hover\n											border 1px solid #ccc\n										select\n											width 100%\n										.cancel-ticket-copying\n											float left\n											font-size 10px\n											color #888\n											font-family 'gibsonRegular'\n											margin-top 3px\n											display inline-block\n											&:hover\n												color red\n										input[type=\"button\"]\n											float right\n											margin-top 5px\n								.exclusive-tracking-links\n									margin-top 30px\n									max-height 200px\n									overflow-y auto\n									overflow-x hidden\n									width 200px\n									padding-left 10px\n								textarea\n									width 97%\n									resize vertical\n								> div.three-up\n									color #000000\n									font-family 'gibsonregular'\n									font-size 12px\n									margin-bottom 20px\n									width 28.1%\n									padding 0\n									&.ticket-price\n										border-left 1px solid #EEEEEE\n										border-right 1px solid #EEEEEE\n										margin-left 15px\n										margin-right 15px\n										padding 0 20px 10px 20px;\n										width 35.6%\n										.w100-1\n											width 100%\n											width calc( 100% - 1em )\n											padding 0.1em 0.6em\n											margin 0.3em 0\n											&.max_buyer_fee_wrap\n												padding-right 0\n										.dollar-before:before\n											content '$'\n											display inline-block\n										.doller-sign\n											font-size 17px\n										.price\n											&.big-numbers\n												width 91%\n												margin-left 2%\n										.max_buyer_fee_wrap\n											font-size 12px\n											.max_buyer_fee\n												display inline-block\n												width 60px\n												margin-left 3px\n												font-size 11px\n												padding-right 0.5em\n												padding-top 0.2em\n										.fee_paid_by_buyer.calc\n											width 100%\n									&.ticket-quantity-wrap\n										.order_min\n										.order_max\n											width 81px\n										.big-numbers\n											&.quantity\n												width 98%\n									.nu-dropdown\n										text-align center\n									.avail-dd\n										font-family 'gibsonSemiBold'\n										// 'current / selected' display colors\n										&.on-sale\n											box-shadow 0 0 0 0px #03e16a inset, 0 0 0 1px #03e16a\n											background rgba(3,225,106,0.04)\n											border-color transparent\n											&:before\n												color #03e16a\n												background rgba(3,225,106,0.54)\n												box-shadow 0 0px 0 #bbb inset\n										&.limited\n											box-shadow 0 0 0 1px #FFFF00 inset\n											background rgba(255, 255, 68, 0.28)\n											border-color transparent\n											&:before\n												color #FFFF00\n												background rgba(162, 167, 159, 0.18)\n												box-shadow 0 0px 0 #bbb inset\n										&.hidden\n											box-shadow 0 0 0 0px #f03 inset, 0 0 0 1px #f03\n											background rgba(255,0,51,0.04)\n											border-color transparent\n											&:before\n												color #f03\n												background rgba(255,0,51,0.54)\n												box-shadow 0 0px 0 #bbb inset\n										// drodown li hoverstates\n										.options\n											.on-sale\n											.limited\n											.hidden\n												box-shadow none\n												transition all .15s linear\n												color #2f2f2f\n											.on-sale\n												&:hover\n													background rgba(3,225,106,0.04)\n													border-color transparent\n													box-shadow 0px 0px 0 2px #03E16A inset !important\n											.limited\n												&:hover\n													box-shadow 0 0 0 1px #FFFF00 inset\n													background rgba(255, 255, 0, 0.18)\n											.hidden\n												&:hover\n													box-shadow 0 0 0 2px #F03 inset\n													background rgba(255, 0, 51, 0.04)\n									.dates\n										.datetime\n											position relative\n											margin-top 7px\n											margin-right -3px\n											margin-left 17px\n											padding 0px 9px\n											border-radius 4px\n											padding-bottom 6px\n											width 60px\n											.subhead-space\n												position relative\n												display inline-block\n											.cali-time\n												position relative\n												display inline-block\n												&.display\n													span\n														display block\n														font-size 12px\n														background none\n														color #000\n														margin-bottom -8px\n														&[class=\"2\"]\n															font-size 12px\n															font-family 'gibsonSemiBold'\n											.cal\n												position absolute\n												top 15px\n												width 0\n												height 0\n												left -34px\n												padding 0\n											.ui-datepicker-trigger\n												display inline-block\n												margin-bottom 0\n												margin-top 0\n												background #EEE\n												border none\n												color black\n												cursor pointer\n												width 50px\n												vertical-align bottom\n												padding-top 4px\n												margin-top 1px\n												transition all .15s linear\n												position relative\n												z-index 0\n												border-radius 3px\n											.emptyDateTime\n												color #888\n												font-size 10px\n												text-transform uppercase\n												cursor pointer\n												clear both\n												display none\n												text-align left\n												opacity 1\n												position absolute !important\n												bottom -24px\n												left 14px\n								.collect-info\n									width 100%\n									margin-top 12px\n\n\n							&.open\n								.toggle-content\n									height auto !important\n									overflow visible\n									display inline-block\n									margin-bottom 30px\n									padding 30px\n									background #fff\n									width 100%\n\n	#wrap\n		clear both\n		position relative\n		#attendee-utils\n			transform translateY(-50%)\n			display none\n			box-shadow -3px 0px 1px -1px #fff\n			background white\n			padding 15px\n			user-select none\n			.option\n				color #505050\n				&:hover\n					color #00ec8e\n			.selected\n				color yellow\n			&:before\n				content ''\n				position absolute\n				top 0px\n				right 100%\n				width 1.5em\n				height 100%\n				background linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)\n		&:hover\n			> #attendee-utils\n				position absolute\n				top -1000px\n				display block\n\n	.rsvp-list\n		text-align center\n		overflow scroll\n		display block\n		width 100%\n		padding-bottom 60px\n		tr.waitlist\n			background #FFE\n		.paging\n		.paging div\n			display inline-block\n			margin 0 auto\n		.paging\n			background #F8F8F8\n			padding 5px 10px\n			border-radius 3px\n			margin-top 15px !important\n			display inline-block\n			padding-top 7px\n			position absolute\n			bottom 16px\n			left 50%\n			transform translateX(-50%)\n			.prev\n			.next\n				position relative\n				top -2px\n				background #e0e0e0\n				padding 0 2px\n				height 32px\n				width 40px\n				margin 0 0 0 10px\n				cursor pointer\n				border-radius 8px\n				color #fff\n				user-select()\n				&:before\n					font-size 1.6em\n					line-height .8em\n				&:hover\n					background #c0c0c0\n				&:active\n					background #808080\n			.next\n				margin-left 0\n				&:before\n					padding-right 0\n					padding-left .1em\n			.prev\n				&:before\n					padding-right .15em\n			.perPage\n				margin-left 1em\n			.pages\n				span\n					display inline-block\n					background white\n					padding 4px 10px\n					margin 0 1px\n					border-radius 2px\n					cursor pointer\n					display none\n					&.current\n						box-shadow 0 0 0 1px #2F2F2F inset\n						color #2F2F2F\n\n// refunded ticket\n#attendeeTable\n	> tbody\n		&.refunded\n			background #F8CBCB\n\n////\n/// TEMP HOLDING & HIDING\n//\n//.adminQuickStuff\n#change-page-action\n#event-contact-count\n	display none !important\n\n\n// #ftg-1\n// #ftg-11\n// #ftg-5\n// 	display none !important\n\n\n//\n// Temp base styles\n// #main-canvas\n// 	padding-bottom 100px\n\n\n#emailSendSubNav\n	ul.litesaver.editing-guestlist\n		li.action\n			display none\n	ul.litesaver\n		li.the-guestlist\n			display none\n	ul.litesaver.editing-guestlist\n		li.the-email i.label-wrap\n			display none\n	ul.litesaver.editing-guestlist\n		li.the-guestlist\n			display block\n			margin-top 1px !important\n\n#invitee-table\n	tbody\n		tr\n			.no-hover:hover\n				background none\n\n	.cancel\n		color tomato\n\n// PRIVATE EVENT PAGE\n\n.private-content\n	position fixed\n	z-index 2\n	width 100%\n	text-align center\n	vertical-align middle\n	top 50%\n	left 0px\n	transform translateY(-50%)\n	h1\n	h1 small\n		color #FFF\n		text-shadow -1px -1px 0 rgba(0, 0, 0, 0.2)\n		clear both\n		float left\n		width 100%\n		padding 0 10px\n		box-sizing border-box\n		font-family 'gibsonSemiBold'\n		letter-spacing 1px\n		font-weight normal\n		text-transform uppercase\n		padding-top 10px\n		margin-bottom -20px\n	h1\n		font-size 3.2em\n		margin-bottom 1em\n		letter-spacing 6px\n		line-height 50px\n	small\n		font-family 'gibsonSemiBold' !important\n		font-size 21px\n		margin-top -10px\n\n	.form-holder\n		#access-code-form\n\n			#age-country\n				font-size 1em\n			h4\n				color #fff\n				letter-spacing .2em\n				text-transform uppercase\n\n			#age-restricted-submit\n				background #505050\n				cursor pointer\n				&:hover\n				&:focus\n					color #fff\n					background #606060\n\n			#access-code-input\n				&.email_access\n					border-radius 8px 0 0 8px\n					width 300px\n					height 61px\n					left -0.1em\n\n			input\n				font-size 22px\n				padding 15px\n				margin 20px 0\n				text-align center\n				background-color #303030\n				border none\n				border-radius 8px\n				transition all .15s linear\n				color #fff\n				text-transform uppercase\n				font-family 'gibsonRegular'\n				letter-spacing .1em\n				&[name=\"access_code\"]\n					width 285px\n					border none\n					background #303030\n					border-radius 2px\n					height 61px\n					box-sizing border-box\n					margin-top 0px\n					border-radius 8px 0 0 8px\n					letter-spacing .05em\n				&:focus\n				&:hover\n					background #404040\n					border none\n					transition background .20s, box-shadow .20s\n					outline none\n\n				&::-webkit-input-placeholder\n					font-family 'gibsonRegular' !important\n					text-transform uppercase\n				&:-moz-placeholder\n					font-family 'gibsonRegular' !important\n					text-transform uppercase\n				&::-moz-placeholder\n					font-family 'gibsonRegular' !important\n					text-transform uppercase\n				&:-ms-input-placeholder\n					font-family 'gibsonRegular' !important\n					text-transform uppercase\n\n				&.form-submit\n					&.normal\n						position relative\n						padding 20px 20px\n						border-radius 0 8px 8px 0\n						color #c0c0c0\n						text-shadow none\n						font-family 'gibsonRegular'\n						font-size 22px\n						padding 18px 20px\n						border none\n						-webkit-appearance none\n						background #505050\n						height 61px\n						box-sizing border-box\n						transition all .15s linear\n						cursor pointer\n						left -0.1em\n						text-transform uppercase\n						&:hover\n						&:focus\n							color #fff\n							background #606060\n\n		#sendANote\n			color #EEE\n			font-size 14px\n			font-family 'gibsonRegular'\n\n	#access-code-error\n		display block\n		font-size 20px\n		width 100%\n		text-align center\n		float left\n		font-family 'gibsonRegular'\n		color tomato\n\n	input[type=number]::-webkit-inner-spin-button,\n	input[type=number]::-webkit-outer-spin-button\n		-webkit-appearance none\n\n#ticketReceipt\n	.inlineReceipt\n		tbody\n			> tr\n				&:first-child\n					td\n						line-height 1em\n\n// A COUPLE OF FIXES FOR PRIVATE PAGES\n\nbody\n	&.private\n		#footer\n			position fixed\n			left 0px\n			bottom 0px\n			background #1A1A1A\n\n		a\n			&#exitPreviewMode\n				color #ffffff\n				padding 10px 20px\n				font-family 'gibsonSemiBold'\n				font-size 14px\n				text-transform uppercase\n				position fixed\n				left -51px\n				top 91px\n				background #03e1ff\n				z-index 13\n				box-sizing border-box\n				border none\n				box-shadow none\n				border-radius 4px 4px 0 0\n				transform rotate(90deg)\n				transition left .15s linear\n				&:hover\n					background #03deef\n					left -55px\n\n	.theme-level-control\n		display block !important\n		> label\n			line-height 24px\n			&.nu-checkbox\n				margin-top 10px\n				&:before\n					top 3px\n\n////\n/// Main Image Picker\n//\n\n\nbody.finetune\n	&:not(.advMode)\n	&:not(.designerMode)\n		#cropAnyPhoto\n			#imgContentWrap\n				.imgTab\n					.advImgTitle\n					#advancedImgUtils\n						display none !important\n\n			&.isBgImg\n				#imgContentWrap\n					.imgTab\n						.advImgTitle\n						#advancedImgUtils\n							display block !important\n\n\n#cropAnyPhoto\n	min-width 350px\n	max-width 740px\n	min-height 580px\n	padding-bottom 20px\n	background #edecec\n	#imgColorPickerTab\n		background transparent\n		.colorPickerIcon\n			height 67px !important\n			&:after\n				font-family 'fontello'\n				font-style normal\n				content '\\e84c'\n				font-size 62px\n				top -4px\n				position absolute\n				left 16px\n			&:hover\n				&:after\n					color green\n	#imgColorPickerTab\n	&.adminPane\n		#vidPicker\n			display block !important\n	&.addColor\n		display none !important\n	#advancedImgUtils\n	.advImgTitle\n		display none !important\n	&.isBgImg\n		.advImgTitle\n			background #fafafa\n			padding 8px 14px\n			font-family gibsonRegular\n			color #8c8b8b\n			font-size 13px\n			text-align left\n			cursor pointer !important\n			&:hover\n				background darken(#fafafa, 10%)\n		.img-opts\n		.advImgTitle\n			display block !important\n			visibility visible\n		#advancedImgUtils\n			display block !important\n			&.showAdvTools\n				.img-opts\n					display block !important\n		#imgContentWrap[tab=\"gallery\"]\n			.img-opts\n			.advImgTitle\n				display none !important\n				visibility hidden !important\n		.add-link\n			display none !important\n\n	&.editHead\n	&.editBG\n		#advancedImgUtils\n			display inline-block\n		#uploadImage\n		#photoPickerGallery\n		#currentImage\n		#imgColorPickerTab\n			display block !important\n		#imgContentWrap[tab=\"current\"]\n			.add-link\n				display none\n			#advancedImgUtils\n				display block !important\n				::-webkit-scrollbar-thumb\n					background #C0C0C0\n					box-shadow 0 0 0 1px #FFF inset\n				::-webkit-scrollbar-track\n					background #FFF !important\n				#toggleAdvancedImgUtils\n					font-family 'gibsonRegular'\n					background #FFF\n					padding 7px 11px\n					position relative\n					white-space nowrap\n					margin-bottom 5px !important\n					font-size 14px\n					width 100%\n					border-radius 4px\n					cursor pointer\n					text-transform none\n					&:hover\n						background blue\n				.img-opts\n					visibility hidden\n					small\n						text-align left\n						color #646363\n\n				&.showAdvTools\n					#toggleAdvancedImgUtils\n						background #F0F0F0\n						&:hover\n							background blue !important\n					div.img-opts\n						visibility visible\n						margin-top 5px\n		#imgContentWrap\n			position relative\n			#imgLoader\n				max-width 497px\n				left auto\n				right 0px\n			&.editCurrent\n				#advancedImgUtils\n				.img-opts\n					display block !important\n	&.editHead\n		#vidPicker\n			display none !important\n		.headerTxt\n			display inline-block\n	&.editBG\n		#vidPicker\n			display none !important\n		.bgTxt\n			display inline-block\n	h3\n		margin-bottom 0\n		text-align center\n		background #ECECEC\n		border-bottom 1px solid #ccc\n		color #818181\n		.close-modal\n			color #818181\n			&:hover\n				color #6D6D6D\n	&.noLinkOpt\n		.add-link\n			display none\n		#topImageNav\n			#vidPicker\n				display block\n	&.isColor\n		#topImageNav\n			.addColor\n				float right !important\n				margin-right 14px\n			.editCurrent\n				display none !important\n	#topImageNav\n		floatgroup()\n		background #030303\n		text-align left\n		.topNavBtn\n			float: left;\n			box-shadow: none;\n			border: 1px solid transparent;\n			border-radius: 0;\n			transition: none;\n			-webkit-transition: none;\n			-moz-transition: none;\n			-ms-transition: none;\n			-o-transition: none;\n			padding 6px 26px 14px\n			color #b9b9b9\n			cursor pointer\n			font-size 24px\n			text-align center\n			span\n				font-size 11px\n				display block\n				line-height 8px\n			&.right\n				float right\n			&:hover,&.active\n				color: #F33769\n				span\n					color: #F33769\n		#vidPicker\n			display none\n\n\n	#imgContentWrap\n		width calc( 100% - 20px )\n		margin 0 auto\n		min-height 490px\n		top 0.5em\n		position relative\n		background #edecec\n		display block\n		overflow hidden\n		&[tab=\"gallery\"]\n		&[tab=\"current\"]\n		&[tab=\"currentVid\"]\n			.img-modal-utils\n				display block !important\n		&[tab=\"gallery\"]\n			#all-image-cats\n				display block\n			#toggleAdvancedImgUtils\n				display none\n\n\n		&[tab=\"current\"]\n			.add-link\n				display block\n			#advancedImgUtils\n				width 100%\n				margin 0 auto\n				float none\n				position relative\n				top 6px\n				.img-opts\n					display block\n					padding-top 3px !important\n					box-shadow none\n					.squarePosWrap\n						width 100%\n						margin 0 auto\n						float none\n						> small\n							line-height 11px\n							margin-bottom 6px\n					.nu-btn\n						&:first-child\n							margin-top 16px\n							margin-bottom 6px\n			.img-modal-utils\n				.crop-deets\n					display block !important\n			.save\n				display block !important\n				height 32px\n				line-height 20px !important\n				border none !important\n				&:hover\n					color lighten(#1b1b1b, 20%)	!important\n\n		&[tab=\"currentVid\"]\n			.vidUtils\n			.save\n				display block !important\n			.vidUtils\n				margin-top 10px\n\n		&.color\n			#imgModalColorPickerDiv\n				display block\n		&.upload\n			.uploadPhoto\n				display block\n		&.gallery\n			#splashGallery\n				display block\n			.img-modal-utils\n				display block\n				.vidUtils\n					display none\n				#all-image-cats\n					display block\n		&.video\n			.addVideo\n				display block\n			.vidTimeHolder\n				margin-top 11px\n				.vidTime\n					width 57px\n					margin-left 7px\n		&.editCurrent\n			.save\n				display block !important\n			.img-modal-utils\n			.latestPhoto\n			.crop-deets\n				display block\n\n		&.editVid\n			.img-modal-utils\n			.latestVid\n			.save\n			.vidUtils\n				display block !important\n				#vidStartTime\n					width 55px\n					margin-left 5px\n					margin-top 14px\n		//::-webkit-scrollbar-thumb\n		//	background green\n\n		#imgModalColorPickerDiv\n			width 100%\n			height 100%\n			position absolute\n			> .grp span\n				font-family gibsonRegular\n				font-size 1em !important\n				position absolute\n				top 32px\n				left 32px\n				text-transform uppercase\n				letter-spacing 1px\n				color #8c8b8b\n				font-weight bold\n			.sp-container.sp-flat\n				position absolute\n				width 100%\n				height 100%\n				background rgba(0, 0, 0, 0)\n			.sp-picker-container\n				width 350px\n				padding-top 0\n				border-left none\n				position absolute\n				right 20px\n				top 30px\n				padding-bottom 0px\n			.sp-cancel\n				display none\n			.sp-choose\n				font-family gibsonRegular\n				font-weight bold\n				box-shadow none\n				line-height normal\n				width 171px\n				padding 10px 0px\n				border-radius 20px\n				background #000\n				color #fff\n				position absolute\n				top 123%\n			.sp-initial-disabled .sp-input-container\n				width 100%\n				.sp-input\n					text-align left\n					border-bottom none\n					font-size 20px !important\n					text-transform uppercase\n					letter-spacing 1px\n					font-family gibsonRegular\n					color #848482\n					margin-top 5px\n			.sp-palette-container\n				width 44%\n				top 47px\n				.sp-palette\n					width 100%\n					max-width 100%\n					margin-top 3px !important\n					.sp-palette-row\n						margin-left 17px\n						span:nth-child(n+10)\n							display none\n						.sp-thumb-el\n							width 28px\n							height 28px\n							margin 3px 9px\n							border-radius 0px\n							.sp-thumb-inner\n								border-radius 0 !important\n\n	#currentImage\n		&.disabled\n			opacity 0.5\n			background #F5F5F5\n			color #B6B6B6\n			border 1px solid #B6B6B6\n			box-shadow 0 -2px 0 #B6B6B6 inset\n			cursor default\n\n	#splashGallery\n		width 73.5%\n		height 81%\n		display none\n		.loader\n			display none\n		&.loading .loader\n			display block\n\n		.categories\n			.nu-btn\n				box-shadow none\n				border-radius 0\n				border none\n				padding .2em\n				background #404040\n				color #fff\n				font-family 'gibsonRegular'\n				border-right 1px solid #606060\n				text-transform none\n			&:last-child\n				border-right none\n			&:hover\n				background #707070\n			&.prompt\n				background blue\n\n		.photo-content\n			height 100% !important\n			margin-left 0\n			left 0.2%\n			bottom 10px\n			width 71.5%\n			float right\n			.photo\n				cursor pointer\n				border 2px solid white\n				position relative\n				overflow hidden\n				height 0\n				padding-top 35%\n				background-size cover\n				background-position center center\n				img\n					width 100%\n				&:hover\n					// opacity 1\n					// transition opacity 0s linear\n					&:after\n						content 'CHOOSE'\n						position absolute\n						width 100%\n						top 50%\n						margin-top -0.7em\n						color #fff\n						text-align center\n						z-index 2\n						left 0\n						text-shadow 0 2px 2px rgba(0,0,0,.5)\n					&:before\n						content ''\n						box-shadow 0 0 0 6px rgba(0,0,0,.5) inset\n						position absolute\n						top 0\n						left 0\n						width 100%\n						height 100%\n						z-index 1\n\n	.editCurrent\n		.img-modal-utils\n			border-right 1px solid lighten(purple, 60%)\n\n	.upload\n		.img-modal-utils\n			border-right 0\n	.gallery\n		.img-modal-utils\n			border-right 1px solid lighten(green, 60%)\n	.img-modal-utils\n		width 26.5%\n		height calc(100% \\- 2px)\n		position absolute\n		right 1px\n		top 1px\n		display block\n		text-align center\n		background #fff\n		float right\n		border-right 1px solid #D8D5D5\n		.imgFitDrop\n			margin-top 2px !important\n			margin-bottom 21px\n			.options\n				top 27px\n\n		.imgRepeatDrop\n			width 100%\n			.options\n				&.openUp\n					bottom 28px\n		.fixedImgCheck\n			float left\n			color #646363\n			margin-top 10px\n		.save\n			display none !important\n			position absolute\n			left 10%\n			bottom 10px\n			width 80% !important\n			color #fff\n			background #000\n			font-size 12px !important\n			line-height 8px !important\n			&:hover\n				background lighten(purple, 10%)\n				color #FFF\n				box-shadow 0 -1px 0 #fff, 0 -1px 0 lighten(purple, 10%) inset\n			&:active\n				opacity .8\n		.add-link\n			display none\n			width 80%\n			margin 0 auto\n			margin-top 20px\n			margin-bottom -6px\n			.add-link-input\n				width 83%\n				display none\n			&.checked\n				.add-link-input\n					display inline-block\n				.addLinkText\n					display none\n		.nu-btn\n			&:first-child\n				margin-top 0px\n				margin-bottom -6px\n			&.active\n				&:hover\n					background #fff\n					color #000\n					box-shadow 0 -1px 0 #fff, 0 -2px 0 #eaeaea inset\n					border 1px solid #06deef\n\n		.none\n			display none\n\n\n		#all-image-cats\n			max-height 0px\n			overflow hidden\n			display none\n			.top-group\n				padding-top 10px\n				.categories\n					width 100%\n					left -6px\n					position relative\n					top -4px\n					> div\n						cursor pointer\n						width 100%\n						padding 8px 0px\n						font-family gibsonSemiBold\n						text-transform uppercase\n						font-size 12px\n						letter-spacing 0px\n						&:last-child\n							border-bottom none\n						&:hover\n							color lighten(#eb3d6b, 25%)\n						&.prompt\n							color #eb3d6b\n							&:hover\n								color #eb3d6b\n\n			&.open\n				padding-left 20px\n				left 7px\n				position absolute\n				width 92.3%\n				border none\n				border-top 0\n				border-radius 0px\n				padding-top 0\n				max-height 320px\n				overflow visible\n				//background #f8f8f8\n				top 0px\n				padding-bottom 0px\n\n\n	.uploadPhoto\n		display none\n\n		#imgFirstView\n			display block\n			position absolute\n			margin 0 auto\n			border 1px dashed #B9B8B8\n			text-align center\n			padding-top 40px\n			width 97.3%\n			height 96.3%\n			bottom 8px\n			left 9px\n			overflow hidden\n			background #edecec\n			#cropUploader\n				.ico-upload\n					display none\n			.imgIcon\n				color #dcdbdb\n				font-size 7.5em\n				max-height 1.1em\n			.upload-image-tip\n				padding-top 20px\n				font-size 12px\n				color #00DFED\n				display none\n			.qq-upload-button\n				padding 8px 27px\n				font-size 0.9em\n				margin-top 9px\n				background #ccc\n				color #fff\n			.pro-tip\n				width 318px\n				font-size 12px\n				margin 0 auto\n				margin-top 50px\n				line-height 20px\n				color #777676\n			.qq-upload-drop-area.grp\n				top -500px\n				position absolute\n				height 1010px\n				width 1000px\n				left -500px\n				opacity 0.125\n				background #7ef3fc\n			.dragText\n				font-size 15px\n				color #d3d3d3\n				text-transform uppercase\n				font-weight bold\n				margin-top 3px\n				margin-bottom 28px !important\n			.or\n				margin 20px 0 3px\n				color #ccc\n				text-transform uppercase\n				font-size 12px\n				letter-spacing 0px\n				font-weight bold\n			.uploadImgBtn\n				width 35%\n				margin 0 auto\n				margin-top 0px\n				font-size 12px\n				input['type=file']\n					position absolute\n					right 0px\n					top 0px\n					font-family Arial\n					font-size -webkit-xxx-large\n					margin 0px\n					padding 0px\n					cursor pointer\n					opacity 0\n			&.dragDrop\n				background lighten(blue, 95%)\n				border 2px dashed lighten(blue, 50%) !important\n				.dragText\n				.or\n					color lighten(blue, 55%) !important\n\n\n	#vidFirstView\n		text-align center\n		display none\n\n		#vidInput\n			width 75%\n			margin 0 auto\n			margin-top 140px\n			padding 20px 20px\n			text-align center\n			font-size 18px\n			&:focus\n				border 1px solid pink\n\n		#addVidBtn\n			width 26%\n			margin 0 auto\n			margin-top 12px\n			&:hover\n				background pink\n				color #fff\n				border 1px solid darken(pink, 20%)\n				box-shadow 0 -2px 0 darken(pink, 20%) inset\n\n	.latestPhoto\n	.latestVid\n		width 73.2%\n		margin-bottom 12px\n		max-width 557px !important\n		display none\n	.latestPhoto\n		padding 3px 18px 21px 24px\n		.crop-deets\n			display block\n			width 100%\n			text-align center\n			margin 0.7em 0 0.83em !important\n			font-family 'gibsonRegular'\n			background rgba(245, 245, 245, 0.27)\n			margin-top 0\n			border-radius 0 0 4px 4px\n			position relative\n			opacity 0.8\n			padding 0\n			p\n				float left\n				display block\n				width auto\n				height 22px\n				margin 0\n				text-align left\n				line-height 18px\n				color #999999\n				text-transform uppercase\n				font-family gibsonRegular\n				font-size 11px\n				letter-spacing 0px\n				font-weight bold\n			#disableCrop\n				width 124px\n				padding 0px\n				float right\n				font-family gibsonRegular\n				line-height 22px\n				padding-top 2px\n				top -5px\n				border 2px solid #1b1b1b\n				color #1b1b1b\n				font-weight bold\n				&:hover\n					background #1b1b1b\n					color #fff\n\n		.jcrop-holder\n				float left\n\n		.save\n			position absolute\n			right 13px\n			bottom 13px\n\n\n	.bottomBar\n		width 100%\n		float left\n		left 0\n		z-index 300\n		display none\n\n@media screen and (max-width:958px)\n	#cropAnyPhoto\n		.latestPhoto\n			position absolute\n			top 0px\n\n\n////\n/// Host Image\n//\n#host-image-wrap\n	height 41px\n\n#promo-connect\n	.nu-dropdown\n		.option\n			span\n				&:last-child\n					float right\n\n#emailPreview\n	::-webkit-scrollbar-thumb\n		background #C0C0C0 !important\n		box-shadow 0 0 0 1px #FFF inset !important\n	::-webkit-scrollbar-track\n		background #fff !important\n	table.dyno-font\n		line-height normal\n		tbody tr td.dyno-fonr\n			line-height 16px\n	.sending-invite-msg\n	.sending-invite-success\n	.over-the-limit\n		position fixed\n		top 50%\n		left 50%\n		width 294px\n		height 294px\n		transform: translateX(-50%) translateY(-50%)\n		background-color #eeeeee\n		padding 40px 30px 20px 25px\n		border-radius 4px\n		box-shadow 0px 4px 180px rgba(0, 0, 0, 0.5), 0px 4px 80px rgba(0, 0, 0, 0.5)\n		border 4px solid #555\n		color #555\n		text-shadow 1px 1px 0 white\n		text-align center !important\n		z-index 1\n		.thisLoader\n			.nu-loader\n				margin-left -77px\n				margin-top -77px\n				width 160px\n				height 160px\n				background-size 160px\n		.actions\n			.nu-btn\n				position absolute\n				right 20px\n				bottom 16px\n		> span\n			font-size 15px\n			top 42%\n			position relative\n			left 9px\n			text-align left !important\n\n	&.schedule-email\n		.sending-invite-success\n			span\n				margin-top 30px\n\n#emailPreview\n	.sending-invite-success\n		background #F3F3F3\n		color #000\n		text-shadow none\n		border 4px solid #fff\n		text-align center !important\n		transition opacity 2s\n		-webkit-transition opacity 2s\n		-moz-transition opacity 2s\n		-o-transition opacity 2s\n		opacity 0\n		span\n			width 100%\n			font-size 20px\n			color #000\n			text-align center !important\n			display block\n			margin-top 94px\n			font-family 'gibsonRegular'\n			top -12%\n			left 0\n	.preparing-text\n	.initiating-text\n	.sending-text\n		position absolute\n		left 2%\n		margin-top 34%\n		width 100%\n		font-family 'gibsonSemiBold'\n		font-size 18px\n\n#emailPreview\n	.over-the-limit\n		font-size 16px\n		z-index 10\n		height auto\n		width 400px\n		top 60%\n		#closeMoreEmails\n			font-size 14px\n			margin-top 30px\n			color #555555\n\n#edit-settings\n	min-width 670px\n	background #eee\n	position relative\n	#end-date-contain\n		position relative\n		&:before\n			content ''\n			border-left 6px solid #727272\n			border-top 5px solid rgba(0, 0, 0, 0)\n			border-bottom 5px solid rgba(0, 0, 0, 0)\n			position absolute\n			top 14px\n			left -14px\n			display block\n	&.onlyDate\n		min-width 670px\n		width 670px\n		min-height 205px\n		height 205px\n		#saveEventSettings\n			bottom 8px\n			position absolute\n			right 9px\n		.nu-input\n			top -1px\n		.actions\n			position absolute\n			bottom 0px\n		#event-start-timepicker\n		#event-end-timepicker\n		#event-start-time\n		#event-end-time\n			padding 7px 7px 6px\n			height 35px\n			top 0px\n			margin-top 1px\n			line-height 20px\n		#eventSettingsWrap\n			margin-top 2.5em\n			overflow visible !important\n		.tbdHolder.timeDate\n			width 345px !important\n	&.onlyVenue\n		min-width 670px\n		width 670px\n		min-height 200px\n		#saveEventSettings\n			position absolute\n			bottom 7px\n			right 8px\n		.actions\n			position absolute\n			bottom 0px\n		#eventSettingsWrap\n			margin-top 2.2em\n			#eventSettingsContain\n				position relative !important\n				padding-bottom 0px !important\n		#venue-zip\n			margin-bottom 60px\n		.address-search\n		.google-search\n			top 23px\n	&.onlyDate\n	&.onlyVenue\n		#topSettingsWrap\n			width 100%\n			float left\n			position absolute\n			height 60px !important\n			h3\n				padding 12px 10px 10px\n				font-size 36px\n\n		#upgradeBtn\n		#upgradeSprite\n			display none !important\n			display none !important\n		.actions\n			background rgba(0, 0, 0, 0)\n			height 50px\n			top auto\n			pointer-events none\n			.settingsSaveText\n				display none\n			.dateVenueSaveText\n				display block\n			#saveEventSettings\n				pointer-events all\n		#eventSettingsWrap\n			background rgba(0, 0, 0, 0)\n			overflow hidden\n			padding-bottom 0px !important\n			min-height 140px\n\n	#updateTitleOnPage\n		top 30px !important\n		left 368px !important\n		line-height 1.4em !important\n		right auto !important\n		width 180px !important\n		font-family 'gibsonLight'\n		font-size 13px\n		color #505050\n\n	h3\n		i.back\n			font-size 21px\n			left -5px\n			top -2px\n		span\n			&.pane1\n				display inline-block\n\n#plannersDropdown\n	background transparent !important\n	div[class*='letter-']\n		border-radius 100% !important\n		width 42px\n		margin 0 auto\n		.alpha-avatar\n			border-radius 100%\n			height 42px\n			.letter\n				position relative !important\n				line-height 44px\n				font-size 25px\n\n.rsvp-collect.ticketTotals\n	.bigTextWrap\n		width 100%\n		margin-top 0px\n		padding-bottom 3px\n	.unConfText\n		display inline\n		font-size 14px\n		margin-top -2px\n		text-transform none\n	.awaiting-wrap\n		small\n			font-size 11px !important\n\n	.rightWrap\n		padding-top 0px\n		height 23px\n		#awaitingBtn\n		#messageAwaitingReply\n			height 100%\n			padding-top 6px\n\n#discountCodesErrorMessage\n	color tomato\n	background #fff\n	width auto\n	text-align center\n	padding 6px 7px\n	position absolute\n	top 41px\n	right 10px\n	line-height 16px\n	font-size 13px\n	border-radius 4px\n	border 1px solid tomato\n	.dismissError\n		color tomato\n\n#rsvpSettingsErrorMessage\n	color tomato\n	background #fff\n	width 350px\n	text-align center\n	padding 6px 7px\n	position absolute\n	top 7px\n	right 190px\n	line-height 16px\n	font-size 13px\n	border-radius 4px\n	border 1px solid #ff6347\n	.dismissError\n		color tomato\n\n@media screen and (max-width:958px){\n	.ticket-quantity-wrap .order_min, .ticket-quantity-wrap .order_max{\n		width: 60px !important;\n	}\n\n	#ticket-settings-container .open .ticketTypeTable .typeRows .toggle-wrap .toggle-content > div.three-up .dates .datetime{\n		margin-right: 4px;\n		margin-left: 7px;\n	}\n\n	#mobile-checkin-link .hideSmall{\n		display: none;\n	}\n\n	#importAttendeeTable .fauxBtn{\n		padding-bottom 10px\n		padding-top 10px\n	}\n\n	#splash-ticket-order-discounts-form .prefs{\n		width: 95% !important;\n		margin: 0 auto !important;\n		margin-left: 7% !important;\n	}\n\n	#ticketUtils .litesaver-wrap{\n		padding-top:9px !important;\n	}\n\n	#planning-tools .subnav .right-util .addNewTicketOrderDiscount,\n	#planning-tools .subnav .right-util .addNewTicketType,\n	#planning-tools .subnav .right-util .addNewTrackingLink{\n		bottom: 0px !important;\n	}\n\n	#imgContentWrap{\n		top: 0.8em !important;\n	}\n\n}\n\n@media screen and (max-width:760px){\n\n	.ticket-quantity-wrap .order_min, .ticket-quantity-wrap .order_max{\n		width: 100px !important;\n	}\n\n	#ticket-settings-container .open .price.big-numbers{\n		width: 85% !important;\n	}\n\n}\n\n\n@media only screen and (max-device-width: 480px), only screen and (min-device-width: 560px) and (max-device-width: 1136px) and (-webkit-min-device-pixel-ratio: 2)\n	#access-code-error\n		margin-top -38px !important\n\n\n////\n/// TEMP HOLDING & HIDING\n//\n//.adminQuickStuff\n#change-page-action\n#event-contact-count\n	display none !important\n\n////\n///PLANNING ONLY PAGE\n//\n\nbody.forcePlanningToolsOpen\n	#design-link-wrap\n	#design-link\n	#preview-link\n	#nuToolBtns\n		display none\n	#splash-container\n		display none\n	#nuPlanBtns\n		.top-level\n			display none\n\nbody\n	#finetune-block\n		&.isScrolling\n			#allSectionsContain\n				overflow-y auto !important\n				#addReorderTools\n					position fixed\n					bottom 5.1em\n					width 18em\n					right 92px\n					padding-left 17px\n					padding-right 3px\n					background #FFF\n					z-index 2\n					box-shadow -2px -3px 8px -6px #000\n					margin-right 0px\n		#allSectionsContain\n			#finetune-layout-contain\n				border-bottom none\n				padding-bottom 1px\n				display block\n				.section\n					position relative\n					.accordion\n						display none !important\n					&.open\n						// temp pane\n						background #fff !important\n						border 0 !important\n						padding 0 !important\n						&:after\n							display none\n\n						> .title\n							display none !important\n							/*background #FFF !important\n							color #000\n							border-color rgba(0, 0, 0, 0)\n							width 100% !important\n							padding 0 14px\n							padding-left 10px !important\n							cursor default !important\n							font-size 22px\n							padding-top 2px !important\n							font-family 'gibsonSemiBold'\n							text-align center !important\n							top 3px */\n						.subText\n							display none !important\n						.hide-section.nu-checkbox\n							margin 30px 0px 0px 40px\n							clear both\n						.hideSecOpt\n							position relative\n							cursor pointer\n							float left\n							text-align center\n							width 48%\n							margin-top 24px\n							margin-bottom 24px\n							border-radius 7px\n							background blue\n							font-size 13px\n							color #fff\n							padding 8px\n							margin-left 0px !important\n							left 0px\n							&:hover\n								background blueDK\n							&.checked\n								background blueDK\n								&:hover\n									background blue\n							&:before\n							&:after\n								display none\n						.delete-section\n							position relative\n							cursor pointer\n							float left\n							text-align center\n							width 48%\n							border none\n							margin-top 30px\n							margin-bottom 24px\n							border-radius 50px\n							background #f00\n							line-height 28px\n							font-size 13px\n							margin-left 7px\n							color #fff\n							&:hover\n								background #D10101\n						.accordion\n							background rgba(0, 0, 0, 0) !important\n							display block !important\n						.content-inner-wrap\n							> .toggle-wrap\n							> .properties\n							> .blockImagesHolder\n								// width 86%\n								width 100%\n								margin 0 auto\n								float none\n					.blockImagesHolder\n						padding 0\n						margin-bottom 16px\n					.arrows\n						display none !important\n					.arrows\n						position absolute\n						width 32px\n						height 10px\n						left 6px\n						&.up\n							top 10px\n							&:after\n								content ''\n								border-left 1px solid #888\n								border-top 1px solid #888\n								width 6px\n								height 6px\n								position absolute\n								top 0\n								left 50%\n								margin-left -3px\n								transform rotate(45deg)\n							&:hover\n								&:after\n									border-color blue\n						&.down\n							bottom 10px\n							&:after\n								content ''\n								border-right 1px solid #888\n								border-bottom 1px solid #888\n								width 6px\n								height 6px\n								position absolute\n								top 0\n								left 50%\n								margin-left -3px\n								transform rotate(45deg)\n							&:hover\n								&:after\n									border-color blue\n\n#eventStateWrap\n	display block\n	float left\n	width 101%\n	padding 10px\n	text-align center\n	border 1px solid #D9D9D9\n	border-radius 5px\n	font-family 'gibsonLight'\n	margin-bottom 0px\n	margin-top 0px\n	background #FFF\n	height 2.8em\n	margin-bottom 7px\n	.eventStateBtn\n		display none\n		width 61px\n		padding 5px 2px !important\n		height 24px\n		line-height 14px\n		font-size 8px !important\n		float none\n		margin 0 auto\n		margin-bottom 6px\n		margin-top 10px\n		font-family 'gibsonLight'\n\n#buttonTabWrap\n	&.rsvp-closed\n		#eventStateWrap\n			box-shadow 0 0 0 0px #F03 inset, 0 0 0 1px #F03\n			background rgba(255, 0, 51, 0.04)\n	&.rsvp-open\n		#eventStateWrap\n			box-shadow 0 0 0 0px #03E16A inset, 0 0 0 1px #03E16A\n			background rgba(3, 225, 106, 0.04)\n\n	#rsvp-fontpicker\n		width 100%\n		margin-top 14px\n		margin-bottom 5px\n	.border-picker\n		margin-bottom 9px\n		margin-top 7px\n\n.nav-item\n	.edit-tools\n		z-index 10\n\n\n\n\n////\n/// C3 Color Wheel\n//\n\n// body.editLinks\n// body.editColors\n// body.editSwatchColor\n// 	#swatchDonutWrap\n// 		margin-bottom .3em\n\n\n\n\n#swatchDonutWrap\n	padding 0 1em\n	padding-bottom 23px\n	.swatchMask\n		max-height 160px\n		top -35px\n		position relative\n		width 215px\n\n	#color-picker-wrap\n		display none\n		> div\n			display none\n			&.active\n				display block\n		.sp-button-container\n			display none\n		.sp-palette-row\n			display none\n			&:first-child\n				display block\n			.sp-thumb-el\n				&:nth-child(1n + 6)\n					display none\n\n\n\n#swatchBtn\n#advSwatchBtn\n	position absolute\n	top 120px\n	left 50%\n	background #fff\n	color #d9d9d9\n	border-radius 100%\n	width 5em\n	height 5em\n	line-height 5.2em\n	text-align center\n	box-shadow 0 0 0 6px #fff\n	cursor pointer\n	transform translateX(-50%) translatey(-50%)\n	&:before\n		font-size 1.7em\n		top 0.1em\n		left 0em\n		position relative\n		display block\n	&:hover\n		background #3c3c3c\n\n/* GOING ROUGE - Makinng basic mode basic again */\nbody\n	&:not(.advMode):not(.designerMode)\n		#swatchDonut\n			pointer-events none\n		.rsvp-picker-wrap\n			display none !important\n		&.finetune #splash-container div[id^=\"g-\"]\n			.element-rsvp .edit-tools-layout\n				min-width none !important\n\n\n#avatar-modal\n	width 500px\n	border-radius 0 !important\n	//hover effect on circular prof pic\n	#avatar-img-holder\n		position relative\n		&:after\n			display none\n			content: 'upload';\n			position: absolute;\n			width: 100%;\n			height: 100%;\n			top: 0;\n			left: 0;\n			text-align: center;\n			color: #fff;\n			text-shadow: 2px 2px 3px #000;\n			font-weight: 800;\n			height: 17px;\n			background: rgba(48, 151, 114, 0.88);\n			margin-top: 30px;\n			line-height: 15px;\n			font-weight: 100;\n			font-size: 14px;\n			letter-spacing: 2px;\n		&:hover\n			&:after\n				display block\n	.headWrap\n		background #1b1b1b\n		display block\n		float left\n		width 100%\n		padding 20px 14px 5px 14px\n		height: 105px;\n		position relative\n		.avatar-wrap\n			float left\n			margin 0 12px\n			.avatar\n				width 70px\n				height 70px\n				border-radius 100%\n			input[type=\"button\"]\n				border 1px solid #000\n				background rgba(0,0,0,.4)\n				color #fff\n				font-size 10px\n	.top-bit\n		float left\n		text-align left\n		font-family gibsonLight\n		line-height 23px\n		margin-top 11px\n		margin-left 10px\n		color #fff\n		.account-name\n			font-size 30px\n		.user-email\n			font-size 14px\n	.settings-link\n		display block\n		position absolute\n		right 20px\n		top 50%\n		color #888888\n		cursor pointer\n		margin-top: -15px;\n		&:before\n			font-size 30px;\n		&:hover\n			color darken( #888, 20%)\n	.bottomWrap\n		.mode-toggler-wrap\n			background: #fff;\n			height: 100px;\n			margin: -30px -30px 0 -30px;\n			line-height: 100px;\n			.inline-mid\n				display inline-block\n				*display inline\n				*zoom 1\n				vertical-align middle\n				&.label\n					font-size: 15px;\n					margin-right: 50px;\n					color: #999;\n					text-transform: uppercase;\n					letter-spacing: 1px;\n		clear both\n		background #f4f4f4\n		padding 30px\n		.avatarBtn\n			display block\n			margin 0 auto\n			padding 20px 10px\n			color #fff\n			font-family gibsonRegular\n			margin-bottom 4px\n			cursor pointer\n			font-size 17px\n			font-weight 600\n			&:last-child\n				margin-bottom 0px\n			&[data-link=\"dashboard\"]\n				background #ff2c5e\n			&[data-link=\"community\"]\n				background #72d7b4\n			&[data-link=\"emails\"]\n				background #fead65\n			&[data-link=\"photos\"]\n				background #bc85e6\n			&[data-link=\"groups\"]\n				background #85c7e6\n			&:hover\n				opacity .76\n\n.toggle-wrap.outer-title\n	display none\n\n#finetune-block[tab=\"theme\"]\n	.toggle-wrap.outer-title\n		display block\n	#dev-tools-btn\n		top 3px\n\n.toggle-wrap.outer-title\n	font-family gibsonRegular\n	font-size 12px\n	color #9b9b9b\n	padding 4px 5px 1px\n	background #fafafa\n	z-index 1\n	position relative\n	width 100%\n	text-transform uppercase\n	float left\n	transition width .15s linear\n	&.active\n		width 80%\n	> span\n		line-height 28px\n		letter-spacing 1px\n\n	// this gets tabbed back inside\n	// of the above block when we\n	// push new desginer toggle\n	#designer-toggle\n		float right\n		&:before\n		&:after\n			font-size 8px\n			position relative\n			font-family gibsonSemiBold\n			top 3px\n		&:after\n			content 'OFF'\n			color #b4494f\n			left 4px\n		&:before\n			content 'ON'\n			color #477d43\n			left -3px\n\n\n.custom-editor .splashui-inner\n	width 525px\n\nbody.advMode\n	.toggle-wrap.outer-title\n		width 80%\n\n#designer-toggle\n#builder-toggle\n	width 45px\n	height 24px\n	border-radius 5px\n	background #f06168\n	position relative\n	cursor pointer\n	transition background .15s linear\n\n	// bring this back\n\n	// also bring this back\n\n	.toggle-circ\n		position absolute\n		top 2px\n		left 2px\n		width 20px\n		height 20px\n		background #fff\n		border-radius 5px\n		transition left .15s linear\n		z-index 2\n		&:before\n		&:after\n			content ''\n			width 2px\n			height 7px\n			position absolute\n			display block\n			background #ebebeb\n			top 6px\n		&:before\n			left 7px\n		&:after\n			left 11px\n	&.active\n		background #7ec479\n		.toggle-circ\n			left calc(100% - 21px)\n\n#advSwatchBtn\n	background #292929 !important\n	#unLinkColor\n		background #FFF\n		cursor pointer\n		color #F57B7D\n		box-shadow 0 0 0 1px #F57B7D, 0 0 0 2px #F57B7D inset\n		position absolute\n		top 50%\n		left 50%\n		width 100%\n		height 100%\n		width 100%\n		border-radius 100%\n		transition .1s linear\n		transform translateX(-50%) translateY(-50%)\n		&:before\n			font-size 1.4em\n		&:hover\n			background #494949\n			color #fff\n	.prev-swatch\n	.next-swatch\n		position absolute\n		width 50%\n		height 100%\n		top 0\n		background #fff\n		box-shadow 0 0 0 1px #ebebeb\n		&:before\n			top 50%\n			position absolute\n			font-size 12px\n			color #828282\n		&:hover\n			background #fafafa\n			&:before\n				color #292929\n	.prev-swatch\n		left 0\n		border-radius 100px 0 0 100px\n		&:before\n			right 50%\n			margin-right: 0.6em;\n			transform: translateX(50%) translateY(-50%);\n	.next-swatch\n		right 0\n		border-radius 0 100px 100px 0\n		&:before\n			left 50%\n			margin-left: 0.6em;\n			transform: translateX(-50%) translateY(-50%);\n\n.editSwatchColor\n	&.advMode\n	&.designerMode\n		#addColorBtn\n		#delColorBtn\n		.applyTitle\n			display none !important\n		#swatchDonutWrap\n			#color-picker-wrap\n				display block\n		#done-linking\n			display none !important\n\n\n///\n// When we see which swatch buttons\n\n.advMode\n	#swatchBtn\n		display none\n	// &:not(.editSwatchColor):not(.editLinks)\n	// 	#swatchBtn\n	// 		display block\n	.outer-title .edit-link-btn\n		display inline-block !important\n	&.editColors\n		#swatchDonutWrap\n			&.editing\n				#swatchBtn\n					display block\n		// #advSwatchBtn\n		// 	display none\n\n\n.editColors\n.editFonts\n	#swatchBtn\n		background #fff !important\n		box-shadow 0 0 0 6px #fff !important\n		cursor default !important\n		&:before\n			display none !important\n\n#colorSwatchContain\n	&:not(.chooseColor)\n		#unLinkColor\n			display none !important\n	&.chooseColor\n		> .outer-title:before\n			content 'Choose a color to link'\n			background #54B04E\n			position absolute\n			top 0\n			right 0\n			left 0\n			bottom 0\n			line-height 2.3\n			text-align center\n			color #FFF\n			border-radius 2px\n			letter-spacing .02em\n		#swatchDonutWrap\n			box-shadow 0 0 0 2px #7EC479 inset\n		#addColorBtn\n		#delColorBtn\n			display none !important\n		#advSwatchBtn\n			#unLinkColor\n				display block\n		.link-opt\n			&:not(.active)\n				opacity .3\n		&.linking-layout\n			.link-opt.active\n				.link-text\n					opacity .3\n\n		&.linking-text\n			.link-opt.active\n				.link-layout\n					opacity .3\n\n.link-to-swatch-holder\n	.link-targets\n		.link-layout\n		.link-text\n			color #c0c0c0\n			&.active\n				color #171717\n\nbody\n	#fontComboContain\n		&.singleCombo\n			#fontFamilyHead\n				.prevBtn\n				.nextBtn\n				#fontDotWrap\n					display none !important\n	&.editColors\n		.outer-title .edit-link-btn\n		#fontComboContain\n			display none !important\n		.outer-title.smart-txt\n			> .left\n				&:after\n					content ''\n				.first-word:before\n					content 'Current' !important\n		#colorSwatchContain\n			margin-bottom 2em\n			// padding-bottom 	1.5em\n	&.editFonts\n		.outer-title .edit-link-btn\n		#colorSwatchContain\n			display none !important\n		#fontComboContain\n			height auto !important\n			padding-bottom 0px !important\n		.outer-title.smart-txt\n			> .left\n				&:after\n					content '' !important\n				.first-word:before\n					content 'Current' !important\n\n		#fontFamilyHead\n			.current .font-type:last-child\n				display block\n	&.editColors\n	&.editFonts\n		#fontComboContain\n		#colorSwatchContain\n			> span:before\n				content 'EDITING '\n		.outer-title.smart-txt\n			&:before\n				content '\\e889'\n				font-family fontello\n				float left\n				margin-right 1em\n				color #000\n\n	#swatchBtn\n		cursor pointer !important\n		top 120px\n		&:before\n			display inline-block !important\n\n\n#swatchDonutWrap\n	#swatchBack\n		background-image url(\"/img/transparent.png\")\n		background-size cover\n		position absolute\n		height 201px\n		width 94%\n		border-radius 100%\n		z-index -1\n		left 50%\n		transform translateX(-50%)\n		top 56px\n		&:after\n			content ''\n			position absolute\n			width 100%\n			height 200px\n			background #fff\n			top 101px\n	#swatchDonut\n		width 200px\n		// Hide slice labels\n		text\n			display none\n		.c3-target\n			transform scale(1)\n\n		g.c3-chart-arc.c3-target\n			stroke #E6E6E6\n			stroke-width 1\n		.c3-shape\n			opacity 1 !important\n	&.editing\n		#swatchDonut\n			.c3-target\n				transform scale(1)\n				&.active\n					transform scale(1.025)\n\n.editColors\n	#swatchBtn\n		box-shadow 0 0 0 6px #E7E7E7\n\n.combo-title\n	font-size 12px\n	text-transform uppercase\n.link-opt\n	width 100%\n	display block\n	color #8c8b8b\n	border-radius 6px\n	cursor pointer\n	font-size 12px\n	padding .5em\n	float left\n	.name\n		float left\n		text-transform uppercase\n		width 70%\n		width calc(100% \\- 12.1em)\n		overflow hidden\n		text-overflow ellipsis\n		font-size 0.8em\n		white-space nowrap\n		color #A1A0A0\n		letter-spacing .15em\n		font-family 'gibsonSemiBold'\n		top 0.3em\n		position relative\n		&:hover\n			color #333333\n	.link-swatch\n		display none\n	.link-targets\n		float right\n		color #8c8b8b\n		> span\n			cursor pointer\n			margin-left 6px\n			padding 6px\n			border-radius 100%\n			position relative\n			top 2px\n			border 1px solid transparent\n			&:hover\n				color #171717\n			&.active\n				color #171717\n	.link-layout\n	.link-text\n		&:before\n			position relative\n			top -.3em\n\n	.colorPreview\n		display inline-block\n		width 17px\n		height 17px\n		border-radius 2px\n		box-shadow 0px 0px 0 2px #ccc inset\n		background url(\"/img/transparent.png\")\n		background-size initial\n		background-position 1px 1px\n	&.active\n		&.text\n		&.layout\n			.link-swatch\n				display block\n				width 100%\n				height 30px\n				margin-top 30px\n				.link-color\n					height 100%\n					border 1px solid #fff\n				&:hover\n					.link-color\n						opacity .25\n						&:hover\n							opacity 1\n\n\n////\n/// Font Linking\n//\n\n\n.font-fam-icon\n	background #F7F7F7\n	color #3a3a3a\n	width 3em\n	padding 0\n	padding-top 100%\n	position relative\n	display inline-block\n	> span\n		position absolute\n		top 50%\n		left 50%\n		font-size 1.2em\n		transform translateX(-50%) translateY(-50%)\n	.font-name-tip\n		position absolute\n		top 100%\n		left 50%\n		width 100px\n		margin-top 1em\n		whitespace nowrap\n		text-align center\n		text-overflow ellipsis\n		background #4e4e4e\n		color #fff\n		font-size .9em\n		padding .3em 0.5em\n		border-radius 4px\n		pointer-events none\n		display none\n		transform translateX(-50%)\n		&:before\n			content ''\n			position absolute\n			bottom 100%\n			left 50%\n			border-bottom 4px solid #4e4e4e\n			border-right 4px solid transparent\n			border-left 4px solid transparent\n			transform translateX(-50%)\n		&:after\n			content ''\n			position absolute\n			right 0\n			top 0\n			height 100%\n			width 2em\n			border-radius 0 4px 4px 0\n			background linear-gradient(to left, #4e4e4e, rgba(0, 0, 0, 0))\n	&:hover\n		.font-name-tip\n			display block\n\n\n#fontFamilyHead\n.theCombo\n	.font-fam-icon\n		width 2em\n		padding-top 2em\n		margin 0 0.1em\n		cursor pointer\n		border 1px solid transparent\n		> span\n			font-size .8em\n\nbody:not(.advMode):not(.designerMode)\n	#fontFamilyHead\n		.font-fam-icon\n			cursor default\n\n#fontFamilyHead\n	.font-fam-icon\n		width 2em\n		padding-top 2em\n		&.has-1\n		&.has-2\n			width 4em\n			padding-top 4em\n			.font-name-tip\n				margin-top 2.4em\n		&.has-3\n			width 3em\n			padding-top 3em\n			.font-name-tip\n				margin-top 1.8em\n		&.has-4\n			width 2em\n			padding-top 2em\n			.font-name-tip\n				margin-top 1em\n		&.has-5\n			width 1.5em\n			padding-top 1.5em\n			.font-name-tip\n				margin-top 0.7em\n		&:hover\n			border 1px solid #4e4e4e\n		&.active\n			background #54B04E\n			color #fff\n			border 1px solid #54B04E\n			.font-name-tip\n				display none\n\n\n\n.theCombo\n	.font-fam-icon\n		.font-name-tip\n			display none\n\n#fontFamilyHead\n	.wrap\n		position absolute\n		width 100%\n		top 50%\n		transform translateY(-50%)\n\n.font-linking-wrap\n	margin-top 0.5em\n	border 1px solid #ebebeb\n	display none\n	.edit-font-set\n		border-bottom 1px solid #ebebeb\n		.utils-wrap\n			// border-bottom 1px solid #EBEBEB\n			padding-bottom 1em\n			margin-bottom 1em\n		.font-combo-prev\n		.font-combo-next\n			position absolute\n			top 50%\n			left 0\n			color #a0a0a0\n			transform translateY(-50%)\n			&:hover\n				color #303030\n		.font-combo-next\n			left auto\n			right 0\n	.font-family\n		position relative\n		border 1px solid #ebebeb\n		color #6a6a6a\n		margin-bottom 0.5em\n		user-select none\n		cursor pointer\n\n		.font-fam-icon\n			float left\n			width 23%\n			padding-top 23%\n			.font-name-tip\n				display none\n		.font-name\n			padding 1em 1em 0 1em\n			float left\n			width 100%\n			width calc(100% \\- 25% \\- 2em)\n			text-overflow ellipsis\n			white-space nowrap\n			overflow hidden\n		.nu-dropdown\n			height auto\n			box-shadow none !important\n			border none !important\n			.current\n				padding 0\n				line-height 1.2\n				&:after\n					content '\\e88a'\n					position absolute\n					top 1.5em\n					right 1em\n					font-family fontello\n					font-size .8em\n			&.open\n				.current\n					&:after\n						transform rotate(180deg)\n			.options\n				position relative\n				top 0\n				box-shadow 0 0 0 1px #EBEBEB\n				border-radius 0\n				max-height 16em\n				overflow-x hidden\n				overflow-y auto\n				> .option\n					line-height 1\n					color #6A6A6A\n					&:hover\n						color #303030\n						background #fafafa !important\n		.unlink-font-family\n			position absolute\n			top 0\n			right 0\n			height 100%\n			width 2em\n			text-align center\n			display none\n			&:before\n				position absolute\n				top 50%\n				left 0\n				width 100%\n				text-align center\n				margin 0\n				padding 0\n				transform translateY(-50%)\n			&:hover\n				background #f57a7c\n				color #fff\n\n#unlink-font-family\n	display none\n	color #F57B7D\n	position relative\n	font-size .7em\n	margin-bottom -.15em\n	&:after\n		content ''\n		position absolute\n		top 50%\n		left 50%\n		width 100%\n		height 100%\n		border 2px solid #F57B7D\n		border-radius 100%\n		transform translate(-50%,-50%)\n\n.editFonts\n	.font-linking-wrap\n		display block\n	#fontFamilyHead\n		display none !important\n\n#fontLinkControl\n	&.no-links\n		&:before\n			content 'No Elements Linked'\n			display block\n			text-align center\n			font-size 0.8em\n			padding 1em 2em 0.5em 2em\n			font-family 'gibsonSemiBold'\n			color #636160\n			letter-spacing 0.05em\n			text-align left\n		&:after\n			content \"You can add an element by choosing 'Link to Font' from it's styles pane\"\n			display block\n			width 100%\n			white-space normal\n			color #9C9C9C\n			padding 0 2em 1em\n			float left\n			font-size 0.8em\n			box-sizing border-box\n	.link-opt\n		padding-bottom 0\n		.name\n			padding-top .8em\n		.link-targets\n			.font-fam-icon\n				.font-name-tip\n					display none\n				&.not-linked\n					background #fff\n					box-shadow 0 0 0 1px #f0f0f0 inset\n					color #d5d5d5\n					&:before\n						content '\\e862'\n						font-family 'fontello'\n						position absolute\n						top 50%\n						left 0\n						width 100%\n						text-align center\n						margin 0\n						padding 0\n						transform translateY(-50%)\n\n		&:hover\n			.name\n				color #54B04E\n			.link-targets\n				.font-fam-icon\n					box-shadow 0 0 0 1px #54B04E inset\n\n// when linking fonts\n#fontComboContain\n	&.editing\n		> .outer-title:before\n			content 'Choose a font to link'\n			background #54B04E\n			position absolute\n			top 0\n			right 0\n			left 0\n			bottom 0\n			line-height 2.3\n			text-align center\n			color #FFF\n			border-radius 2px\n			letter-spacing .02em\n		#unlink-font-family\n			display inline-block\n		#remove-font-family\n		#add-font-family\n		.font-linking-wrap .font-combo-prev\n		.font-linking-wrap .font-combo-next\n		.font-linking-wrap .font-family .nu-dropdown .current:after\n			display none\n\n		.edit-font-set\n			box-shadow 0 0 0 2px #7EC479 inset\n\n		.link-opt.active\n			.name\n				color #54B04E\n			.font-fam-icon\n				background #54B04E\n				color #fff\n\n// element linking fonts\n.fontComboWrap\n	.font-combo\n		padding-left 1.5em\n		position relative\n		&.active:before\n			content '\\e889'\n			position absolute\n			font-family 'fontello'\n			top 46%\n			left 0\n			transform translateY(-50%)\n\n.font-combo-opt\n	width 2.2em\n	padding-top 2.2em\n	font-size 12px\n	margin 0px 2px\n	border 1px solid #eee\n	.font-name-tip\n		display none !important\n	&.unlink-font\n		background none\n	&:hover\n		border 1px solid #333\n		cursor pointer\n	&.active\n		border 1px solid #54B04E\n		background #EDF8EC\n\n\n// editing font sets for designer mode\n#designer-font-edit\n	.font-family\n		margin-bottom 0\n		.nu-dropdown\n			.current\n				display none\n			.options\n				display block !important\n\n\n\n.linking-helper\n	background #CFE9CD\n	color #fff\n	display none\n\n// Only see this in bolt\n#colorSwatchContain\n	margin-bottom 1em\n	.link-swatch\n		display none !important\n\n.editColors\n	#swatchDonutWrap\n		background #fff\n		border 1px solid #EBEBEB\n		margin-top .5em\n		border-bottom none\n		&:hover\n			#delColorBtn\n			#addColorBtn\n				display block\n				cursor pointer\n	#swatchDonut\n		width 256px\n\n// After selecting a color, show it's links\n.editLinks\n	#done-linking\n	.applyTitle\n		display block\n	#delColorBtn\n	#addColorBtn\n	#advColorWrap\n		display none !important\n\nbody\n	//#swatchDonut\n	//	pointer-events none\n	&.advMode:not(.editColors)\n		///#swatchDonut\n		//	pointer-events none\n	&.editColors\n		&.advMode\n		&.designerMode\n			&:not(.editLinks)\n				#swatchDonut\n					pointer-events auto\n			&.editSwatchColor:not(.editColors)\n				#finetune-back-btn\n					display none !important\n	&.editSwatchColor:not(.editColors)\n		&:not(.advMode):not(.designerMode)\n			#themeList\n			#fontComboContain\n				display none !important\n\n\n////\n/// Color Wheel\n//\n\n// The size of the pie\npsize = 160\n// Size of slice = 360 / number of slices\npslice = 360/5\n\n#pieContainer\n	width (psize)px\n	height (psize)px\n	margin 0 auto\n	position relative\n	top 0\n	left 50%\n	margin-left -(psize/2)px\n	.pieBackground\n		background-color #eee\n		position absolute\n		top 0\n		left 0\n		width (psize)px\n		height (psize)px\n		border-radius (psize/2)px\n	.pie\n		position absolute\n		width (psize)px\n		height (psize)px\n		border-radius (psize/2)px\n		clip rect(0px, (psize/2)px, (psize/2)px, 0px)\n		cursor pointer\n		overflow hidden\n		.spectrum-input\n			height (psize/2)px\n			box-shadow none\n		.sp-replacer\n			cursor pointer\n			border-radius 0\n			border 0\n			position relative\n			display block\n			width 100%\n			height (psize/2)px\n			z-index 200\n			overflow visible\n			.sp-preview\n				width 100%\n				border none\n				float right\n				margin-right 0\n				left 0\n				height 100%\n				top 0\n				border-radius 0\n				.inner\n					border-radius 0\n	.hold\n		pointer-events none\n		position absolute\n		width (psize)px\n		height (psize)px\n		border-radius (psize/2)px\n		clip rect(0px, (psize)px, (psize/2)px, (psize/2)px)\n		transition all .1s linear\n		// border between slices\n		&:after\n			content ''\n			position absolute\n			width 1px\n			height 70px\n			background #f0f0f0\n			z-index 28\n			top 1px\n			right 79px\n		&:hover\n			transition all 0 linear\n		.pie\n			transform rotate((pslice)deg)\n			pointer-events auto\n			border 1px solid #F0F0F0\n			// &:hover\n			// 	opacity .8\n\n	#pieSlice1\n		transform rotate(0deg)\n		&:hover\n		&.active\n			transform translateY(-2%) translateX(2%) rotate(0deg) scale(1.02)\n	#pieSlice2\n		transform rotate((pslice)deg)\n		&:hover\n		&.active\n			transform translateY(1%) translateX(3%) rotate(72deg) scale(1.02)\n	#pieSlice3\n		transform rotate((pslice*2)deg)\n		&:hover\n		&.active\n			transform translateY(2%) translateX(0%) rotate(144deg) scale(1.02)\n	#pieSlice4\n		transform rotate((pslice*3)deg)\n		&:hover\n		&.active\n			transform translateY(1%) translateX(-3%) rotate(216deg) scale(1.02)\n	#pieSlice5\n		transform rotate((pslice*4)deg)\n		&:hover\n		&.active\n			transform translateY(-2%) translateX(-2%) rotate(288deg) scale(1.02)\n\n	#donutHole\n		display block\n		position relative\n		left 50%\n		top 50%\n		transform translateX(-50%) translateY(-50%)\n		height 70px\n		width 70px\n		background #FFF\n		border-radius 100%\n		box-shadow 0 0 0 1px rgba(0, 0, 0, 0.05) inset, 0 3px 3px rgba(204, 204, 204, 0.3) inset\n		#donutText\n			width 50px\n			word-wrap break-word\n			display block\n			white-space normal\n			text-align center\n			font-size 12px\n			line-height 15px\n			position relative\n			top 50%\n			left 49%\n			transform translateY(-50%) translateX(-50%)\n\n.editingColors\n	#donutText\n		font-family 'gibsonSemiBold'\n\n#live-link\n	position fixed\n	bottom 76px\n	right -200px\n	background rgba(0,0,0,.85)\n	border-radius 4px\n	padding 10px 30px 18px 30px\n	color #fff\n	font-size 20px\n	z-index 10\n	transition all .4s linear\n	display none\n	&.active\n		right 10px\n		.burst.chameleon\n			z-index 0\n			position:  absolute\n			border-radius 50%\n			transition all .4s linear\n			opacity 1\n			background-color #03e1ff\n			width 60px\n			height 60px\n			top -12px\n			right -24px\n			/*animation chameleon 4s linear infinite*/\n			img\n				position absolute\n				top 11px\n				left 11px\n				width 40px\n				transition all .4s linear\n#exportAttendeesList\n	background #f8f8f8\n	width 700px\n	.instructions\n		margin-left 23px\n	label\n		float left\n		clear left\n		font-size 0.8em\n	.limitWrap\n		.limitOptions\n			display none\n		&.open\n			.limitOptions\n				display block\n				margin-left 20px\n	#saveAttendeeExport\n		object\n			position absolute\n			left 0\n			top 0\n	.cancel\n		color tomato\n		background none\n		border none\n		box-shadow none\n	#attendeeResetFilters\n		cursor pointer\n		font-size 14px\n\n//\n// A nice little css iPhone\n\n// The body\n.iphone-icon\n	width 8px\n	height 13px\n	display inline-block\n	position relative\n	background #aeafaf\n	top 3px\n	margin-right 7px\n	// The Screen\n	&:before\n		content ''\n		position absolute\n		top 2px\n		left 2px\n		width 4px\n		height 7px\n		background white\n	// The button\n	&:after\n		position absolute\n		bottom 1px\n		left 50%\n		margin-left -1px\n		width 2px\n		height 2px\n		line-height 2px\n		text-align center\n		border-radius 50%\n		background #EEE\n		content ''\n		color white\n\n#mobile-checkin-link\n	&:hover\n		.iphone-icon\n			background #fff\n			&:before\n				background green\n			&:after\n				background green\n				color green\n\n#tempStageView\n	position fixed\n	z-index 2\n	top 10px\n	left 50%\n	left calc( 50% \\- 46px )\n	transform translateX(-50%)\n	font-size .7em\n	text-transform uppercase\n	.inner\n		margin 0 auto\n		display inline-block\n		width auto\n		text-align left\n		background rgba(0,0,0,.8)\n		color #ffffff\n		border 1px solid #333333\n		box-shadow 1px 1px 10px #000000\n		border-radius 3px\n		> span\n			float left\n	.currentPub\n		padding-right 2em\n		background rgba(0, 226, 139, 0.6)\n		border-radius 2px 0 0 2px\n	.currentPub\n	.currentView\n		float left\n		padding 0.5em 1em 0.3em 1em\n	.currentView\n		border-radius 0 2px 2px 0\n	.mr2\n		margin-right 2em\n	.green\n		color green\n	.yellow\n		color yellow\n\n	.nu-btn\n		background #eee\n		box-shadow none\n		border none\n		&:hover\n			&#publishStage2\n				background green\n				color #fff\n			&.exit\n				background #ff3300\n\n// EVENT HUBS\n\n\n#eventHubSimpleModal\n	::-webkit-scrollbar-thumb\n		background #C0C0C0 !important\n		box-shadow 0 0 0 1px #FFF inset !important\n	::-webkit-scrollbar-track\n		background #fff !important\n	.close-modal\n		top 0px\n\n	.eventHubStuffWrap\n		width 90%\n		margin 0 auto\n		min-width 380px\n\n		#event-hub-selector\n			.current\n				line-height 39px\n				padding-left 12px\n			&:after\n				right 17px !important\n\n	.actions\n		padding 0px\n		height 35px\n		margin-bottom 5px\n		.cancel\n			color rgb(51, 51, 51) !important\n			font-size 13px !important\n			bottom 17px\n			position absolute\n			left 20px\n			&:hover\n				background transparent !important\n				color #f00 !important\n				border none !important\n				box-shadow none !important\n\n// END OF EVENT HUBS\n\n.finetuneOpen\n	#tempStageView\n		width auto\n		left calc( 100% \\- 9em \\- 92px )\n\n	// &.closed\n	// 	opacity 0\n	// &:hover\n	// 	background #000\n	// 	box-shadow 0 0 2px 1px #fff\n	// 	.close\n	// 		opacity 1\n	// 	.burst.chameleon\n	// 		width 100px\n	// 		height 100px\n	// 		top 6px\n	// 		right 126px\n	// 		img\n	// 			top 20px\n	// 			left 21px\n	// 			width 60px\n	// 			transform rotate(-360deg)\n	// .close\n	// 	position absolute\n	// 	top 0\n	// 	right 2px\n	// 	color #fff\n	// 	opacity 0\n	// 	z-index -1\n	// 	transition opacity .15s linear .5s\n	// 	&:hover\n	// 		color tomato\n\n\n\n#attendeeTablea\n	tbody\n		&.refunded\n			background rgba(255, 0, 0, 0.02)\n		tr\n			&.selected\n			&:hover\n				background #ff6ea2\n				color #fff\n				td\n					.attendee-edit.icon-f-pencil\n						color #fff !important\n						font-size 14px\n						margin-right 3px\n\n// @2.OH\n// #main-canvas\n// 	div.onPageAddSec\n// 		position static\n// 		top 100%\n// 		width 100%\n// 		padding 0\n// 		text-transform uppercase\n// 		background #FFF\n// 		color #171717\n// 		font-family 'gibsonSemiBold'\n// 		font-size 1em\n// 		display inline-block\n// 		width auto\n// 		letter-spacing .05em\n// 		border 2px solid #171717\n// 		padding 0.5em 1em\n// 		text-align center\n// 		cursor pointer\n// 		border-radius 50px\n// 		left 50%\n// 		transition opacity .075s linear\n// 		opacity 0\n// 		margin-top 4em\n// 		#onPageAddSec\n// 			opacity 0\n// 		&:before\n// 			font-size 20px\n// 			position relative\n// 			top -2px\n// 			left -4px\n// 		&:hover\n// 			background #171717\n// 			color #fff\n// 		&.fixedBtn\n// 			transition opacity .15s .25s linear\n// 			display none !important\n// 	&.darkBG\n// 		div.onPageAddSec\n// 			color #fff\n// 			background rgba(255, 255, 255, 0.12)\n// 			&:hover\n// 				background rgba(255, 255, 255, 0.16)\n\n// 	.drop-area\n// 		div.onPageAddSec\n// 			position absolute\n// 			margin-top 0\n// 			transform translateX(-50%) translateY(-50%)\n// 		&:hover\n// 			div.onPageAddSec\n// 				opacity 1\n\n/*\nbody.finetuneOpen\n	#main-canvas\n		div.onPageAddSec\n			left calc(50% \\- 4.8em)\n*/\n\n#main-canvas\n	.isModal\n		display none\n\nbody.isMobile\n	#cropAnyPhoto\n		position fixed\n		left 50%\n		width 80%\n		transform translateX(-50%)\n		top 20px\n\nbody\n	&.fixFooter\n		#footer\n			position fixed\n			bottom 0px\n			width 100%\n			z-index 1\n		&.finetune\n			#footer\n				width 100%\n				width calc(100% \\- 92px)\n		&.finetuneOpen\n			#footer\n				width 100%\n				width calc(100% \\- 92px \\- 18em)\n\n#splash-container\n	.element-rsvp\n		&.hovering\n			#rsvp-color-input-on-page\n			#rsvp-bg-color-picker-on-page\n				display block\n\n\n.rsvp-picker-wrap\n	right 3px\n	top 0px\n	float right\n	background transparent !important\n\n.button-picker-wrap\n.button-color-wrap\n.button-bg-wrap\n	background transparent !important\n	&:hover\n		background transparent !important\n\n.button-color-input-on-page\n.button-bg-color-picker-on-page\n	width 22px !important\n	height 22px !important\n	border-radius 100% !important\n	float left\n	min-width 0px !important\n	border 2px solid rgba(255,255,255,1) !important\n	&:hover\n		border 2px solid rgba(255,255,255,1) !important\n&.open-color-picker\n	display inline-block !important\n	position absolute\n	left 4px\n.rsvp-color-wrap\n.rsvp-bg-wrap\n	float left\n	background transparent !important\n	box-shadow none !important\n	min-width 22px !important\n	padding-right .3em !important\n	padding-left .3em !important\n\n	&:hover\n		background none !important\n\n	.sp-replacer\n	.sp-preview\n		width 22px !important\n		height 22px !important\n		padding 0 !important\n		.sp-dd\n			display none !important\n	.sp-replacer\n		overflow hidden\n		border-radius 100%\n		box-shadow 0 0 0 2px #FFF\n\n	.sp-preview-inner\n		height 22px !important\n		top 0px !important\n		left 0px !important\n		position absolute !important\n\n	.sp-replacer\n		top -2px\n		right -6px !important\n		left auto !important\n	.sp-preview\n		top 0px\n		right 0px\n		border-radius 100% !important\n		box-shadow 0 0 0 2px #fff\n\n	.sp-replacer\n		right 0px\n		float right\n		min-width 0px !important\n		padding 0 !important\n\n\n.element-rsvp\n	.nav-link // hides edit-link\n		display none !important\n	.rsvp-color-wrap\n		margin-right 0.3em\n	.rsvp-color-wrap\n	.rsvp-bg-wrap\n		float left\n		background transparent !important\n		box-shadow none !important\n		min-width 22px !important\n		padding-right .3em !important\n		padding-left .3em !important\n\n		&:hover\n			background none !important\n\n		.sp-replacer\n		.sp-preview\n			width 22px !important\n			height 22px !important\n			padding 0 !important\n			.sp-dd\n				display none !important\n		.sp-replacer\n			overflow hidden\n			border-radius 100%\n			box-shadow 0 0 0 2px #FFF\n\n		.sp-preview-inner\n			height 22px !important\n			top 0px !important\n			left 0px !important\n			position absolute !important\n\n		.sp-replacer\n			// top -2px\n			right 0 !important\n			left auto !important\n		.sp-preview\n			top 0px\n			right 0px\n			border-radius 100% !important\n			box-shadow 0 0 0 2px #fff\n\n		.sp-replacer\n			right 0px\n			float right\n			min-width 0px !important\n			padding 0 !important\n\nbody\n	&:not(.advMode)\n	&:not(.designerMode)\n		.element-rsvp\n			.nav-link\n				display none !important\n			.rsvp-color-wrap\n			.rsvp-bg-wrap\n				padding-top 0.9em !important\n\n.element-rsvp.hovering\n	.core-edit-tools\n		display block !important\n\n#splash-container\n	.element-rsvp\n		&.hovering\n			.rsvp-color-wrap\n			.rsvp-bg-wrap\n				display inline-block !important\n				float left\n\n\n#element-rsvp\n	.core-edit-tools\n		width 95% !important\n		#splash-container\n			.rsvp-picker-wrap\n				width 100%\n				min-width 73px !important\n				padding 0px !important\n\n				.rsvp-color-wrap\n				.rsvp-bg-wrap\n					display none\n					width 22px\n					float left !important\n					clear none !important\n					margin 0 auto\n					padding 0\n					.sp-dd\n						display none\n					.sp-preview\n						border-radius 100%\n						box-shadow 0 0 0 2px #FFF\n					&:hover\n						background none !important\n					#rsvp-color-input-on-page\n					#rsvp-bg-color-picker-on-page\n						width 22px\n						height 22px\n						position absolute\n						top 0px\n						border-radius 100%\n\n////\n/// SLEEK SIMPLE MODAL\n//\n// <div class=\"simple-modal sleek hide\">\n//    <div class=\"grp p0 header rel uppercase\">\n//	    <h1 class=\"grp wA title\">MAGIC LIBRARY</h1>\n//      <ul class=\"grp wA sections-nav\">\n//         <li class=\"section inline\">POTIONS</li>\n//         <li class=\"section inline\">DRAGONS</li>\n//      </ul>\n//		<span class=\"close-modal icon-f-close-editor pointer\"></span>\n// 	  </div>\n// 	  <div class=\"grp p1 content\">\n// 	     Should you be here?\n// 	  </div>\n// </div>\n\n.simple-modal\n	&.sleek\n		background #f4f4f4\n		width 80%\n		height 88%\n		max-width 1080px\n		overflow visible\n		.actions\n			border-top none\n			float left\n			width auto !important\n			padding-top 0 !important\n			top -2px\n		>.header\n			color #bdbdbd\n			background #1b1b1b\n			user-select()\n			.title\n				color #F5F4F4\n				background #212121\n				font-size 0.9em\n				font-family 'gibsonSemiBold'\n				letter-spacing .2em\n				padding 1.9em 3em\n				&.pointer\n					&:hover\n						background lighten(#212121, 5%)\n			.sections-nav\n				.section\n					display inline-block\n					span\n					a\n						display inline-block\n						white-space nowrap\n						padding 1.5em\n						font-size 0.8em\n						letter-spacing .1em\n						cursor pointer\n						color #bdbdbd\n						&:hover\n							color #ffffff\n						&.active\n							color #eb3d6b\n					&.active\n						color #eb3d6b\n						span\n						a\n							color #eb3d6b\n			.closeSimpleModal\n				top 50%\n				right auto\n				left 100%\n				padding-left 1em\n				transform translateY(-50%)\n				&:hover\n					color #fff\n\n		.content\n			height 100%\n			height calc(100% \\- 4.56em)\n			position absolute\n			top 4.56em\n			left 0\n			overflow auto\n			text-align center\n\nbody.noPayoutData\n	.firstViewInfo\n		right auto\n		left 60px\n		.closeSimpleModal\n			color #fff\n			font-size 19px\n			top 35px\n			right -6px\n\nbody.noTickets\n	.firstViewInfo\n\n		.closeSimpleModal\n			color #fff\n			font-size 20px\n			right -21px\n			top 14px\n\n///\n// For the theme modal\n#theme-modal\n\n	///\n	// Extra styles to help the\n	// header section flow down\n	.header\n		h1\n			// setting width here\n			// section nav will calc\n			width 8.8em\n			padding 1.9em .2em\n			text-align center\n		.sections-nav\n			width 80%\n			width calc(100% \\- 8em)\n		.title\n			&:hover\n				background: #272727;\n				cursor: pointer;\n\n\n	&.slideshow\n		.theme-actions\n			display block\n		.theme-slideshow\n			display block\n\n		.theme-option\n			background none !important\n			width 100%\n			padding 1em 3em\n			.theme-card-wrap\n				width 40%\n				padding-top 0\n				position absolute\n				top 0\n				height 100%\n				cursor default\n				box-shadow 1.75em 0 0 #F4F4F4\n				.action-word\n					display none\n\n		.theme-option:not(.active)\n			display none !important\n		&.show-current-theme\n			.theme-actions\n			.slide-arrow\n			.theme-desc\n				display none\n			#stagesWrap\n			.theme-meta\n			.theme-settings\n				display block !important\n			.theme-option.current-theme\n				display block !important\n				background #fff !important\n			.theme-deets .inner\n				background #f4f4f4\n\n\n	.theme-slideshow\n		display none\n		width 100%\n		margin 0 auto\n		position relative\n		h3\n			background none !important\n			color #171717 !important\n			padding 0 !important\n			display block !important\n			font-size 1.5em !important\n			margin-top 0 !important\n			line-height 0.8em !important\n		.theme-image\n			width 50%\n			float left\n			max-width 760px\n		.theme-deets\n			display inline-block\n			font-size 14px\n			font-family gibsonLight\n			text-align left\n			float right\n			width 60%\n			padding 0 0 0 2em\n			.theme-settings\n				top 2.7em\n				right 2em\n				display none\n			.theme-desc\n				display none\n	.theme-option\n		&.active\n			.theme-desc\n				display block\n	.theme-actions\n		display none\n		.close-theme-slideshow\n			box-shadow 0 1px 0 #D0D0D0\n			letter-spacing .05em\n			&:hover\n				color #f00\n		.choose-theme\n			cursor pointer\n			color #ffffff\n			background #1b1b1b\n			width 190px\n			font-family gibsonRegular\n			text-align center\n			padding 10px 0px\n			border-radius 20px\n			font-size 14px\n			text-transform uppercase\n			display inline-block\n			margin-left 2em\n			&:hover\n				background lighten(#1b1b1b, 30%)\n\n	.slide-arrow\n		display block\n		float none\n		position absolute\n		top 50%\n		color #C7C7C7\n		z-index 10\n		font-size 2.5em\n		cursor pointer\n		&:before\n			transition all .1s linear\n		&:hover\n			color #171717\n\n	#theme-arrow-left\n		left 0\n		// &:hover:before\n		// 	position relative\n		// 	right 4px\n	#theme-arrow-right\n		right 0\n		// &:hover:before\n		// 	position relative\n		// 	left 4px\n\n	&:not(.slideshow)\n		.close-theme-slideshow\n		#theme-arrow-left\n		#theme-arrow-right\n			display none\n		#theme-list-wrap\n			.theme-option\n				width 30%\n				display inline-block\n				margin-left 1%\n				margin-right 1%\n				margin-bottom 2%\n				float none\n				cursor pointer\n				&:hover\n					&:before\n						content ''\n						position absolute\n						top 0\n						left 0\n						width 100%\n						height 100%\n						background rgba(0, 0, 0, 0.7)\n				img\n					max-width 100%\n\nbody\n	&:not(.advMode)\n	&:not(.designerMode)\n		#theme-modal\n			.sections-nav\n				.section[section=\"admin-themes\"]\n					display none\n\n			// hide the reset theme in basic mode\n		// .theme-option[value=\"1200202\"]\n		// 	display none\n\n#theme-modal\n	.theme-option\n		width 46%\n		padding 1em\n		float none\n		display inline-block\n		margin-left -0.03em\n		> .action-word\n			> .middle\n				width 85%\n		.nameText\n			font-size 0.8em\n			margin-top 8px\n			letter-spacing .05em\n			font-weight bold\n			text-transform uppercase\n			background #F4F4F4\n			color #7E7E7E\n			padding 0.8em 2em\n			border-radius 60px\n			font-family 'gibsonRegular'\n			display none\n\n		.theme-card-wrap\n			// Use padding-top % to set\n			// an aspect ratio\n			padding-top 110%\n			float left\n			width 100%\n			background-size 100% auto\n			background-repeat no-repeat\n			background-color #F4F4F4\n			cursor pointer\n			box-shadow 0 0 0 1px rgba(0, 0, 0, 0.1)\n\n			&:hover\n				.action-word\n					background rgba(0,0,0,.2)\n				.nameText\n					display block\n\n	.theme-warning\n		background #fff\n		padding 1em\n		font-size 0.85em\n		letter-spacing .02em\n		margin-top 2em\n		color #505050\n\n	&.slideshow\n		.theme-option\n			&.active\n			&.current-theme\n				width calc(100% \\- 8em)\n				height calc(100% \\- 8em)\n				position absolute\n				top 4em\n				left 4em\n				padding 0\n			&.current-theme\n				.theme-desc\n				.theme-warning\n					display none\n\n\n.stagesWrap\n	display inline-block\n	color #171717\n	width 100%\n	text-overflow ellipsis\n	overflow hidden\n	white-space nowrap\n	transition margin-top 0.15s linear\n	display none\n	position absolute\n	top 10em\n	right 4em\n	width 50.3%\n	width calc( 100% \\- 40% \\- 6.5em )\n	height 100%\n	height calc(100% \\- 14em)\n	z-index 5\n	.stage\n		.stage-input\n			padding 5px\n			transition background .15s linear\n			&:hover\n				background #f8f8f8\n	&[show=\"stages\"]\n		#stages-tab\n		.createNewStage\n			display block\n		#backups-tab\n		.createNewBackup\n			display none\n	&[show=\"backups\"]\n		#stages-tab\n		.createNewStage\n			display none\n		#backups-tab\n		.createNewBackup\n			display block\n	.no-stages\n		// position absolute\n		// top 50%\n		// left 50%\n		// transform translateX(-50%) translateY(-50%)\n		color #3A3939\n	.hdr\n		background #F4F4F4\n		font-family 'gibsonSemiBold'\n		color #3A3939\n		letter-spacing .2em\n		.grp\n			font-size 0.85em\n			padding 21px\n			text-align center\n			background #ededed\n			color #c2c2c2\n			cursor pointer\n			&.active\n				background #fff\n				color #595a5a\n				box-shadow 0 3px 0px 0 #595a5a inset\n	.stages-list\n		position relative\n		top 0\n		left 0\n		height auto\n		max-height calc(100% - 7em)\n		overflow-x hidden\n		overflow-y auto\n	.stage\n		position relative\n		border-bottom 1px solid #dfdfdf\n		padding 1.8em 1em 1.8em 3em\n		&.current\n			&:before\n				content '\\e885'\n				font-family 'fontello'\n				color #5bbb82\n				position absolute\n				left 1em\n				top 50%\n				transform translateY(-50%)\n		> .grp\n			opacity 0.4\n			transition opacity .1s linear\n		&:hover\n		&.current\n			> .grp\n				opacity 1\n\n		.drag-handle\n			display none\n			position absolute\n			top 0\n			left 0\n			bottom 0\n			opacity 0.5\n			width 7px\n			height 100%\n			background url(\"/images/grab-txtr.png\")\n			cursor ns-resize\n\n		.stage-input\n			border none\n			box-shadow none\n			outline none\n			width 100%\n\n		.stage-utils\n			font-size 0.7em\n			top 0.6em\n			position relative\n			opacity .1\n			transition opacity .1s linear\n\n			button\n				display none\n\n			span\n				margin-left .5em\n				&:hover\n					color lighten(#171717, 30%)\n				&.deleteStage\n					&:hover\n						color #f00\n\n			.icon-f-rte-delete:before\n				font-size 0.8em\n				top -0.1em\n				position relative\n\n		.stage-scheduling\n			text-align right\n			clear both\n			margin-bottom .5em\n			font-size 0.7em\n\n			.scheduled-for\n				display inline\n\n			.scheduling-opts\n				display none\n				text-transform uppercase\n				opacity .1\n				margin-left 1em\n				span\n					cursor pointer\n					margin-left .3em\n\n		&:hover\n			.stage-utils\n			.scheduling-opts\n				opacity 1\n			.drag-handle\n				display block\n\n		// when editing a stage name\n		&.editing\n			background #ffffc1\n			&:before\n				display none\n			.stage-utils span\n			.drag-handle\n				display none\n			.stage-utils\n				opacity 1\n				button\n					display inline-block\n			.stage-input\n				background #FFF\n				padding 1em\n				margin -1em\n				box-shadow 0 0 0 1px #DFDFDF\n				width 100%\n\n			.stage-scheduling\n				opacity 0\n\n\n\n	&.open\n	&.open:hover\n		margin-top 0\n		transition margin-top .15s linear 0s\n	&.open\n		.quickStageInfo\n			background #d1d1d1\n			&:before\n				transform rotate(-180deg) translateX(2px) translateY(2px)\n\n\n////\n/// Add to element library\n//\n\n#add-to-element-library\n	max-height 610px\n	position relative\n	.img-wrap\n		margin 0 auto\n		float none\n	.nu-input\n		font-size 11px\n		width 100%\n		box-shadow none\n		padding 11px\n		letter-spacing 1px\n	.thisLabel\n		font-size 12px\n		letter-spacing 0px\n		margin-bottom 2px\n		padding-left 2px\n		color #464242\n	.desc-wrap\n		padding-top 12px\n		border-top 1px solid #e5e5e5\n		margin-top 10px\n		#element-lib-description\n			min-height 210px\n	.upload-btn\n		background #d6d4d4\n		color #fff\n		text-transform uppercase\n		letter-spacing 1px\n		font-size 10px\n		padding 7px 9px\n		border-radius 16px\n		margin 0 auto\n		float none\n		width 70%\n		cursor pointer\n		&:hover\n			background darken(#d6d4d4, 20%)\n	.right-wrap\n		right 0px\n		position absolute\n		width 75%\n		height calc(100% \\- 68px)\n		overflow hidden\n		overflow-y scroll\n		padding-right 11px\n		top 0px\n	.ul.tagit\n		padding 5px 6px\n		border 1px solid #ccc\n	.ui-state-default\n	.ui-widget-content .ui-state-default\n	.ui-widget-header .ui-state-default\n		background #383838\n		border 1px solid transparent\n		text-align center\n		border-radius 9px !important\n		color #fff !important\n	.actions\n		width auto\n		float right\n		position absolute\n		right 10px\n		bottom 5px\n		height 70px\n		top auto\n		.save\n			font-size 12px\n			font-family gibsonSemiBold\n			background #000\n			color #fff\n			padding 10px 20px !important\n			width 170px\n			letter-spacing 1px\n			border none !important\n			&:hover\n				background lighten(#000, 20%)\n		a.closeSimpleModal\n			margin-right 30px\n			top 8px\n			position relative\n			font-size 13px\n			color #555\n\n// MODE TOGGLE\n// #modeToggle\n// 	width 85%\n// 	margin 10px 0px 4px\n// 	float left\n// 	left 50%\n// 	transform translateX(-50%)\n// 	position relative\n// 	background #d2d2d2\n// 	border-radius 20px\n// 	overflow hidden\n// 	color #fff\n// 	font-size 0.9em\n// 	cursor pointer\n// 	.modeOpt\n// 		width 50%\n// 		float left\n// 		text-align center\n// 		padding 3px 0px\n// 		&.active\n// 			background #3dc90a\n\n// ADD SECTION BTN\n\n#addSecBtn\n	width calc(100% - 50px)\n	left 50%\n	transform translateX(-50%)\n	margin-top 20px !important\n	cursor pointer\n\n\n#basic-color-done\n	float left\n	top 12px\n	position relative\n	width 48%\n	text-align center\n	padding 6px 0px\n	border-radius 20px\n	background #000\n	color #fff\n	left 50%\n	transform translateX(-50%)\n	display none\n	cursor pointer\n	&:hover\n		background darken(#000, 20%)\n\n// ADVANCED MODE\n\nbody.designerMode\n	.rteColorPicker\n		.sp-picker-container\n			display inline-block\n	// #extraRSVPControls\n	// 	.rsvpExtra\n	// 		display none\n	#finetune-layout-contain\n		.accordion\n			.layout-ctrl\n				&.link-to-swatch-holder\n				&.rsvpExtra\n				&.positioning\n				&.font-ctrl-wrap\n				&.props\n					display none\n				.flow-ctrl\n					.clear-link\n					.display-link\n					.overflow-link\n						display none\n\n\nbody.finetune\n	&:not(.advMode):not(.designerMode)\n	//.layoutShapeStuff\n		#stagesWrap\n		.bolt-jump\n		.advStuff\n		.clone-section\n		.isAdv\n			display none !important\n		// RTE STUFF\n		//.mce-custom-font-fam\n		// .mce-show-all\n		.mce-shadow-button\n		.mce-spacing-button\n		.mce-insert-image\n		.mce-btn[aria-label=\"Clear formatting\"]\n		.mce-btn[aria-label=\"Source code\"]\n		.mce-btn[aria-label=\"Insert/edit link\"]\n			display none\n\n		.mce-container-body.showAll\n			.mce-shadow-button\n			.mce-spacing-button\n			.mce-insert-image\n			.mce-btn[aria-label=\"Clear formatting\"]\n			.mce-btn[aria-label=\"Source code\"]\n			.mce-btn[aria-label=\"Insert/edit link\"]\n				display inline-block\n\n		.mce-tinymce-inline .mce-container-body.mce-abs-layout\n		body.hideAlignerRTE .mce-tinymce-inline .mce-container-body.mce-abs-layout\n			width auto !important\n			display inline-block !important\n		.mce-flow-layout-item\n			margin-right 0px !important\n		.mce-close-button\n			right auto !important\n			margin-right 0 !important\n			margin-left 0 !important\n		.mce-abs-layout-item\n			position relative\n			float none\n			margin 0 auto\n			width auto !important\n			&.mce-btn\n			.mce-abs-layout-item // THIS IS THE LINK MODAL STUFF (INSIDE MCE abs layout item two deep)\n				position absolute\n				&.mce-listbox\n					width 100% !important\n\n		.mce-tinymce-inline\n			text-align center\n		.mce-ico\n			font-size 20px !important\n			margin 0px 10px\n			&.mce-i-closeButton\n				margin 0px !important\n		.mce-menu\n			.mce-stack-layout-item\n				font-size 20px\n				line-height 30px !important\n				padding-left 19px !important\n				position relative\n				padding 0px !important\n\n		#finetune-layout-contain\n			.section\n				.eleText\n					display none\n				.subText\n					top 0px !important\n					display block !important\n					font-family inherit !important\n					font-size 15px !important\n					&:after\n						display none !important\n\n		&.editSwatchColor\n			#color-picker-wrap\n				display block !important\n				.sp-container\n					top 60px !important\n					float left\n					background #fff !important\n					box-shadow none !important\n			#fontFamilyHead\n			#fontComboContain\n				display none !important\n			#basic-color-done\n				display block !important\n\n		#extraRSVPControls\n			.layout-ctrl.rsvpExtra\n				width 100%\n				border none\n				height auto\n				padding-top 5px\n				> label\n					display none\n				.inner-stuff\n					display block\n					position relative\n					label:not(.hideBtnToggle)\n						display none\n					.hideBtnToggle\n						padding-left 22px\n						&:before\n							top 2px\n						&:after\n							top 1px\n				.advanced\n					display none !important\n\n\n\n\n\n#toggleAdvBtn\n	width 2em\n	height 2em\n	position fixed\n	left 1em\n	border-radius 100%\n	top 1em\n	background #F00\n	z-index 100\n	cursor pointer\n	&.active\n		background green\n\n\nbody.singleSwatch\n	#advColorWrap\n		.delete-btn\n			display none !important\n	#advSwatchBtn\n		background #fff !important\n		cursor default !important\n		.prev-swatch\n		.next-swatch\n			display none !important\n\nbody:not(.advMode):not(.designerMode)\n	.sp-container\n		.sp-input-container\n			display none !important\n\nbody\n	&.advMode\n	&.designerMode\n		.advStuff\n			display none\n		#finetune-sections\n			.sp-container\n				position relative !important\n				top 8px !important\n				margin 0 auto\n				float left\n				transform translateX(-50%)\n				left 50% !important\n				box-shadow none\n				width 100%\n				background none\n		#linkColorsToggle\n			width 30px\n			height 30px\n			position absolute\n			display block\n			top 170px\n			background red\n			right 12px\n			cursor pointer\n			&:hover\n				background darken(red, 50%)\n\n		#advColorWrap\n			> input\n				display none\n			.sp-container\n				position relative !important\n		&.editFonts\n			.advStuff.font\n				display block\n			#customSwatch\n			#swatchDonutWrap\n				display none !important\n\n		&.editColors\n		&.editFonts\n			#linkColorsToggle\n			#fontDotWrap\n			.prevBtn\n			.nextBtn\n				display none !important\n\n		&.editColors\n			.themeContain\n				padding 0em 1em 1.5em 1em !important\n			#delColorBtn\n			#addColorBtn\n				display none\n				color #000000\n				position absolute\n				left 40px\n				top 150px\n				border-radius 100%\n				&:hover\n					color lighten(#000, 30%)\n			#addColorBtn\n				left auto\n				right 40px\n\n			.advStuff.colors\n				display block\n				&.editingSwatch\n					display none !important\n			#fontFamilyHead\n				display none !important\n\n		&.editSwatchColor\n			&:not(.editColors) // if editing color from outer pane in ADV mode\n				#basic-color-done\n					display block !important\n				#done-linking\n				#fontComboContain\n					display none !important\n\nbody\n	&.advMode.editFonts\n	&.designerMode\n		.themeContain\n			padding 0em 1em 1.5em 1em !important\n\n		#fontFamilyHead\n			text-align left\n			.current\n				// border-radius 6px\n				// margin-bottom 2em\n				width 100% !important\n				overflow hidden\n				.primary\n				.secondary\n					padding 0\n					float left\n					border 1px solid #ededed\n					> .inner\n						padding 1.8em 1em\n						line-height 1\n				.primary\n					border-bottom none\n					margin-top .5em\n				.primary\n				.secondary\n					.fontName\n						font-size 1.2em\n			.font-type:first-child\n				display block\n				font-size 1em\n			&.editPrimary\n				#customPrimaryFont\n					.fontList\n						display block\n			&.editSecondary\n				#customSecondaryFont\n					.fontList\n						display block\n\nbody.designerMode\n	#fontFamilyHead\n		.current\n			padding 8px 0px 15px !important\n			.primary\n			.secondary\n				border 1px solid #ededed\n				width 70%\n				left 50%\n				transform translateX(-50%)\n				> .inner\n					padding 0.9em 1em\n		.prevBtn\n		.nextBtn\n			border none\n			top 63px\n			transform noned\n		.prevBtn\n			left 35px\n		.nextBtn\n			float right\n			right 35px\n\n#finetune-sections\n	.themeContain.isScrolling\n		.design-pane-utils\n			position relative\n			padding 2px 0px\n\nbody.editLinks\n	#finetune-sections\n		#done-linking\n			top 30px\n\n.design-pane-utils.layout\n	display none\n\nbody.advMode\n	#finetune-sections.content\n		.design-pane-utils.layout\n		#dev-tools-btn-layout\n			display block\n\n#finetune-sections\n\n	#done-linking\n		position relative\n		top 60px\n		left 50%\n		float left\n		transform translateX(-50%)\n		background #e7e7e7\n\n	.btn-outline\n		width 80%\n		margin 0 auto\n		background #fff\n		color #292929\n		box-shadow 0 0 0 2px #292929 inset\n		padding 1em\n		position relative\n		margin-top 0\n		border-radius 50px\n		cursor pointer\n		text-transform uppercase\n		font-size 12px\n		font-family 'gibsonSemiBold'\n		letter-spacing .05em\n		&:hover\n			background #292929\n			box-shadow 0 0 0 1px #292929 inset\n			color #fff !important\n		&.add-bg\n			background #292929 !important\n			color #fff\n			&:hover\n				background lighten(#292929, 30%) !important\n\n	.advStuff\n		.combo-opt\n			.drag-handle\n				display none\n				position absolute\n				top 0\n				left 0\n				bottom 0\n				opacity 0.5\n				width 7px\n				background url('/images/grab-txtr.png')\n				cursor ns-resize\n				// border-radius 6px 0 0 6px\n			.actions\n				position absolute\n				top 50%\n				right .5em\n				opacity 0\n				transform translateY(-50%)\n				div\n					font-size .8em\n					cursor pointer\n					display inline-block\n				.unlink-btn\n					display none\n				.edit-btn\n					&:hover\n						color lighten(#1e1e1e, 30%)\n				.delete-btn\n					color #f06168\n					&:hover\n						color #444\n			&:hover\n				// background #f4f4f4\n				.actions\n					// right 0.5em\n					opacity 1\n				.drag-handle\n					display block\n					&:hover\n						opacity 1\n		&.colors\n			clear both\n			text-align center\n\n		&#advColorWrap\n\n			.comboWrap\n				// margin-top 40px\n				.combo-opt\n					&.ui-sortable-helper\n						height 24px;\n						.actions\n							display none\n					width 100%\n					height auto\n					padding 1.4em 2.8em 2.4em 2.8em\n					border 1px solid #EBEBEB\n					border-top none\n					&:first-child\n						margin-top .5em\n						border-top 1px solid #EBEBEB\n					&:hover\n						opacity 1\n					&.active\n						opacity 1\n						&:before\n							content '\\e889'\n							position absolute\n							top 48%\n							left 0.9em\n							font-family 'fontello'\n							transform translateY(-50%)\n					.swatch-opt\n						width 100%\n						// width calc(100% \\- 2.5em)\n						display block\n						height 100%\n						border-radius 6px\n						transition width .1s linear\n						.opt\n							border-right 1px solid rgba(245, 245, 252, 0.30)\n						> div\n							height 100%\n							// &:first-of-type\n							// 	border-radius 15px 0 0 15px\n							// &:last-of-type\n							// 	border-radius 0 15px 15px 0\n							// &.w100\n							// 	border-radius 6px\n\n#fontFamilyHead\n	.fontList\n		display none\n		overflow-x hidden\n		overflow-y auto\n		float left\n		width 100%\n		padding .5em\n		max-height 280px\n		border-top 1px solid #E7E7E7\n		&::-webkit-scrollbar-track\n			background #F3F3F3 !important\n\n		.customFontOpt\n			padding 0.1em .5em\n			border-radius 6px\n			&:hover\n				background #E7E7E7\n			&.active\n				background lighten(#E7E7E7, 30%)\n		.uploaded-fonts\n			.customFontOpt:first-child:before\n				content: 'uploaded fonts'\n				font-size .7em\n				letter-spacing .05em\n				color #C0C0C0\n				display block\n				text-transform uppercase\n			.customFontOpt:last-child:after\n				content ''\n				display block\n				border-bottom 1px dashed #ebebeb\n				margin 10px 0\n\n	.currentFont\n		width 100%\n		> .inner\n			&:before\n				display none\n	.saveCombo\n		display none\n\n	#addFontComboBtn\n		display block\n		clear both\n		margin 0 auto\n		text-align center\n		width 70%\n		padding 8px 6px\n		border 1px solid #000\n		border-radius 10px\n\n	> .inner\n		cursor default\n\n	.advStuff\n		// display block\n		clear both\n		margin 0 auto\n		float left\n		left 50%\n		position relative\n		transform translateX(-50%)\n		width 100%\n		.comboList\n			display block\n			width 100%\n			margin 0 auto\n			margin-bottom 1em\n			color #1e1e1e\n			text-align left\n			font-size 1.1em\n			line-height 1.4\n			.edit-btn\n				display none\n			.combo-opt\n				&.ui-sortable-helper\n					height 24px;\n					.actions\n						display none\n				padding .5em 1em\n				overflow hidden\n				cursor pointer\n				border-radius 6px\n				margin-bottom 1px\n				&:hover\n					background #F3F3F3\n\n				.theCombo\n					float left\n					max-width calc(100% \\- 3em)\n					text-overflow ellipsis\n					white-space nowrap\n					overflow hidden\n					.secondary\n						font-size .8em\n\n#saved-elements\n	.dropdown-wrap\n		display block\n		width 94%\n		float left\n		margin 0 auto\n		left 50%\n		position relative\n		z-index 1\n		transform translateX(-50%)\n		#elementLibTags\n			position relative\n			background #f9f8f8\n			border-radius 0\n			text-align center\n			text-transform uppercase\n			letter-spacing 0.05em\n			margin-top 0\n			box-shadow none\n			border none\n			padding-top 9px !important\n			border 1px solid #ddd\n			width 150px\n			padding 5px !important\n			height 40px\n			line-height 30px\n			background #fff\n			text-align left\n			right 0px\n			left auto\n			float right\n			margin-top 15px\n			font-family gibsonLight\n			font-size 12px\n			cursor pointer\n			&:before\n				height 30px\n				line-height 30px\n				padding 0 4px\n				content '\\e88a'\n				font-family 'fontello'\n				position absolute\n				background none\n				box-shadow none\n				top 50%\n				right 0.5em\n				width auto\n				color #242323\n				transform translateY(-50%)\n				transform translateY(-50%)\n			.options\n				top 39px\n	.element-adder-content\n		position absolute\n		top 9em\n		height calc(100% - 10em)\n		overflow-y auto\n		overflow-x hidden\n	.addSection\n		width 31%\n		height auto\n		background #fff\n		margin 1%\n		display inline-block\n		position relative\n		padding 20% 10px 10px 10px\n		cursor pointer\n		color #303030\n		&.addingToPage\n			box-shadow inset 0 0 200px #eb3d6b\n			&:after\n				content 'adding to page...'\n		&.notAddingToPage\n			opacity 0.2\n			&:after\n				content ' '\n		.custom-image\n			top 1em\n			left 5%\n			height 100%\n			height calc(100% \\- 3em)\n			position absolute\n			width 90%\n			background-size contain !important\n			background-position 50% !important\n			overflow hidden\n			background-repeat no-repeat !important\n			float none\n			margin 0 auto\n		span\n			z-index 0\n			position absolute\n			bottom 0px\n			left 0px\n			width 100%\n			background #fff\n			padding .5em 1em\n			background transparent\n			float left\n			margin-top 8px\n			text-transform uppercase\n			text-align center\n			white-space nowrap\n			text-overflow ellipsis\n			overflow hidden\n			font-size 0.7em\n		&:hover\n			box-shadow 0 0 0 1px #a0a0a0\n\n.upr-54\n	color #545454\n	letter-spacing .05em\n	text-transform uppercase\n	font-size 0.8em\n	font-family 'gibsonSemiBold'\n	letter-spacing 0.2em\n\n.editFonts\n	&.advMode\n	&.designerMode\n		#fontFamilyHead\n			margin-top 0\n			.currentFont\n				> .inner\n					// The down arrow\n					cursor pointer !important\n					&:before\n						display block\n						position absolute\n						bottom 2em\n						right 1em\n						color #828282\n					&:hover\n						> .inner\n							&:before\n								color #101010\n				&.active\n					> .inner\n						background #E7E7E7\n						&:before\n							transform rotate(-180deg) translateX(3px)\n			.saveCombo\n				display none // block\n			#editFontCombos\n				display none\n\n#finetune-layout-contain\n	.accordion[block-type=\"gallery\"]\n		div.innerStuffWrap\n			&.layoutShapeStuff\n				display block\n\n\n// HIDE CRAPPY FONTS FROM SIDEBAR\n\n#fontFamilySelect\n	.customFont[value=\"Advent Pro\"]\n	.customFont[value=\"Changa One\"]\n	.customFont[value=\"Chewy\"]\n	.customFont[value=\"Finger Paint\"]\n	.customFont[value=\"Homemade Apple\"]\n	.customFont[value=\"Allura\"]\n	.customFont[value=\"Amatic SC\"]\n	.customFont[value=\"Bangers\"]\n	.customFont[value=\"Cabin Sketch\"]\n	.customFont[value=\"Cutive\"]\n	.customFont[value=\"Flamenco\"]\n	.customFont[value=\"IM Fell Great Primer SC\"]\n	.customFont[value=\"Bangers\"]\n	.customFont[value=\"Indie Flower\"]\n	.customFont[value=\"Josefin Sans\"]\n	.customFont[value=\"Libre Baskerville\"]\n	.customFont[value=\"Monda\"]\n	.customFont[value=\"Montserrat\"]\n	.customFont[value=\"Nixie One\"]\n	.customFont[value=\"Open Sans\"]\n	.customFont[value=\"Oswald\"]\n	.customFont[value=\"Pacifico\"]\n	.customFont[value=\"Passion One\"]\n	.customFont[value=\"Pathway Gothic One\"]\n	.customFont[value=\"Quattrocento\"]\n	.customFont[value=\"Raleway Dots\"]\n	.customFont[value=\"Reenie Beanie\"]\n	.customFont[value=\"Bree Serif\"]\n	.customFont[value=\"Rock Salt\"]\n	.customFont[value=\"Pathway Gothic One\"]\n	.customFont[value=\"Sansita One\"]\n	.customFont[value=\"Share Tech\"]\n	.customFont[value=\"Shojumaru\"]\n	.customFont[value=\"Six Caps\"]\n	.customFont[value=\"Source Sans Pro\"]\n	.customFont[value=\"Varela Round\"]\n	.customFont[value=\"Viga\"]\n		display none !important\n\n\n#fontFamilySelect\n	.combo[value=\"Advent Pro+700;Advent Pro+300\"]\n	.combo[value=\"Josefin Sans+700;Josefin Sans+300\"]\n	.combo[value=\"Maven Pro+700;Maven Pro+400\"]\n	.combo[value=\"Monda+700;Monda+400\"]\n	.combo[value=\"Montserrat+700;Montserrat+400\"]\n	.combo[value=\"Source Sans Pro+700;Source Sans Pro+400\"]\n	.combo[value=\"Source Sans Pro+700;Source Sans Pro+400\"]\n	.combo[value=\"Oswald;Open Sans\"]\n	.combo[value=\"Viga;Cabin Sans\"]\n	.combo[value=\"Changa One;Open Sans\"]\n	.combo[value=\"Pacifico;Open Sans\"]\n	.combo[value=\"Libre Baskerville;Open Sans\"]\n	.combo[value=\"Bangers;Viga\"]\n	.combo[value=\"Bree Serif;Cabin\"]\n	.combo[value=\"Amatic SC;Quattrocento\"]\n		display none\n\n/// RTE FONT FAMILIES\n.mce-container\n	.mce-container-body\n		.mce-fontFam-AdventPro\n		.mce-fontFam-AdventPro\n		.mce-fontFam-ChangaOne\n		.mce-fontFam-Chewy\n		.mce-fontFam-FingerPaint\n		.mce-fontFam-HomemadeApple\n		.mce-fontFam-Allura\n		.mce-fontFam-AmaticSC\n		.mce-fontFam-Bangers\n		.mce-fontFam-CabinSketch\n		.mce-fontFam-Cutive\n		.mce-fontFam-Flamenco\n		.mce-fontFam-IMFellGreatPrimerSC\n		.mce-fontFam-Bangers\n		.mce-fontFam-IndieFlower\n		.mce-fontFam-JosefinSans\n		.mce-fontFam-LibreBaskerville\n		.mce-fontFam-Monda\n		.mce-fontFam-Montserrat\n		.mce-fontFam-NixieOne\n		.mce-fontFam-OpenSans\n		.mce-fontFam-Oswald\n		.mce-fontFam-Pacifico\n		.mce-fontFam-PassionOne\n		.mce-fontFam-PathwayGothicOne\n		.mce-fontFam-Quattrocento\n		.mce-fontFam-RalewayDots\n		.mce-fontFam-ReenieBeanie\n		.mce-fontFam-BreeSerif\n		.mce-fontFam-RockSalt\n		.mce-fontFam-PathwayGothicOne\n		.mce-fontFam-SansitaOne\n		.mce-fontFam-ShareTech\n		.mce-fontFam-Shojumaru\n		.mce-fontFam-SixCaps\n		.mce-fontFam-SourceSansPro\n		.mce-fontFam-VarelaRound\n		.mce-fontFam-Viga\n			display none\n\n\nbody\n	#splash-container\n		.layoutGrp\n			.drag-handle\n				// font-size 20px !important\n				// padding-top 5px !important\n				// padding-bottom 1px !important\n				// top 2px !important\n				// display none !important\n			&.drop-area\n				.drag-handle\n					display inline-block !important\n\n// Edit tools labels\n.edit-tools\n.core-edit-tools\n	.inner\n		> div\n			// font-size 23px !important\n			// height auto !important\n			// margin 0px 16px\n			// width 70px !important\n			.inline-label\n			.inline-state\n				font-size 12px\n				text-transform capitalize\n			i\n				&[show=\"default\"]\n					display block\n				&[show=\"hover\"]\n					display none\n					width 100% !important\n			&:hover\n				i\n					&[show=\"default\"]\n						display none\n					&[show=\"hover\"]\n						display block\n			.inline-label\n			.inline-state\n				position absolute\n				display none !important\n			.inline-label\n				display block\n			.inline-state\n				display none\n			&:hover\n				.inline-label\n					display none\n				.inline-state\n					display block\n\n\n// NU RTE\n\n.edit-tools\n.core-edit-tools\n	// .design-jump\n	// 	display none !important\n	.controlContain\n		position absolute\n		bottom 100%\n		left 0px\n		width 100%\n		z-index -5\n		height 0px\n		overflow hidden\n		background #555\n		border-radius 4px 4px 0 0\n		transition height .15s linear\n		.control\n			display inline-block\n			width 25px\n			height 25px\n			background #fff\n			position relative\n			top 10px\n			margin-right 0px\n			margin 0px 12px\n	&.openControls\n		border-radius 0 0 4px 4px !important\n		.controlContain\n			height 100%\n\n.layoutShapeStuff\n.widthPositionStuff\n#finetune-layout-contain .accordion .grp-edit.properties\n	display none !important\n\n.mce-align-left\n.mce-align-center\n.mce-align-right\n.mce-align-justify\n	font-style normal\n\n\n// IE STYLES\n\nbody.isIE\n\n	#nuTool\n		.toolBtn\n			&.theme\n				.toolIcon\n					&:before\n						font-size .51em !important\n			&.content\n				.toolIcon\n					&:before\n						font-size 1em !important\n			&.gallery\n				.toolIcon\n					&:before\n						font-size .5em !important\n\n\n	#nuPlan\n		.toolBtn\n			.toolIcon\n				&:before\n					font-size .5em !important\n			&.planning\n				.toolIcon\n					&:before\n						font-size .59em !important\n\n	.box-model\n		display none\n		width 0\n		height 0\n\n// END IE STYLES\n\nbody.custom-editor\n	#splash-container\n		position fixed\n	#asset-panels\n		.saveForm\n			float right\n			top 9px\n\n// FILTERS ON RESPONSE TAB\n.filters\n	.grp.w1-4\n		> div label\n			*:nth-child(2)\n				margin-left 2px\n	&.closed\n		opacity 0\n	&:hover\n		// background #000\n		// box-shadow 0 0 2px 1px #fff\n		.close\n			opacity 1\n		.burst.chameleon\n			width 100px\n			height 100px\n			top 6px\n			right 126px\n			img\n				top 20px\n				left 21px\n				width 60px\n				transform rotate(-360deg)\n	.close\n		position absolute\n		top 0\n		right 2px\n		color #fff\n		opacity 0\n		z-index -1\n		transition opacity .15s linear .5s\n		&:hover\n			color tomato\n\n#attendeeResetFilters\n	&:before\n		padding-right 7px\n\n.content-inner-wrap\n	.secBgSelect\n		display none\n	.content-inner\n		label.slideText\n			line-height 16px\n			height 20px\n			float left\n			margin-top 12px\n			font-size 10px\n			text-transform uppercase\n			color #8c8b8b\n		.slider-wrap\n			.sliderInput\n				width 20%\n			.ui-slider\n				width 80%\n	.editBgWrap\n		width 100%\n		float left\n		background #fff\n		padding-bottom 0px\n		margin-bottom 16px\n		border-radius 2px\n		border 1px solid #ebebeb\n		color #8c8b8b\n		&.is-none\n			.media-wrap\n				display none\n		.media-wrap\n			width 100%\n			height 80px\n			> div.grp\n				height 80px\n			.bg-color\n				position relative\n			.spectrum-input\n			.sp-preview\n			.sp-preview-inner\n				height 80px\n			.sp-replacer\n				position absolute\n				top 0px\n				left 0px\n				z-index 1000\n				height 100%\n				width 100%\n		.link-to-swatch-holder\n			background #fafafa\n			small\n				text-transform uppercase\n				font-size 10px !important\n				position relative\n				top -1px\n				left -3px\n				color #908f8f\n		.media-wrap\n		.select-wrap:not(.link-to-swatch-holder)\n			padding 0px .5em\n			padding-top 10px\n		.select-title\n			text-align center\n			width 100%\n			display inline-block\n			font-size 11px\n			text-transform uppercase\n			font-family 'gibsonSemiBold'\n			color #545454\n			letter-spacing 1.8px\n		.opt-wrap.top-bar\n			width 55%\n			float right\n			height 20px\n			left 50%\n			position relative\n			transform translateX(-50%)\n			.bg-opt\n				display inline-block\n				width 72%\n				height 0px\n				cursor pointer\n				i\n					color #e5e5e5 !important\n				.icon-f-rte-delete\n					width 20%\n					height 20px\n					display block\n					font-size 12px\n					text-align center\n					float left\n					padding-top 1px\n					color #e5e5e5\n				.bg-opt-text\n					width 45%\n					font-size 12px\n					text-align center\n					height 19px\n					line-height 24px\n		.opt-wrap\n			width 100%\n			float left\n			left 50%\n			position relative\n			transform translateX(-50%)\n			.bg-opt\n				display inline-block\n				width 33%\n				height 50px\n				cursor pointer\n				i\n					color #e5e5e5 !important\n				.icon-f-rte-delete\n					width 100%\n					height 32px\n					display block\n					font-size 26px\n					text-align center\n					padding-top 1px\n					color #e5e5e5\n				&.active\n					i\n						color #000 !important\n					.bg-opt-text\n						font-weight bold\n					.icon-f-rte-delete\n						color #000\n				i.bg-ico\n					width 51px\n					height 36px\n					display block\n				.bg-opt-text\n					width 100%\n					font-size 11px\n					text-align center\n					height 19px\n					line-height 24px\n				&.color\n					i.bg-ico\n						background-image: url(/img/trans-back-ico.png)\n						position relative !important\n						height 35px\n						top 2px\n						width 51px\n						left 0.64em\n					&:not(.active)\n						i.bg-ico\n							background-color transparent !important\n					&.active\n						i.bg-ico\n							background-image none !important\n							border-radius 4px\n							box-shadow 0 0 0 1px #ccc inset\n				&.image\n					i.bg-ico\n						&:before\n							font-size 48px\n							position absolute\n							top -3px\n							left 3px\n\n@media screen and (max-width:958px)\n	.content-inner-wrap .editBgWrap .opt-wrap\n		.bg-opt\n			&.image i.bg-ico:before\n				left 0px !important\n\n#rsvpQuickStats\n	.grouping\n		.nu-tiptip\n			&:nth-child(n+3)\n				&:after\n					color #757575 !important\n					margin-left-1px\n					top-1px\n				&:hover\n					&:after\n						color #fff !important\n\n#attendeeFilters\n	.title\n		.nu-tiptip\n			&:after\n				background #757575\n\n///\n// Nu Element layout controls\n.layout-ctrl.modalOpts\n		padding 0 0 0 0 !important\n		> div\n			display block !important\n\n.content-inner\n	.layout-ctrl\n		&:first-child\n			margin-top 0px !important\n.layout-ctrl\n	display block\n	float left\n	width 89%\n	//padding 1em 1em 3em 1em\n	padding 1em 1em 0em 1em\n	height 43px\n	overflow hidden\n	float left\n	left 50%\n	transform translateX(-50%)\n	margin-top 10px\n	margin-bottom 4px\n	border 1px solid #F4F4F4\n	border-radius 2px\n	&.link-to-swatch-holder\n		.link-targets\n			position absolute\n			top 0.6em\n			right 0.5em\n	> div\n		display none\n	.textAlignDrop\n		.nu-dropdown\n			float left\n			.options > .option\n				padding 0 11px\n				&:first-child\n					padding-left 0px\n				&:last-child\n					padding-right 0px\n	.hideSecOpt\n		padding-left 0px\n		background #C2C2C2\n		color #fff\n		padding 7px 7px\n		border-radius 16px\n		font-size 11px !important\n		top 10px\n		font-family gibsonSemiBold\n		width 48% !important\n		display inline-block\n		margin-top 0px !important\n		text-transform uppercase\n		cursor pointer !important\n		float left\n		padding-top 8px\n		margin-right 2% !important\n		&:before\n		&:after\n			display none\n\n\n	&:not(.extras):not(.rsvpExtra)\n		> label:first-child\n			position absolute\n			top 0px\n			left 0px\n			padding 12px\n			width 100%\n			cursor pointer !important\n			background #fafafa\n			font-size 13px\n			font-family gibsonRegular\n			text-transform none\n			text-align left\n			color #908f8f\n			padding-left 13px\n			&:not(.nu-checkbox)\n				&:before\n					margin-right 11px\n					font-size 11px\n					position relative\n					left 0\n					transform rotate(-90deg) translateX(2px)\n\n			&.nu-checkbox\n				padding-left 3em\n				&:before\n					top 1em !important\n					left .8em !important\n				&.checked\n					&:after\n						top 1.1em\n						left 1.2em\n\n			&:hover\n				background #F4F4F4\n				&:before\n					left 2px\n		&.open\n			padding-top 44px !important\n			z-index 1\n			transition background .1s linear\n			> label:first-child\n				&:not(.nu-checkbox)\n					&:before\n						transform rotate(0deg) translateX(0px)\n				&:hover\n					transition background 0s linear\n					&:not(.nu-checkbox)\n						&:before:not(.nu-checkbox)\n							left 0\n	.check-opt.disabled\n		opacity 0.3\n		label\n			opacity 1.0\n			color #ff0000\n	.nu-checkbox\n		text-transform uppercase\n		font-size 0.7em\n		letter-spacing .05em\n		color #6F6F6F\n		&:before\n			content ''\n			position absolute\n			width 15px\n			height 15px\n			top -2px\n			left 0\n			background #FFF\n			border 1px solid #E8E8E8\n			border-radius 4px\n			box-shadow none\n		&.checked\n			&:after\n				border-right 3px solid #808080\n				border-bottom 3px solid #808080\n		&:hover\n			&:before\n				background #E8E8E8\n				box-shadow none\n\n	&.extras\n	&.open\n		padding 1em\n		height auto\n		overflow visible\n		// z-index 1\n		label\n			margin-bottom 10px\n		> div\n			display block\n	&.extras\n		cursor default\n		padding 2px\n		border none\n		border 1px solid #E7E7E7\n		padding 1em 1em\n		border-radius 2px\n		label.class-name\n			font-size 12px\n			text-transform uppercase\n			input.nu-input\n				margin-top 4px\n				font-size 11px\n		.check-opt\n			margin-bottom 10px\n		&.disabled\n			opacity 0.5\n			.nu-checkbox\n				&:after\n					top 1px\n					left 7px\n		.add-to-element-library\n			width 100% !important\n			float left\n			margin-top 10px\n			font-size 12px\n			padding 6px 0px\n			font-family gibsonSemiBold\n			background #7ec479\n			border none\n			color #fff\n			letter-spacing 1px\n			&:before\n				display none !important\n\n	.light-lbl\n		font-size 0.7em\n		color #8c8b8b\n	.small-lbl\n		font-size .5em\n		color #8c8b8b\n		margin-bottom 0px !important\n		margin-top 10px\n		text-align left\n\n	.nu-dropdown.current\n		min-height none !important\n\n	.nu-input\n		border-radius 0\n		box-shadow none\n		border 1px solid #d1d1d1\n		margin-top 0\n		color #8c8b8b\n		width 100% !important\n		padding 0.8em 0.7em !important\n		text-align left !important\n		font-size 0.8em\n		display inline-block\n		&:hover\n			background #fff\n\n		&:focus\n			border-color #171717\n\n	.nu-dropdown.flat\n		background none !important\n		.options\n			> div\n				padding 0 5px\n				border none\n				width auto\n				font-size 30px\n				display inline\n				cursor pointer\n				background none !important\n				&:before\n					text-align left\n					margin 0\n					padding 0\n				&.icon-f-close-editor:before\n					font-size 21px\n					position relative\n					top -3px\n\n		// for border style control\n		&[title=\"Border Style\"]\n			.options\n				> div\n					padding 0 0.3em 0 0\n\n		&[title=\"Position\"]\n			transition none !important\n\n	//\n	// Nu-dropdown styles\n	.nu-dropdown\n		background #F9F8F8\n		border-radius 0\n		text-align center\n		text-transform uppercase\n		letter-spacing .05em\n		margin-top 0\n		&.unit-dropdown\n			font-size 10px\n			position absolute\n			width auto !important\n			height 100% !important\n			top 0 !important\n			z-index 1\n			background none\n			left auto\n			width 2.5em !important\n			right 0px\n			color #A0A0A0\n			border none\n			line-height 1 !important\n			&:before\n				display none\n			.current\n				min-height 0 !important\n				position absolute\n				top 50%\n				left 0\n				width 100%\n				text-align center\n				transform translateY(-50%)\n			.options\n				top 100% !important\n				width 57px !important\n				left 50%\n				border none\n				box-shadow 0 0 0 1px rgba(255, 255, 255, 0.5), 0 1px 21px 1px rgba(0, 0, 0, 0.1)\n				background #E8E8E8\n				transform translateX(-50%)\n				div\n					box-shadow none\n					border none\n					&:hover\n						background #303030\n			&.open\n				z-index 2\n		&:before\n			content '\\e88a'\n			font-family 'fontello'\n			position absolute\n			background none\n			box-shadow none\n			top 50%\n			right .5em\n			width auto\n			color #242323\n			transform translateY(-50%)\n		&:after\n			display none\n\n\n	//\n	// General icon styles\n	[class^=\"icon-c\"]:before\n	[class*=\" icon-c\"]:before\n		content ''\n		display inline-block\n\n	//\n	// Icons for border style opts\n	[class^=\"icon-c-border\"]:before\n	[class*=\" icon-c-border\"]:before\n		width 17px\n		height 17px\n		border-width 1px\n		border-color #E5E5E5\n	.icon-c-border-solid:before\n		border-style solid\n	.icon-c-border-dashed:before\n		border-style dashed\n	.icon-c-border-dotted:before\n		border-style dotted\n\n	.nu-dropdown .options > div:hover\n	.nu-dropdown .options > div.active\n		&[class^=\"icon-c-border\"]:before\n		&[class*=\" icon-c-border\"]:before\n			border-color #171717\n\n\n	//\n	// Icon for border radius\n	.icon-c-radius-tl\n		width 1.3em\n		height 1.3em\n		border-top 3px solid #171717\n		border-left 3px solid #171717\n		display inline-block\n		margin-top 0.5em\n		margin-right 0.5em\n\n	// small inputs for border radius etc\n	.xxs\n		padding 0.2em 6px 0.2em 6px !important\n		text-align center !important\n		font-size 0.8em\n		margin-top 0.5em\n		width 35px !important\n		display inline-block\n		padding-left 6px !important\n\n	// Border color\n	.sp-sm .spectrum-input\n	.sp-sm .sp-preview\n		width 17px\n		height 17px\n		margin-top 0.6em\n		border-radius 2px\n	.sp-sm .sp-preview\n		margin-top 0.2em\n		.sp-preview-inner\n			border-radius 2px\n\n	// #zIndexHolder\n	// 	padding-left 1em !important\n	// 	position relative\n	// 	top -0.2em\n	// 	display none\n	// 	input\n	// 		width 40px\n	// 		margin-top 1.1em\n	// 		margin-left 1em\n\n	// Custom width\n	.customWidthPicker\n		position absolute\n		top 2.7em\n		text-align center !important\n		left 50%\n		width 90px !important\n		padding 0.3em 1em !important\n		border none\n		background none !important\n		border-bottom 1px dashed #E8E8E8\n		transform translateX(-50%)\n		display none\n		&:hover\n			border-bottom-color #171717\n	&.has-custom-width\n		.customWidthPicker\n			display inline-block\n		.nu-dropdown\n			.current\n				padding-left .8em !important\n\n	.column-chooser\n		.current\n			padding-left 0\n			padding-right 3em !important\n			text-transform uppercase\n			letter-spacing .05em\n			font-size .8em\n			position relative\n			text-align left\n		.options\n			padding-top 1em\n			[value=\"custom\"]\n				text-align center\n				text-transform uppercase\n				font-family 'gibsonRegular'\n				letter-spacing .05em\n				border-top 1px solid #E7E7E7 !important\n				margin-top 1em\n\n\n	// Position\n\n	&.positioning\n		.pos-ctrls\n			display none\n		.box-center\n			.actions\n				display none\n		&[position-type=\"relative\"]\n		&[position-type=\"absolute\"]\n		&[position-type=\"fixed\"]\n			.pos-ctrls\n				display block !important\n\n	&.hubOpts\n	&.attendeesOpts\n		// small inputs in the specific properties for some elements, like hubs\n		input[type=number]\n		input[type=text]\n			width 3em\n			text-align right\n\nbody\n	&:not(.designerMode)\n		&.rsvpExtra\n			.inner-stuff\n				display none\n			&.open.grp // the .grp is just to make the selector more specfic\n				padding-top 55px !important\n				padding-bottom 10px\n				.inner-stuff\n					display block\n					label\n						margin-bottom 10px\n						padding-top 3px\n						padding-left 29px\n	&.designerMode\n		.rsvpExtra\n			> label\n			label:not(.hideBtnToggle)\n				display none\n			.inner-stuff\n			.hideBtnToggle\n				display block\n\n// radius input\n.ui-borderRadius\n	.input-wrap\n		display inline-block\n		width calc(100% \\- 4em)\n		float right\n\n\n// styling for 4-sided box control\n// also known as...\n// THE IRON CROSS\n\n.box-controls\n	position relative\n	display inline-block\n	width 189px\n	height 159px\n	margin-top 2em\n	z-index 0\n	overflow hidden\n	.input-wrap\n		width 23px\n		position relative\n		input\n			padding 10px 0px !important\n			text-align center !important\n	.bx\n		position absolute\n		padding 0\n		&:before\n			color #8c8b8b\n\n	input\n		width 40px\n		padding 8px 0\n		text-align center\n		font-size 1em\n		z-index 1\n		margin 0\n		color #d3d2d2 !important\n		border none !important\n		background none !important\n		&::-webkit-input-placeholder\n			color #d3d2d2 !important\n			text-align center\n		&:-moz-input-placeholder\n			color #d3d2d2 !important\n			text-align center\n		&::-moz-input-placeholder\n			color #d3d2d2 !important\n			text-align center\n		&:-ms-input-placeholder\n			text-align center\n			color #d3d2d2 !important\n\n	// from the left by default\n	.nu-dropdown.unit-dropdown\n		left 100%\n		right auto\n		.current\n			min-height 0 !important\n		.options\n			border none !important\n			width auto !important\n			top 50% !important\n			left 103%\n			overflow visible !important\n			transform translateY(-50%)\n			border-radius 0 !important\n			&:before\n				content ''\n				position absolute\n				border-top 5px solid rgba(0, 0, 0, 0)\n				border-right 5px solid #8B8B8B\n				border-bottom 5px solid rgba(0, 0, 0, 0)\n				top 50%\n				-webkit-transform translateY(-50%)\n				right 100%\n			.option\n				border none\n				box-shadow none\n				padding 0.8em\n				background #8B8B8B\n				color #EAEAEA\n				border-radius 0 !important\n				&:hover\n					background #7CC576\n					box-shadow 0 0 0 2px #7CC576 inset\n\n\n	// the triangle arms\n	.arm\n		position absolute\n		cursor text\n		&:before\n			content ''\n			position absolute\n			width 160px\n			height 160px\n			background #F1F2F1\n			transition background .15s linear\n			transform translateX(-50%)\n\n		&.wide\n			left 50%\n			height 80px\n			width 1px\n			margin-left 1px\n			&:before\n				top -109px\n				left -81px\n				transform rotate(45deg) skew(-6deg, -6deg) translateX(0);\n\n		&.tall\n			top 50%\n			transform translateY(-50%)\n			&:before\n				top -79px\n				left -112px\n				transform rotate(45deg) skew(-6deg, -6deg) translateX(0);\n\n	.bx\n		&:hover\n			.arm\n				&:before\n					background #151516\n					transition background 0s linear\n\n	&.allSides\n	.bx.isFocused\n		.arm\n			&:before\n				background #151516\n				transition background 0s linear\n	.bx.dd-open\n		z-index 1\n\n\n	.box-top\n		top 0\n		left 50%\n		transform translateX(-50%)\n		// z-index 3\n		&:before\n			content 'TOP'\n			position absolute\n			bottom 100%\n			left 50%\n			font-size 0.6em\n			letter-spacing 0.1em\n			line-height 1\n			padding-bottom 1em\n			transform translateX(-50%)\n		.input-wrap\n			top 3px\n		.arm\n			top 0\n		.nu-dropdown.unit-dropdown\n			.options\n				top 3.5em !important\n				left -0.8em\n				transform none\n				&:before\n					top -2px\n					right 1.8em\n					border-right 5px solid rgba(0, 0, 0, 0)\n					border-bottom 5px solid #888\n					border-top none\n					border-left 5px solid rgba(0, 0, 0, 0)\n\n\n	.box-right\n		top 50%\n		right 0\n		transform translateY(-50%)\n		// z-index 2\n		&:before\n			content 'RIGHT'\n			position absolute\n			top 50%\n			left 100%\n			font-size 0.6em\n			letter-spacing 0.1em\n			line-height 1\n			padding-left 1em\n			transform translateY(-50%)\n		.arm\n			right 0\n			margin-top -1px\n			transform translateY(-51%) rotate(180deg)\n\n		.nu-dropdown.unit-dropdown\n			.options\n				left auto !important\n				right 103% !important\n				&:before\n					border-right none\n					border-left 5px solid #8B8B8B\n					left 100%\n					right auto\n\n	.box-bottom\n		bottom 0\n		left 50%\n		transform translateX(-50%)\n		// z-index 1\n		&:before\n			content 'BOTTOM'\n			position absolute\n			top 100%\n			left 50%\n			font-size 0.6em\n			letter-spacing 0.1em\n			line-height 1\n			padding-top 1em\n			transform translateX(-50%)\n		.input-wrap\n			top -2px\n		.arm\n			bottom 0\n			margin-left -1px\n			transform translateX(-50%) rotate(180deg)\n			&:before\n				left -79px\n				top -108px\n			.options\n				&:before\n					top auto !important\n					bottom .3em !important\n		.nu-dropdown.unit-dropdown\n			.options\n				top auto !important\n				bottom -2em\n				left -1em\n				&:before\n					top auto\n					bottom -7px\n					right 1.7em\n					border-top 5px solid #888\n					border-right 5px solid rgba(0, 0, 0, 0)\n					border-bottom none\n					border-left 5px solid rgba(0, 0, 0, 0)\n\n\n	.box-left\n		top 50%\n		left 0\n		transform translateY(-50%)\n		// z-index 2\n		&:before\n			content 'LEFT'\n			position absolute\n			top 50%\n			right 100%\n			font-size 0.6em\n			letter-spacing 0.1em\n			line-height 1\n			padding-right 1em\n			transform translateY(-50%)\n		.input-wrap\n			left 8px\n		.arm\n			left 0\n			&:before\n				left -113px\n				top -80px\n\n	.box-left\n	.box-right\n	.box-bottom\n	.box-top\n		&:before\n			display none\n\n	.box-center\n		position absolute\n		top 50%\n		left 50%\n		transform translateX(-50%) translateY(-50%)\n		width 42px\n		height 42px\n		border-radius 100%\n		background #fff\n		.actions\n			position absolute\n			width 100%\n			height auto\n			top 50%\n			left 50%\n			text-align center\n			transform translateX(-50%) translateY(-50%)\n			> span\n				font-size 0.6em\n				color #E5E5E5\n				cursor pointer\n			&:hover\n				span\n					color darken(#E5E5E5, 40%)\n					&:hover\n						color #171717\n\n\n@media screen and (max-width:478px)\n	.plus-circ\n		right 0\n		left 6px\n\n	.recap-report-jump\n		margin-top 10px\n		margin-left 15%\n		float left !important\n\n	.live-feed-jump\n		margin-left 25%\n\n.link-to-swatch-holder\n	.comboWrap\n		.combo-opt\n			float left !important\n			width 78%\n			margin-top 15px\n			left 23px\n			&.active\n				border-left none\n				float right\n				&:before\n					content '\\e889'\n					position absolute\n					top 40%\n					left -1.5em\n					font-family 'fontello'\n					transform translateY(-50%)\n			.opt\n				cursor pointer\n				border-top 1px solid rgba(0,0,0,.2)\n				border-left 1px solid rgba(0,0,0,.2)\n				&:hover\n					border-top: 1px solid #000\n				&.active\n					height 22px\n					top -3px\n					position relative\n				// &:first-child\n				// 	border-radius 8px 0px 0px 8px\n				// &:nth-last-child(2)\n				// 	border-radius 0px 8px 8px 0px\n\n		.actions\n			.delete-btn\n				display none\n			.unlink-btn\n				display inline-block\n				top -2px\n				left 3px\n				position relative\n				cursor pointer\n		.drag-handle\n			display none\n\n@font-face {\n    font-family: 'vinceHand';\n    src: url('/fonts/vince-hand/vh2-webfont.eot');\n    src: url('/fonts/vince-hand/vh2-webfont.eot?#iefix') format('embedded-opentype'),\n         url('/fonts/vince-hand/vh2-webfont.woff') format('woff'),\n         url('/fonts/vince-hand/vh2-webfont.ttf') format('truetype'),\n         url('/fonts/vince-hand/vh2-webfont.svg') format('svg');\n    font-weight: normal;\n    font-style: normal;\n}\n\n\n#nav-embed\n	&[block-type=\"button\"]\n		.nav-tab\n			display none !important\n	&[block-type=\"nav\"]\n		.button-tab\n			display none !important\n\n\n@media screen and (max-width:600px)\n\n	///\n	// Hide some things in the main nav\n	#inviteTab\n	#planTab\n	.toolBtn.gallery\n	.toolBtn.content\n	// #viewSettings\n	#messageAttendees\n	// #rsvpTixTab\n	#awaitingBtn\n		display none !important\n\n	#cropAnyPhoto #topImageNav .topNavBtn\n		font-size 20px !important\n\n	.simple-modal.sleek .header .closeSimpleModal\n		padding-left 0px !important\n\n	///\n	// make remaining main nav buttons bigger\n	body.finetune #nuTool\n		#nuToolBtns\n			position absolute\n			width 100%\n			top 0\n			height 90px\n\n		#nuToolBtns .toolBtn.theme\n		#nuPlanBtns .toolBtn.rsvpTix\n		#nuPlanBtns .toolBtn.responses\n			height 90px !important\n			border-bottom 1px solid #fff\n			.toolIcon\n				top 50%\n			.toolBtnText\n				display block !important\n				margin-top -10px\n			&:hover\n				.toolBtnText\n					background none\n					color inherit\n					bottom auto !important\n					padding 0\n\n		#nuToolBtns .toolBtn.active.theme\n		#nuPlanBtns .toolBtn.active.rsvpTix\n		#nuPlanBtns .toolBtn.active.responses\n			.toolIcon\n				top 50% !important\n\n		#nuPlan\n			top 90px\n			#nuPlanWrap\n				position absolute\n				width 100%\n				height 180px\n			.top-level\n				position absolute\n				// top 33.33333%\n				bottom 0\n				// margin 0\n				// padding 10px 0\n\n	///\n	// finetune\n	#finetune-block\n		#fineTuneForm\n		#finetune-all-tools\n		#finetune-sections\n			width 100% !important\n	.finetuneOpen\n		.splug\n			display none !important\n		#finetune-block\n			left 0\n			width calc(100% - 92px)\n\n\n	//\n	// Design Pane\n	#finetune-sections\n		.basic-tools\n			font-size 1.5em\n			.sectionHead .main\n				text-transform uppercase\n				.bigger\n					font-size 29px\n					font-family gibsonSemibold\n					font-weight normal\n			.outer-title\n				> *\n					font-size 1.2em\n				.edit-link-btn:before\n					top: 0\n			#swatchDonutWrap\n				#swatchBtn\n				#advSwatchBtn\n					width 2.5em\n					height 2.5em\n				.swatchMask\n					left 50%\n					transform translateX(-50%)\n	.link-opt\n		.name\n			font-size 1.2em\n		.link-text:before\n			top -.2em\n			font-size 1.2em\n\n\n	#planning-tools\n		#planning-tools-header\n			// hide it all\n			display none\n			.planLinks\n				display none\n			.eventTitle\n				width 100% !important\n				text-overflow ellipsis\n				overflow hidden\n				font-size 0.8em\n				h4\n					text-align center\n				small\n					display none\n			.event-meta\n				> grp.p0.w1-2\n					display none\n				> .grp.pr0.abs.br.wA\n					width 100%\n					padding-left 0\n					> div\n						width 33%\n\n\n		#planningToolsNav.settings #rsvpTabSections\n			.subnav-link\n				display none !important\n			.section-title\n				text-align center\n				padding 20px 0 0\n				span\n					float none\n					padding 0\n					font-size 29px\n\n		#ultimate-block-wrap\n		> #planning-content\n			margin-top 0\n			min-height 100vh\n\n\n		///\n		// in form/tickets\n		#rsvp-block\n			overflow visible !important\n		#rsvp-setting-inner\n			display none\n		#pageActionSettings\n			width 100%\n			#page-action-settings\n				width 100%\n				&:after\n					// content 'Sign in on a desktop copmputer to edit your custom questions.'\n					width 100%\n					text-align center\n					margin-top 2em\n					float left\n					text-transform uppercase\n					font-size 1.2em\n					color #C0C0C0\n					letter-spacing .05em\n					padding 0 3em\n					-webkit-box-sizing border-box\n					box-sizing border-box\n				.status-box\n					padding 3em\n					#current-rsvp-status\n						text-transform uppercase\n				.nu-dropdown.rsvp-status\n					height auto\n					border-radius 2px\n					&:before\n						border-radius 0\n						top 0px\n						bottom 0\n						height auto\n						background #7CC576\n					#rsvp-quick-status\n						padding .8em\n						font-size 1.4em\n						padding-right 44.5px\n					.options\n						top 100%\n						div\n							padding 1em\n							font-size 1.1em\n\n			.grp.holder.bg-f8:last-child\n				display none\n\n		#ultimate-block-wrap\n			min-width 0\n			overflow inherit\n			&:after\n				content 'Need to do more? Please sign in on a desktop computer.'\n				display block\n				text-align center\n				color #ccc\n				text-transform uppercase\n				font-size 1.3em\n				width 80%\n				margin 30px 10%\n				float left\n\n		.pt-nav-wrap\n			position relative !important\n			#planningToolsNav\n				li\n					#responseSubNav\n						li\n							display inline-block\n							width 90%\n							max-width 300px\n							&.section-title\n								width 100%\n								position relative\n								span\n									width 100%\n									padding-right 0\n									text-align center\n									font-size 29px\n								.refresh-responses\n									top 20px\n									left 68%\n							.guests-hud\n								> li\n									width 100%\n									margin 2px 0\n									.pill\n										font-size 17px\n										line-height 30px\n										text-transform uppercase\n										margin -10px 0 13px\n										.iphone-icon\n											width 12px\n											height 19px\n											&:before\n												width 8px\n												height 12px\n											&:after\n												width 3px\n												height 3px\n												margin-left -1.5px\n\n							[type=\"tracking-container\"]\n								display none\n							&.litesaver-wrap\n								display none !important\n							#unsavedSettings\n								width 100%\n								white-space normal\n								height auto\n								line-height 1.3em\n								text-align center\n								border-radius 2px\n\n		///\n		// Confirmation messaging\n		#rsvp-messages-container\n			.conf-msgs\n				width 100% !important\n\n		///\n		// RSVP stats\n		.guests-hud\n			width 100% !important\n			margin-bottom 1em\n			height auto !important\n			min-height 0 !important\n			#exportAttendeeTable\n			#importAttendeeTable\n			.btnWrapLeft\n			.rightWrap\n				display none !important\n\n		.stats\n			> div\n				margin 10px 0 0 !important\n\n		///\n		// RSVP filters\n		.attendeeFiltersInner .w1-4\n			width 50%\n\n		#rsvpQuickStats\n			.searchIt\n				width 80%\n				margin 16px 10%\n				#search-rsvp-list\n					width 100%\n					top 0\n				#rsvp-search-icon\n					top 10px\n\n			.filterToggle\n				width: 100%\n				padding 24px 0\n				display none\n				&:before\n					top 33px !important\n					left 90%\n\n			#bulkAttendeeActions\n				position absolute\n				left 0\n				top 0\n				bottom 0\n				width 100%\n				background #f6f6f6\n				padding 4px 0\n				a\n					margin 2px 3%\n					width 44%\n					text-align center\n\n		#rsvp-list-contain\n			tr\n				.vip-star\n				.attendee-edit\n					opacity 1\n					font-size 1.3em\n					color #555\n\n				th\n					font-size 1.3em\n					&[field=\"email\"]\n					&[field=\"attending_count\"]\n						display none\n				td\n					padding 10px\n					font-size 1.3em\n					&[field=\"email\"]\n					&[field=\"attending_count\"]\n						display none\n\n					&.open-details\n						min-width 91px\n						padding 12px;\n						height 58px;\n\n	///\n	// Quicksave\n	#nuTool\n		.save-wrap\n			&:hover\n				#bottom-util\n					left 0\n					right 92px\n					width auto\n			#bottom-util\n					font-size 1.5em\n				.autosave-contain\n					text-align left\n					padding-left 22px\n				.grp > div\n				.grp > label\n					font-size 1.5em\n\n				#save-details-design\n					margin-bottom 0\n\n\n\n\n@media screen and (max-width:478px)\n\n	#finetune-sections\n		.sectionHead\n			font-size 1.4em\n\n	#planning-tools\n\n		#rsvpQuickStats\n			.searchIt\n				#rsvp-search-icon\n					font-size 1.5em\n\n		#rsvp-list-contain\n			tr\n				.vip-star\n				.attendee-edit\n					font-size 1.4em\n				th\n				td\n					font-size 1.8em\n\n		#ultimate-block-wrap:after\n			font-size 2em\n\n	// 	.pt-nav-wrap\n	// 		#planningToolsNav\n	// 			li\n	// 				#responseSubNav\n	// 					li.section-title\n	// 						.refresh-responses\n	// 							left 68%\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/user-planning.styl",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 398911,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_contact.php",
			"settings":
			{
				"buffer_size": 46638,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/rsvps.ctp",
			"settings":
			{
				"buffer_size": 26161,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/account_controller.php",
			"settings":
			{
				"buffer_size": 172915,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "var modal_visible = false;\nvar ignore_scroll = false;\n\nvar $simple_modal_ajax = $(\"#simple-modal-ajax\");\n$(document).ready(function(){\n	$(\"#simple-modal-wrap .simple-modal-flow-control\").scroll(function(){\n		if(modal_visible && !ignore_scroll){\n			var $sma = $(\"#simple-modal-ajax\");\n			if($sma.offset().top < 0){\n				$sma.addClass('fixed-top');\n			} else {\n				$sma.removeClass('fixed-top');\n			}\n		}\n	});\n\n	//checkLogoBreathingRoom();\n	var $block_wrap = $(\"#ultimate-block-wrap\");\n\n	/** SPLASH DASH TAB BUTTONS **/\n	$(\"#nuPlanBtns\").on('click',\".toolBtn\",function(){\n		//console.time(\"nav link\");\n\n		if(unsavedSettings){\n			showUnsavedNotice()\n			flashPlanNav()\n			return false;\n		}\n\n		if( $('body').hasClass('noPayoutData') ){\n			$('.pop-wrap1').remove();\n			$('body').removeClass('noPayoutData')\n		}\n\n		if ( $('body').hasClass(\"noTickets\") ){\n			$('.pop-wrap2').remove();\n			$('body').removeClass('noTickets')\n		}\n\n		if( $('#planningToolsNav').hasClass('unsavedChanges') ){\n			event.preventDefault()\n			flashPlanNav()\n			return false\n		}\n\n		if( $('body').hasClass('showTutorial') ){//dont click during tutorial.\n			event.preventDefault();\n			return false;\n		}\n\n		var $t = $(this);\n		if( $t.hasClass('active') ){//closing the section\n			$t.removeClass('active');\n			closePlanningTools();\n		} else { //opening the section.\n\n			resetDesignTabs();\n			$('#nuTool').find('.toolBtn').removeClass('active') // remove active class from all tabs\n			$t.addClass('active')\n\n			if( $t.hasClass('responses') ){ //if you're going into the responses tab, hide the badge\n				$('#rsvpBadge').hide()\n\n				//set the cookie to the current rsvp or ticketed count.\n				if( typeof constants.rsvp_total !== 'undefined' && constants.rsvp_method === 'collect' ){\n					JSCookies.setItem( 'rsvpTotal-'+constants.event_id, constants.rsvp_total )\n				} else if( typeof constants.ticket_total !== 'undefined' && constants.rsvp_method === 'tickets' ){\n					JSCookies.setItem( 'ticketTotal-'+constants.event_id, constants.ticket_total )\n				}\n\n			}\n\n			if ( $('#doneBtn').length > 0 ){\n				$('#doneBtn').remove();\n				$('#secondViewOverlay').remove();\n				$('body').removeClass('showTut2')\n			}\n\n			var $container = $(\"#planning-tools\");\n			var $parent = $t.parents(\"li\"),\n				id = $t.prop(\"id\");\n\n			$('#planningToolsNav').find('ul.subnav').hide();\n\n			var type;\n			if( id=='rsvpTixTab' ){\n				var type = 'settings',\n					url='/events/rsvps';\n			} else if ( id=='inviteTab' ){\n				var type = 'invite',\n					url = '/events/preEventSplash';\n			} else if ( id == 'responseTab' ){\n				var type = 'rsvp',\n					url='/events/rsvps';\n			} else if ( id == 'planTab' ){\n				var type = 'plan',\n					url = '/events/plan';\n			}\n\n			trackIndicativeEvent('tabOpened', { 'type': id });\n			if( type != 'settings' ){\n				$('body').removeClass('noPayoutData')\n			}\n\n\n			$('#planningToolsNav').removeClass('settings invite rsvp plan').addClass(type)\n			var $design_link = $(\"#design-link\");\n\n			//console.log($(this)[0]['outerText'], 'testing')\n			if( id == \"rsvpTixTab\" ){\n				if($(\"#ticketUtils\").length > 0){\n					$(\"#ticketUtils\").find(\".subnav-link:first\").click();\n				} else if($('#rsvpTabSections .rsvp-main-sub:first').length > 0){\n					$('#rsvpTabSections').find('.rsvp-main-sub:first').click();\n				}\n			}\n			closeGuiders();\n\n			//if it's open, close the tab and call it a day (unless it's the rsvp block)\n			if($parent.hasClass('active')){\n				if ( type == 'rsvp' && !$(\"#rsvp-block\").hasClass('loaded')){//!$('.block[type=rsvp]').hasClass('loaded') ){\n				}else{\n					closePlanningTools();\n					return;\n				}\n			}\n\n			$(\"#ultimate-block-wrap\").scrollTop(0);\n			if(unsavedSettings){\n				showUnsavedNotice()\n				return false;\n			}\n\n			$t.parents(\"ul\").find(\"li.active\").removeClass('active');\n			$parent.addClass('active');\n			$container.addClass('expanded').find(\"div.block\").hide();\n\n			closeEditingTools();\n\n			$(\"body\").addClass('lockItUp toolsOpen');\n			$(\"#planning-tools-header\").addClass('open');\n			setScrollWidth();\n\n			$('html, body').animate({ scrollTop: 0}, 200, function(){});\n\n			_gaq.push(['_trackPageview','/events/splashDash/'+type+'/'+constants.slug]);\n\n			if(type=='settings'){ //exception to the rule.\n				var $block = $(\"#rsvp-block\");//$container.find(\"div.block[type='rsvp']\");\n			} else{\n				var $block = $(\"#\"+type+\"-block\");//$container.find(\"div.block[type='\"+type+\"']\");\n			}\n\n			$('#planningLoader').addClass('loading');\n			//$container.find(\"div.block\").hide();\n			setTimeout(function(){ updateBlockWrapHeight();}, 1);\n\n			if($block.hasClass('loaded')){\n				$block.show();\n				$(\"#ultimate-block-wrap\").scrollTop(0);\n				$('#planningLoader').removeClass('loading');\n				if(type=='plan'){\n					clipsReflow();\n				} else if(type == 'invite'){\n\n					if(jumpToMessageContacts || jumpToMessageLazyPeople){\n						//console.log('im in here..');\n						$(\"#messagingLink\").click();//make sure on the email sender page.\n						var li_id = (jumpToMessageContacts)?'attendees':'haveNotRsvped';\n						flipDropDown($(\"#sendToWrapper\"),li_id,true);\n						var template_id = (jumpToMessageContacts)?'general':'eventReminder';\n\n						$(\"#emailSendSubNav\").addClass('editing');\n						$(\"#guestListSaver\").removeClass('editing-guestlist');\n\n						flipDropDown($(\"#emailTemplateOptions\"),template_id,true);\n						jumpToMessageContacts=false; jumpToMessageLazyPeople=false;\n					} else if($t.hasClass('jumpToGuestList')){\n						$t.removeClass('jumpToGuestList');\n						$(\"#guestListsLink\").click();\n						//$(\"ul.planning-tools-nav\").find(\".subnav-link[type='guest_lists']\").click();\n					}\n\n				}\n				checkForCallBackActions(type);\n				return;\n			}\n\n			$.post(constants.finetune_formBase+url+\"/\"+constants.slug, { event_id: constants.event_id }, function(response){\n				$block.addClass('loaded').html(response);\n				if($t.hasClass('active')){//IMPORTANT - MAKE SURE THE TAB IS STILL ACTIVE BEFORE SHOWING.\n					$block.show();\n\n					//console.log('done ', constants.jumpToSection)\n					if( constants.jumpToSection !== false ){\n						console.log('right here bro')\n						jumpToPayoutSection()\n					}\n\n				}\n\n				$('#planningLoader').removeClass('loading');\n				if(type=='invite'){\n					inviteSectionInit($t);\n				}\n				else if(type=='plan'){\n\n					updateAllPlanningCounts();\n					initializeDragRows();\n					makeElementsSortable();\n					//make all tasks sortable on pageLoad.\n					$(\"#tasks-block\").find(\"ul.task_list\").each(function(){\n						makeTasksSortable($(this),$(this).parents(\"div.accordion\").attr(\"element_id\"));\n					});\n					setTimeout(function(){\n						clipInit();\n					},50);\n\n					// setStatsNumbers();\n				}\n				checkForCallBackActions(type);\n\n			}).error(handleAjaxErrorResponse);\n			//console.timeEnd(\"nav link\");\n		}\n	});\n\n	$(\"#planning-tools\").on('click','a.refresh-responses',function(){\n		var $block = $(\"div.block[type='rsvp']\");\n\n		//Prevents double clicks on refresh button making sure if only fires when loaded.\n		if ($block.hasClass('loaded')){\n			triggerSectionReload('rsvp');\n			$(\"#responseTab\").removeClass('active').click();//removing the active class and reclicking.\n		}\n		\n		if(typeof selectedAttendees!=='undefined'){\n			selectedAttendees = [];\n		}\n		isSelAllChecked = false;\n	});\n\n	$(\"#planning-tools\").on('click','#jumpToWaitListFilter',function(event){\n		event.preventDefault();\n		var $input = $(\"#waitlist-filter-check\").find(\"input:first\");\n		if($input.prop(\"checked\")){\n			$(this).removeClass('active');\n			$input.prop(\"checked\",false).trigger(\"change\");\n		} else{\n			$(this).addClass('active');\n			$input.prop(\"checked\",true).trigger(\"change\");\n		}\n	});\n\n	$(\"#rsvp-settings-tab.tickets\").click(function(e){\n		_gaq.push(['_trackEvent', 'FineTune', 'Section-ticket-settings', 'id:'+constants.event_id]);\n		jumpToTickets=true;\n		console.log('click tix')\n	});\n	$(\"#ticket-discounts\").click(function(e){\n		_gaq.push(['_trackEvent', 'FineTune', 'Section-ticket-discounts', 'id:'+constants.event_id]);\n		jumpToTickets=true;\n		jumpToDiscountCodes=true;\n		$(\"ul.planning-tools-nav\").find(\"span.nav-link[type='settings']\").click();\n		return false;\n	});\n\n	$(\"#ticket-changes-made a\").click(function(){\n		//works for ticket saving AND discount code saving. bada bing!\n		if($(\"#ticket-changes-made\").hasClass('discount-code')){\n			var $editing_ticket = $(\"#discount-codes-container\").find(\"div.discountRows.open:first\");\n			var class_names = { save: 'save-ticket-order-discounts', cancel: 'cancel-ticket-order-discounts' };\n		} else{\n			var $editing_ticket = $(\"#splash-ticket-settings-form\").find(\"div.typeRows.open:first\");\n			var class_names = { save: 'save-ticket-settings', cancel: 'cancel-ticket-settings' };\n		}\n		var $this = $(this);\n		if($editing_ticket.length){\n			if($this.hasClass('close-modal')){\n				$editing_ticket.find(\"a.\"+class_names.cancel).click();\n			} else if($this.hasClass('save')){\n				closeSimpleModal();\n				$editing_ticket.find(\"a.\"+class_names.save).click();\n			} else if($this.hasClass('keep-working')){\n				closeSimpleModal();\n			}\n		}\n	});\n\n	$(\"#planning-tools\").on('click','.dismissError',function(){ //closing error in the litesaver.\n		$(this).parents(\".errorMessage\").fadeOut();\n	});\n\n	$(\"#planning-tools\").on('click','#TicketSalesList .summary td',function(){\n		var $tbody = $(this).parents('tbody:first');\n		if ( $tbody.hasClass('expanded') ) $tbody.removeClass('expanded');\n		else $tbody.addClass('expanded');\n	});\n\n	$(\"#planning-tools\").on('click',\"#add-rsvp-postback-param\",function(e){\n		e.preventDefault();\n		var $this = $(this);\n		var $params = $this.parents('.rsvp_postback:first').find('ul.params');\n		var $firstParam = $params.find('li.param:first');\n		if ( $firstParam.length == 1 ){\n			var nextKey = ($this.attr('nextKey'))?parseInt($this.attr('nextKey')):1;\n			var $newParam = $firstParam.clone();\n			$newParam.find('input.name').attr('name','data[EventSetting][rsvp_postback_params]['+nextKey+'][name]').val('');\n			$newParam.find('input.value').attr('name','data[EventSetting][rsvp_postback_params]['+nextKey+'][value]').val('');\n			$params.append($newParam);\n			$this.attr('nextKey',nextKey+1);\n		}\n	});\n\n	$(\"#planning-tools\").on('click',\"#rsvpQuickStats ul.util-nav li\",function(){\n		var id = $(this).find(\"a\").prop(\"id\");\n		var $parent = $(this).parents(\"div.rsvps\");\n		$(\"#rsvpQuickStats\").find(\"li.active\").removeClass('active');\n		$(this).addClass('active');\n\n		if( id == 'allAwaitingReply' ){  // awaiting reply.\n			$parent.find(\".rsvp-list,.ticket-sales\").hide();\n			var $section =$parent.find(\"div.awaiting-reply\");\n			if($section.hasClass('loaded')){\n				$section.show();\n			}else{\n				$section.show().html('<div class=\"inner-spin\">'+$(\"#splashLoader\").html()+'</div>');\n				$.post(constants.finetune_formBase+\"/events/awaitingReply/\"+constants.event_id,null,function(response){\n					$section.addClass('loaded').html(response);\n					$(\"#awaitingReplyList\").tablesorter();\n					$('#allAwaitingReply span').html('('+$('#awaitingReplyList').find('tbody tr').length+')');\n				});\n			}\n\n		}\n		else if( id == 'allTicketSales' ){  // Ticket Sales\n			$parent.find(\".rsvp-list,.awaiting-reply\").hide();\n			var $section =$parent.find(\"div.ticket-sales\");\n			$section.show().html('<div class=\"inner-spin\">'+$(\"#splashLoader\").html()+'</div>');\n			$.post(constants.finetune_formBase+\"/events/ticketSales/\"+constants.event_id,null,function(response){\n				$section.addClass('loaded').html(response);\n				$(\"#TicketSalesList\").tablesorter();\n			});\n\n		}\n		else{ // regular on-page ones\n			$parent.find(\".awaiting-reply,.ticket-sales\").hide().end().find(\".rsvp-list\").show();\n\n			var $table = $(\"#rsvp-list\").find(\"tbody\");\n			if(id=='allAttending'){ //only show attending\n				$table.find(\"tr\").show().end().find(\"tr.not-attending\").hide();\n			}\n			else if(id=='allNotAttending'){ //only show not attending\n				$table.find(\"tr\").hide().end().find(\"tr.not-attending\").show();\n\n			}\n			else{ //attending & not attending\n				$table.find(\"tr\").show();\n			}\n			$table.hide().fadeIn(300)\n			$(\"#ultimate-block-wrap\").scrollTop(0);//scroll this thing back up.\n			$(\"#empty-row\").hide();\n			//if($table.find(\"tr:visible\").length < 1){\n			//	$(\"#empty-row\").show();\n			//}\n		}\n	});\n\n	$(\"#planning-tools\").on('click','#editExternalLink',function(){\n		$(\"#rsvp-settings-tab\").click();\n		//$(\"#finetune-sections\").find(\"div.section[chunk='pageAction']\").click();\n		// setTimeout(function(){\n		// 	setVisibleAccordionHeight();\n		// },200);\n	});\n\n	$(\"#planning-tools\").on('click',\"ul.subnav span.subnav-link\",function(){ //subnav clicking.\n		var $this = $(this);\n\n		if ( $this.hasClass('fake') ) return;\n		var $parent = $this.parents(\"ul:first\");\n		var type = $this.attr(\"type\");\n		//console.log(\"i am here\"+type);\n\n		$parent.find(\"span.active\").removeClass('active');\n		$this.addClass('active');\n		$(\"#ultimate-block-wrap\").scrollTop(0);\n		updateBlockWrapHeight();\n		if($parent.hasClass('planning-section-nav')){ //PLANNING TOOLS SECTION\n\n			var $section  = $(\"#\"+type+'-block');\n			if($section.length > 0){\n				$(\"#budget-block,#tasks-block,#clips-block\").hide();\n				$section.fadeIn(100,function(){\n					if(type=='clips'){\n						clipsReflow();\n					}\n					else if(type=='budget' && $(\"#budgets\").is(\":visible\")){\n						$(\"#backToBudget\").click();\n					}\n				});\n			}\n		}\n		else{\n			if(type=='send'){//messaginglink\n				updateMessagingDropdowns();\n			}\n			else if($.inArray(type,['tickets','discount_codes','payouts','tix-tracking'])>-1){\n				//window.location.hash='tickets';\n				scrollToTopOfTicketTab();\n				\n				$(\"div.tabBlock.settings-block\").hide();\n				var $section = $(\"div.tabBlock[type='tickets']\");\n				$section.show().find(\"div.container\").hide();\n				if(type=='discount_codes'){\n					$(\"#discount-codes-container\").show();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tickets,li.nav-tracking-links\").hide().end().find(\"li.nav-discount-codes\").show();\n					$(\"#ticket-settings-container\").show();\n					$('#splash-ticket-settings-form').hide();\n\n					onlyNumInputs();\n\n				} else if(type=='payouts'){\n					$(\"#ticket-payout-settings\").show();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tickets,li.nav-discount-codes,li.nav-tracking-links\").hide();\n					$(\"#ticket-settings-container\").show();\n					$('#splash-ticket-settings-form').hide();\n				} else if(type=='tix-tracking'){\n					$(\"#tracking-container\").show();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tickets,li.nav-discount-codes\").hide().end().find(\"li.nav-tracking-links\").show();\n					$(\"#ticket-settings-container\").show();\n					$('#splash-ticket-settings-form').hide();\n				} else { //default to tickets.\n					$(\"#ticket-settings-container\").show();\n					$('#splash-ticket-settings-form').show();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tickets\").show().end().find(\"li.nav-discount-codes,li.nav-tracking-links\").hide();\n				}\n				return false;\n\n			} else if(type=='rsvp' || type=='guests'){\n				//console.log('im in here now');\n				window.location.hash='rsvp';\n			}\n			else if(type=='guest_lists'){\n				$(\"#jumpToNewEmail\").hide();\n				$(\"#sendToList\").show();\n			} else if (type=='history'){\n				$(\"#jumpToNewEmail\").show();\n				$(\"#sendToList\").hide();\n			}\n			var $section = $(\"div.tabBlock[type='\"+type+\"']\");\n			if($section.length){\n				console.log('clciking in here')\n				$section.parents(\".block\").find(\"div.tabBlock\").hide();\n				$section.show();\n\n				if(type=='checkin' && !$section.hasClass('loaded')){\n					$section.html($(\"#splashLoader\").html());\n					$.post(constants.finetune_formBase+\"/checkin/ajax\",null,function(response){\n						$section.addClass('loaded').html(response);\n					});\n				}\n				else if(type=='history' && $(\"#event-email-history.reload\").length){\n					$(\"#emailDashboardTab\").click();\n				}\n				else if(type == 'tickets' && jumpToPayoutSettings){\n					setTimeout(function(){\n						$(\"#payoutSettingsLink\").click();\n						jumpToPayoutSettings=false;\n					},1);\n				} else if(type=='send'){\n					if(templateSideBarPos==0){\n						$(\"#email-design-sidebar\").removeClass('fixed');\n						templateSideBarPos = $(\"#email-design-sidebar\").position().top;\n					}\n				}\n			} else {\n				//console.log('doing type functions', type)\n				if(type=='rsvp-questions-container'){\n					$('#rsvp-questions-container').show().siblings().hide();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tracking-links\").hide();\n				} else if(type=='rsvp-messages-container'){\n					$('#rsvp-messages-container').show().siblings().hide()\n					$('#rsvp-messages-container').find('.conf-msgs').show().siblings(':not(\".conf-msgs\")').hide();\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tracking-links\").hide();\n\n					console.log( 'show waitlist stuff?', $('#waitlist-check').val())\n					if( $('#waitlist-check').parents('.nu-checkbox:first').hasClass('checked') ){\n						// if waitlist is enabled, show waitlist messaging\n						$(\"#waitListConfMessaging\").show()\n					} else {\n						$(\"#waitListConfMessaging\").hide()\n					}\n\n				} else if(type == 'tracking-container'){\n					$('#rsvp-messages-container').show().siblings().hide()\n					$parent.find(\"ul.util-nav\").find(\"li.nav-tracking-links\").show();\n					$(\"#tracking-container\").show().siblings().hide();\n				}\n			}\n		}\n	});\n\n	var onlyNumInputs = function(){\n		$(\"#splash-ticket-order-discounts-form .discount_amount\").keydown(function(event) {\n	        // Allow: backspace, delete, tab, escape, enter and .\n	        if ( $.inArray(event.keyCode,[46,8,9,27,13,190]) !== -1 ||\n	             // Allow: Ctrl+A\n	            (event.keyCode == 65 && event.ctrlKey === true) ||\n	             // Allow: home, end, left, right\n	            (event.keyCode >= 35 && event.keyCode <= 39)) {\n	                 // let it happen, don't do anything\n	                 return;\n	        }\n	        else {\n	            // Ensure that it is a number and stop the keypress\n	            if (event.shiftKey || (event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105 )) {\n	                event.preventDefault(plannersDropdown);\n	            }\n	        }\n	    });\n	}\n\n	$(\".popwrap .close-form\").click(function(){\n		$(this).parents(\".popwrap\").remove();\n	});\n\n	$(\"#payout-learn-more,#payout-select-dd,#payout-select-check,#payout-select-venmo\").click(function(e){\n		closeSimpleModal();\n		\n		showPayoutTab($(this).attr('type'));\n		$body.removeClass('noTickets noPayoutData')\n		return false;\n	});\n\n	$(\".createTicketBtn\").click(function(){\n		closeSimpleModal();\n		$body.removeClass('noTickets noPayoutData')\n		$(\"#rsvpTixTab\").click();\n		return false;\n	});\n\n	// Edit Venue Button\n	$('#edit-venue-info-button').click(function(e) {\n		e.preventDefault();\n		e.stopPropagation();\n\n		openSettingsWithoutClose();\n\n		$('#settings-content').scrollTop(9999);\n	});\n\n	// Edit Venue on Fixed Header\n	$('#header-date-info').click(function() {\n		$('#edit-venue-info-button').click();\n	});\n\n	// Pro Addon Click\n	$('#pro-addon-link').click(function(e) {\n		e.stopPropagation();\n	});\n\n	// Simulate clicking settings button without calling closeFinetuneBar function\n	function openSettingsWithoutClose() {\n 		$('body').addClass('settingsOpen').removeClass('dateVenueModal')\n\n		resetSettingsTab()\n		//openPlannersModal();\n\n		$('#nuTool').find('.toolBtn').removeClass('active')\n		if($('#settingsFAQWrap').hasClass('loaded')) {\n    	//don't load data\n        }\n        else {\n			$.ajax({\n				url: constants.finetune_formBase+\"/faq/remoteFaq\",\n				data: {}\n			}).done(function(response) {\n				$('#settingsFAQWrap').html(response);\n				$(\".questionsByCategory:first\").removeClass('hide');\n\n				$('#settingsFAQWrap').find('a').each(function(){\n					$(this).attr('target', '_blank')\n				})\n\n				$('#settingsFAQWrap').addClass('loaded');\n			});\n		}\n\n		trackIndicativeEvent('settingsModalOpen');\n	}\n	\n	$(\"#simple-modal-wrap\").on('click','.ticket-create-link',function(e){\n		closeSimpleModal();\n\n		if( $(this).attr('id') == 'payout-select-method' || $(this).hasClass('jump-to-payout') ){\n			constants.jumpToSection = 'direct_deposit' \n		}\n		showPayoutTab($(this).attr('type'));\n		return false;\n	});\n\n	$(\"#back-to-emails\").click(function(){\n		if(lastSection=='guest_lists'){\n			$(\"#guestListsLink\").click();\n			$(\"#emailSendSubNav\").addClass('editing');\n			$(\"#guestListSaver\").addClass('editing-guestlist')\n\n			lastSection='';\n		} else if(lastSection=='current_email'){\n			lastSection = 'guest_lists';\n			dontReloadDefaultEmail = true;\n			$(\"#sendToList\").click();\n		}\n		else{\n			if(email_changes_made){\n				$(\"#emailSettingsErrorMessage\").show().find(\"span:first\").html('You have unsaved changes.<a href=\"#\" id=\"emailPromptSave\" class=\"nu-btn s clean\">Save</a><a href=\"#\" id=\"emailPromptCancel\" class=\"nu-btn s clean\">Dismiss</a>');\n				$(\"#ultimate-block-wrap\").scrollTop(0);\n				$(\"#emailPromptSave\").unbind('click').click(function(){\n					jumpToEmailDashboard = true;\n					$(\"#invite-draft-button\").click();\n					$(\"#emailSettingsErrorMessage\").hide();\n				});\n				$(\"#emailPromptCancel\").unbind('click').click(function(){ //dismiss message\n					$(\"#emailSettingsErrorMessage\").hide();\n					email_changes_made = false;\n					$(\"#back-to-emails\").click();\n					resetEmail();\n\n				});\n			} else{\n				$(\"#emailDashboardTab\").click();\n				$(\"#emailSendSubNav\").removeClass('editing');\n			}\n		}\n\n	});\n\n	$(\"#back-to-tickets\").click(function(){\n		$(\"#cancelTicketSettingsLink\").click();\n	});\n	$(\"#back-to-discount-codes\").click(function(){\n		$(\"#cancelDiscountCodesLink\").click();\n	});\n	$(\"#back-to-tracking-links\").click(function(){\n		if(unsavedSettings && $(\"#unsavedSettings\").length){\n			showUnsavedNotice()\n			return false;\n		}\n		$(\"#cancelTrackingLinks\").click();\n	});\n\n	$(document).on('click','#planning-section .delete_element', function(){\n		var $obj=$(this);\n		var params = { event_id:constants.event_id, element_id: $obj.parent(\"div\").attr(\"element_id\"), type_id: $obj.parent(\"div\").attr(\"type_id\") };\n\n		if(params.element_id > 0){\n			var answer=confirm(\"Are you SURE you want to delete this element?  All tasks, budget items and files stored in this element will also be deleted.  It's kind of a big deal...\");\n			if(answer){\n				$obj.parents(\"div.element-grid-box\").parent(\"a\").fadeOut(200,function(){\n					$(this).remove();\n\n					//$(\"#element_contents_\"+params.element_id).remove();\n					$(\"#gridElementSelect li[element_id=\"+params.element_id+\"]\").remove();\n					$(\"#master_element_list\").find(\"li#\"+params.element_id).remove();\n					$(\"#task-overview-container\").find(\"div.accordion[element_id=\"+params.element_id+\"]\").remove();\n					$(\"#budget_element_\"+params.element_id).remove();\n					// update the clip element selectors - clips.js\n					clipsReloadElements();\n					makeElementsSortable();\n\n				});\n				$.post(\"/events/deleteElement\",params,function(){\n					updateTaskCount(0);\n					update_budget_total(0);\n				}).error(handleAjaxErrorResponse);\n\n			}\n		}\n		return false;//prevents action on grid-element-box click from firing.\n	});\n\n	//this is what takes place when a user clicks on an element to view.\n	$(document).on('click','div.element-grid-box',function(){\n		if($(this).hasClass('locked')){\n			$(\"#element-section\").find(\"div.locked-section\").find(\"h3\").effect('highlight',{ color:'#E1FF05'},2000);\n			return false;\n		}\n		window.location.href = $(this).parent(\"a\").attr(\"href\");\n		var $obj = $(this);\n		var params = { element_id: $obj.attr(\"element_id\"), elementName: $obj.find(\".element-name\").text(), elementIcon: $obj.find(\"img.ele-icon\").clone(),\n			elementBudget: $obj.find(\"span.ele-budget\").text() };\n		_gaq.push(['_trackPageview','/events/view/'+params.elementName+'/'+constants.slug]);\n\n		var $parent_block = $(this).parents(\"div.block\");\n		$(this).parents(\"div.block\").find(\"div.main-wrap\").hide();\n		$(\"#budgets\").show().find(\"div.accordionWide\").hide();\n		$(\"#budget-grids\").hide();\n		$(\"#budget-nav-main\").hide();\n		$(\"#budget-nav-focused\").show();\n		$(\"#all-elements-list\").find(\".element-grid-box\").removeClass('active');\n		//$obj.addClass('active');\n\n\n		//var $element_content = $(\"#budgets\").find(\"div.accordionWide[element_id=\"+params.element_id+\"]\");\n		var $element_content = $(\"#budget_element_\"+params.element_id);\n		$element_content.show();//.parents(\".gridTabDiv\").show();\n\n\n		//$(\"#selected-element\").find(\"span.icon\").html(params.elementIcon);\n		$(\"#currentEleName\").html(params.elementName);\n		$(\"#currentEleIcon\").prop(\"src\",$obj.find(\"img.ele-icon\").prop(\"src\"));\n		//$(\"#currentElementBudget\").find(\"span.total\").html(params.elementBudget);\n\n		$(\"#gridElementSelect\").children(\"li\").removeClass('selected').end()\n			.find(\"li[element_id='\"+params.element_id+\"']\").addClass('selected'); //make the currently viewed element the chosen option in the element select menu.\n\n		$(\"#currentElement\").find(\".icon\").html(params.elementIcon).end().find(\".title\").html(params.elementName);\n\n		if($element_content.find(\"table.planning_grid\").find(\"tbody\").find(\"tr\").length < 1){\n			$element_content.find(\"table.planning_grid\").find(\"a.add-budget-line\").click();\n		}\n		if(!$obj.parent(\"a\").hasClass('mass-select')){\n			$(\"#ultimate-block-wrap\").scrollTop(0);\n		}\n\n	});\n\n 	$(\"#planning-tools\").on('click','#backToBudget',function(){\n 		$(\"#budget-nav-focused\").hide();\n 		$(\"#budget-nav-main\").show();\n 		$(\"#budgets\").hide();\n 		$(\"#budget-grids\").show();\n 	});\n\n\n	$(\"#planning-tools\").on('click','table.planning_grid td',function(){\n		var $obj=$(this);\n		if($obj.find(\"div.budget-checkbox\").length && $(\"div.contact_bubble:visible\").length < 1){\n			markBudgetItem($obj.find(\"div.budget-checkbox img:visible\"));\n		}\n	});\n\n	$(\"#planning-tools\").on('keydown','.budget_qty',function(event){\n		var allowed = [46,8,9,190,188,37,39]; //allow backspace,delete,tab,period,left,right,comma\n		if($.inArray(event.keyCode,allowed)<0 ){\n			if ((event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105 )){\n				// Not a number or allowed keystroke so stop them!\n				event.preventDefault();\n			}\n		}\n	});\n\n	$(\"#planning-tools\").on('keyup',\"input[type='text'].planning_input\",function(event){\n 		if(event.keyCode==13){\n			var textboxes = $(\".planning_input:not(:disabled)\");\n 			var $obj=$(this);\n	 		currentBoxNumber=textboxes.index($obj);\n	 		if(textboxes[currentBoxNumber+1]!=null){\n	 			textboxes[currentBoxNumber+1].focus();\n	  			$obj.focusout();\n			}\n 		}\n	});\n\n 	$(\"#planning-tools\").on({\n 		focus: function(){\n 			$(\"td\").removeClass('focused_input');\n 			$(this).parent(\"td\").addClass('focused_input').removeClass('hover');\n 			var stripped_down = $(this).val().replace('$','')*1;\n 			$(\"#focused_value\").val(stripped_down);\n 			if(stripped_down==0){\n 				$(this).val('');\n 				$(\"#focused_value\").val('');\n 			}\n 		},\n 		focusout:function(){\n\n 			var $input_obj=$(this);\n 			$input_obj.parent(\"td\").removeClass('focused_input');\n\n 			//get the job id and input type to update\n 			var field_value=$input_obj.val();\n\n 			var $parent_row=$input_obj.parents(\"tr\");\n 			var focused_value=$(\"#focused_value\").val();\n\n 			var params = { event_id: constants.event_id};\n 			if(field_value!=focused_value){\n\n 				if($parent_row.attr(\"job_time_id\")){ //updating a piece on the schedule tab\n 					updateScheduleRow($input_obj,field_value);\n 				}\n 				else if($parent_row.attr(\"budget_id\")){\n\n\n 					var budget_id=$parent_row.attr(\"budget_id\");\n 					//var job_item_field=$input_obj.parents(\"td\").attr(\"id\");\n 					var job_item_field=$input_obj.parents(\"td\").attr(\"field_type\");\n\n 					params.job_item_id = budget_id;\n 			 		params.field = job_item_field;\n\n\n 					if($input_obj.hasClass('update_budget') || $input_obj.hasClass('budget_qty')){\n\n 						//var $rate=Number($parent_row.find(\"input.budget_\"+budget_id+\"_rate_input\").val().replace(/[^0-9\\.-]+/g,\"\"))*1;\n 						//var $hours=$parent_row.find(\"input.budget_\"+budget_id+\"_hours_input\").val();\n 						//var $budget_input=$parent_row.find(\"input.budget_\"+budget_id+\"_total_input\");\n 						var $rate_input = $parent_row.find(\"input.rate\");\n 						var no_rate=false;\n 						if($.trim($rate_input.val())==''){\n 							no_rate=true;\n 						}\n 						var $rate = Number($rate_input.val().replace(/[^0-9\\.-]+/g,\"\"))*1;\n 						var $hours = $parent_row.find(\"input.hours\").val();\n 						var $budget_input = $parent_row.find(\"input.total_projected\");\n 						if(isNaN($rate)){\n 							$rate=0;\n 						}\n 						if(isNaN($hours)){\n 							$hours=$.trim($hours.replace(/\\D/g,\"\"));\n 							$parent_row.find(\"input.hours\").val($hours);\n 							field_value=$hours;\n 						}\n 						if($rate!='' && $hours!=''){ //if both rate and hours are filled out, update the total\n\n 							var product=$rate*$hours*1;\n\n 							if(!isNaN(product)){\n 								var formatted_total=addCommas('$'+product.toFixed(2));\n 								$budget_input.parents(\"td\").addClass('disabled-td');\n 								$budget_input.val(formatted_total).attr(\"disabled\",true);\n\n 								//$.post(\"/jobs/updateRow\",{event_id:constants.event_id, job_item_id:budget_id,field:'total',value:formatted_total},function(response){\n 								//}).error(handleAjaxErrorResponse);\n 								params.total = formatted_total;\n 							}\n 							else{\n\n 								$budget_input.removeAttr(\"disabled\");\n 								$budget_input.parents(\"td\").removeClass('disabled-td');\n 								//$(\"td.budget_\"+budget_id+\"_total\").removeClass('disabled-td');//hit all instances\n 							}\n\n 						}\n 						else{\n 							$budget_input.removeAttr(\"disabled\");\n 							$budget_input.parents(\"td\").removeClass('disabled-td');\n 						}\n\n 						//if($rate!='' && $rate > 0){\n 						if($rate!='' || ($rate==0 && !no_rate)){\n 							$parent_row.find(\"input.rate\").val(addCommas('$'+$rate.toFixed(2)));\n 						}\n 						else{\n 							$parent_row.find(\"input.rate\").val('');\n 						}\n 					}\n\n 				 	params.value = field_value\n\n	 				$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug, params, function(response){\n	 				}).error(handleAjaxErrorResponse);\n\n	 				// if we are in event contact view, we need to set this element to be updated when we return to regular view\n	 				if ( $(\"#event-contact-focused\").is(\":visible\") ){\n	 					var element_id = $parent_row.find(\"td.vendor ul.selectReplacement li.selected\").attr('id');\n	 					if ( $.inArray(element_id,reloadElementContent_BudgetElements)<0 ){\n	 						reloadElementContent_BudgetElements.push(element_id);\n	 					}\n	 				}\n\n	 				update_budget_total($parent_row.parents(\"div.accordionWide\").attr(\"element_id\"));\n\n 				}\n 			}\n\n 		}\n 	}, \".planning_input\");\n\n 	$(\"#planning-tools\").on('click',\"a.add-budget-line\",function(){\n 		_gaq.push(['_trackEvent','EventView', 'AddAnotherBudget','id:'+constants.event_id]);\n 		quickBudgetAdd($(this),'bottom');\n 		return false;\n 	});\n\n 	$(\"#planning-tools\").on('focusout',\"input.total_actual,input.total_projected\",function(){\n		update_budget_total($(this).parents(\"div.accordionWide\").attr(\"element_id\"));\n 		if($.trim($(this).val()) != ''){\n 			var budget_value=Number($(this).val().replace(/[^0-9\\.-]+/g,\"\"))*1;\n 			var formatted = (!isNaN(budget_value))?addCommas('$'+budget_value.toFixed(2)):'';\n 			$(this).val(formatted);\n 		}\n 	});\n\n	$(\"#planning-tools\").on({\n		focus: function(){\n			if(!$(this).hasClass('hasDatepicker')){\n				var format = ($(this).hasClass('task-input'))?\"M d\":'m/d/y';\n				var current_value = $(this).val();\n				$(this).datepicker({\n					dateFormat: format,\n					onClose: function(dateText,inst){\n\n						if(dateText != current_value){\n							updateScheduleRow($(this),dateText);\n						}\n						$(this).val(dateText);//manually change the value.  Datepicker doesn't seem to do this.\n\n						var $task_input = $(this);\n\n						if(dateText!=''){\n\n							var $a_link=$task_input.parent(\"div\").find(\"a\");\n							var task_id=$a_link.attr(\"task_id\");\n							var date_value = formatSuffix(dateText);\n\n							$a_link.html('By '+date_value);\n							var task_id=$a_link.attr(\"task_id\");\n\n							$task_input.parents(\"div.task-deadline-div\")\n								.find(\".task-datepick\").find(\"a\").removeClass(\"optional-link\").fadeIn().end()\n								.find(\"input.date_pick\").hide().end()\n						}\n						else{\n							$(this).hide().parents(\"div.task-deadline-div\").attr(\"setval\",false).find(\"a\").addClass('optional-link').html('Set date').fadeIn();\n						}\n					}\n				}).click();\n			}\n		},\n		change: function(){ //needed to deal with datepicker focusout overriding issue\n			updateScheduleRow($(this),$(this).val());\n			if ( $(\"#event-contact-focused\").is(\":visible\") ){\n				var element_id = $(this).parents(\"div.taskItem\").find(\"a.task-contact-link\").attr('element-id');\n				if ( $.inArray(element_id,reloadElementContent_TaskElements)<0 ){\n					reloadElementContent_TaskElements.push(element_id);\n				}\n			}\n		}\n	},\"input.date_pick\");\n\n	$(document).on({\n		keydown: function(e){\n			if(e.keyCode == 13){\n				$(this).focusout();\n			}\n		},\n		focusout: function(){\n			if($.trim($(this).val()) == ''){\n				return false;\n			}\n			$(this).parents(\"li\").removeClass('custom-element').click();\n			return false;\n		}\n\n	}, '#custom-element-name');\n	//adding a new element.\n\n	$( \"#custom-element-name\" ).keypress(function() {\n	  	console.log('leyup');\n	    var value = $( this ).val();\n	    console.log(value, 'value');\n	  })\n	  .keyup();\n\n	$(document).on({\n\n		click:function(){\n\n			var newCustomVal = $('input#custom-element-name').val();\n\n\n			if($(this).hasClass('disabled-li')){ return; } //if it's already selected return.\n			if($(this).hasClass('custom-element')){\n				$(\"#custom-element-name\").focus();\n				return;\n			}\n			if($(this).parent(\"ul\").hasClass(\"mass_select\")){ return; } //if we're allowing the user to choose multiple elements at once (aka event create step 2)\n			$(this).addClass('disabled-li'); //prevents double clicks.\n			var element_id=$(this).attr(\"element_id\");\n\n			if($(\"#budget-overview-content\").is(\":visible\")){ //check to see if the user is adding a new element from budget overview.\n				$(\".viewSortOptions.budget\").find(\"a[type='grid']\").click();\n				$(\"#gridElementSpinner\").show();\n\n				//var budget_view = true;\n				//$(\"#budgetElementSpinner\").show().parents(\"div.budgetOverviewNewElement\").find(\"div.addEle\").hide(); //first show the spinner and hide the add element button in this section\n			}\n			else{ //if we're adding an element from the dashboard\n				$(\"#gridElementSpinner\").show();\n			}\n			//$(\"div.zurb-ajax-modal,div.reveal-modal-bg\").fadeOut('fast',function(){$(this).remove();});\n			closeSimpleModal();\n\n			var params = { event_id: constants.event_id, element_id:element_id, element_type:'PLAN' };\n			if(params.element_id == 0){ //a custom element.\n				params.custom_element = newCustomVal;\n			}\n\n\n			$.post(constants.finetune_formBase+\"/events/saveEventElement/\"+constants.slug, params, function(response){\n\n				if(response){\n					var response = $.parseJSON(response);\n					if(response.error_message){\n						$(\"#gridElementSpinner\").hide();\n						alert(response.error_message);\n						return false;\n					}\n\n					response = response.element;\n					var $new_element = $(response.element_box);\n					$(\"#all-elements-list\").append($new_element);\n					var new_element_id = $new_element.attr(\"element_id\");\n					if(params.element_id == 0){\n						var element_id = $new_element.attr(\"type_id\");\n					}\n					var ele_icon = $new_element.find(\".ele-icon\").clone();//prop(\"src\");\n					var ele_name = $new_element.find(\".element-name\").text();\n\n					$(\"#gridElementSelect\").append('<li element_id=\"'+new_element_id+'\"><img src=\"'+ele_icon.prop(\"src\")+'\" title=\"'+ele_name+'\" /><span>'+ele_name+'</span></li>');\n					$(\"#master_element_list\").append('<li id=\"'+new_element_id+'\">'+ele_name+'</li>');\n					$(\"#gridElementSpinner\").hide();\n					$(\"#budgets\").append(response.budget);\n					$(\"#task-overview-container\").append(response.tasks);\n\n					// update the clip element selectors - clips.js\n					clipsReloadElements();\n\n					makeTasksSortable($(\"#task-overview-container\").find(\"div.accordion[element_id=\"+new_element_id+\"]\").find(\"ul.task_list\"),new_element_id);\n					makeElementsSortable();\n\n		}\n\n			}).error(handleAjaxErrorResponse);\n		}\n\n\n	}, '#element_list_ul li');\n\n	$(document).on('click',\"#selected-element\",function(){\n		$(\"#gridElementSelect\").addClass('selectOpen');\n	});\n\n	$(\"#planning-tools\").on('click',\"a.add_another_task\",function(){\n		$(this).hide();\n		_gaq.push(['_trackEvent','EventView', 'AddAnotherTask','id:'+constants.event_id]);\n		quickTaskAdd($(this),'bottom');\n\n	});\n\n	$(\"#planning-tools\").on({\n\n		keyup: function(event){ //for add another task button\n			var $input_field=$(this);\n\n			if(event.keyCode==13){ //if they press enter, focusout of the input box\n				if($.trim($input_field.val())==''){\n					return;\n				}\n				var $parent = $(this).parents(\"li\");\n				if($parent.index()==($parent.parents(\"ul\").find(\"li\").length-1)){\n					$(this).parents(\"div.accordionWide\").find(\"a.add_another_task\").click();\n				}\n				else{\n					$(this).focusout();\n				}\n			}\n			else{\n\n\n				if($.trim($input_field.val())!='' && $input_field.val()!=$input_field.attr(\"title\")){\n\n					$input_field.parents(\"div.edit-task-fields\").find(\"a\").show();\n					$input_field.parents(\"div.accordionWide\").find(\"a.add_another_task\").show();\n				}\n				else{\n					$input_field.parents(\"div.edit-task-fields\").find(\"a\").hide();\n					$input_field.parents(\"div.accordionWide\").find(\"a.add_another_task\").hide();\n				}\n			}\n		},\n		focusout: function(){\n\n			var $input=$(this);\n			if($.trim($input.val())!='' && $.trim($input.val())!=$input.attr(\"title\")){\n				$input.hide();\n				var $parent_li=$input.parents(\"div.taskItem\");\n				var sort_type = $(\"#task-sort-type a.active\").attr(\"type\");\n				var $loader = $parent_li.find(\"div.task-content-loading\");\n				$parent_li.find(\"div.add_task_div\").html($input.val()).show().end()\n					.find(\"div.green-arrow\").show().end()\n					.find(\"a.save_task_link\").hide();\n\n				if(!$parent_li.attr(\"job_time_id\")){//ADDING A NEW TASK\n					//DEFINE OUR DATA//\n					var params = { event_id: constants.event_id, job_time: true, body: $input.val(), suggested_task: ($input.attr(\"stid\"))?$input.attr(\"stid\"):false};\n					if(sort_type=='contact'){\n						var element_id = $input.parents(\"div.accordionWide\").find(\"a.task-contact-link:visible:last\").attr(\"element-id\");\n						if(element_id > 0){\n							params.element_id = element_id;\n						}\n						else{\n							//if there's no element that has been assigned to this person yet, just grab the first one they've added.\n							params.element_id = $(\"div.element-grid-box:first\").attr(\"element_id\");\n						}\n						params.ec_id = $input.parents(\"div.accordionWide\").attr(\"ec_id\");\n						params.var_id = params.ec_id;\n					}\n					else{\n						params.element_id = $input.parents(\"div.accordionWide\").attr(\"element_id\");\n						params.ec_id = constants.user_ec_id;//if no event-contact-id, default to the user adding it.\n						params.element_view = true;\n						params.var_id = params.element_id;\n					}\n\n					$loader.show();\n					$.post(constants.finetune_formBase+\"/jobs/addNewRow/\"+constants.slug, params, function(response){\n							if(response){\n\n								$loader.hide();\n\n								var jq=jQuery.parseJSON(response);\n	 					 		if(jq){\n									$parent_li.attr(\"job_time_id\",jq.id).find(\"div.task-deadline-div\").show();\n									$parent_li.find(\"div.task-contact-div\").show();\n									$parent_li.find(\"a.task-contact-link\").attr(\"task_id\",jq.id).attr(\"element-id\",params.element_id).show();\n									$parent_li.find(\".delete_img\").attr(\"task_id\",jq.id);\n								}\n								updateTaskCount(params.var_id);\n\n							}\n						}\n					).error(handleAjaxErrorResponse);\n				}\n				else{ //if it's a preexisting task, then update it in db\n					var job_time_id=$input.parents(\"div.taskItem\").attr(\"job_time_id\");\n					var newtext=$input.val();\n\n					if($(\"#event-contact-focused\").is(\":visible\")){\n						var element_id = $input.parents(\"div.accordionWide\").find(\"a.task-contact-link:visible:last\").attr(\"element-id\");\n						if ( $.inArray(element_id,reloadElementContent_TaskElements)<0 ){\n							reloadElementContent_TaskElements.push(element_id);\n						}\n					}\n\n					$.post(constants.finetune_formBase+\"/jobs/updateTask/\"+constants.slug,{event_id:constants.event_id,task_id:job_time_id,body:newtext}).error(handleAjaxErrorResponse);\n					$input.attr(\"title\",newtext);\n\n				}\n			}\n			else{\n				//if it's an empty row and they focus out, remove it.\n				if(!$(this).parents(\"div.taskItem\").attr(\"job_time_id\")){\n					//$(this).parents(\"li\").hide();\n					$(this).parents(\"div.accordionWide\").find(\"a.add_another_task\").show();\n				}\n				else{ //just hide the input if they're not updating anything.\n					$input.hide();\n					var $parent_li=$input.parents(\"div.taskItem\");\n\n					$parent_li.find(\"div.add_task_div\").html($input.val()).show().end()\n						.find(\"div.green-arrow\").show().end()\n						.find(\"a.save_task_link\").hide();\n\n				}\n\n			}\n		}\n	}, 'input.add_task_input');\n	$(\"#planning-tools\").on('click',\".task-datepick\",function(){\n		$(this).find(\"a\").hide().end().find(\"input.date_pick\").show().focus();\n	});\n	$(\"#planning-tools\").on('click',\"a.task-contact-link\",function(){\n		//$(this).hide().parents(\"div.setContact\").find(\"ul.selectReplacement\").show().addClass('selectOpen');\n\n		var $parent_div = $(this).parents(\"div:first\");\n		if($parent_div.hasClass('by-contact')){\n			var $master_ul = $(\"#master_contact_list\");\n			var var_id = $(this).attr('ec-id');\n		}\n		else{ //by element\n			var $master_ul = $(\"#master_element_list\");\n			var var_id = $(this).attr('element-id');\n		}\n\n		$master_ul.find(\"li\").removeClass('selected');\n		$master_ul.find(\"li#\"+var_id).addClass('selected');\n\n		$(this).hide();\n		$parent_div.append($master_ul);\n		$master_ul.addClass('selectOpen').show();\n\n	});\n\n	$(\"#planning-tools\").on('click',\"div.cell-holder\",function(){\n		var var_id = $(this).attr(\"ec-id\");\n		var $parent_div = $(this).parents(\"td:first\");\n		var $master_ul = $(\"#master_\"+$parent_div.attr(\"field_type\")+\"_list\");\n		if(var_id){\n			$master_ul.find(\"li\").removeClass('selected');\n			$master_ul.find(\"li#\"+var_id).addClass('selected');\n		}\n		$(this).hide();\n		$parent_div.append($master_ul);\n		$master_ul.addClass('selectOpen').show();\n	});\n\n	$(\"#planning-tools\").on('click','div.add_task_div',function(){\n		var $div_obj=$(this);\n		if(!$div_obj.hasClass('completed-task')){\n		 	$div_obj.hide().parents(\"div.taskItem\").find(\"a.save_task_link\").show().end()\n		 		.find(\"input.add_task_input\").show().focus();\n		}\n	});\n\n	$(\"#planning-tools\").on('click','div.green-arrow,div.green-arrow-complete',function(){\n		$(this).toggleClass('green-arrow green-arrow-complete').find(\"img.checkbox\").toggle().end()\n			.find(\"span.chck\").toggle();\n\n		var $parent=$(this).parents(\"div.taskItem\");\n		$parent.find(\"div.add_task_div\").toggleClass('completed-task').end();\n\n		if($(this).hasClass('green-arrow-complete')){\n			$parent.find(\"div.vendor_delete\").show();\n		} else {\n			$parent.find(\"div.vendor_delete\").hide();\n		}\n\n		var params = { event_id: constants.event_id, task_id: $parent.attr(\"job_time_id\"),\n			completed: ($(this).hasClass('green-arrow'))?0:1, element_id: $parent.parents(\"div.accordionWide\").attr(\"element_id\")};\n\n		if(!isNaN(params.element_id)){\n			updateTaskCount(params.element_id);\n			if($(\"#event-contact-focused\").is(\":visible\")){\n				var element_id = $parent.find(\"a.task-contact-link\").attr('element-id');\n				if ( $.inArray(element_id,reloadElementContent_TaskElements)<0 ){\n					reloadElementContent_TaskElements.push(element_id);\n				}\n			}\n		}\n		else if($parent.parents(\"div.accordionWide\").attr(\"ec_id\")){\n			updateTaskCount($parent.parents(\"div.accordion\").attr(\"ec_id\"));\n		}\n\n		//console.log('did it update ?');\n		$.post(constants.finetune_formBase+\"/jobs/updateTask/\"+constants.slug, params, function(response){\n\n			if($(\"#task_checkbox_\"+params.element_id).attr(\"checked\")){\n				hide_completed_tasks(params.element_id,true);\n			}\n		}).error(handleAjaxErrorResponse);\n	});\n\n	$(\"#planning-tools\").on(\"click\", \"div.accordion-header\", function(){\n\n			var $obj=$(this);\n			gaEvent('event_view','accordion-click');\n			var $budget_contents=$(\"#budget-overview-content\");\n\n			if(!$obj.hasClass('accordion-open')){ //open the accordion\n				$obj.addClass('accordion-open').parent(\"div\").find(\"div.accordionWide\").show();//slideDown();//.focus();\n\n				var $accordion = $obj.parents(\"div.accordion\");\n				if($budget_contents.is(\":visible\") && $accordion.find(\"table.planning_grid > tbody > tr\").length < 1){\n					$accordion.find(\"a.add-budget-line\").click();\n					/*if($budget_contents.find(\"h3.accordion-header\").length == $budget_contents.find(\"h3.accordion-open\").length && $(\"#budget-action-link\").attr(\"type\")=='expand'){\n						//if they're all open, change the expand all/close all link accordingly.\n						$(\"#budget-action-link\").attr(\"type\",\"close\").html(\"Close All &#9650;\").fadeIn(200);\n					}*/\n				}\n			}\n			else{ // close the accordion\n\n				$obj.removeClass('accordion-open').parent(\"div\").find(\"div.accordionWide\").hide();//slideUp(200);\n				/*if($budget_contents.is(\":visible\") && !$budget_contents.find(\"h3.accordion-open\").length && $(\"#budget-action-link\").attr(\"type\")=='close'){\n					//if they're all closed, change the expand all/close all link accordingly.\n					$(\"#budget-action-link\").attr(\"type\",\"expand\").html(\"Expand All &#9660;\").fadeIn(200);\n				}*/\n\n			}\n\n	});\n\n	$(\"#planning-tools\").on({\n		mouseenter: function(){ //show delete when hovering over the row\n			var $obj = $(this);\n			$obj.find(\"td.editing_cell\").children().show();\n			if($obj.parents(\"table\").find(\"tr.myDragClass\").length < 1){\n				$obj.find(\"td:first\").addClass('drag-active');\n			}\n		},\n		mouseleave: function(){\n			$(this).find(\"td.editing_cell\").children().hide();\n			$(this).find(\"td:first\").removeClass('drag-active');\n\n		}\n	}, 'table.planning_grid tr');\n\n	$(\"a.cancel-new-event-contact\").click(function(){\n		closeSimpleModal();\n		$(\"a[ec-id='new'],div[ec-id='new']\").text('').attr('ec-id',0);\n	});\n\n\n	$(\"#planning-tools\").on('click','ul.selectReplacement li',function(){\n\n		var $li=$(this); //define the objects once which we'll be using multiple times.\n		var $parent_ul=$li.parent(\"ul\");\n		var $parent_div=$parent_ul.parent(\"div\");\n		var previousValue = 0;\n		if($parent_ul.prop(\"id\")==\"gridElementSelect\"){\n			if($parent_ul.hasClass('selectOpen')){\n				var element_id = $(this).attr(\"element_id\");\n				$parent_ul.removeClass('selectOpen');\n				if(element_id>0){\n					$(\"#budget-element-box-\"+element_id).click();\n				}\n				else{\n					$(\"#backToBudget\").click();\n				}\n\n			}\n\n		}\n		else if($parent_div.hasClass('by-contact')){ //tasks in normal view.\n			var ec_id = $li.prop(\"id\");\n			if(ec_id>0){\n				$parent_div.find(\"a.task-contact-link\").attr(\"ec-id\",ec_id).removeClass('optional-link').text($li.text()).fadeIn(400);\n			}\n			else{\n				$parent_div.find(\"a.task-contact-link\").attr(\"ec-id\",0).addClass('optional-link').text('Set lead').fadeIn(400);\n			}\n			$(\"#home-base\").append($parent_ul); //get it out of there.\n			updateScheduleRow($li,ec_id,$parent_div.parents(\".taskItem\").attr(\"job_time_id\"));\n		}\n		else if($parent_div.hasClass('by-element')){ //tasks sorted by contact (thus displaying elements)\n			var element_id = $li.prop(\"id\");\n			if(element_id>0){\n				$parent_div.find(\"a.task-contact-link\").attr(\"element-id\",element_id).removeClass('optional-link').text($li.text()).fadeIn(400);\n			}\n			else{\n				$parent_div.find(\"a.task-contact-link\").attr(\"element-id\",0).addClass('optional-link').text('Set element').fadeIn(400);\n			}\n			$(\"#home-base\").append($parent_ul); //get it out of there.\n			updateScheduleRow($li,element_id,$parent_div.parents(\".taskItem\").attr(\"job_time_id\"),true);\n		}\n		else if($parent_ul.parents(\"td.vendor\").length){ //budget table - vendor.\n			var $parent_div = $parent_ul.parents(\"td.vendor\");\n			var ec_id = $li.prop(\"id\");\n			if(ec_id=='new'){ //adding new contact!\n				//$(\"#new_contact_bubble\").fireSimpleModal();\n				$(\"#event-contact-count\").click();\n				//$parent_div.find('div.budget-vendor-add').attr(\"ec-id\",ec_id).text('').fadeIn(400);\n			}\n			else{\n				$parent_div.find('div.budget-vendor-add').attr(\"ec-id\",ec_id).text($li.text()).fadeIn(400);\n				$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug,{event_id:constants.event_id, job_item_id:$parent_div.parents(\"tr\").attr(\"budget_id\"),field:'contact',value:ec_id},function(){\n				}).error(handleAjaxErrorResponse);\n			}\n			$(\"#home-base\").append($parent_ul); //get it out of there.\n\n		}\n		else if($parent_ul.parents(\"td.tax\").length || $parent_ul.parents(\"td.tip\").length){ //budget table - tax.\n			var $parent_div = $parent_ul.parents(\"td\");\n			var obj_value = $li.prop(\"id\");\n			$parent_div.find('div.cell-holder').text($li.text()).fadeIn(400);\n			$(\"#home-base\").append($parent_ul); //get it out of there.\n			$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug,{event_id:constants.event_id, job_item_id:$parent_div.parents(\"tr\").attr(\"budget_id\"),field:$parent_div.attr(\"field_type\"),value:obj_value},function(){\n			}).error(handleAjaxErrorResponse);\n			update_budget_total($parent_div.parents(\"table\").attr(\"element_id\"));\n		}\n\n	});\n\n\n	$(\"#planning-tools\").on('click',\"#budget-sort-type a\",function(){\n		var $obj = $(this);\n		var sort_type = $obj.attr(\"type\");\n		var direction = 'desc';\n		var $current_active = $(\"#budget-sort-type\").find(\"a.active\");\n		$current_active.removeClass('active');\n		$(this).addClass('active');\n\n		if($current_active.attr(\"type\")!=sort_type){\n			if(sort_type=='element'){\n				direction='asc'; //alphabetical should default to ASC.\n				$obj.removeClass('down').addClass('up');\n			}\n			else{\n				direction='desc'; //numeric should default to DESC.\n				$obj.removeClass('up').addClass('down');\n			}\n			sort_budget(sort_type,direction);\n			return;\n		}\n\n		if($obj.hasClass('down')){\n			$obj.removeClass('down').addClass('up');\n			direction='asc';\n		}\n		else{\n			$obj.removeClass('up').addClass('down');\n			direction='desc';\n\n		}\n\n		sort_budget(sort_type,direction);\n\n	});\n\n	$(\"#planning-tools\").on({\n		focus:function(){\n			if(!($(this).hasClass('elasticy'))){\n				$(this).elastic().addClass('elasticy');\n			}\n		},\n		focusout:function(){\n			//a patch to fix js pulling through the text, not the value\n			//of the textarea when reloading an edited section (via updateCurrentElementBlock function)\n			$(this).text($(this).val());\n		}\n	}, \"textarea.budget_desc\");\n\n	$(\"#planning-tools\").on('click',\"div.budget-checkbox\",function(){\n		markBudgetItem($(this).find(\"img:visible\"));\n		return false;\n	});\n\n	////////delete functionality START //////////\n    $(\"#planning-tools\").on('click',\"img.delete_img,div.delete_img,a.delete_img\",function(){\n\n    	var $delete_button=$(this);\n    	if($delete_button.parents(\"div.file-date-block\").length){\n    		var $file_block = $delete_button.parents(\"div.file-date-block\");\n    	}\n    	else if($delete_button.parents(\"div.element-block\").length){\n    		var $file_block = $delete_button.parents(\"div.element-block\");\n    	}\n\n    	if($delete_button.attr(\"job_time_id\")){\n			var job_time_id=$delete_button.attr(\"job_time_id\");\n			var job_time_type=($delete_button.parents(\"tr\").attr(\"pre_event\"))?'pre_event':'job_time';\n			var element_id=$(\"#pre_event_\"+job_time_id+\"_element_input_ul li.selected\").attr(\"id\");\n\n			if($(\"#\"+job_time_type+\"_\"+job_time_id+\"_description_input\").val()!='' || $(\"#\"+job_time_type+\"_\"+job_time_id+\"_contact_input\").val()!='' ){\n	    		var answer = confirm(\"Are you sure you want to delete this task?\");\n				if (answer){ //run of show.\n					var items_remaining = $(this).parents(\"div.ros-item\").find(\"li.ros-block:visible\").length-1;\n					if(items_remaining < 1){\n						$(this).parents(\"div.ros-item\").remove();\n					}\n\n					$(this).parents(\"li.ros-block\").remove();\n					delete_entry(job_time_id,'job_time');\n\n					//restyleTableRows($parent_table.attr(\"id\"));\n\n				}\n			}\n			else{ //blank row.\n				delete_entry(job_time_id,'job_time');\n			}\n\n\n		}\n		else if($delete_button.attr(\"task_id\")){\n			var $parent_div = $delete_button.parents(\"div.accordionWide\");\n			if($parent_div.attr(\"element_id\")){\n				var element_id = $parent_div.attr(\"element_id\");\n			}\n			else if($parent_div.attr(\"ec_id\")){\n				var ec_id = $parent_div.attr(\"ec_id\");\n			}\n\n\n			$(\"div.taskItem[job_time_id=\"+$delete_button.attr(\"task_id\")+\"]\").parent(\"li\").remove();//removes from element view\n			delete_entry($delete_button.attr(\"task_id\"),'job_time');\n\n			if(typeof element_id !== 'undefined' && !isNaN(element_id)){\n				updateTaskCount(element_id);\n				// update_element_contacts(element_id);\n			}\n			else if(typeof ec_id!=='undefined' && !isNaN(ec_id)){\n				updateTaskCount(ec_id);\n			}\n\n		}\n		else if($delete_button.parents(\"ul\").hasClass(\"task_list\")){\n			//this is if someone tries to delete an open input box on task tab\n			//then delete the input box and show the \"add another\" link again.\n			$delete_button.parents(\"div.accordionWide\").find(\"a.add_another_task\").show();\n			$delete_button.parents(\"li\").remove();\n		}\n  	});\n\n  	$(\"#planning-tools\").on('click',\"td.delete\",function(){\n  		var $delete_button = $(this);\n  		if($delete_button.attr(\"job_time_id\")){\n  			delete_entry($delete_button.attr(\"job_time_id\"),'job_time');\n			$delete_button.attr(\"job_time_id\")\n  		}\n  		else if($delete_button.parents(\"tr\").attr(\"budget_id\")){\n			var $parent=$delete_button.parents(\"table\");\n			var $tr = $delete_button.parents(\"tr\");\n			var budget_id = $tr.attr(\"budget_id\");\n\n	    	if($.trim($tr.find(\"input.total_projected\").val())!='' || $.trim($tr.find(\"input.budget_desc\").val())!=''){\n\n	    		var answer = confirm(\"Are you sure you want to delete this line item?\");\n				if (answer){\n					delete_entry(budget_id,'job_item');\n				}\n			}\n			else{\n				delete_entry(budget_id,'job_item');\n			}\n			update_budget_total($parent.attr(\"element_id\"));\n		}\n		else if($delete_button.parents(\"tr\").attr(\"rsvp-id\")){\n			var $parent_row = $delete_button.parents(\"tr\");\n			if($parent_row.attr(\"new-row\")){\n				delete_entry($delete_button.parents(\"tr\").attr(\"rsvp-id\"),'rsvp');\n				return; //dont worry about checking for rows that the user just added.\n			}\n\n			var ex_attendee = $.trim($parent_row.find(\"td\").eq(0).find(\"span\").text()+' '+$parent_row.find(\"td\").eq(1).find(\"span\").text());\n			var answer_txt = (ex_attendee != '')?ex_attendee:'this person';\n\n			var answer = confirm(\"Are you sure you want to delete \"+answer_txt+\" from the RSVP list?\");\n			if (answer){\n				delete_entry($delete_button.parents(\"tr\").attr(\"rsvp-id\"),'rsvp');\n			}\n\n		}\n		else{\n			$delete_button.parents(\"tr\").remove();\n		}\n\n\n  	});\n	////////delete functionality END //////////\n\n	//functionality for switching budget/tasks breakdown\n	$(\"#planning-tools\").on('click',\".viewSortOptions a\",function(){\n		var $parent = $(this).parents(\".viewSortOptions\");\n		$parent.find('a.active').removeClass('active');\n		$(this).addClass('active');\n		if($parent.hasClass('budget')){\n\n			if($(this).attr('type')=='list'){\n				if($(\"#budget-overview-content\").is(\":visible\")){\n					return false;\n				}\n				var type  = $(\"#budget-sort-type\").find(\"a.active\").attr(\"type\");\n				sort_budget(type,'desc');\n				$(\"#budget-overview-content\").show();\n				$(\"#budget-grids\").hide();\n\n			}\n			else{\n				if($(\"#budget-overview-content\").is(\":visible\")){\n					updateElementBudgetContent();\n				}\n				$(\"#budget-overview-content\").hide();\n				$(\"#budget-grids\").show();\n			}\n		}\n		else{ //tasks\n			sort_tasks($(this).attr(\"type\"));\n		}\n	}); \n	$(\"#emailAllAwaitingReply\").click(function(){\n		jumpToMessageLazyPeople = true;\n		$(\"#inviteTab\").click();\n	});\n	$(\"#planning-tools\").on('click',\"#messageAttendees,#messageAwaitingReply,#messageLazyPeople\",function(){\n		if($(this).prop(\"id\")=='messageAttendees'){\n			jumpToMessageContacts = true;\n		}\n		else{\n			jumpToMessageLazyPeople = true;\n		}\n		$(\"#inviteTab\").click();\n	});\n\n\n 	$(\"#planning-tools-header\").click(function(e){\n 		var clicked_id = e.target.id;\n 		var exempt_click_ids = ['pro-addon-link', 'pro-addon-button', 'header-date-info', 'planning-tools-display-date', 'planning-tools-display-time', 'calendarInviteDate'];\n\n 		if(exempt_click_ids.indexOf(clicked_id) === -1) {\n 			// Prevents from closing when clicking pro addon link\n	 		if(typeof constants.forcePlanningToolsOpen!=='undefined'){\n	 			//window.location = '/events/view/'+constants.slug;\n	 		} else{\n\n	 			$('#nuTool').find('.toolBtn').removeClass('active')\n\n		 		closePlanningTools();\n	 		}\n	 	}\n 	});\n\n\n	$(\"#planning-tools\").on('click','#rsvp-list td.plus-one',function(event){\n		event.preventDefault();\n		var rsvp_id = $(this).parents(\"tr\").attr(\"rsvp-id\");\n\n		$(\"#simple-modal-ajax\").empty().removeAttr('xtra-attr')\n			.fireSimpleModal()\n			.html(constants.loader)\n			.load(\"/events/viewGuestsofGuests/\"+constants.event_id+\"/\"+rsvp_id,null,function(responseText){\n				$(\"body\").removeClass('lockItUp');\n			});\n		return false;\n	});\n\n	$(\"#planning-tools\").on('click', \"#rsvp-quick-status\", function(){\n		var $ul = $(\"#rsvp-options\");\n		if($ul.hasClass('open')){\n			$ul.hide().removeClass('open');\n		} else{\n			$ul.show().addClass('open');\n		}\n	});\n\n    $(\"#planning-tools\").on('click',\"#rsvp-options .rsvp_closed\",function(){\n    	var $this = $(this);\n    	var $ul = $(\"#rsvp-options\");\n\n	    if($this.hasClass('rsvp-limit')){\n			$ul.addClass('open');\n			$(\"#rsvp-limit-input\").focus();\n			return false;\n	    }\n		var params = { value: $this.attr('status-type'), txt: $this.text() };\n\n    	updateRSVPStatus(params);\n\n    	$(\"#rsvp-limit-input\").val('');\n	    	$ul.hide().removeClass('open').find(\".active\").removeClass('active');\n	    	$this.addClass('active');\n\n    });\n\n	$(\"#planning-tools\").on({\n		focusout:function(){\n			var value = $.trim($(this).val()) * 1;\n			if( value > 0 ){\n				params = {  value: 'after'+value, txt: 'Close After '+value+' Attendees' };\n				updateRSVPStatus(params);\n				$(\"#rsvp-options\").hide().removeClass('open').find(\".active\").removeClass('active');\n				$(this).parents(\".rsvp_closed\").addClass('active');\n			 	//var term = ($(\"#rsvp_method_input\").val()=='tickets')?'Tickets':'RSVPs';\n		    	//$(\"#current-rsvp-status\").text(term+' will close after '+$(this).val()+' attendees').fadeIn(300);\n\n			}\n			else{\n				$(this).val('');\n				$(\"#rsvp-options\").hide().removeClass('open');\n			}\n			//$(\"#rsvp-options\").hide();\n		},\n		keydown:function(e){\n			if(e.keyCode == 13){\n				$(this).blur();\n				return false;\n			}\n		}\n	},\"#rsvp-limit-input\");\n\n	$(\"#planning-tools\").on('change',\"#waitlist-check\",function(){\n		var $opt = $(\"#rsvp-options\").find(\".active:first\");\n		var value = $opt.attr(\"status-type\");\n		var txt = $opt.text();\n		if( value=='afterRSVPCount' ){\n			value = 'after'+$(\"#rsvp-limit-input\").val();\n			txt = 'Close After '+value+' Attendees';\n		}\n		if($(this).val()=='1'){\n			$(\"#waitListConfMessaging,#rsvpWaitListStatus\").show();\n		} else{\n			$(\"#waitListConfMessaging,#rsvpWaitListStatus\").hide();\n		}\n\n		var params = { value: value, txt: txt };\n		updateRSVPStatus(params);\n\n	});\n\n\n	$(document).on('click','a.delete-hashtag',function(){\n		$(this).parent(\"li\").fadeOut('fast',function(){ $(this).remove() });;\n	});\n\n	$(document).on('click',\"a.upgrade-acct-link\",function(){\n\n		$('#extra-emails-form')[0].submit();\n		return false;\n\n		var $plans = $(\"#payment-plans\");\n\n		if($(this).attr(\"hash\").length){\n			var hash = $(this).attr(\"hash\");\n			$plans.find(\".plan-link\").each(function(){\n				var href = $(this).prop(\"href\");\n				var hash_pos = stripos(href,\"&hash\");\n				if(hash_pos!==false){\n					href = href.substr(hash_pos);\n				}\n				$(this).prop(\"href\",href+'&hash='+hash);\n			});\n		}\n		$(\"#payment-plans\").fireSimpleModal();\n	});\n\n	$(\"#planning-tools\").on('click','#edit-tickets-link',function(){\n		$('#rsvpTixTab').click()\n	});\n	$(\"#planning-tools\").on('click','#edit-ticket-payouts-link',function(){\n		jumpToTickets=true;\n		jumpToPayoutSettings=true;\n		$('#rsvpTixTab').click()\n	});\n	$(\"#planning-tools\").on('click',\"#rsvpTabSections a\",function(){\n		var $this = $(this);\n		$this.parents(\"ul\").find(\"a.active\").removeClass('active');\n		$this.addClass('active');\n		if($this.attr(\"type\")){ //should always be the case.\n			var $section = $(\"#\"+$this.attr(\"type\"));\n			if($section.length){\n				$(\"#rsvpSettingContain\").find(\"div.container\").hide();\n				$section.show();\n			}\n\n		}\n	});\n\n\n	$(document).on('click','.save-rsvp-settings,.save-page-settings',function(e){ //SAVING RSVP SETTINGS FUNCTIONALITY\n		e.preventDefault();\n		var $this = $(this);\n		var rsvpEvent = true;\n		if($this.hasClass('save-page-settings')){\n			rsvpEvent = false;\n		}\n\n		removeUnsavedNotice()\n\n		if ( !$this.hasClass('disabled') ){\n			$this.html('<i class=\"icon-sync\"></i>Saving..').addClass('disabled');\n			$this.parents(\"ul\").find(\"li.cancel\").find(\"a\").addClass('disabled');\n		} else {\n			return false; // double click prevention\n		}\n		var params = { data: { EventSetting: {} } };\n		var rsvp_fields = [1]; // [1] not a typo BRETT.. needs to set.. .ajax does NOT SEND EMPTY ARRAYS.. empty settings don't save\n		var rsvp_questions = [1]; // [1] not a typo.. needs to be set.. .ajax does not send empty arrays!\n		var errors = 0;\n\n		// basic rsvp questions\n		//$rsvpSettingsForm.find('input.basic:checked').each(function(){\n		var allow_guests = true;\n		if($(\"#allow-guests-checkbox\").val()!='1'){\n			allow_guests = false;\n		}\n\n\n		//$(\"#page-action-settings\").find('input.basic:checked').each(function(){\n		$(\"#page-action-settings\").find('input.basic').each(function(){\n			var $t = $(this);\n			if($t.val()=='1'||$t.prop(\"checked\")==true){\n				var field = $t.attr(\"field\");\n				// if(field=='plus_one' && !$t.is(\":visible\")){ //dirty patch for fixing uncheck of allow plus one field.\n				// 	return;\n				// }\n\n				if(field=='attending'){\n					rsvp_fields.push('attending');\n				}\n\n				if(allow_guests){\n					rsvp_fields.push(field);\n					// get attendee_count and text and guest_name_required\n					if ( field == 'allow_guests' ){\n						rsvp_fields.push('attendee_count_'+$(\"#guest-limit\").val());\n						// var $s = $(\"#guest-limit\");//$rsvpSettingsForm.find('select.attendee_count');\n						// if ( $s.length == 1 ){\n						// 	rsvp_fields.push('attendee_count_'+$s.val());\n						// }\n						var t = $rsvpSettingsForm.find('input.allow_guests_text').val();\n						if ( t && t != '' ){\n							rsvp_fields.push('allow_guests_text_'+t.replace(/,/g,'^comma^'));\n						}\n						var r = $(\"#guest-name-required-check\").val();\n						if ( r > 0  ){\n							rsvp_fields.push('guest_name_required');\n						}\n					}\n					else if ( field == 'plus_one' ){\n						var r = $(\"#guest-name-required-check\").val();\n						if ( r > 0  ){\n							rsvp_fields.push('guest_name_required');\n						}\n					}\n				}\n			}\n		});\n\n\n		//saving rsvp button close/open status.\n		params.data.button_status = { field: 'rsvp_closed', value: $(\"#rsvp-options\").find(\".active\").attr(\"status-type\") }\n		if(params.data.button_status.value=='afterRSVPCount'){\n			params.data.button_status.value = 'after'+$(\"#rsvp-limit-input\").val();\n\n		}\n\n		EventSetting.rsvp_closed = params.data.button_status.value;\n\n		params.data.EventSetting.rsvp_max = ($(\"#single-rsvp-checkbox\").val()=='1')?1:0;\n		params.data.EventSetting.invite_only = ($(\"#invite-only-check\").val()=='1')?1:0;\n		params.data.EventSetting.rsvp_conf_message_splash = $(\"#rsvp_conf_message_splash\").val();\n		params.data.EventSetting.rsvp_conf_message = $(\"#rsvp_conf_message\").val();\n		params.data.EventSetting.rsvp_conf_subject = $(\"#rsvp_conf_message_subject\").val();\n		params.data.EventSetting.skip_ics = ($(\"#skip-ics-input\").val()=='1')?1:0;\n		params.data.EventSetting.captcha_enabled = ($(\"#captcha_enabled_checkbox\").val()==1)?1:0;\n\n		if($(\"#skip-email-input\").length >0){\n			params.data.EventSetting.skip_email = ($(\"#skip-email-input\").val()=='1')?1:0;\n		}\n\n		if($(\"#closedMessageSettings\").is(\":visible\")){ //only update if it's been changed.\n			params.data.EventSetting.button_closed_message = ($(\"#display_closed_message\").val()=='1')?$(\"#button-closed-message\").val():'';\n		}\n\n		// if postback settings div is on the page\n		var processPostbackSettings = ($('#rsvp-postback-settings').length == 1) ? true : false;\n		if (processPostbackSettings) {\n			params.data.EventSetting.rsvp_postback_url = $(\"#rsvp-postback-url\").val();\n			params.data.EventSetting.rsvp_postback_params = {};\n			var pbfields = [];\n			$('#rsvp-postback-fields').find('> .field').each(function(){\n				var $pbfield = $(this);\n				var newfield = {};\n				var $i = $pbfield.find('input.newindex:first');\n				if ($i.length == 1) {\n					newfield['newindex'] = $i.val();\n				}\n				var $i = $pbfield.find('select.index:first');\n				if ($i.length == 1) {\n					newfield['index'] = $i.val();\n				}\n				if (typeof newfield['index'] != 'undefined' && newfield['index'] == 'static-value') {\n					var $i = $pbfield.find('input.value:first');\n					if ($i.length == 1) {\n						newfield['value'] = $i.val();\n						delete newfield['index'];\n					}\n				}\n				if (typeof newfield['newindex'] != 'undefined' && newfield['newindex'] != '') {\n					if (typeof newfield['index'] != 'undefined' && newfield['newindex'] == newfield['index']) {\n						delete newfield['newindex'];\n					}\n					pbfields.push(newfield);\n				}\n			});\n			if (pbfields.length > 0) {\n				params.data.EventSetting.rsvp_postback_params['fields'] = pbfields;\n			}\n		}\n\n\n		var error_msg = '';\n		if(rsvpEvent){\n			// custom questions\n			$(\"#rsvp-question-list\").find(\".custom-rsvp-field-wrap\").each(function(){\n				var $questionRows = $(this);\n				var rsvp_data = rsvpReturnData($questionRows);\n				//console.log(rsvp_data);\n				if ( rsvp_data !== false ){\n					rsvp_questions.push(rsvp_data);\n				}else{\n					errors++;\n					$questionRows.addClass('error');\n					error_message = 'Please fill out all fields properly.';\n				}\n			});\n			params.data.EventSetting.custom_rsvp_fields = rsvp_questions;\n	//		console.log(rsvp_questions);\n		}\n\n		if ( errors > 0 ){\n			if(rsvpEvent){\n				$rsvpSettingsForm.addClass('error');\n				if(error_msg==''){ error_msg = 'There was an error saving. Please try again.'; }\n				$(\"#rsvpSettingsErrorMessage\").show().find(\"span\").html(error_msg);\n			} else{\n				if(error_msg==''){ error_msg = 'There was an error saving your changes. Please try again.'; }\n				$(\"#pageSettingsErrorMessage\").show().find(\"span\").html(error_msg);\n			}\n			$this.html('Save').removeClass('disabled');\n			$this.parents(\"ul\").find(\"li.cancel\").find(\"a\").removeClass('disabled');\n\n			return;\n		} else {\n			if(rsvpEvent){\n				$rsvpSettingsForm.removeClass('error');\n				$(\"#rsvpSettingsErrorMessage\").hide().find(\"span\").html('');\n				$(\"#rsvp-question-list\").find('.custom-rsvp-field-wrap').removeClass('error changes-made').find('.errorMessage').hide();\n			} else{\n				$(\"#pageSettingsErrorMessage\").hide().find(\"span\").html('');\n			}\n\n			//console.log(rsvp_questions);\n			params.data.EventSetting.rsvp_fields = rsvp_fields;\n\n			EventSetting.rsvp_max = params.data.EventSetting.rsvp_max\n\n			EventSetting.invite_only = params.data.EventSetting.invite_only;\n			if(params.data.EventSetting.button_closed_message){\n				EventSetting.button_closed_message = params.data.EventSetting.button_closed_message;\n			}\n\n			if (processPostbackSettings) {\n				EventSetting.rsvp_postback_url = params.data.EventSetting.rsvp_postback_url;\n				EventSetting.rsvp_postback_params = params.data.EventSetting.rsvp_postback_params;\n			}\n\n			var $wl_fields = $rsvpSettingsForm.find(\".waitlist-input\");\n			EventSetting.waitlist_settings = getChangedInputsArray($wl_fields);\n			params.data.EventSetting.waitlist_settings = EventSetting.waitlist_settings;\n\n			// do the post to save them settings\n			$.ajax(constants.finetune_formBase+'/events/saveEventData/'+constants.slug,{\n				dataType: 'json', type: 'post', data: params,\n				success: function(response){\n						$this.html('<i class=\"icon-heart\"></i>Saved');\n						unsavedSettings = false;\n						EventSetting.rsvp_fields = rsvp_fields;\n						triggerSectionReload('invite');\n						if(rsvpEvent){\n\n							EventSetting.custom_rsvp_fields = rsvp_questions;\n							EventSetting.rsvp_conf_message_splash = params.data.EventSetting.rsvp_conf_message_splash;\n							EventSetting.rsvp_conf_message = params.data.EventSetting.rsvp_conf_message;\n							EventSetting.rsvp_conf_subject = params.data.EventSetting.rsvp_conf_subject;\n							EventSetting.skip_ics = params.data.EventSetting.skip_ics;\n							EventSetting.skip_email = params.data.EventSetting.skip_email;\n\n						}\n						reloadRSVPBlock();\n\n\n						setTimeout(function(){\n							$this.html('Save').removeClass('disabled');\n							$this.parents(\"ul\").find(\"li.cancel\").find(\"a\").removeClass('disabled');\n\n\n							if(rsvpEvent){\n								populateRsvpCustomQuestions();\n							}\n							setTimeout(function(){\n								rsvpSettingsSavable(false);\n							},500);\n						},1500);\n\n\n\n				},\n				error: function(){\n					$this.html('Save').removeClass('disabled');\n					if(rsvpEvent){\n						$rsvpSettingsForm.addClass('error');\n						$(\"#rsvpSettingsErrorMessage\").show().find(\"span\").html('There was an error saving the rsvp settings. Please try again.');\n					} else{\n						$(\"#pageSettingsErrorMessage\").show().find(\"span\").html('There was an error saving your changes.  Please try again.');\n					}\n\n				},timeout:30000\n			});\n		}\n	});\n\n	$(document).on('click','.cancel-rsvp-settings',function(e){\n		if($(this).hasClass('disabled')){\n			return false;\n		}\n		populateRsvpCustomQuestions(); // this will wipe it clean and rebuild the form from the EventSetting js variable\n		rsvpSettingsSavable(false);\n		updatePageActionDefaults();\n		unsavedSettings = false;\n		//hideRsvpEditingView();\n	});\n	$(document).on('click','.cancel-page-settings',function(e){\n		if($(this).hasClass('disabled')){\n			return false;\n		}\n		//populateRsvpCustomQuestions(); // this will wipe it clean and rebuild the form from the EventSetting js variable\n		rsvpSettingsSavable(false);\n		updatePageActionDefaults();\n		unsavedSettings = false;\n		//hideRsvpEditingView();\n	});\n\n	$(\"#planning-tools\").on('click',\"#jumpToBudgetTab\",function(){\n		$(\"#planning-tools\").find(\"ul.planning-section-nav\").find(\".subnav-link[type='budget']\").click();\n	});\n	$(\"#planning-tools\").on('click',\"#jumpToTasksTab\",function(){\n		$(\"#planning-tools\").find(\"ul.planning-section-nav\").find(\".subnav-link[type='tasks']\").click();\n	});\n	$(\"#planning-tools\").on('click',\"#externalLinkSave\",function(){\n		var $this = $(this);\n\n		var $input = $(\"#external_link_input\");\n		$this.text('Saving...');\n		var value = $.trim($input.val());\n		if(value==''){\n			alert('Please enter a valid link.');\n			$input.focus();\n			$this.text('Save');\n			return false;\n		}\n\n		if(value.indexOf(\"https://\")==-1){\n			value = 'http://'+value.replace('http://','');\n		}\n		var params = { data: { EventSetting: { rsvp_method: 'link', rsvp_link: value } } };\n		$(\"#rsvp-button\").prop(\"href\",value).prop(\"target\",\"_blank\");\n		$.post(\"/events/saveEventData/\"+constants.event_id, params, function(response){\n			$this.text('Saved.');\n			setTimeout(function(){\n				$this.text('Save');\n			},2000);\n		});\n	});\n\n	$(document).on('click',\"a.closeCSV\",function(){\n		var $parent = $(this).parents(\"div.uploadContain\");\n		if($parent.length){\n			$parent.find(\".import-options\").show().end().find(\".import-results\").hide();\n		}\n	});\n	$(document).on('click',\"#importGuestListSubmit\",function(){\n		var params = $(\"#importGuestListColumnsForm\").serialize();//getValuesObjFromForm($(\"#importGuestListColumnsForm\"));\n		//console.log(params);\n		var $this = $(this);\n		if($this.hasClass('in-progress')){ return false; }\n		$this.addClass('in-progress');\n		$this.text('Importing...');\n		$(\"#import-json-content\").addClass('in-progress');\n		$.post(\"/events/importGuestList/\"+constants.event_id, params, function(response){\n			$this.text('Done.');\n			$(\"#import-json-content\").removeClass('in-progress');\n			setTimeout(function(){\n				closeSimpleModal();\n				$(\"a.refresh-responses\").click();\n			},1500);\n		});\n	});\n	$(document).on('click',\"#changeImportFile\",function(){\n		$(\"#importGuestListResults\").hide();\n		$(\"#step1Import\").show();\n	});\n\n	//ADDING A SUGGESTED RSVP QUESTION\n	$(\"#simple-modal-wrap\").on(\"click\",\"ul.suggested-questions li a\",function(){\n		var $this = $(this);\n		var $parent = $this.parents(\"li\");\n		//console.log('here.');\n		if($parent.hasClass('disabled')){\n			return false;\n		}\n		//if(!$this.hasClass('newCustomField')){\n			$this.addClass('selected');\n			closeSimpleModal();\n\n			var $v = $(\"#rsvp-question-list\");\n			if($v.length > 0){\n				var number = getCustomFieldNumber($v);\n				if ( number !== false ){\n					var $questionRow = $blankQuestionRow.find(\"li:first\").clone();\n					var params = { type: $this.attr(\"type\"), name: $.trim($this.text()), number: number, field_key: $this.attr(\"key\") };\n					var $starter_vals = $parent.find(\"input.starter-vals\");\n					if($starter_vals.length){\n						if(params.type=='checkbox'){\n							params.name = $starter_vals.val();\n						} else{\n							params.values = $starter_vals.val().split(',');\n						}\n					}\n					if(typeof $this.attr(\"required\")!=='undefined'){\n						params.required = 1;\n					}\n					if(typeof $this.attr(\"default_check\")!=='undefined'){\n						params.default_check = true;\n					}\n					if(typeof $this.attr(\"start_open\")!=='undefined'){\n						params.start_open = true;\n					}\n					buildRsvpQuestion($questionRow,params,$v);\n					//$questionRow.find(\".edit-question\").click();\n				}\n				if($(\"#rsvpTabSections\").length){\n					rsvpSettingsSavable();\n				}\n\n			} else{  //TICKETS.\n				var $v = $(\"#splash-ticket-settings-form\").find(\".ticketTypeTable .typeRows.open:first\").find(\".all-custom-field-wrap:first\");\n				var number = getCustomFieldNumber($v);\n				if ( number !== false ){\n					var $n = $v.find('.holder:first').clone();\n					var params = { type: $this.attr(\"type\"), name: $.trim($this.text()), number: number, field_key: $this.attr(\"key\") };\n					var $starter_vals = $parent.find(\"input.starter-vals\");\n					if($starter_vals.length > 0){\n						if(params.type=='checkbox'){\n							params.name = $starter_vals.val();\n						} else{\n							params.values = $starter_vals.val().split(',');\n						}\n					}\n					if(typeof $this.attr(\"required\")!=='undefined'){\n						params.required = 1;\n					}\n					if(typeof $this.attr(\"default-check\")!=='undefined'){\n						params.default_check = true;\n					}\n					if(typeof $this.attr(\"start-open\")!=='undefined'){\n						params.open = true;\n					}\n					buildCustomQuestion($n,params,$v);\n				}\n				hideSettingsSidebar();\n			}\n	});\n\n\n	//$ticketSettingsForm.on('click','span.newCustomField',function(){\n	$(document).on('click','.newCustomField',function(){\n		closeSimpleModal();\n\n		var $v = $(\"#rsvp-question-list\");\n		if($v.length > 0){\n			var number = getCustomFieldNumber($v);\n			if ( number !== false ){\n				var $questionRow = $blankQuestionRow.find(\"li\").clone();\n				var params = { type: 'text', name: '', number: number };\n				buildRsvpQuestion($questionRow,params,$v);\n				$questionRow.find(\".edit-btn\").click();\n				//setTimeout(function(){\n					//$questionRow.find('input.custom-name').focus();\n				//},20);\n				// $rsvpSettingsForm.find('.rsvpSettingQuestions').append($newRsvpQuestion);\n				// $newRsvpQuestion.removeClass('hide blank').attr(\"question-number\",number);\n				// $newRsvpQuestion.find('input.number').val(number);\n				// $newRsvpQuestion.find('.number-display').html(number);\n				// $v.append($newRsvpQuestion);\n				// $newRsvpQuestion.find('.custom-name').focus();\n			} else {\n				//$(this).hide();\n			}\n		} else{ //TICKETS\n			var $v = $(\"#splash-ticket-settings-form\").find(\".ticketTypeTable .typeRows.open:first\").find(\".all-custom-field-wrap:first\");\n			var number = getCustomFieldNumber($v);\n\n			if ( number !== false ){\n				var $n=$v.find('.holder:first').clone();\n				$n.removeClass('hide').find(\".custom-rsvp-field-wrap\").removeClass('blank');\n				$n.find('input.number').val(number);\n				$n.find('.number-display').html(number);\n				$v.append($n);\n				$n.find(\".edit-btn\").click();\n		//		$n.find('.custom-name').focus();\n			}else $(this).hide();\n			ticketResizeTableToPrefs();\n		}\n\n	});\n\n	if(typeof constants.forcePlanningToolsOpen!=='undefined'){\n		$(\"#responseTab\").click();\n	}\n	//console.log('ready');\n\n  	$(\"#event-type\").autocomplete({\n  		response:function(event,ui){\n  		},\n		source: function (request, response) {\n		    var results = $.ui.autocomplete.filter(availableTags, request.term);\n			if (!results.length) {\n				var match_found = false;\n				for(var i = 0;i<availableTags.length;i++){\n					if(!match_found && availableTags[i].id=='0'){\n						//delete availableTags[i];\n						availableTags[i]['value'] = request.term;\n						availableTags[i]['label'] = 'Add '+request.term+' as new type';\n						match_found = i;\n						//break;\n					}\n				}\n				if(!match_found){\n					availableTags.push({\n						id: 0,\n					    label: 'Add '+request.term+' as new type',\n					    value: request.term,\n				 	});\n				}\n\n			 	setTimeout(function(){\n			 		$(\"#event-type\").autocomplete('search',request.term);\n			 	},200);\n			} else {\n				if(results.length == 1){\n					if(results[0]['id']=='0'){\n						results[0]['label']='Add '+request.term+' as new type';\n						results[0]['value']=request.term;\n					}\n				}\n			}\n			response(results);\n		},\n		//source: availableTags,\n		minLength: 0,\n		select: function( event, ui ) {\n			$(\"#event-type-id\").val(ui.item.id);\n		}\n 	});\n\n	$(\"#simple-modal-wrap\").on('click',\"#saveEventMessaging\",function(){\n		var $t = $(this);\n		if($t.hasClass('in-progress')){\n			return false;\n		}\n		$t.addClass('in-progress').text('Saving..');\n		$.ajax({\n			type: 'post',\n			url:\"/events/editTicketReceipt/\"+constants.event_id,\n			data: $(\"#editEventMessagingForm\").serialize(),\n			success:function(){\n				$t.removeClass('in-progress').text('Saved.');\n				setTimeout(function(){\n					$t.text('Save');\n					setTimeout(function(){\n						closeSimpleModal();\n					},500);\n				},1500);\n			},\n			error:function(){\n				$t.removeClass('in-progress').text('Save');\n			}\n		});\n\n	});\n\n	$block_wrap.on('change', 'input.question_as_label', function(){\n		//setting question of type text as label in rsvp/ticket question form.\n	   var $this = $(this);\n		var $wrap = $this.parents(\".custom-rsvp-field-wrap\");\n		var value = (''+this.value).replace(/[<>]/g,'');\n\n		var thisTxt = $wrap.find('input.custom-name').val()\n\n		if( $wrap.find('input.question_as_label').val() == 1 ){\n				$this.parents('.holder').find('div.title').text(value).end()\n				.find(\".question-label\").text( thisTxt ).show();\n\n				$this.parents('.holder').find('div.title').text(value).end()\n				.find(\".question-name-placeholder\").attr(\"placeholder\",'');\n		} else{\n			$this.parents('.holder').find('div.title').text(value).end()\n				//.find(\".question-name\").text(this.value).end()\n				.find(\".question-name-placeholder\").attr(\"placeholder\", thisTxt );\n\n				$this.parents('.holder').find(\".question-label\").hide();\n		}\n	})\n\n\n\n});	//end of document ready\n\n\nvar jumpToMessageContacts=false;\nvar jumpToMessageLazyPeople=false;\nvar autocomplete_on=false;\nvar jumpToRsvpSettings=false;\nvar jumpToTickets=false;\nvar jumpToDiscountCodes = false;\nvar jumpToPayoutSettings = false;\nvar lastSection = '';\nvar unsavedSettings = false;\nvar forceCloseRsvpTab = false;\nvar jumpToEmailDashboard = false;\n\nfunction jumpToPayoutSection(){\n\n	$('#payoutSettingsLink').click()\n	showPayoutForm()\n\n	if( constants.jumpToSection == 'check' ){\n		$('#payout-opt-check').click();\n	} else if ( constants.jumpToSection == 'venmo'){\n		$('#payout-opt-venmo').click();\n	}\n\n	constants.jumpToSection = false\n}\n\n\nfunction switchRsvpBlocks(type){\n	var $block = $(\"#rsvp-block\");\n\n	if(type=='guests'){\n\n		$block.find(\"div.tabBlock.settings-block\").hide().end()\n		      .find(\"div.tabBlock.guests-block\").show();\n\n	  	var $ul = $(\"#rsvpTabSections\");\n		if($ul.hasClass('editing') && $ul.hasClass('tracking')){\n			$(\"#back-to-tracking-links\").click();\n		}\n	    $ul.show().find(\"span.subnav-link.active\").removeClass('active').end()\n	      	.find(\"span.subnav-link:first\").click();///;;addClass('active');\n\n      	//$(\"#externalLinkSections\").hide();\n\n	} else{\n\n		$(\"#ticketUtils\").show();\n\n		//$(\"#rsvp-type-select-li\").find(\"ul.custom-select\").find(\"a.active\").parent(\"li\").addClass('active');\n		$block.find(\"div.tabBlock.guests-block\").hide().end()\n		      .find(\"div.tabBlock.settings-block\").show();\n\n	      var rsvp_method = $(\"#rsvp_method_input\").val();\n	      if(rsvp_method=='tickets'){\n	      	$block.find(\"div.tabBlock.settings-block\").hide().end().find(\"div.tabBlock[type='tickets']\").show();\n	      } else if(rsvp_method=='link'){\n	      	$block.find(\"div.tabBlock.settings-block\").hide().end().find(\"div.tabBlock[type='external_link']\").show();\n	      	//$(\"#rsvpTabSections,#ticketUtils\").hide();\n	      	$(\"#externalLinkSections\").show();\n	      } else{ //collect.\n	      	$block.find(\"div.tabBlock.settings-block\").hide().end().find(\"div.tabBlock[type='rsvp_settings']\").show() ;\n\n	      }\n	}\n\n}\n\n\nvar matched_rows=[];\n//user is \"finished typing,\" do something\nfunction doneTyping () {\n    var txt = $.trim($(\"#search-rsvp-list\").val()).toLowerCase();\n	var $table = $(\"#rsvp-list\");\n	$table.find(\"tbody\").find(\"tr\").hide();\n	// if(txt!=''){\n	// 	matched_rows=[];\n	// }\n\n	var $matched_rows = $table.find(\"td.all-fields:contains('\"+txt+\"')\").parents(\"tr\");\n	$matched_rows.show();\n	if($matched_rows.length < 1){\n		$(\"#empty-row\").show();\n	}\n}\n\nvar show_gids = [];\nvar typingTimer; //timer identifier\nvar typingTimer2; //timer identifier\nvar doneTypingInterval = 500;  //time in ms, 5 second for example\nvar interval2 = 3000;\nvar interval_keyup = 5000;\n\n\n\nfunction quickBudgetAdd($obj, bottom){\n	var params = { event_id: constants.event_id, budget_type: 'STAFF', return_id: true }; //define the parameters we know we'll want regardless of element view vs. ec-focused view.\n\n	var $new_tr = $(\"#master-budget-row tbody\").clone();\n\n	if($obj.parents(\"div.accordionWide\").length){\n		params.element_id = $obj.parents(\"div.accordionWide\").attr(\"element_id\");\n	}\n	else{\n		params.element_id = $(\"#gridElementSelect li.selected\").attr(\"element_id\");\n	}\n\n	if($(\"#budget-overview-container\").is(\":visible\")){\n		var $table = $(\"#budget-overview-container\").find(\"#budget_element_\"+params.element_id).find(\"table.planning_grid\");\n	}\n	else{\n		var $table = $(\"#budget_element_\"+params.element_id).find(\"table.planning_grid\");\n	}\n\n	if(bottom != null){\n		$table.show().find(\"tbody\").append($new_tr.html()).find(\"input.budget_qty:last\").focus();\n		var $new_row = $table.find(\"tbody\").find(\"tr:last\");//.eq(0);\n	}\n	else{\n		$table.show().find(\"tbody\").prepend($new_tr.html()).find(\"input:first\").focus();\n		var $new_row = $table.find(\"tbody\").find(\"tr\").eq(0);\n	}\n\n	$new_row.find(\"td:not(:eq(0),:eq(7),:eq(10))\").effect('highlight',{color:'#72bec9'},300);\n	$table.find(\"tfoot\").find(\"div.tableTotals\").show();\n\n\n	$.post(constants.finetune_formBase+\"/jobs/addNewRow/\"+constants.slug, params, function(response){\n		var jq = $.parseJSON(response);\n			$new_row.attr(\"budget_id\",jq.id);\n			initializeDragRows();\n			$new_row.find(\"textarea\").elastic().addClass('elasticy');\n	}).error(handleAjaxErrorResponse);\n}\n\nfunction quickTaskAdd($obj, bottom){\n	var $parent = $obj.parents(\"div.accordionWide\");\n	var $element_list = $(\"#gridElementSelect\");\n	var params = { type: $(\"#task-sort-type\").find(\"a.active\").attr(\"type\"), contact_class:'by-contact',element_class:'by-element' };\n	if(params.type=='contact'){\n		params.contact_class+=' hide';\n	}\n	else{\n		params.element_class+=' hide';\n	}\n\n	params.element_text = 'Set Element';\n	params.element_id = 0;\n	if($parent.attr(\"element_id\")){\n		var $ele = $element_list.find(\"li[element_id=\"+$parent.attr(\"element_id\")+\"]\");\n		if($ele.length){\n			params.element_text = $.trim($ele.find(\"span\").text());\n		}\n		params.element_id = $parent.attr(\"element_id\");\n	}\n	else if(params.type=='contact'){\n	 	var $other_row = $parent.find(\"div.taskItem:last\"); //check to see if this container has another row first to see if we can just grab another element.\n	 	if($other_row.length){\n	 		params.element_id = $other_row.find(\"div.by-element\").find(\"a\").attr(\"element-id\")*1;\n	 	}\n	 	else{\n	 		params.element_id = $element_list.find(\"li:last\").attr(\"element_id\")*1;\n	 	}\n	 	if(!isNaN(params.element_id)){\n			var $ele = $element_list.find(\"li[element_id=\"+params.element_id+\"]\");\n			if($ele.length){\n				params.element_text = $.trim($ele.find(\"span\").text());\n			}\n	 	}\n	}\n\n	var html='<li class=\"grp sw\"><div class=\"dragHandle\"></div>'+\n				'<div class=\"taskItem\">'+\n				 	'<div class=\"clear\">'+\n						'<div class=\"green-arrow\"><a class=\"check-box\"></a></div>'+\n							'<div class=\"add_task_div2\"><div class=\"edit-task-fields\">'+\n								'<input type=\"text\" class=\"add_task_input nu-input\" value=\"\" placeholder=\"Add something that needs to get done.\" />'+\n								'<div class=\"actions left\"><a class=\"save_task_link hide_me save\">Save</a></div>'+\n							'</div>'+\n						'</div>'+\n						'<div class=\"add_task_div hide_me\"></div>'+\n						'<div class=\"taskContactWrap\">'+\n							'<div class=\"task-content-loading hide_me\">'+constants.spinner_html+'</div>'+\n							'<div class=\"task-deadline-div\" setval=\"false\" style=\"display:none;\">'+\n								'<div class=\"task-datepick\"><a class=\"optional-link\">Set date</a>&nbsp;&nbsp;<input type=\"text\" class=\"task-input date_pick hide\" /></div>'+\n							'</div>'+\n							'<div class=\"task-contact-div\" setval=\"false\" style=\"display:none;\">'+\n								'<div class=\"setContact\">'+\n									'<div class=\"'+params.contact_class+'\">'+\n										'<a class=\"task-contact-link optional-link cell-holder\" ec-id=\"0\">Set lead</a>'+\n									 '</div>'+\n									 '<div class=\"'+params.element_class+'\">'+\n									 	'<a class=\"task-contact-link optional-link cell-holder\" element-id=\"'+params.element_id+'\">'+params.element_text+'</a>'+\n									'</div>'+\n								'</div>'+\n							'</div>'+\n							'<div class=\"vendor_delete hide_me\">'+\n								'<div class=\"delete_img\"><img src=\"/css/images/deletebtn.png\"></div>'+\n							'</div>'+\n						'</div>'+\n					 '</div>'+\n				'</div>'+\n			'</li>';\n\n		if(bottom != null){\n			$parent.find(\"ul.task_list\").append(html).find(\"input.add_task_input:last\").focus();\n		}\n		else{\n			$parent.find(\"ul.task_list\").prepend(html).find(\"input.add_task_input:first\").focus();\n		}\n}\n\n 	function markBudgetItem($obj){\n		if($obj.hasClass('checkbox')){ //mark as payed\n		 	$obj.hide().parents(\"div.budget-checkbox\").find(\"img.checkmark\").show().end()\n		 		.parents(\"td\").removeClass('hover').end()\n			var is_paid = 1;\n		}\n		else{ //mark as unpaid\n		 	$obj.hide().parents(\"div.budget-checkbox\").find(\"img.checkbox\").show().end()\n		 		.parents(\"td\").removeClass('hover').end()\n			var is_paid = 0;\n		}\n\n		$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug,{event_id:constants.event_id, job_item_id:$obj.parents(\"tr\").attr(\"budget_id\"), field:'paid', value:is_paid}).error(handleAjaxErrorResponse);\n\n	}\n\n	function update_select_list_contacts(event_contact_id,field_value){\n		$(\"#master_contact_list\").append('<li id=\"'+event_contact_id+'\">'+field_value+'</li>');\n		$(\"a[ec-id='new'],div[ec-id='new']\").each(function(){\n			$(this).attr(\"ec-id\",event_contact_id).text(field_value);\n			if($(this).hasClass('budget-vendor-add')){\n				$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug,{event_id:constants.event_id, job_item_id:$(this).parents(\"tr\").attr(\"budget_id\"),field:'contact',value:event_contact_id},\n					function(){}).error(handleAjaxErrorResponse);\n			}\n			else{\n				updateScheduleRow($(this).parents(\"li\"),event_contact_id,$(this).parents(\"div.taskItem\").attr(\"job_time_id\"));\n			}\n		});\n	}\n\n\n  	function delete_entry(id,type){\n\n		$.ajaxSetup({\n			cache: false\n		});\n\n\n		if(type==\"job_time\"){\n			//if job time, must remove from both element view and overview\n			$(\"#job_time_\"+id).remove();//removes from run of show.\n	 		$.ajax({\n				type: \"POST\",\n	    	    url: \"/jobs/delete\",\n	    	    data: \"job_time_id=\"+id,\n	    	    success: function(){\n	    	    }\n	    	 });\n		}\n		else if(type==\"job_item\"){\n	 		$(\"tr[budget_id=\"+id+\"]\").remove();\n	 		$.ajax({\n				type: \"POST\",\n	    	    url: \"/jobs/delete\",\n	    	    data: \"job_item_id=\"+id\n	    	 });\n		}\n 	}\n\nfunction update_tax_rows(element_id, obj_id){\n	var taxes=[];\n	var tip_total=0;\n	$(\"#\"+obj_id).find(\"#budget_element_\"+element_id).find(\"table.planning_grid\").find(\"tr\").each(function(){\n		var $row=$(this);\n		if($row.attr(\"budget_id\")){ //only deal with rows that have budgets\n			var budget_id=$row.attr(\"budget_id\");\n			var $budget_total = $row.find(\"input.total_projected\");\n			if($.trim($budget_total.val())!=''){\n				var $tax_value = $.trim($row.find(\"td.tax\").find(\".cell-holder\").text().replace('%',''))*1\n				var $tip_value = $.trim($row.find(\"td.tip\").find(\".cell-holder\").text().replace('%',''))*1\n				if($tax_value > 0 || $tip_value > 0){\n					var row_total=str_replace(',','',str_replace(\"$\",\"\",$budget_total.val()))*1;\n				}\n				if($tax_value > 0){\n					var index=($tax_value==10)?2:1;\n					//var index = $row.find(\"ul.tax li.selected\").index() * 1;\n					if(!taxes[index]){\n						taxes[index]=0;\n					}\n					taxes[index] += row_total * ($tax_value/100);\n				}\n				if($tip_value > 0){\n					tip_total += row_total * ($tip_value/100);\n				}\n			}\n		}\n	});\n\n	var $parent = $(\"#budget_element_\"+element_id);\n	if(taxes[1] || taxes[2] || tip_total > 0){\n		$parent.find(\"div.subtotals\").show();\n	}\n	else{\n		$parent.find(\"div.subtotals\").hide();\n	}\n	if(taxes[1]){\n		$parent.find(\".tax_row_8\").show().find(\".overall_tax_8\").show().html(addCommas('$'+taxes[1].toFixed(2)));\n	}\n	else{\n		$parent.find(\".tax_row_8\").hide().find(\"div.subtotal\").html(0);\n	}\n	if(taxes[2]){\n		$parent.find(\".tax_row_10\").show().find(\".overall_tax_10\").show().html(addCommas('$'+taxes[2].toFixed(2)));\n	}\n	else{\n		$parent.find(\".tax_row_10\").hide().find(\"div.subtotal\").html(0);\n	}\n	if(tip_total > 0){\n		$parent.find(\".tip_row\").show().find(\".overall_tip\").show().html(addCommas('$'+tip_total.toFixed(2)));\n	}\n	else{\n		$parent.find(\".tip_row\").hide().find(\"div.subtotal\").html(0);\n	}\n}\nfunction updateRsvpCount($row){\n	var $table = $(\"#rsvp-list\").find(\"tbody\");\n	var counts = { total: $table.find(\"tr\").length  };\n	if($table.find(\"#empty-row\").length){\n		counts.total-=1;\n	}\n	counts.not_attending = $table.find(\"tr.not-attending\").length;\n	counts.attending = counts.total-counts.not_attending;\n	$(\"#totalResponses\").find(\"span\").text('('+counts.total+')').fadeIn(200);\n	$(\"#allAttending\").find(\"span\").text('('+counts.attending+')').fadeIn(200);\n	$(\"#allNotAttending\").find(\"span\").text('('+counts.not_attending+')').fadeIn(200);\n	$(\"#rsvp-list\").trigger(\"update\");\n	if($row!=null){\n		var current_view = $(\"#rsvpQuickStats\").find(\"li.active\").find(\"a\").prop(\"id\");\n		if($row.hasClass('not-attending')){ //not attending\n			if(current_view=='allAttending' || current_view=='allAwaitingReply'){\n				$(\"#allNotAttending\").click();\n			}\n		}\n		else{ //attending\n			if(current_view=='allNotAttending' || current_view=='allAwaitingReply'){\n				$(\"#allAttending\").click();\n			}\n		}\n	}\n\n\n		//.trigger(\"sorton\", [$(\"#rsvp-list\").get(0).config.sortList])\n		// .trigger(\"appendCache\")\n		// .trigger(\"applyWidgets\");\n\n\n}\n\nfunction initializeDragRows($obj){\n	$(\"div.budget_div\").each(function(){\n		var $table = $(this).find(\"table.planning_grid\");\n		var element_id = $table.attr(\"element_id\");\n\n		$table.tableDnD({\n			dragHandle: \"drag-row\",\n			onDragClass: \"myDragClass\",\n			onDrop: function(table, row){\n				var rows = table.tBodies[0].rows;\n    	 		var new_order = [];\n    	    	for (var i=0; i<rows.length; i++) {\n    	        	new_order.push(rows[i].getAttribute(\"budget_id\"));\n    	        }\n    	        $.post(constants.finetune_formBase+\"/events/updateRowOrder/\"+constants.slug, {event_id: constants.event_id, type: 'budget', element_id: element_id, order: new_order }).error(handleAjaxErrorResponse);\n			}\n		})\n	});\n}\n	function sort_budget(type,direction){\n		if(type==null){\n			var type = $(\"#budget-sort-type a.active\").attr(\"type\");\n		}\n		var view_type = $(\".viewSortOptions.budget\").find(\"a.active\").attr(\"type\"); //either grid or list.\n\n		var sorted_budget_elements = [];\n\n		if(type!='element'){\n			var sort_by_amt=true;\n		}\n		if(view_type=='list'){\n\n			var $budget_contents = $(\"#budget-overview-container\");\n			if($budget_contents.is(\":visible\")){\n				var internal_list_sort=true;\n				$parent = $budget_contents;\n				$parent.find(\"div.accordionWide\").each(function(){\n					var $obj=$(this);\n					var key = $obj.attr(\"element_id\");\n					//var key=$obj.parents(\"fieldset\").attr(\"element_id\");\n					var $grid_block = $(\"#budget-grids\").find(\"div.element-grid-box[element_id=\"+key+\"]\");\n					if(typeof sort_by_amt !== 'undefined'){\n						var value = Number($grid_block.find(\".ele-budget\").text().replace(/[^0-9\\.-]+/g,\"\"));\n					}\n					else{\n						var value = $.trim($grid_block.find(\".element-name\").text());\n					}\n					sorted_budget_elements.push([key,value]);\n				});\n			}\n			else{\n				$budget_contents.empty();\n				var $parent = $(\"#budgets\");\n				//loop through all elements and create an array, storing both the numeric value of\n				//the budget total and the element_id (aka task_id).\n\n				//$elements.find(\"div.gridTabDiv[type='budget']\").each(function(){\n				$parent.find(\"div.accordionWide\").each(function(){\n					var $obj=$(this);\n					var key = $obj.attr(\"element_id\");\n					//var key=$obj.parents(\"fieldset\").attr(\"element_id\");\n					var $grid_block = $(\"#budget-grids\").find(\"div.element-grid-box[element_id=\"+key+\"]\");\n					if(typeof sort_by_amt !== 'undefined'){\n						var value = Number($grid_block.find(\".ele-budget\").text().replace(/[^0-9\\.-]+/g,\"\"));\n					}\n					else{\n						var value = $.trim($grid_block.find(\".element-name\").text());\n					}\n					sorted_budget_elements.push([key,value]);\n				});\n			}\n		}\n		else{ //grids yo\n			var $parent_ul = $(\"#all-elements-list\");\n			$(\"#all-elements-list\").find(\"div.element-grid-box\").each(function(){\n				var $obj = $(this);\n				var key = $obj.attr(\"element_id\");\n				if(typeof sort_by_amt !== 'undefined'){\n					var value = Number($obj.find(\".ele-budget\").text().replace(/[^0-9\\.-]+/g,\"\"));\n				}\n				else{\n					var value = $.trim($obj.find(\".element-name\").text());\n				}\n				var li = '<li>'+$obj.parents(\"li\").html()+'</li>';\n				sorted_budget_elements.push([key,value,li]);\n			})\n\n		}\n\n		//sort the element budget array by budget total descending.\n		sorted_budget_elements.sort(function(a, b) {\n		    a = a[1];\n    		b = b[1];\n    		if(direction!=null){\n    			if(direction=='asc'){\n					return a < b ? -1 : (a > b ? 1 : 0);\n    			}\n    			else{\n				    return a > b ? -1 : (a < b ? 1 : 0);\n    			}\n    		}\n    		// if(typeof sort_by_amt !== 'undefined'){\n			   //  return a > b ? -1 : (a < b ? 1 : 0);\n    		// }\n    		// else{\n				return a < b ? -1 : (a > b ? 1 : 0);\n    		//}\n		});\n\n		if(view_type=='list'){\n			if(typeof internal_list_sort!=='undefined'){\n				var new_list = '';\n				//now loop through the array, pull the corresponding element data for each entry and append it to the budget content section.\n				for (var i = 0; i < sorted_budget_elements.length; i++) {\n					new_list+='<div class=\"gridTabDiv accordion\">'+$(\"#budget_element_\"+sorted_budget_elements[i][0]).parents(\"div.gridTabDiv\").html()+'</div>';\n				}\n				//console.log(\"did it\");\n				$budget_contents.empty().html(new_list);\n\n			}\n			else{\n				//now loop through the array, pull the corresponding element data for each entry and append it to the budget content section.\n				for (var i = 0; i < sorted_budget_elements.length; i++) {\n\n		    		//var $obj=$parent.find(\"#budget_element_\"+sorted_budget_elements[i][0]);//.parents(\"div.gridTabDiv\");\n					var $obj=$(\"#budget_element_\"+sorted_budget_elements[i][0]);\n					var $grid_box = $(\"div.element-grid-box[element_id=\"+sorted_budget_elements[i][0]+\"]:first\");\n					var element_img = $grid_box.find(\"img.ele-icon\");\n\n					//var $new_obj = $obj;//.clone();//replicate the contents of each budget elements\n					var $new_accordion = $('<div class=\"grp p0-1 gridTabDiv accordion\">'+\n											'<div class=\"nu-btn xs clean bold grp accordion-header accordion-open\">'+\n												'<span class=\"grp w1-3 p0 element-cue\"><img src=\"'+element_img.prop(\"src\")+'\" class=\"grp p0 w1-6\" /> <h1 class=\"grp w5-6 regular capitalize\">'+$grid_box.find(\".element-name\").text()+'</h1></span>'+\n												'<div class=\"grp p0 w2-3 txtR budget-total-wrapper\"><div class=\"budget-total-holder hide\">Total:</div><h1 class=\"grp regular capitalize element-quick-data budgeting-total-'+sorted_budget_elements[i][0]+'\">'+$grid_box.find(\".ele-budget\").text()+'</h1></div>'+\n											'</div>'+\n										'</div>');\n					$new_accordion.append($obj);\n					$budget_contents.append($new_accordion);\n				}\n				$budget_contents.find(\".accordionWide\").show();\n\n			}\n			initializeDragRows();\n			//$(\"#budget-action-link\").attr(\"type\",'expand').html('&#9660; Expand All');\n		}\n		else{\n			var new_list = '';\n			for (var i = 0; i < sorted_budget_elements.length; i++) {\n				new_list+=sorted_budget_elements[i][2];\n			}\n			$parent_ul.empty().html(new_list);\n\n		}\n\n	}\nfunction sort_tasks(type, dont_focus){\n\n	if(!type || type==null){\n		var type = $(\"div.viewSortOptions.tasks\").find(\"a.active\").attr(\"type\");\n	}\n\n	if(type == 'contact'){ //SORT BY CONTACTS\n		showTasksByContact();\n	}\n	else{ //SORT BY ELEMENTS\n		showTasksByElement();\n	}\n\n	$(\"#task-action-link\").attr(\"type\",'expand').click(); //auto-open task accordions.\n}\n\nfunction showTasksByContact(){ //this function is used to sort the task overview by CONTACT.\n			var element_arr = [];\n\n			$(\"#task-overview-container\").removeClass('byElement');\n			$(\"#task-overview-container\").addClass('byContact');\n\n			var element_select = '<ul class=\"selectReplacement event_element_select task_contact_select hide\">';\n			$(\"#gridElementSelect li\").each(function(){\n				var element_id = $(this).attr(\"element_id\");\n				if(element_id > 0){\n					var ele_name = $(this).find(\"span\").text();\n					element_arr[$(this).attr(\"element_id\")] = ele_name;\n					element_select += '<li element_id=\"'+$(this).attr(\"element_id\")+'\">'+ele_name+'</li>';\n				}\n			});\n			element_select +='</ul>';\n\n			var sorted_contacts = [];\n			var $all_contacts = $(\"#master_contact_list li\");\n			var $contact_list = $(\"#ec-listings\");\n\n			var unassigned = false;\n			$all_contacts.each(function(){\n				if(!isNaN($(this).prop(\"id\") )){\n					if($(this).prop(\"id\") > 0){\n						var $ec_img = $contact_list.find('a.remote-contact-view[ec-id=\"'+$(this).prop(\"id\")+'\"]').find(\"img:first\");\n						sorted_contacts.push([$(this).prop(\"id\"),$(this).text(),'<img src=\"'+$ec_img.attr(\"src\")+'\" class=\"small_icon\" />']);\n					}\n					else{ //unassigned...\n						unassigned = true;\n					}\n				}\n			});\n\n			sorted_contacts.sort(function(a, b) {\n				a = a[1];\n    			b = b[1];\n    			return a < b ? -1 : (a > b ? 1 : 0);\n			});\n\n			if(unassigned){ //if we have unassigned contacts, push it onto the end of the array.\n				sorted_contacts.push([ 0, 'Unassigned', '<img src=\"/img/icons/MiscContact_150x150.png\" class=\"small_icon\" />']);\n			}\n\n			var task_content ='';\n    		var $parent = $(\"#task-overview-container\");\n\n			for (var i = 0; i < sorted_contacts.length; i++) {\n				//loop through each contact in the event and create an accordion on the fly for them.\n				var ec_id = sorted_contacts[i][0];\n				task_content += '<div class=\"accordion\" type=\"task\" ec_id=\"'+ec_id+'\">'+\n								'<div class=\"accordion-header accordion-open\">'+\n									'<a class=\"element-cue\">'+sorted_contacts[i][2]+''+sorted_contacts[i][1]+'</a>'+\n									'<div class=\"budget-total-wrapper\">'+\n										'<span class=\"element-quick-data\">'+\n											'<span class=\"tc\"></span>/<span class=\"tt\"></span> Tasks Complete'+\n										'</span>'+\n									'</div>'+\n								'</div>'+\n								'<div class=\"vendorList accordionWide\" ec_id=\"'+ec_id+'\">'+ //now start filling the content of the accordion\n									'<ul class=\"task_list\">';\n\n										$parent.find(\".by-contact\").find(\"a.task-contact-link[ec-id=\"+ec_id+\"]\").each(function(){\n											task_content += '<li>'+$(this).parents(\"li\").html()+'</li>';\n										});\n\n					 task_content+='</ul>'+\n									'<div class=\"elementActions\">'+\n										'<div class=\"addAnother\">'+\n											'<a class=\"add_another_task\">+ Add Task</a>'+\n										'</div>'+\n							     	'</div>'+\n								'</div>'+//end accoridonWide\n							'</div>';	//end accordion\n			}//end the loop\n\n			$parent.empty().html(task_content).find(\"div.setContact\")\n				.find(\"div.by-contact\").hide().end()\n				.find(\"div.by-element\").show();\n			$parent.find(\"div.accordion\").each(function(){\n											console.log('has arrow');\n\n				$(this).find(\"span.tt\").html($(this).find(\"div.taskItem\").length).end()\n					   .find(\"span.tc\").html($(this).find(\"div.green-arrow-complete\").length).end()\n					   .find(\"a.task-contact-link\").removeClass('optional-link'); //only for unassigned, but elements should never be optional!\n			});\n			$parent.show();\n			$(\"#tasks-overview-content\")\n				.show()\n				.find(\"ul.task_list\").each(function(){\n					makeTasksSortable($(this),null,$(this).parents(\"div.accordionWide\").attr(\"ec_id\"));\n				});\n\n\n	}\n\n\n	function showTasksByElement(){\n\n		$(\"#task-overview-container\").addClass('byElement');\n		$(\"#task-overview-container\").removeClass('byContact');\n\n		var $task_contents = $(\"#task-overview-container\");\n		var $element_list = $(\"#gridElementSelect\");\n		var sorted_elements = [];\n		var task_content='';\n		$element_list.find(\"li\").each(function(){\n			if($(this).attr(\"element_id\") > 0){\n				sorted_elements.push([$(this).attr(\"element_id\"),$.trim($(this).find(\"span\").text()),'<img src=\"'+$(this).find(\"img:first\").prop(\"src\")+'\" class=\"small_icon\" />']);\n			}\n		});\n\n		console.log('by element');\n\n			var element_select = '<ul class=\"selectReplacement event_element_select task_contact_select hide\">';\n			var $contact_list = $(\"#master_contact_list\").clone();\n			var element_arr=[];\n			$(\"#gridElementSelect li\").each(function(){\n				var element_id = $(this).attr(\"element_id\");\n				if(element_id > 0){\n					var ele_name = $(this).find(\"span\").text();\n					element_arr[$(this).attr(\"element_id\")] = ele_name;\n					element_select += '<li element_id=\"'+$(this).attr(\"element_id\")+'\">'+ele_name+'</li>';\n				}\n			});\n			element_select +='</ul>';\n\n\n\n		sorted_elements.sort(function(a, b) {\n		    a = a[1];\n			b = b[1];\n			return a < b ? -1 : (a > b ? 1 : 0);\n		});\n		//var $parent =\n		for (var i = 0; i < sorted_elements.length; i++) {\n			//loop through each contact in the event and create an accordion on the fly for them.\n			var element_id = sorted_elements[i][0];\n			task_content += '<div class=\"accordion\" type=\"task\" element_id=\"'+element_id+'\">'+\n								'<div class=\"accordion-header accordion-open\">'+\n									'<a class=\"element-cue\">'+sorted_elements[i][2]+''+sorted_elements[i][1]+'</a>'+\n										'<div class=\"budget-total-wrapper\">'+\n											'<span class=\"element-quick-data\">'+\n												'<span class=\"tc\"></span>/<span class=\"tt\"></span> Tasks Complete'+\n											'</span>'+\n										'</div>'+\n								'</div>';\n\n				//now start filling the content of the accordion\n				task_content += '<div class=\"vendorList accordionWide\" element_id=\"'+element_id+'\">'+\n									'<ul class=\"task_list\">';\n										$task_contents.find(\".by-element\").find(\"a.task-contact-link[element-id=\"+element_id+\"]\").each(function(){\n											task_content += '<li>'+$(this).parents(\"li\").html()+'</li>';\n										});\n					  task_content+='</ul>'+\n									'<div class=\"elementActions\">'+\n										'<div class=\"addAnother\">'+\n											'<a class=\"add_another_task\">+ Add Task</a>'+\n		 								'</div>'+\n					    		 	'</div>'+\n								'</div>'+//end accoridonWide\n							'</div>';	//end accordion\n		}//end the loop\n\n		$task_contents.empty().html(task_content).find(\"div.setContact\")\n				.find(\"div.by-contact\").show().end()\n				.find(\"div.by-element\").hide();\n\n		$task_contents.find(\"div.accordion\").each(function(){\n			$(this).find(\"span.tt\").html($(this).find(\"div.taskItem\").length).end()\n				   .find(\"span.tc\").html($(this).find(\"div.green-arrow-complete\").length).end()\n				  // .find(\"a.task-contact-link\").removeClass('optional-link'); //only for unassigned, but elements should never be optional!\n		});\n		$task_contents.show()\n			.find(\"ul.task_list\").each(function(){\n				makeTasksSortable($(this),null,$(this).parents(\"div.accordion\").attr(\"element_id\"));\n			});\n\n\n\n\n	}\n\n	function makeTasksSortable($obj, element_id, event_contact_id){\n		if(typeof $obj!=='undefined'){\n			$obj.sortable({\n				axis: 'y',\n				handle: \"div.dragHandle\",\n				cancel: \"div.setContact\",\n				//ul.event_contact_select\",\n				update: function(event,ui){\n					var task_ids = \"\";\n					$obj.find(\"div.taskItem\").each(function(){\n						if($(this).attr(\"job_time_id\")){\n							task_ids += $(this).attr(\"job_time_id\")+',';\n						}\n					});\n\n					var params = { event_id: constants.event_id, type: 'task', order: task_ids };\n					if(event_contact_id != null){\n						params.ec_id = event_contact_id;\n					}\n					else if(element_id != null){\n						params.element_id = element_id;\n					}\n\n					$.post(constants.finetune_formBase+\"/events/updateRowOrder/\"+constants.slug, params ).error(handleAjaxErrorResponse);\n				}\n			});\n		}\n	}\n\n	function makeElementsSortable(){\n		$(\"#all-elements-list\").sortable({\n			//contain: $(\"#grid-overview\"),\n			// disable: function(){\n			// 	$(this).parents(\"ul\").find(\"li:first\")\n			// },\n			items: \"li:not(.ui-grid-disabled)\",\n			update:function(){\n				var new_order = [];\n				$(\"#all-elements-list\").find(\".element-grid-box\").each(function(){\n					new_order.push($(this).attr(\"element_id\"));\n				});\n				$.post(constants.finetune_formBase+\"/events/updateElementOrder\", { event_id: constants.event_id, order: new_order }).error(handleAjaxErrorResponse);\n			} //,\n		});\n	}\n\n	function updateElementBudgetContent(){\n		//this function updates the content from the budget overview (to grid_elements) on the fly.\n\n		//first, populate the list budget divs with the updated content\n		var budget_arr={};\n		var $budgets = $(\"#budgets\");\n		$budgets.empty();\n		$(\"#budget-overview-content div.accordionWide\").each(function(){\n			budget_arr[$(this).attr(\"element_id\")] = $(this);//.children();\n			$budgets.append($(this));\n		});\n	}\n\n	function updateElementTaskContent(){\n\n		//check which type of sort we're dealing with\n		if($(\"#task-sort-type a.active\").attr(\"type\") == 'contact'){	//if we're sorting by contact, we've got some tricky stuff to do.\n\n			console.log('toogggleee');\n			var task_arr = {};\n			var $task_overview = $(\"#task-overview-container\");\n			var $grid_elements = $(\"#planning-section\");\n\n			var $master_contact_list = $(\"#master_contact_list\");\n			var contact_lis = $master_contact_list.html();\n\n\n			$(\"#gridElementSelect li\").each(function(){\n				var element_id = $(this).attr(\"element_id\");\n				if( element_id > 0 ){\n					var element_tasks = '';\n					$task_overview.find(\"a.task-contact-link[element-id=\"+element_id+\"]\").each(function(){\n						var contact_ul = '<ul task_id=\"'+$(this).attr(\"task_id\")+'\" class=\" selectReplacement event_contact_select task_contact_select hide\">';\n							contact_ul += contact_lis;\n							contact_ul += '</ul>';\n						if($(this).attr(\"ec-id\") > 0){\n							$(this).html($master_contact_list.find(\"li#\"+$(this).attr('ec-id')).text());\n						}\n						else{ //unassigned tasks...\n							$(this).html('Set lead').addClass('optional-link');\n						}\n						$(this).parents(\"div.setContact\").find(\"ul.event_element_select\").before(contact_ul).remove();\n						element_tasks += '<li>'+$(this).parents(\"li\").text()+'</li>';\n\n					});\n					var $task_ul = $parent.find(\"div.accordion[ec_id='\"+ec_id+\"']\").find(\"ul.task_list\").html(response);\n					$task_overview.find(\"div.accordion[element_id='\"+element_id+\"']\").find(\"ul.task_list\").empty().html(element_tasks);\n\n					//now update the task count for this element.\n					updateTaskCount(element_id, true);\n				}\n			});\n			updateTaskCount(0);\n		}\n		else{\n			//this function is used to repopulate the content from task overview into the grid elements on the fly.\n			var task_arr = {};\n			$(\"#task-overview-container div.accordionWide\").each(function(){\n				task_arr[$(this).parents(\"div.accordion\").attr(\"element_id\")] = $(this).children();\n			});\n			$(\"#planning-section div.gridTabDiv[type='tasks']\").each(function(){\n				$(this).find(\"div.accordionWide\")\n					.empty()\n					.append(task_arr[$(this).parent(\"fieldset\").attr(\"element_id\")])\n			});\n		}\n\n	}\n\nfunction update_budget_total(element_id,actual_budget){\n	if(element_id > 0){\n		var sum=0;\n\n		if($(\"#budget-overview-content\").is(\":visible\")){\n			var obj_id = 'budget-overview-content';\n			var budget_overview = true;\n		}\n		else{ //standard view\n			//var obj_id = 'element_contents_'+element_id;\n			var obj_id = 'budgets';\n		}\n		update_tax_rows(element_id,obj_id);\n\n		var class_name = (actual_budget==null)?'total_projected':'total_actual';\n		//loop through each total cell for the table.\n		//var $parent = $(\"#\"+obj_id);\n		var $parent = $(\"#budget_element_\"+element_id);\n		$parent.find(\"table.planning_grid\").find(\"input.\"+class_name).each(function(){\n			sum += Number($(this).val().replace(/[^0-9\\.-]+/g,\"\")) * 1;\n		});\n\n		$parent.find(\"div.subtotal\").each(function(){ //add subtotals for each column.\n			sum += Number($.trim($(this).html().replace(/[^0-9\\.-]+/g,\"\"))) * 1;\n		});\n		//console.log(\"sum ?\"+sum);\n\n		if(isNaN(sum)) sum=0; //make sure it's numeric.\n\n		var adjusted=addCommas('$'+sum.toFixed(2));\n		// if(actual_budget!=null){\n		// 	$parent.find(\".budgeting-total\").find(\".actual-budgeting-total\").html(adjusted); //element total.\n		// }\n		// else{\n			$parent.find(\".budgeting-total\").html(adjusted); //element total.\n			$(\"#currentElementBudget\").find(\".total\").html(adjusted);\n			$(\".budgeting-total-\"+element_id).html(adjusted);\n		//}\n\n		if(typeof budget_overview === 'undefined'){ //only populate the tab value if we're not in budget overview (aka the budget-overview-content div is NOT visible).\n			$(\"#eleBudget\").html(adjusted);\n		}\n\n		$(\"div.element-grid-box[element_id='\"+element_id+\"']\").find(\".ele-budget\").html(adjusted);\n		updateBudgetChart(true);\n\n	}\n\n	var overall_total = grabTotalEventBudget();\n	if(!isNaN(overall_total)){\n		if($(\"#estimated_budget\").length){\n			var remaining = $(\"#estimated_budget\").val() - overall_total;\n			remaining = addCommas('$'+remaining.toFixed(2));\n			$(\"#remaining\").html(remaining);\n		}\n		var formatted = addCommas('$'+overall_total.toFixed(2));\n	}\n	else{\n		var formatted = '$0.00';\n	}\n	$(\".budget-total\").html(formatted);\n\n}\n\nfunction grabTotalEventBudget(){\n	///now update the overall total budget\n	var overall_costs=0;\n	$(\"#budget-grids\").find(\"div.element-grid-box\").each(function(){\n		var value = $.trim($(this).find(\"span.ele-budget\").text().replace(/[,$]/g,''))*1;\n		if(!isNaN(value)){\n			overall_costs += value;\n		}\n	})\n\n	var sponsorship_total = 0;\n	//if($(\"div.sponsorship-total\").length) //only make check if there's a sponsorship element added.\n	//	var sponsorship_total = str_replace(',','',str_replace('$','',$(\"div.sponsorship-total\").html()))*1;\n\n	var overall_total = overall_costs - sponsorship_total;\n	return overall_total;\n\n}\nfunction updateTaskCount(var_id, force_grid_elements){\n\n		var arr = { overall_count: 0, overall_completed: 0, count: 0, completed: 0};\n	 	var type = $(\"div.viewSortOptions.tasks\").find(\"a.active\").attr(\"type\");//figure out how we're filtering.\n\n		var $parent = $(\"#task-overview-container\");\n		if(type=='contact'){\n			var $inner = $parent.find('div.accordion[ec_id=\"'+var_id+'\"]');\n		}\n		else{ //the norm.\n			var $inner = $parent.find('div.accordion[element_id=\"'+var_id+'\"]');\n		}\n\n		if($inner.length){ //just a sanity check. probably not needed.\n			$inner.find(\"div.taskItem\").each(function(){\n				if($(this).attr(\"job_time_id\")){\n					arr.count += 1;\n					if($(this).find(\"div.add_task_div\").hasClass('completed-task')){\n						arr.completed += 1;\n					}\n				}\n			});\n			$inner.find(\".element-quick-data\")\n				.find(\".tc\").text(arr.completed).end()\n				.find(\".tt\").text(arr.count);\n		}\n\n\n\n		//define total budget/total task count for dashboard sidebar.\n		var $complete = $(\"#completed-tasks\");\n		var $total = $(\"#total-tasks\");\n\n\n		$parent.find(\".accordion-header\").each(function(){\n			arr.overall_completed += $(this).find(\"span.tc\").text()*1;\n			arr.overall_count += $(this).find(\"span.tt\").text()*1;\n		})\n\n		$complete.html(arr.overall_completed);\n		$total.html(arr.overall_count);\n\n		//cache[ 'view_deadlines' ] = false;\n\n	}\n\n	function updateScheduleRow(obj,field_value,jtid,element_select){\n\n		var job_time_id=$(obj).parents(\"tr\").attr(\"job_time_id\");\n		if(job_time_id){\n\n			if(field_value=='' && $(obj).hasClass(\"description_input\")){\n				//this is an exception for the description field in the deadlines modal.\n				//we don't update the field if the user clears the row.\n				return false;\n			}\n\n			var $ele=$(\"#pre_event_\"+job_time_id+\"_element_input_ul li.selected\");\n			var element_id=$ele.attr(\"id\");\n			$parent_td=$(obj).parents(\"td\");\n			var job_time_field=$parent_td.attr(\"id\");\n			$parent_td.removeClass('focused_input');\n\n			if(!job_time_field){\n				job_time_field='contact';\n			}\n\n		}\n		else{\n			var job_time_id=(jtid!=null)?jtid:$(obj).attr(\"task_id\");\n			var job_time_field=(jtid!=null)?'contact':\"date\";\n\n		}\n\n		if(element_select!=null){\n			job_time_field = 'element';\n\n		}\n\n\n		$.post(constants.finetune_formBase+\"/jobs/updateRow/\"+constants.slug,{event_id:constants.event_id, job_time_id:job_time_id, field:job_time_field,value:field_value},\n			function(response){\n\n				if(element_id){\n					reloadTaskList(element_id);\n				}\n				if(job_time_field == 'contact'){\n					if($(obj).parents(\"div.taskItem\").length){\n						$(obj).parents(\"div.taskItem\").find(\"a.task-contact-link\").attr(\"ec-id\",field_value);\n					}\n				}\n			}\n		).error(handleAjaxErrorResponse);\n\n		if(stripos(job_time_field,\"desc\")!==false){ //if changing task description, change it in other view too\n			if($(\"li[job_time_id=\"+job_time_id+\"]\")){\n				$(\"li[job_time_id=\"+job_time_id+\"]\").find(\"div.add_task_div\").html(field_value);\n				$(\"li[job_time_id=\"+job_time_id+\"]\").find(\"input.add_task_input\").val(field_value);\n			}\n		}\n\n\n		//cache['view_deadlines'] = false;\n\n\n	}\n	function updateAllPlanningCounts(){\n		$(\"#eleBudget\").text($(\"#totalBudgetInput\").val());\n		$(\"#total-tasks\").text($(\"#totalTasksInput\").val());\n		$(\"#completed-tasks\").text($(\"#totalTasksCompleteInput\").val());\n		$(\"#clips-count\").text($(\"#totalClipsInput\").val());\n		$(\"ul.planning-section-nav\").show();\n\n	}\n	function updateRSVPStatus(params,noSave){\n		if(!noSave){\n			rsvpSettingsSavable();\n		}\n\n		params.field = 'rsvp_closed';\n		params.event_id = constants.event_id;\n		params.waitlist = $(\"#waitlist-check\").val();\n\n		$(\"#rsvp-quick-status\").text('Updating...');\n\n		$.post(constants.finetune_formBase+'/events/saveSplashDetail/'+constants.event_id,params,function(response,responseText,xhr){\n			//console.log(response);\n			var term = ($(\"#rsvp_method_input\").val()=='tickets')?'Tickets':'RSVPs',\n				open = true,\n				response = (''+response).trim(),//stringify/trim that guy.\n				waitlist = false;\n\n			var $dd = $(\"#page-action-settings\").find(\"div.rsvp-status\");\n			if(response.match(/^waitlist/)){\n				waitlist = true;\n			}\n\n			if ( response.match(/^open/) ){\n				open = true;\n\n				if($dd.hasClass('closed')){//switching from closed -> open.\n					reviveButtonColor();\n				}\n\n				$dd.removeClass('closed')\n				$(\"#rsvp-quick-status\").text('Accepting '+term);\n				$(\"#closedMessageSettings\").hide();\n\n\n			} else { //else if ( response.match(/^closed/) ){\n\n				if(waitlist){//switching from closed -> waitlist.\n					reviveButtonColor();\n				}\n\n				open = false;\n				if(term.toLowerCase()=='tickets'){\n					var btntxt = 'Tickets Closed';\n				} else{\n					var btntxt = 'Not Accepting RSVPs';\n				}\n\n				$dd.addClass('closed');\n				$(\"#rsvp-quick-status\").text(btntxt);\n				$(\"#closedMessageSettings\").show();\n			}\n\n			if(params.value=='closed'){\n				open = false;\n				var status_text = term+' are closed';\n			} else if(params.value=='open'){\n				var status_text = term+' are open';\n				open = true;\n			} else{\n				if(response.match(/^closed/) || waitlist){ //past tense.\n					var status_text = term+' '+params.txt.toLowerCase().replace('close','closed');\n					open = false;\n				} else{ //upcoming event.\n					open = true;\n					var status_text = term+' will '+params.txt.toLowerCase();\n				}\n			}\n\n			if(waitlist){\n				status_text+=' <span class=\"waitlist-msg\">(Waitlist on)</span>';\n			}\n\n			var txt = $(\"#rsvp-quick-status\").text();\n			if(open){\n				$(\"#buttonTabWrap\").removeClass('rsvp-closed').addClass('rsvp-open');\n				$('body').removeClass('rsvp-closed')\n			} else {\n				$(\"#buttonTabWrap\").removeClass('rsvp-open').addClass('rsvp-closed');\n\n				if( waitlist ){\n					$('body').removeClass('rsvp-closed')\n				} else {\n					$('body').addClass('rsvp-closed')\n				}\n			}\n\n			$(\"#buttonTabHead\").find(\".contentTabDesc\").text(txt);\n			$(\"#eventStateWrap\").find(\".eventStateTxt\").text(txt);\n\n			$(\"#current-rsvp-status\").html(status_text).fadeIn(300);\n\n\n		}).error(handleAjaxErrorResponse);\n	}\n\n	function rsvpSettingsSavable(goTime){\n		var $ul =  $(\"#rsvpTabSections\");\n		var $errorMessage = $(\"#rsvpSettingsErrorMessage\");\n		var goTime = (typeof goTime!='undefined')? goTime : true;\n		var classes = 'editing';\n		if($ul.length<1){\n			$ul = $(\"#ticketUtils\");\n			classes+=' pageActionSettings';\n			$errorMessage = $(\"#ticketSettingsErrorMessage\");\n			disableTicketTab(goTime);\n		}\n\n		if ( goTime ){\n			//$rsvpSettingsForm.addClass('savable');\n			$ul.addClass(classes);\n			unsavedSettings = true;\n		} else{\n			removeUnsavedNotice()\n			//$rsvpSettingsForm.removeClass('savable');\n			$ul.removeClass(classes);\n			$errorMessage.hide();\n		}\n	}\n\n	function disableTicketTab(disable){ //for use when editing ticketTab\n		if(disable!=null && !disable){\n			//if false, remove enable.\n			$(\"#splash-ticket-settings-form\").removeClass('disabled');\n		} else{ //default behavior\n			$(\"#splash-ticket-settings-form\").addClass('disabled');\n		}\n\n	}\n\n	function showUnsavedNotice(){\n		$(\"#unsavedSettings\").show();\n		$('#planningToolsNav').addClass('unsavedChanges')\n	}\n\n	function removeUnsavedNotice(){\n		$(\"#unsavedSettings\").hide();\n		$('#planningToolsNav').removeClass('unsavedChanges')\n	}\n\n	function updatePageActionDefaults(){\n\n		if(EventSetting.rsvp_closed!=''){\n			var $ul = $(\"#rsvp-options\");\n			if(EventSetting.rsvp_closed.match(/^after/)){\n				var $li = $ul.find(\"div[status-type='afterRSVPCount']\");\n				var guest_limit = EventSetting.rsvp_closed.split(/after/i)[1]*1;\n				$(\"#rsvp-limit-input\").val(guest_limit);\n				var txt = 'After '+guest_limit+' Attendees';\n			} else {\n				//var $li = $ul.find(\"a[value='\"+EventSetting.rsvp_closed+\"']\").parent(\"li\");\n				var $li = $ul.find(\"div[status-type='\"+EventSetting.rsvp_closed+\"']\");//[value='\"+EventSetting.rsvp_closed+\"']\").parent(\"li\");\n				var txt = $li.text();\n			}\n			$ul.find(\".active\").removeClass('active')//.find(\"a.active\").removeClass('active');\n			$li.addClass('active');//.find(\"a\").addClass('active');\n			var params = { value: EventSetting.rsvp_closed, txt: txt};//$this.text() };\n			updateRSVPStatus(params,true);\n\n		}\n		if(typeof EventSetting.button_closed_message!=='undefined'){\n			if(EventSetting.button_closed_message==''){\n				$(\"#display_closed_message\").val('0').parents(\".nu-checkbox:first\").removeClass('checked');\n				$(\"#closed-msg-info\").hide();\n			} else{\n				$(\"#display_closed_message\").val('1').parents(\".nu-checkbox:first\").addClass('checked');\n				$(\"#closed-msg-info\").show();\n			}\n			$(\"#button-closed-message\").val(EventSetting.button_closed_message).addClass('disabled');\n		}\n	}\n\n	function getScrollbarWidth(){\n	    var div = $('<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div></div>');\n	    $('body').append(div);\n	    var w1 = $('div', div).innerWidth();\n	    div.css('overflow-y', 'auto');\n	    var w2 = $('div', div).innerWidth();\n	    $(div).remove();\n	    return (w1 - w2);\n	}\n	function setScrollWidth(){\n		$(\".scroll-offset\").width($(\"#planning-tools\").width());\n	}\n	function triggerSectionReload(type){\n		if(type=='history'){\n			refreshEmailHistory();\n			return false;\n		}\n		else{\n			var $block = $(\"div.block[type='\"+type+\"']\");\n			if($block.length){\n				$block.removeClass('loaded');\n			}\n		}\n	}\n\n	var jcropResize;\n	function showPreview(coords){\n		var rx = 100 / coords.w;\n		var ry = 100 / coords.h;\n\n		$('#photoResizePreview').css({\n			width: Math.round(rx * 500) + 'px',\n			height: Math.round(ry * 370) + 'px',\n			marginLeft: '-' + Math.round(rx * coords.x) + 'px',\n			marginTop: '-' + Math.round(ry * coords.y) + 'px'\n		});\n	}\n	// function checkLogoBreathingRoom(){\n	// 	var column_width = ($(window).width()-960)/2;\n	// 	var $ec_count = $(\"#event-contact-count\");\n	// 	if($ec_count.length >0){\n	// 		var left_offset = $(\"#event-contact-count\").offset().left;\n	// 		if(left_offset < 960+column_width){ //add 15 as a safety boundary.\n	// 			$(\"#planning-tools\").addClass('compacted');\n	// 		}\n	// 		else{\n	// 			$(\"#planning-tools\").removeClass('compacted');\n\n	// 		}\n	// 	}\n	// }\n	function checkForExpandedView(){\n		if($(\"#planning-tools\").hasClass('expanded')){\n			$(\"body\").addClass('lockItUp toolsOpen');\n		}\n	}\n	function closePlanningTools(){\n		if(unsavedSettings){\n			showUnsavedNotice()\n\n			return false;\n		} else if(typeof constants.forcePlanningToolsOpen!=='undefined'){\n			return false;\n		}\n		var $t = $(\"#planning-tools\");\n		// if(!$t.hasClass('expanded')){//already closed.\n		// 	return false;\n		// }\n\n 		$t.removeClass('expanded');\n 		$(\"#planning-tools-header\").removeClass('open');\n		$(\"body\").removeClass('lockItUp toolsOpen pt-has-scrolled prep-minify minify');\n		$(\"ul.planning-tools-nav\").find(\"li.active\").removeClass('active');\n		$(\"#email-design-sidebar\").removeClass('fixed');\n\n		$('body').find('.sp-container').remove()\n\n		$('#main-canvas').find('.hasTiny').removeClass('hasTiny').end()\n			.find('.crp-enabled').removeClass('crp-enabled').end()\n			.find('.tp-enabled').removeClass('tp-enabled');\n		// hideEditors();\n	}\n\n	function checkForCallBackActions(type){\n\n		if(type=='rsvp'){\n			switchRsvpBlocks('guests');\n			//update top level numbers on the fly.\n			var $responses = $(\"#rsvpTotalResponses\");\n\n\n\n			if($responses.length > 0){\n				var count = parseInt((''+$responses.text()).replace(',',''));\n				txt = (count!='1')?'Responses':'Response';\n				//on ajax load, update the rsvp count and set it in the cookie.\n				constants.rsvp_total = count\n				JSCookies.setItem( 'rsvpTotal-'+constants.event_id, constants.rsvp_total )\n\n				$(\"#topLevelResponses\").text(addCommas(count));\n				$(\"#topLevelResponseTxt\").text(txt);\n			} else { //ticketed\n				var $tickets = $(\"#rsvpTicketTotalPayout\");\n				if($tickets.length > 0){\n					var count = parseInt($(\"#rsvpTicketQty\").text());\n					txt = (count!='1')?'Tickets Sold':'Ticket Sold';\n					//update the ticket total count via the response.\n					constants.ticket_total = count\n					JSCookies.setItem( 'ticketTotal-'+constants.event_id, constants.ticket_total )\n\n					$(\"#topLevelTicketSales\").text($tickets.text());\n					$(\"#topLevelTicketQty\").text(addCommas(count));\n					$(\"#topLevelTicketQtyTxt\").text(txt);\n				}\n			}\n\n		} else if(type=='settings'){\n			switchRsvpBlocks('settings');\n\n			var $questions_link = $(\"#rsvp-settings-link\").find(\"span.subnav-link\");\n			if(jumpToRsvpSettings || ($questions_link.length && $questions_link.hasClass('active'))){\n				$questions_link.click();\n				setTimeout(function(){\n				},50);\n				jumpToRsvpSettings=false;\n			}\n			if(jumpToTickets){\n\n				$(\"#ticketUtils\").find(\".subnav-link[type='tickets']\").click();\n				if(jumpToDiscountCodes){\n					setTimeout(function(){\n						$(\"#discountCodeLink\").click();\n						jumpToDiscountCodes = false;\n					},50);\n				} else if(jumpToPayoutSettings){\n					setTimeout(function(){\n						$(\"#payoutSettingsLink\").click();\n						jumpToPayoutSettings = false;\n					},50);\n				}\n				else if(!$(\"#ticketsLink\").hasClass('active')){\n					setTimeout(function(){\n						$(\"#ticketsLink\").click();\n					},50);\n				}\n				jumpToTickets=false;\n			}\n\n			if(forceCloseRsvpTab){\n				$(\"#rsvp-options\").addClass('open').find(\"div[status-type='closed']\").click();\n				forceCloseRsvpTab = false;\n			}\n		} else if(type=='invite'){\n			if(jumpToMessageContacts || jumpToMessageLazyPeople){\n				var li_id = (jumpToMessageContacts)?'attendees':'haveNotRsvped';\n				flipDropDown($(\"#sendToWrapper\"),li_id,true);\n				$(\"#jumpToNewEmail\").click();\n				var template_id = (jumpToMessageContacts)?'general':'eventReminder';\n				flipDropDown($(\"#emailTemplateOptions\"),template_id,true);\n\n				$(\"#emailSendSubNav\").addClass('editing'); // show litesaver\n				$(\"#guestListSaver\").removeClass('editing-guestlist'); // hide guestlist stuff litesaver\n\n				jumpToMessageContacts=false; jumpToMessageLazyPeople=false;\n			}\n			else if(jumpToInviteTemplate!==false){ //coming from a hash url.  jump to specific template.\n				$(\"#jumpToNewEmail\").click();\n				if(jumpToInviteTemplate=='reminder'){\n					flipDropDown($(\"#emailTemplateOptions\"),'eventReminder',true);\n					flipDropDown($(\"#sendToWrapper\"),'attendees',true);\n\n				}\n				jumpToInviteTemplate = false;\n			}\n		}\n\n	}\n	function updateBlockWrapHeight(){\n		var $ul = $(\"ul.planning-tools-nav\");\n		var $subnav = $ul.find(\"li.active:first\").find(\"ul.subnav\");\n		var windowHeight = $(window).height() ;\n		var blockWrapHeight = $(window).height() - $(\"#planning-tools-header\").height() - $ul.height() ;\n		//$(\"#planning-tools\").css('height',windowHeight);\n		$(\"#ultimate-block-wrap\").css('min-height',blockWrapHeight);\n	}\n\n	function closeEditingTools($obj){\n		if(finetuneOpen){\n\n			$(\"#finetune-block\").removeClass('isScrolling');\n			$(\"#finetune-sections\").scrollTop(0).find('.open').removeClass('open').end()\n				.find(\".expanded\").each(function(){ $(this).closeAccordion(); });\n\n			if(	$('#fontColorSelect').hasClass('customEdit')){\n				$('#saveCustomSwatch').click()\n			}\n\n			$(\"body\").removeClass('finetuneOpen');\n			finetuneOpen = false;\n			//finetuneDeActivateOnPageEditables();\n			setTimeout(function(){\n				backToFineTune();\n			},1000);\n\n		}\n	}\n\n	function closeGuiders(){\n		var $hpn = $(\"#how-pay-notice\"),\n			$app = $(\"#activate-payout-pop\");\n		//close open guiders if applicable.\n		if($hpn.length > 0){\n			$hpn.parents(\".popwrap:first\").remove();\n		} else if($app.length > 0){\n			$app.parents(\".popwrap:first\").remove();\n		}\n	}\n\n	function reviveButtonColor(){\n\n		/*\n		//when rsvps/tickets are closed, button gets set to rgba(0,0,0,.2) - on purpose.\n		//upon switching to open/waitlist, we want to display colors on the fly.\n		var timeout = 0;\n		var color = $(\"#main-3-color-input\").val();//this input controls button color at a higher level.\n		if(typeof color == 'undefined' || color ==''){//need to make sure colors are populated before attempting to read said colors.\n			updateColorSwatch($('#main-color-input').val(), false);\n			timeout = 500;\n		}\n\n		setTimeout(function(){\n			color = $(\"#main-3-color-input\").val();//read-read it.\n			updateColorPicker(\"rsvp-bg-color-picker\",color,true);\n			var $target = $(\"#splash-container\").find(\"div.element-rsvp\");\n			changeCssProperty($target,'background-color',color);\n		},timeout);\n	*/\n\n\n	}\n\n	//function is called is should render the payouts tab.\n	function showPayoutTab(type){\n		var popupType = type || 'direct_deposit';\n		if (typeof popupType!=='undefined') {\n			constants.jumpToSection = popupType;\n		}\n\n		$('#rsvpTixTab').click();\n\n		return false;\n	}\n\nvar openCustomSelects = false;\n\n\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/dashboard.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 127106,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "@font-face {\n  font-family: 'GibsonBold';\n  src: url(\"/fonts/gibson/Gibson-Bold-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-Bold-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-Bold-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-Bold-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonBoldItalic';\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonSemiBold';\n  src: url(\"/fonts/gibson/Gibson-SemiBold-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-SemiBold-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-SemiBold-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-SemiBold-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonSemiBoldItalic';\n  src: url(\"/fonts/gibson/Gibson-SemiBoldItalic-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-SemiBoldItalic-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-SemiBoldItalic-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-SemiBoldItalic-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonRegular';\n  src: url(\"/fonts/gibson/Gibson-Regular-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-Regular-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-Regular-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-Regular-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonBoldItalic';\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-BoldItalic-webfont.woff\");\n}\n@font-face {\n  font-family: 'GibsonLight';\n  src: url(\"/fonts/gibson/Gibson-Light-webfont.eot\");\n  src: url(\"/fonts/gibson/Gibson-Light-webfont.svg\");\n  src: url(\"/fonts/gibson/Gibson-Light-webfont.ttf\");\n  src: url(\"/fonts/gibson/Gibson-Light-webfont.woff\");\n}\n.is-events-index a:hover {\n  color: #ff2c5e;\n}\n.is-community a:hover {\n  color: #72d7b4;\n}\n.is-account a:hover {\n  color: #46c5e9;\n}\n.is-photos a:hover {\n  color: #bc85e6;\n}\n.fix-glob-nav #community-nav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  text-align: left;\n}\n.nav-rack {\n  float: left;\n  width: 100%;\n  padding: 0;\n}\n.nav-rack > li {\n  display: block;\n  width: 100%;\n  float: left;\n}\n.nav-rack > li > * {\n  padding: 0.2em 0.5em 0.2em 3em;\n  display: block;\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none;\n  position: relative;\n  font-family: 'gibsonLight';\n  color: #858181;\n}\n.nav-rack > li > *:hover {\n  color: #11bbe6;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none;\n  z-index: 1;\n}\n.nav-rack > li > *:hover input {\n  color: #fff;\n}\n.nav-rack > li > * .badge {\n  position: absolute;\n  right: 1em;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  transform: translateY(-50%);\n  box-shadow: -8px 0 12px -7px #f9f9f9, -8px 0 12px -7px #f9f9f9;\n  background: #f9f9f9;\n}\n.nav-rack > li > *:hover .badge {\n  color: #11bbe6;\n}\n.nav-rack > li > *:active {\n  color: #085d73;\n}\n.nav-rack > li > *:active .badge {\n  color: #085d73;\n}\n.nav-rack > li.inactive > * {\n  pointer-events: none;\n  cursor: default;\n  color: #aaa;\n}\n.nav-rack > li.active > *,\n.nav-rack > li.active:hover > * {\n  color: #11bbe6;\n  z-index: 1;\n}\n.nav-rack > li.active > * .badge,\n.nav-rack > li.active:hover > * .badge {\n  color: #11bbe6;\n}\n.nav-rack.tier2 > li > *:hover {\n  color: #000;\n}\n.nav-rack.tier2 > li.active > * {\n  color: #000;\n}\n.nav-rack.tier2 > li.active > * .badge {\n  color: #000;\n  background: #f8f8f8;\n  box-shadow: -8px 0 12px -7px #f8f8f8, -8px 0 12px -7px #f8f8f8;\n}\n.nav-rack.thick {\n  line-height: 1.9em;\n  padding: 1em 0;\n}\n.nav-rack.thick li a[data-icon]:before {\n  display: inline-block;\n  width: 18px;\n  text-align: center;\n  margin-right: 6px;\n}\n.nav-rack.account-nav > li > * {\n  padding-left: 25%;\n}\nbody:hover .badge.loading {\n  -webkit-animation: lightPulse 1s linear infinite;\n  -moz-animation: lightPulse 1s linear infinite;\n  -ms-animation: lightPulse 1s linear infinite;\n  -o-animation: lightPulse 1s linear infinite;\n  animation: lightPulse 1s linear infinite;\n}\n.section-title {\n  font-family: 'gibsonRegular';\n  font-size: 1em;\n  padding: 0;\n  letter-spacing: 0.025em;\n  color: #fff;\n  background: #bebfbf;\n  border-bottom: 1px solid #f9f9f9;\n  cursor: pointer;\n  -webkit-transition: background 0.15s linear;\n  -moz-transition: background 0.15s linear;\n  -ms-transition: background 0.15s linear;\n  -o-transition: background 0.15s linear;\n  transition: background 0.15s linear;\n}\n.section-title.is-events.current,\n.section-title.is-events:hover {\n  background: #ff2c5e;\n}\n.section-title.is-community.current,\n.section-title.is-community:hover {\n  background: #72d7b4;\n}\n.section-title.is-emails.current,\n.section-title.is-emails:hover {\n  background: #fead65;\n}\n.section-title.is-photos.current,\n.section-title.is-photos:hover {\n  background: #bc85e6;\n}\n.section-title.is-groups.current,\n.section-title.is-groups:hover {\n  background: #85c7e6;\n}\n.section-title a {\n  padding: 1.2em 1.35em 1.2em 2.4em;\n  color: #fff;\n}\n.section-title a:hover {\n  color: #fff;\n}\n.section-title a:before {\n  position: absolute;\n  top: 50%;\n  left: 0.7em;\n  -webkit-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  transform: translateY(-50%);\n  font-size: 0.9em;\n  margin-left: 0.2em;\n}\n.section-title a.icon-camera:before {\n  margin-top: -2px;\n}\n.account-wrap {\n  margin-top: 2em;\n}\n.account-wrap .w1-4 {\n  width: 50px !important;\n}\n.account-wrap .w1-4 [class*='letter-'] {\n  background: none !important;\n}\n.account-wrap .w1-4 .letter {\n  line-height: 30px !important;\n}\n.account-wrap .w1-4 .avatar {\n  border-radius: 100%;\n  border: 1px solid #aaa;\n  max-width: none;\n  -webkit-transition: all 0.15s linear;\n  -moz-transition: all 0.15s linear;\n  -ms-transition: all 0.15s linear;\n  -o-transition: all 0.15s linear;\n  transition: all 0.15s linear;\n}\n.account-wrap .w3-4 {\n  width: calc(100% - 50px) !important;\n  height: 40px;\n  vertical-align: middle;\n}\n.account-wrap .w3-4 h4 {\n  width: 90%;\n  margin-left: 8px;\n  float: none;\n  vertical-align: middle;\n  display: inline-block;\n}\n.account-wrap .w3-4 h4 a {\n  color: #b4b4b4;\n  font-size: 0.9em;\n  letter-spacing: 0.02em;\n  -webkit-transition: all 0.15s linear;\n  -moz-transition: all 0.15s linear;\n  -ms-transition: all 0.15s linear;\n  -o-transition: all 0.15s linear;\n  transition: all 0.15s linear;\n}\n.account-wrap .w3-4:before {\n  content: '';\n  vertical-align: middle;\n  height: 100%;\n  width: 1px;\n  margin-right: -0.2em;\n  display: inline-block;\n}\n.account-wrap.current .inner-wrap .w1-4 .avatar,\n.account-wrap .inner-wrap:hover .w1-4 .avatar {\n  border-color: #303030;\n  box-shadow: 0 0 0 2px #303030;\n}\n.account-wrap.current .inner-wrap .w3-4 a,\n.account-wrap .inner-wrap:hover .w3-4 a {\n  color: #303030;\n}\n.logout-wrap a {\n  color: #888;\n  margin-left: 1.2em;\n  top: -0.7em;\n  position: relative;\n  font-size: 0.8em;\n}\n.logout-wrap a:hover {\n  color: #f30 !important;\n}\n#sort-by-contact:before {\n  width: 20px;\n  font-size: 1.1em;\n  top: -1px;\n}\nh4 {\n  margin-bottom: 8px;\n}\n.contacts-title,\n.chart-title,\n.pie-title {\n  font-size: 1.18em;\n}\nh4 > a#events-link:hover .nav-rack > li > *:hover,\ncolor accentEvents .nav-rack > li > *:hover,\nh4 > a#community-link:hover .nav-rack > li > *:hover,\ncolor accentComm .nav-rack > li > *:hover,\n.is-events-index .nav-rack > li > *:hover {\n  color: #ff2c5e;\n}\nh4 > a#events-link:hover .nav-rack > li > *:hover .badge,\ncolor accentEvents .nav-rack > li > *:hover .badge,\nh4 > a#community-link:hover .nav-rack > li > *:hover .badge,\ncolor accentComm .nav-rack > li > *:hover .badge,\n.is-events-index .nav-rack > li > *:hover .badge {\n  color: #ff2c5e;\n}\nh4 > a#events-link:hover .nav-rack > li > *:active,\ncolor accentEvents .nav-rack > li > *:active,\nh4 > a#community-link:hover .nav-rack > li > *:active,\ncolor accentComm .nav-rack > li > *:active,\n.is-events-index .nav-rack > li > *:active {\n  color: #960023;\n}\nh4 > a#events-link:hover .nav-rack > li > *:active .badge,\ncolor accentEvents .nav-rack > li > *:active .badge,\nh4 > a#community-link:hover .nav-rack > li > *:active .badge,\ncolor accentComm .nav-rack > li > *:active .badge,\n.is-events-index .nav-rack > li > *:active .badge {\n  color: #960023;\n}\nh4 > a#events-link:hover .nav-rack > li.active > *,\ncolor accentEvents .nav-rack > li.active > *,\nh4 > a#community-link:hover .nav-rack > li.active > *,\ncolor accentComm .nav-rack > li.active > *,\n.is-events-index .nav-rack > li.active > *,\nh4 > a#events-link:hover .nav-rack > li.active:hover > *,\ncolor accentEvents .nav-rack > li.active:hover > *,\nh4 > a#community-link:hover .nav-rack > li.active:hover > *,\ncolor accentComm .nav-rack > li.active:hover > *,\n.is-events-index .nav-rack > li.active:hover > * {\n  color: #ff2c5e;\n}\nh4 > a#events-link:hover .nav-rack > li.active > * .badge,\ncolor accentEvents .nav-rack > li.active > * .badge,\nh4 > a#community-link:hover .nav-rack > li.active > * .badge,\ncolor accentComm .nav-rack > li.active > * .badge,\n.is-events-index .nav-rack > li.active > * .badge,\nh4 > a#events-link:hover .nav-rack > li.active:hover > * .badge,\ncolor accentEvents .nav-rack > li.active:hover > * .badge,\nh4 > a#community-link:hover .nav-rack > li.active:hover > * .badge,\ncolor accentComm .nav-rack > li.active:hover > * .badge,\n.is-events-index .nav-rack > li.active:hover > * .badge {\n  color: #ff2c5e;\n}\n.is-photos .nav-rack > li > *:hover {\n  color: #bc85e6;\n}\n.is-photos .nav-rack > li > *:hover .badge {\n  color: #bc85e6;\n}\n.is-photos .nav-rack > li > *:active {\n  color: #631f97 !important;\n}\n.is-photos .nav-rack > li > *:active .badge {\n  color: #631f97 !important;\n}\n.is-photos .nav-rack > li.active > *,\n.is-photos .nav-rack > li.active:hover > * {\n  color: #bc85e6 !important;\n}\n.is-photos .nav-rack > li.active > * .badge,\n.is-photos .nav-rack > li.active:hover > * .badge {\n  color: #bc85e6 !important;\n}\n.is-community .nav-rack > li > *:hover {\n  color: #72d7b4;\n}\n.is-community .nav-rack > li > *:hover .badge {\n  color: #72d7b4;\n}\n.is-community .nav-rack > li > *:active {\n  color: #248060;\n}\n.is-community .nav-rack > li > *:active .badge {\n  color: #248060;\n}\n.is-community .nav-rack > li.active > *,\n.is-community .nav-rack > li.active:hover > * {\n  color: #72d7b4 !important;\n}\n.is-community .nav-rack > li.active > * .badge,\n.is-community .nav-rack > li.active:hover > * .badge {\n  color: #72d7b4 !important;\n}\n@media (min-width: 59.938em) {\n  body {\n    font: normal 0.9em/1.5em 'gibsonLight';\n  }\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/nu-global-nav.css",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 10953,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "////\n/// SPLASH PLANNING TOOLS\n// 	main structure & flow\n//\\\n//\\\\\n\n@import 'global-mixins'\n\n\nblue = #378fc2\nblueDK = #176fa2\npink = #ff2c5e\npinkDK = #da145f\ngreen = #00e28b\ngreenDK = #1eb260\npurple = #815bff\npurpleDK = #3030d1\norange = #3030d1\norangeDK = #ff0030\nyellow = #eaea0f\nyellowDK = #98db16\n\nnuGreen = #25f3d2\n\n////\n/// STRUCTURE\n//\n\na\n	color blue\n	&:hover\n		color blueDK\n\nbody\n	&.noPayoutData\n		#payoutSettingsLink\n			padding-left 13px !important\n			.alert-circ\n				opacity 1\n\n#planning-tools\n	.planning-tools-nav\n		.alert-circ\n			top 1em\n			left auto\n			position absolute\n			right -0.2em\n			color #FFF\n			padding 0 !important\n			width 16px !important\n			height 16px !important\n			line-height 16px\n			text-indent 1px\n			display inline-block\n			border-radius 100%\n			background #D8393B\n			margin-top 0\n			text-align center\n			font-size 12px\n			font-family 'gibsonBold'\n			padding-top 0px !important\n			box-shadow 0 0 0 2px #D8393B inset\n			opacity 0\n\n\n\n.headsUpPay\n	background #00e28b\n\n#rsvp-block\n	//overflow hidden\n	//padding 0px 0 90px 0 !important\n	//float left\n\n	.rsvp-contain\n		width 100%\n\n		.right-sidebar\n			.payout-sidebar-section\n				&.header\n					background-color #595959\n					color #fff\n					&.bg-light-gray\n						background-color #969595\n				h1\n					text-transform uppercase\n					text-align left\n					font-size 20px\n					font-family gibsonsemibold\n				a\n					font-family gibsonItalic\n					font-weight 100\n				a.edit\n					font-family gibsonRegular\n					font-size 10pt\n				a.disabled\n					color lightgray\n					cursor default\n				.size-09em\n					font-size .9em\n				.txt-md-gray\n					color #626262\n				.txt-lt-gray\n					color #969595\n				.payout-status\n					&.pending\n						color #fcd641\n					&.denied\n						color #fc4141\n					&.approved\n						color #80c37c\n\n			.payouts-listing\n				.payout\n					border-bottom 1px solid #e1e1e1\n					&.totals\n						background #fafafa\n						border none\n\n		#ticket-payout-settings\n			.edit-descriptor\n				padding-left: 10px;\n			#payoutInfoForm3\n				.cancelPayoutFormBtn\n					float: left\n				.save-payout-data\n					float: right\n\n				.green\n					color #7ec479\n\n				.new-feature\n					text-align left\n					padding 1em\n					background #fff\n					.lighter\n						color #aaaaaa\n						font-size .9em\n				#purchase-description-form\n					width: 100%\n					margin: auto\n					color #A7A7A7\n					margin-top: 30px\n					input\n						border-radius: 5px\n						color: #222\n						font-family: gibsonRegular\n						width: 220px;\n						padding: 1em;\n						clear: left;\n						float: left;\n					.char-limit\n						position: absolute;\n						top: 3.7em;\n						left: 240px;\n				#purchase-description-example-container\n				.purchase-description-notes\n					color: #A7A7A7\n					text-align: left\n					.table-wrap\n						width: 100%\n						padding: 2px\n						background #fff\n					ul\n						list-style disc\n						margin-left 2em\n					table\n						margin: 0 auto\n						width: 100%\n						color: #666666\n						thead\n							background-color: #FEEDB6\n							td\n								background #fafafa\n								font-size 14px\n						tr\n						td\n							border: 1px solid #ddd\n							border-collapse: collapse\n							padding 1em\n							border: none\n							border-bottom: 1px solid #EEE\n						tr.semiBold\n							td\n								font-family 'gibsonSemiBold'\n\n			.payoutForm\n				width 50% !important\n				float left\n				.payoutHeader\n					font-size 1.2em\n					font-family 'gibsonSemiBold'\n					font-weight:400\n					color: #171717\n					text-align left\n					padding-left 16px\n				.methodSelector\n					.payoutOptionsTopText\n						text-align left\n						width 100%\n						background #eee\n						padding 4px 0px 0px 10px\n						h4\n							font-family 'gibsonSemiBold'\n							font-size 18px\n							color #555\n\n			.arrow_box\n				position absolute\n				background #00e28b\n				border 4px solid #00e28b\n				top 217px\n				float left\n				padding 9px 0px\n				padding-left 20px\n				padding-top 11px\n				margin-left -140px\n				font-family 'gibsonSemiBoldItalic'\n				text-transform uppercase\n				color #fff\n				font-size 22px\n				opacity 1\n				transition opacity .4s linear\n\n				&:after\n				&:before\n					left 100%\n					border solid transparent\n					content \" \"\n					height 0\n					width 0\n					position absolute\n					pointer-events none\n\n				&:after\n					border-color rgba(136,183,213,0)\n					border-left-color #00e28b\n					border-width 23px\n					top 50%\n					margin-top -23px\n					margin-left 4px\n\n			.payoutFormSubheader\n				padding-bottom: 30px\n\n			.textLeft\n				text-align left\n				position relative\n				margin-left 18px\n				color #000\n				margin-top 10px\n				font-family 'gibsonLight'\n				font-size 15px\n				line-height 18px\n				a\n					color blue\n					font-weight: 100\n					font-family: gibsonItalic\n			.choosePayoutMethod\n				float left\n				margin-left 20px\n				font-family 'gibsonSemiBold'\n\n			.plusSpan\n				top 37px\n				left 8px\n				position absolute\n				color #fff\n				font-size 1.8em\n				padding 0 !important\n				width 21px !important\n				height 20px !important\n				display inline-block\n				border-radius 100%\n				background #06deef\n				margin-top -29px\n				padding-top 1px !important\n				line-height 18px\n			.changePayoutCallText\n				float left\n				font-size 16px\n				font-family gibsonLight\n				display none\n				&.active\n					display block\n				a\n					color #06deef\n					font-weight bold\n			#payoutInfoForm2\n				padding-bottom 120px\n			.payoutInfoForm\n				width: 100%\n				height 100%\n				background #f4f4f4\n				position absolute\n				z-index 1\n				left 100%\n				top 0px\n				transition left ease-in-out .4s\n				&.showForm\n					left 0%\n				.form-wrap\n					background #f4f4f4\n					padding 0\n				.partial-refund\n					color #9B30FF\n				.payoutFormHead\n					background #f57b7d\n					width 100%\n					color #fff\n					font-family 'gibsonSemiBold'\n					font-size 28px\n					position relative\n					text-align left\n					.select-text\n						padding 1em\n						width 100%\n						display inline-block\n						font-family 'gibsonSemiBold'\n						font-size 18px\n						color #fff\n					.step-text\n						float right\n						font-family 'gibsonLight'\n						font-size 18px\n						position absolute\n						top 50%\n						right 1.5em\n						transform translateY(-50%)\n				table\n					width 100%\n					margin 0 auto\n					th\n						padding 9px 18px 8px 10px\n						color #595959\n						font-size 1em\n						letter-spacing .05em\n						white-space nowrap\n						font-weight normal\n						font-family 'gibsonRegular'\n						border-right 1px solid #eee\n						background #d1d1d1 !important\n					tr.sub-head\n						th\n							background #fff !important\n							color #bdbdbd\n							padding-bottom 0 !important\n					tr.row-space\n						background #f4f4f4 !important\n						pointer-events none\n					th:hover\n						color #595959\n					tr:hover\n						background transparent\n					tr\n						cursor pointer\n						background #fff\n						&:nth-child(even)\n							background #fff\n							&:hover\n								background #fafafa\n						// &.isSelected\n						// 	background #f9f9f9\n						&:hover\n							background #fafafa\n					tbody tr\n					tbody td\n						padding 1em\n						vertical-align middle\n						border-bottom 1px dotted #eee\n						line-height 22px\n						font-size 14px\n						font-family 'gibsonLight'\n					tbody td.type\n						font-family 'gibsonSemiBold'\n						font-size 16px\n						text-align left\n					a\n						color blue\n						font-weight bold\n				.toFormInfoBtn\n				.toPurchaseDescriptionBtn\n					&.disabled\n						background #eee\n						cursor default\n						&:hover\n							color #000\n							border 1px solid #ccc\n							box-shadow 0 -2px 0 #eee inset, 0 -2px 10px #f0f0f0\n					.plusSpan\n						top 39px\n						left 51px\n						position absolute\n						color #fff\n						font-size 1.8em\n						padding 0 !important\n						width 20px !important\n						height 18px !important\n						display inline-block\n						border-radius 100%\n						background #06deef\n						margin-top -29px\n						padding-top 1px !important\n						&:after\n							width 0px\n							height 0px\n							border-style solid\n							border-width 6px 0 5px 8px\n							border-color transparent transparent transparent #fff\n							content ''\n							display inline-block\n							position absolute\n							left 7px\n							top 4px\n\n				.cancelPayoutFormBtn\n				.toFormInfoBtn\n				.toPurchaseDescriptionBtn\n				.save-payout-data\n					float right\n					outline none\n					background #80c37c\n					color #fff\n					border none\n					letter-spacing .1em\n					padding 1em 4em\n					&:hover\n						background darken(#80c37c, 20%)\n				.cancelPayoutFormBtn\n					float left\n					background #A2A4A2\n					color #FFF\n					border none\n					letter-spacing .1em\n					padding 1em 4em\n					&:hover\n						background darken(#A2A4A2, 20%)\n				&#payoutInfoForm1\n					.form-wrap\n						padding 0\n					.cancelPayoutFormBtn\n						float left\n						background #A2A4A2\n						color #FFF\n						border none\n						letter-spacing .1em\n						padding 1em 4em\n						&:hover\n							background darken(#A2A4A2, 20%)\n					.toFormInfoBtn\n						float right\n						background #80c37c\n						color #fff\n						border none\n						letter-spacing .1em\n						padding 1em 4em\n						&:hover\n							background darken(#80c37c, 20%)\n				&#payoutInfoForm2\n					.toPurchaseDescriptionBtn\n						float right\n					&.ach\n						.check-back\n							opacity 1\n					.check-back\n						width 396px\n						height 46px\n						display inline-block\n						background #f8f8f8\n						position relative\n						z-index 1\n						top -445px\n						left -162px\n						opacity 0\n					.form-wrap\n						padding 0\n						.name-wrap\n							margin 0 auto\n							background #fff\n							border 1px solid #dcdcdc\n							padding 11px 20px\n							margin-top 1em\n							border-radius 2px\n							margin-bottom 0px\n							.form-type\n								float left\n								font-family 'gibsonSemiBold'\n								font-size 18px\n								color #555\n							.mandatory-text\n								float right\n								font-size 18px\n								font-family 'gibsonLight'\n							form\n							&.classy\n								position relative\n								width 56%\n								margin 0\n								h4\n									font-family 'gibsonLight'\n									text-align left\n									color #555\n									margin-bottom 5px\n									font-size 18px\n								input\n									border 1px solid #ccc\n									text-transform none\n									color #000\n									cursor text\n									font-family 'gibsonRegular'\n									padding 8px 9px\n									font-size 14px\n									margin-bottom 6px\n									position relative\n									// box-shadow 0 2px 0px rgba(0,0,0,0.1) inset\n									border-radius 4px\n									box-sizing border-box\n									margin-bottom 9px\n									&.firstNameInput\n									&.lastNameInput\n										width 49%\n										position relative\n										margin-top 11px\n									&.firstNameInput\n										float left\n									&.lastNameInput\n										float right\n								.bday-label\n									position relative\n									float none\n									display inline-block\n									top auto\n									left auto\n									height 25px\n									line-height 25px\n									padding-left 8px\n									padding-right 12px\n									padding-bottom 7px\n									font-size 18px\n									font-family 'gibsonLight'\n									top 4px !important\n								.us-only\n									font-family 'gibsonLight'\n									font-size 16px\n							.form-btn-wrap\n								margin-bottom 13px\n								position relative\n								height 56px\n								.cancelPayoutFormBtn\n									position absolute\n									top -2px\n									left 3px\n								.save-payout-data\n									font-size 20px\n									position relative\n									top -6px\n									font-family 'gibsonSemiBoldItalic'\n									background blue\n									color #fff\n									&:hover\n										border 1px solid #ddd\n										box-shadow 0 -2px 0 #ddd inset\n										background blueDK\n									&:active\n										background darken(blue, 40%)\n							.small\n								font-size 80%\n					#ach-info-form\n						.name-wrap\n							form\n							&.classy\n								width 58%\n								margin 0\n								.form-field\n									z-index 10\n									label\n										font-size 16px\n										font-family 'gibsonLight'\n							.checkImg\n								width 29%\n								position absolute\n								top 358px\n								right 100px\n\n					.save-payout-data\n						float right\n\n\n\n\n\n\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/payout-settings.styl",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 11963,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/address_book/columns.ctp",
			"settings":
			{
				"buffer_size": 112859,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/addressbook/addressbook.therefore.js",
			"settings":
			{
				"buffer_size": 260483,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/email/html/invite_reminder.ctp",
			"settings":
			{
				"buffer_size": 3162,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/event-settings.ctp",
			"settings":
			{
				"buffer_size": 9112,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/edit_settings.ctp",
			"settings":
			{
				"buffer_size": 69,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event.php",
			"settings":
			{
				"buffer_size": 147580,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-attendees.ctp",
			"settings":
			{
				"buffer_size": 1578,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-comments.ctp",
			"settings":
			{
				"buffer_size": 8875,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-ftscript.ctp",
			"settings":
			{
				"buffer_size": 886,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings.ctp",
			"settings":
			{
				"buffer_size": 7551,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "\n/********************************************\n * This file is for ui-elements.css actions *\n *  - specific actions should go elsewhere  *\n ********************************************/\n\n// -- Bind our stuff on the fly if it isn't already\n$(document).on('mousedown','.nu-dropdown',function()\n{\n	var $this = $(this);\n	bindSplashDropdown($this,true);\n});\n$(document).on('click','.nu-accord',function(ev){\n	/*if( $(this).is('#fontColorSelect') && $(this).find('.current .swatch-name').text() == 'Custom' ){\n		//$('#fontColorSelect').find('.option:last').click()\n		console.log('test')\n		event.preventDefault()\n\n\n	} else {*/\n		bindSplashAccordion($(this),true);\n	//}\n});\n$(document).on('mouseover','.nu-tiptip',function()\n{\n	var $this = $(this);\n	if ($this.data('splash-tip') !== true) {\n		$this.data('splash-tip',true);\n		bindSplashTip($this);\n	}\n});\n\n\n$(document).on('click','.nu-checkbox',function(e){\n	if(typeof e!=='undefined'&&e.preventDefault){\n		e.preventDefault();\n	}\n	//console.log(\"Asdas\");\n	var $this = $(this);\n	if ($this.data('splash-check') !== true) {\n		//console.log(\"binding!\");\n		$this.data('splash-check',true);\n		bindSplashCheck($this);\n	}\n});\n\n$(document).on('click','.nu-radio',function(ev)\n{\n	var $this = $(this);\n	if ($this.data('splash-radio') !== true) {\n		$this.data('splash-radio',true);\n		bindSplashRadio($this,ev);\n	}\n});\n\nfunction copyToClipboard(text) {\n	window.prompt(\"Copy to clipboard: Ctrl+C, Enter\", text);\n}\n\nfunction killFlashTabs(){\n	$('#nuTool').find('.toolBtn').removeClass('fvFlash')\n}\n\n$(document).on('click','a',function(event){\n	if($(this).attr(\"href\")=='#'){\n		event.preventDefault();\n	}\n});\n\n$(document).ready(function() {\n\n	// FIRST VIEW STUFF\n	$('#firstViewCloseWrap').on('click', '.viewCloseBtn', function(){\n		$('body').removeClass('firstViewOpen');\n	});\n\n	if( $('#splash-container').hasClass('finetune') ){\n		placeFirstPointer(true);\n	}\n\n	// SECOND VIEW STUFF\n	$('#doneBtn').on('click', function(){\n		closeEditingTools();\n		$(this).remove();\n		$(\"body\").addClass(\"showTut2 flashNav\")\n		setTimeout(function(){\n			$('#secondViewOverlay').css('opacity','1').addClass('secondViewOpen')\n		}, 1);\n		highlightBottomNav(1);\n\n		setTimeout(function(){\n			$('#secondViewOverlay').addClass('pointerPos1')\n		}, 10);\n\n	});\n\n	$('#secondViewOverlay').on('click', '.nextBtn', function(){\n\n		if( $('#secondViewOverlay').hasClass('pointerPos1') ){\n\n			$(this).text('GET STARTED')\n			$('#secondViewOverlay .bigText').text('Smart Communication.');\n			$('#secondViewOverlay .progressText').text('2');\n			$('#secondViewOverlay .descText').text(\"Create compelling invitations, manage your guest lists and immerse yourself in deep analytics.\")\n			$('#secondViewOverlay').removeClass('pointerPos1').addClass('pointerPos2');\n\n			setTimeout(function(){\n				highlightBottomNav(2);\n			}, 350);\n\n		} else if( $('#secondViewOverlay').hasClass('pointerPos2') ) {\n\n			$(this).text('GET STARTED')\n			$('#secondViewOverlay .progressText').text('3')\n\n			$('#secondViewOverlay .bigText').text('No surprises.');\n			$('#secondViewOverlay .descText').text(\"Track every response, as it happens, from your event's real time dashboard.\")\n\n			if( constants.rsvp_method == 'tickets' ){\n				$('#secondViewOverlay .bigText').text('Cha-Ching!');\n				$('#secondViewOverlay .descText').text(\"Track every ticket sale, as it happens, from your event's real time dashboard.\")\n			}\n\n			$('#secondViewOverlay').removeClass('pointerPos2').addClass('pointerPos3');\n\n			setTimeout(function(){\n				highlightBottomNav(3);\n			}, 350);\n\n\n		} else {\n			killSecondView()\n		}\n	});\n\n\n	$(\"#domain-input\").on('click', function(){\n		// console.log('click')\n		setTimeout(function(){\n			if(!domain_focus){\n				$(\"#event-domain-field\").focus();\n			}\n		},50);\n	});\n\n\n	$(\"#event-domain-field\").keyup(function(e){\n		if(e.keyCode==13){\n			return false;\n		}\n		var $this = $(this);\n		var val = $this.text();\n		//console.log(\"value \"+val+\" , previous value = \"+previousVal);\n		if(val!=previousVal){\n			$this.attr(\"changed\",true);\n		//	console.log(\"we got ourselves some change\");\n			previousVal = val;\n			clearTimeout(typingTimer);\n			typingTimer = setTimeout(function(){\n				doneTypingDomain();\n				if( $('body').hasClass('createPage') ){\n					_gaq.push(['_trackEvent', 'Create', 'DomainEdit', 'id:'+constants.event_id]);\n				}\n			},doneTypingInterval);\n		}\n		else{\n		//	console.log(\"aint no change.\");\n		}\n		if(val==''){\n			$this.addClass('emptyDom');\n		} else{\n			$this.removeClass('emptyDom');\n		}\n	}).keydown(function(event){\n		if(event.keyCode==13){\n			event.preventDefault();\n			return false;\n		}\n		var $this = $(this);\n		var val = $this.text();\n		if(val==''){\n			$this.addClass('emptyDom');\n		} else{\n			$this.removeClass('emptyDom');\n		}\n	}).focus(function(){\n		domain_focus = true;\n		if($(this).text()=='yourevent'){\n			$(this).select();//.focus();\n		}\n		if($(this).text()==''){\n			$(this).addClass('emptyDom');\n		} else{\n			$(this).removeClass('emptyDom');\n		}\n	}).focusout(function(){\n		domain_focus=false;\n	});\n\n	if($(\"#flashMessage\").length > 0){\n		setTimeout(function(){\n			$(\"#flashMessage\").fadeOut();\n		},7000);\n	}\n	$(\"i.close-flash-message\").click(function(){\n		$(\"#flashMessage\").fadeOut(500);\n	});\n\n	$(\"#signin-link\").click(function(event){\n		event.preventDefault();\n		var $this = $(this);\n		var $form = $(\"#quick-signin\");\n		if($this.hasClass('in-progress')){\n			return false;\n		}\n		$this.addClass('in-progress');\n		if($this.hasClass('open')){\n			$this.removeClass('open');\n			$form.slideUp(100, function(){\n				$form.css('height','0px');\n				$this.removeClass('in-progress');\n			});\n\n		} else {\n			$this.addClass('open');\n			$form.show().animate({\n				height:'110px'\n			}, 500, 'easeOutBounce',function(){\n				$form.find(\"input:first\").focus();\n				$this.removeClass('in-progress');\n			});\n		}\n	});\n\n	var bC=[]; for ( var i in $.browser ) { if ( i != 'version' ) bC.push(i); } $('body').addClass(bC.join(' '));\n\n});\n\n\n/// END OF DOC READY\n\nvar wasOpen = false,\n	typingTimer,\n	domain_focus = false,\n	doneTypingInterval=750,\n	previousVal ='';\n\n\nfunction placeFirstPointer(forcePlace){\n\n	if( $('body').hasClass('showTutorial') || forcePlace ){\n\n		$t = $('#main-canvas .element-title .inline');\n		if(typeof $t!=='undefined'){\n			var pointerTextTop;\n			var pointerTextLeft;\n			if(typeof $t.offset()!=='undefined'&&$t.offset()!==null){\n				pointerTextTop = ( $t.offset().top - ( $t.height()*.765 ) ) + 'px';\n				pointerTextLeft = ( $t.offset().left + 120 ) + 'px';\n			} else {\n				pointerTextTop = '100px'\n				pointerTextLeft = '100px'\n			}\n\n			$('#firstViewOverlay .firstPointer').css({'top': pointerTextTop, 'left': pointerTextLeft})\n		}\n	}\n}\n\nfunction highlightBottomNav(num){\n	if( $('body').hasClass('flashNav') ){\n		thisTab= '.planning-tools-nav li:nth-child('+num+')'\n		$(thisTab).addClass('highlight');\n		$(thisTab).siblings().removeClass('highlight');\n	} else {\n		return false\n	}\n}\n\nfunction flashBottomNav(num){\n	if( $('body').hasClass('flashNav') ){\n		thisTab= '.planning-tools-nav li:nth-child('+num+')'\n		$(thisTab).addClass('flash');\n		$(thisTab).siblings().removeClass('flash');\n	} else {\n		return false\n	}\n}\n\nfunction arrayUnique(a){\n    return a.reduce(function(p, c) {\n        if (p.indexOf(c) < 0) p.push(c);\n        return p;\n    }, []);\n}\n\n\nfunction killFirstView(){\n\n	killFlashTabs()\n\n	$('body').removeClass('flashNav giftWrap');\n	$('#firstViewOverlay').fadeOut(100, function() {\n		$(this).remove();\n		$('body').removeClass('showTutorial')\n		if($(\"#revertPath\").length >0){\n			$(\"#revertPath\").show();\n		}\n	});\n\n}\n\nfunction killSecondView(){\n	$('body').removeClass('flashNav giftWrap');\n	$('#secondViewOverlay').fadeOut(100, function() {\n		$(this).remove();\n		$('body').removeClass('showTut2')\n		if($(\"#revertPath\").length >0){\n			$(\"#revertPath\").show();\n		}\n	});\n\n}\n\n\nfunction bindSplashDropdown($dropdown,open,forceBound) // this is for .nu-dropdown\n{\n\n	if ($dropdown.data('splash-dropdown') === true && !forceBound) {\n		return;\n	} else{\n		$dropdown.data('splash-dropdown',true);\n	}\n\n	var open = open || false;\n	if (open) {\n		$dropdown.addClass('open');\n	}\n	var $current = $dropdown.find('.current:first');\n	$current.unbind('mousedown').mousedown(function(){\n		if ($dropdown.hasClass('open')) {\n			if (!$current.hasClass('no-close') ) {\n				$dropdown.removeClass('open');\n			}\n		} else {\n			$dropdown.addClass('open');\n		}\n	});\n	$dropdown.find('.options:first').find('> div').each(function(){\n		var $opt = $(this);\n		$opt.unbind('click').click(function(){\n\n			//var value = $opt.get('value');//('value');\n			//console.log(\"val2 \",value);\n			var value = $opt.attr('value');\n\n			//console.log(\"clicked the option\",value);\n			$opt.addClass('active').siblings().removeClass('active');\n			if (typeof value == 'undefined') {\n				value = $opt.html();\n			}\n			if (!$current.hasClass('locked') && !$opt.hasClass('locked')) {\n				$current.html($opt.html());\n			}\n			if (!$current.hasClass('no-close') && !$opt.hasClass('no-close')) {\n				$dropdown.removeClass('open').trigger('change');\n			}\n			if(!$current.hasClass('no-val-change') && !$opt.hasClass('no-val-change')){\n				$dropdown.find('input:first').val(value).trigger('change');\n			}\n		});\n\n	});\n	var drpclr;\n	$dropdown.unbind('mouseover').mouseover(function(){\n		clearTimeout(drpclr);\n	});\n	$dropdown.unbind('mouseout').mouseout(function(){\n		clearTimeout(drpclr);\n		drpclr = setTimeout(function(){\n			if( !$current.hasClass('no-close') ){\n				$dropdown.removeClass('open');\n			}\n\n			if( $dropdown.hasClass('unit-dropdown') ){\n				$dropdown.parents('.bx:first').removeClass('dd-open')\n			}\n\n		},750);\n	});\n\n}\n\nfunction bindSplashAccordion($accordion,open,forceBound) // this is for .nu-accord\n{\n\n	// ON FIRST OPEN, CEHCK IF CUSTOM SWATCH\n/*	if( $accordion.find('.current .swatch-name').text() == 'Custom' &&  $accordion.hasClass('open') ){\n		//$('#fontColorSelect').find('.option:last').click()\n		event.preventDefault()\n		return false\n	} else { */\n\n\n		if ($accordion.data('splash-accordion') === true && !forceBound) {\n			return;\n		} else{\n			$accordion.data('splash-accordion',true);\n		}\n\n		var open = open || false;\n		if (open && ! $accordion.hasClass('customEdit') ) {\n			$accordion.addClass('open');\n		}\n		var $current = $accordion.find('.current:first');\n		var $trig = $accordion.find('.nu-accord-trig:first');\n		$trig.click(function(){\n\n\n			//if( ! $trig.hasClass('colorAccordTrig') ){\n				if ($accordion.hasClass('open')) {\n					//if (!$current.hasClass('no-close') ) {\n					$accordion.removeClass('open');\n					//$accordion.find('.moreSwatch').text('View Color Combos')\n					//}\n				} else {\n					$accordion.addClass('open');\n					//$accordion.find('.moreSwatch').text('More Color Combos')\n				}\n\n				// if( $accordion.find('.current .swatch-name').text() == 'Custom' && $accordion.hasClass('open') ){\n				// 	$('#fontColorSelect').find('.option:last').click()\n				// 	event.preventDefault()\n				// 	return false\n				// } else if ( $accordion.hasClass('customEdit') ){\n				// 	//$('#saveCustomSwatch').click()\n				// 	event.preventDefault()\n				// 	return false\n				// }\n\n				// if( $accordion.find('.option.custom').length != 0 ){\n				// 	$accordion.addClass('hasCustom')\n				// 	$('#editCustomColors').text('Edit Custom')\n				// } else {\n				// 	$accordion.removeClass('hasCustom')\n				// 	$('#editCustomColors').text('Add Custom')\n				// }\n\n			//}\n\n		});\n\n		var $options = $accordion.find(\" .options:first\");\n		$options.on('click','div.option',function(){\n\n			var $opt = $(this);\n			var value = $opt.attr('value');\n\n			$options.find('.active').addClass('lastActive').siblings().removeClass('lastActive')\n			$opt.removeClass('active').siblings().removeClass('active');\n\n			$opt.addClass('active').siblings().removeClass('active');\n\n			if (typeof value == 'undefined') {\n				value = $opt.html();\n			}\n\n			$current.html($opt.html());\n			$accordion.find('input:first').val(value).trigger('change');\n\n			// resetColorText()\n			// $('#fontColorSelect').removeClass('customEdit').find('.editColors').addClass('nu-btn clean s');\n			// $('#customSwatch').hide()\n\n		});\n\n		// if( $accordion.find('.option.custom').length != 0 ){\n		// 	$accordion.addClass('hasCustom')\n		// 	$('#editCustomColors').text('Edit Custom')\n		// } else {\n		// 	$accordion.removeClass('hasCustom')\n		// 	$accordion.find('.editColors').text('Add Custom')\n		// }\n\n//	}\n\n}\n\nfunction bindSplashTip($tip) // this is for .nu-tiptip\n{\n	// Get the width from the inline attribute\n	var w = $tip.attr('open-width') || 300;\n	//var content = $tip.html();\n	// Empty the tiptip and give it it's width\n	// Insert a <span> with our content and append the position offset\n	//$tip.empty().addClass('bound').append('<span style=\"width:'+w+'px; margin-left:'+(w/-2)+'px;\">'+content+'</span>');\n	$tip.addClass('bound').find('> span:first').css({width:w+'px',marginLeft:(w/-2)+'px'});\n}\n\nfunction bindSplashCheck($check) // this is for .nu-checkbox. Use attribute 'rev=\"something\"' to invert behavior\n{\n	//if binding, then click it the first time.\n	var clickNuCheckbox = function(){\n		var c = 'checked';\n		if(typeof $check.attr(\"vals\")!=='undefined'){\n			var vals = $check.attr(\"vals\").split(',');\n		}\n\n		var thisVal = $check.find(\"input[type='hidden']:first\").attr(\"use-val\")\n\n		if( thisVal == 'include_other_opt' ){\n			thisVal = undefined;\n		}\n\n		if ($check.hasClass(c)) {\n			var v = (typeof vals!=='undefined')?vals[0]:0;\n			if(typeof $check.attr(\"rev\")!=='undefined'){\n				v=1;//reverse.\n			}\n\n			if(typeof thisVal!=='undefined'){\n				v = thisVal;\n			}\n\n\n			$check.removeClass(c).find(\"input[type='hidden']:first\").val(v).trigger('change');\n			// console.log(\"v0 \"+v);\n		} else {\n			var v = (typeof vals!=='undefined')?vals[1]:1;\n			if($check.attr(\"rev\")){\n				v=0;//reverse.\n			}\n\n			if(typeof thisVal!=='undefined'){\n				v = thisVal;\n				//console.log(v, ' val')\n			}\n\n			//console.log(\"v1 \"+v);\n			$check.addClass(c).find(\"input[type='hidden']:first\").val(v).trigger('change');\n		}\n\n\n	};\n	$check.unbind('click').click(clickNuCheckbox);\n	clickNuCheckbox();\n	//$check.click();\n}\n\nfunction flipAccordion($acc,newVal,triggerChange){\n	if(!$acc.hasClass('nu-accord')){//for the lazy calls that don't bubble up.\n		$acc = $acc.parents(\".nu-accord:first\");//grab the parent dropdown, assuming we're given input id.\n	}\n	if(triggerChange!=null && triggerChange==true){//special parameter to see if we should force a change event.\n		$acc.find('input:first').val(newVal).trigger('change');\n	} else{//otherwise, just change the value.\n		$acc.find('input:first').val(newVal);\n	}\n	//now find that value in the dropdown and make it show.\n	var $opt = $acc.find('.options div[value=\"'+newVal+'\"]');\n	$opt.addClass('active').siblings().removeClass('active');\n	$acc.find('.current').html($opt.html());\n}\nfunction flipDropDown($dd,newVal,triggerChange){\n	if( ! $dd.hasClass('nu-dropdown') ){//for the lazy calls that don't bubble up.\n		$dd = $dd.parents(\".nu-dropdown:first\");//grab the parent dropdown, assuming we're given input id.\n	}\n	if(triggerChange!=null && triggerChange==true){//special parameter to see if we should force a change event.\n		$dd.find('input:first').val(newVal).trigger('change');\n	} else{//otherwise, just change the value.\n		$dd.find('input:first').val(newVal);\n	}\n	//now find that value in the dropdown and make it show.\n	var $opt = $dd.find('div.options').find('div[value=\"'+newVal+'\"]:first');\n	if($opt.length < 1 && typeof newVal!=='undefined'){//fallback check. try to capitalize the first letter to find a match.\n		var $opt = $dd.find('div.options').find('div[value=\"'+capitalizeFirstLetter(newVal)+'\"]:first');\n	}\n	$opt.addClass('active').siblings().removeClass('active');\n	$dd.find('.current').html($opt.html());\n	//console.log('binding ', $dropdown)\n}\nfunction bindSplashRadio($radio,skipFirstClick)\n{\n	var skipFirstClick = skipFirstClick || false;\n	var myClick = function(e){\n		var c = 'select';\n\n		var name = $radio.attr('name');\n\n		if ($radio.hasClass(c)) {\n			$radio.removeClass(c).find(\"input[type='hidden']:first\").val(0).prop(\"checked\",false).trigger('change');\n		} else {\n			$radio.parents('.nu-radio-contain:first').find(\".nu-radio[name='\"+name+\"']\").each(function(){\n				$(this).find(\"input[type='hidden']:first\").val(0).prop(\"checked\",false).trigger('change').end().removeClass('select');\n			});\n			$radio.addClass(c).find(\"input[type='hidden']:first\").val(1).prop(\"checked\", true).trigger('change');\n		}\n		if (e) {\n			e.stopPropagation();\n		}\n		//return false;\n	}\n	$radio.unbind('click').click(myClick);\n	if (!skipFirstClick) {\n		myClick();\n	}\n}\n\n//used for any ajax modal.  simply give it the format:\n//<a href=\"#\" class=\"simple-reveal\" reveal-href=\"/path/to/function\">whatever</a>\n$(document).on('click','.simple-reveal',function(){\n	var $link = $(this);\n	fireAjaxModal($link);\n});\n\n//close modal controls.\n$(document).on('click','.closeSimpleModal,a.close-modal-link,.close-modal',function(event){\n	$(this).parents(\".simple-modal:first\").removeClass('persistent_hard');\n	event.preventDefault();\n	closeSimpleModal();\n});\n\n$.fn.fireSimpleModal = function(args){\n	var $obj = $(this);\n	$(\"body\").addClass('lockItUp showSimple');\n	var $wrap = $(\"#simple-modal-wrap\");\n	var modal_visible = true;\n	if(args!=null){\n		if(args.persistent!=='undefined' && args.persistent){\n			$wrap.addClass('persistent');\n		}\n		if(args.persistent_hard!=='undefined' && args.persistent_hard){\n			$obj.addClass('persistent_hard');\n		}\n	}\n	else{\n		$wrap.removeClass('persistent');\n	}\n\n	$wrap.show().find(\".simple-modal\").hide();\n	$obj.show().css('display','inline-block');\n	if(typeof openModal!=='undefined'){\n		openModal=true;\n	}\n	return $obj;\n}\n\nfunction closeSimpleModal(){\n	var $addNewSection = $(\"#add-new-section\");\n	if($addNewSection.length > 0 && $addNewSection.is(\":visible\")){\n		//unselect whatever section type was selected.\n		$addNewSection.removeClass('set').find(\".active\").removeClass('active');\n	}\n\n	if(typeof openDatePicker!=='undefined'&&openDatePicker!==false){\n		return false;//bug fix.\n	}\n	if(typeof cropImageJcrop!='undefined'&&cropImageJcrop.destroy){\n		cropImageJcrop.destroy();\n	}\n\n	var $wrap = $(\"#simple-modal-wrap\");\n	if($wrap.find(\"div.persistent_hard\").length > 0){//if we find a persistent_hard modal, open that one up.\n		$wrap.find(\"div.persistent_hard:first\").fireSimpleModal();\n		// $wrap.find(\".simple-modal:not(.persistent_hard)\").hide();\n		return false;\n	} else {\n		$wrap.removeClass('persistent').find(\".simple-modal\").hide();\n	}\n	$(\"#simple-modal-ajax\").removeClass('email-send').empty();\n\n	var classesToRemove = 'settingsOpen showSimple';\n	if(!$(\"#planning-tools\").hasClass('expanded')){\n		classesToRemove+=' lockItUp';\n	}\n	$(\"body\").removeClass(classesToRemove);//one call to remove all relevant classes.\n\n	$(\"#finetune-block\").removeClass('persistent first-view');\n	$('#galleryWrap').hide()\n	if($(\"#edit-settings.persistent_hard\").length > 0){//fake modal call.\n		$('body').addClass('settingsOpen').removeClass('dateVenueModal');\n		$(\"#edit-settings\").removeClass('persistent_hard');\n		return false;\n	}\n}\n\nfunction fireAjaxModal($link,params,_callBack){\n	var params = params || {},\n		loading_content = '',\n		ajaxUrl = $link.attr('reveal-href');\n\n	if(typeof constants!=='undefined' && typeof constants.event_id!=='undefined'){\n		params.event_id = constants.event_id;\n	}\n	if(typeof $link.attr(\"persistent\")!=='undefined'){\n		params.persistent = $link.attr(\"persistent\");\n	}\n	if(typeof $link.attr(\"section-title\")!=='undefined'){\n		loading_content+='<h3>'+$link.attr(\"section-title\")+'</h3>';\n	}\n	var cache_id = $link.attr(\"cache-modal\");\n	if(typeof cache_id !== 'undefined'){\n		var $cached_obj = $(\"#\"+cache_id);\n		if($cached_obj.length > 0){\n			$cached_obj.fireSimpleModal();\n			return;\n		}\n	}\n	loading_content += '<div class=\"loader loading\"><div class=\"nu-loader med\"></div></div>';\n	$(\"#simple-modal-ajax\")\n		.removeAttr(\"xtra-attr\")\n		.fireSimpleModal(params)\n		.html(loading_content);\n\n	$.ajax({\n		url: ajaxUrl,\n		data: params,\n		type: 'POST',\n		dataType: 'html',\n		success: function(responseText){\n\n			if($link.attr(\"xtra-attr\")){\n				$(\"#simple-modal-ajax\").attr(\"xtra-attr\",$link.attr(\"xtra-attr\"));\n			}\n			modal_visible = true;\n			if( ! $(\"#planning-tools\").hasClass('expanded') && ! $link.hasClass('nu-editor') ){\n				$(\"body\").removeClass('lockItUp');\n			}\n\n			modal_offset = $(\"#simple-modal-ajax\").offset().top;\n\n			if($link.attr(\"cache-modal\")){\n				$(\"#simple-modal-wrap\").find(\".simple-modal-flow-control\").append('<div id=\"'+$link.attr(\"cache-modal\")+'\" class=\"simple-modal hide\">'+responseText+'</div>');\n				$(\"#\"+$link.attr('cache-modal')).fireSimpleModal();\n			} else {\n				$(\"#simple-modal-ajax\").html(responseText);\n			}\n			if(_callBack!=null){\n				_callBack();\n			}\n		},\n		error: function(){\n			closeSimpleModal();\n		}\n	})\n}\n\n//global function to deal with checking/unchecking nu-checkbox on the fly.\nfunction setCheck($obj,value,forceTrigger){\n	if(value=='1' || value=='true'){\n		$obj.val(1).parent().addClass('checked');\n	} else {\n		$obj.val(0).parent().removeClass('checked');\n	}\n	if(forceTrigger!=null && forceTrigger==true){\n		$obj.trigger('change');\n	}\n}\n\nfunction getChangedInputsArray($changed_inputs){\n	var postData = {};\n	$changed_inputs.each(function(){\n		if(this.name!=''){\n\n			if(this.type=='checkbox'){ //can't trust checkboxes. ever.\n				if($(this).hasClass('rsvp-field')){ //dirty exception to the rule.\n					if(this.checked==true){\n						postData[\"data[EventSetting][rsvp_fields][\"+this.value+\"]\"] = 1;\n					} else{\n						postData[\"data[EventSetting][rsvp_fields][\"+this.value+\"]\"] = 0;\n					}\n				} else{\n					if(this.checked==true){\n						postData[this.name] = 1;\n					} else{\n						postData[this.name] = 0;\n					}\n				}\n			} else if(this.type=='radio'){ // on the selected one!\n				if(this.checked==true){\n					postData[this.name] = this.value;\n				}// else nothing\n			} else{\n				if(typeof postData[this.name]!=='undefined'){//special case for arrays w/ same name.\n					//console.log('data...'+this.name+' = '+this.value);\n					if($.isArray(postData[this.name])){\n						postData[this.name].push(this.value);\n					} else{\n						postData[this.name] = [postData[this.name],this.value];\n					}\n\n				} else{\n					//console.log('dizzzata!...'+this.name+' = '+this.value);\n\n					postData[this.name] = this.value;\n				}\n			}\n		}\n	});\n	return postData;\n}\n\nfunction flashTabs(pos){\n\n	var timeout = 200\n\n	if( pos == 'top' ){\n		$tab1 = $('#nuToolBtns').find('.toolBtn:eq(0)')\n		$tab2 = $('#nuToolBtns').find('.toolBtn:eq(1)')\n		$tab3 = $('#nuToolBtns').find('.toolBtn:eq(2)')\n		$tab4 = $('#nuToolBtns').find('.toolBtn:eq(3)')\n	} else if( pos == 'bottom') {\n		$tab1 = $('#nuPlanBtns').find('.toolBtn:eq(0)')\n		$tab2 = $('#nuPlanBtns').find('.toolBtn:eq(1)')\n		$tab3 = $('#nuPlanBtns').find('.toolBtn:eq(2)')\n		$tab4 = $('#nuPlanBtns').find('.toolBtn:eq(3)')\n	}\n\n	$tab1.addClass('fvFlash')\n	setTimeout(function(){\n		$tab2.addClass('fvFlash')\n		setTimeout(function(){\n			$tab3.addClass('fvFlash')\n			setTimeout(function(){\n				$tab4.addClass('fvFlash')\n			}, timeout)\n		}, timeout)\n	}, timeout)\n}\n\nfunction saveTags(params,_callBack,_errorCallBack){\n    //saving tags.\n    $.ajax({\n        url: \"/address_book/saveTags\",\n        type: \"POST\",\n        data: params,\n        dataType: 'json',\n        success:function(response){\n            if(typeof _callBack=='function'){\n                _callBack();\n            }\n        },\n        error:function(){\n            if(typeof _errorCallBack == 'function'){\n                _errorCallBack();\n            }\n            //alert('#135: There was an error saving your tags.  Please try again.');\n        }\n    });\n}\n\nvar togglePageLoading = function(isLoading) {\n	if(isLoading) $('body').addClass('loading-page');\n	else $('body').removeClass('loading-page');\n}\n\n//DEBOUNCE! TAKEN FROM http://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n	var timeout;\n	return function() {\n		var context = this, args = arguments;\n		clearTimeout(timeout);\n		timeout = setTimeout(function() {\n			timeout = null;\n			if (!immediate) func.apply(context, args);\n		}, wait);\n		if (immediate && !timeout) func.apply(context, args);\n	};\n};\n\n\nvar SplashUI = function() {\n\n	//alert holder is appended to the page on pageload, cache Object\n	//so we can append future growls to it\n	var $alertHolder = null,\n		isModalOpen = false;\n\n	var _confirm = function(callback, message, button, thisClass, dontClose) {\n		if(isModalOpen) return;\n		this.hideGrowl();//clear out any other growls first.\n		var btnText = 'Confirm';\n\n		if( typeof button !== 'undefined' && button != false && button != '' ){\n			btnText = button;\n		}\n\n		var nuClass = '';\n\n		if( typeof thisClass !== 'undefined' && thisClass != false ){\n			nuClass = thisClass\n		}\n\n		var	html = '<div class=\"splashui-inner '+ nuClass +'\">' +\n						'<p class=\"splashui-title\">Heads Up:</p><p>' + message + '</p>' +\n						'<button data-confirm-response=\"1\" class=\"nu-btn nu-btn-sleek splashui-confirm-btn\">'+btnText+'</button><button data-confirm-response=\"0\" class=\"nu-btn nu-btn-sleek plain\">Cancel</button>' +\n					'</div>',\n\n			$modal = $('<div />', {\"html\": html, \"class\": 'splashui-confirm'}).appendTo('body'),\n			handleResponse = function(response) {\n				if(response) callback.call(null, true);\n				else callback.call(null, false);\n\n				if( !dontClose || response == 0 ){\n					$modal.fadeOut(300, function() { $(this).remove(); });\n					$(document).off('keyup.closeConfirm');\n				}\n\n				isModalOpen = false;\n				\n			};\n		$modal.find('button[data-confirm-response=\"1\"]').focus(); //focus on the confirm button\n		$modal.find('[data-confirm-response]').on('click', function() { handleResponse( $(this).data('confirm-response') == '1' ); }); //user clicked a button\n		$modal.on('click', function(e) { e.stopPropagation(); }); //need to in order to prevent modals from closing\n		$(document).on('keyup.closeConfirm', function(e) { if(e.keyCode === 27) handleResponse(false); }); //user hit the escape key\n		isModalOpen = true;\n	}\n\n	var _hideGrowl = function(){\n		$(\"#growl-holder\").empty();\n	}\n\n	// modal_class: success, failure...\n	var _notify = function(message, modal_class, stick_duration) {\n		this.hideGrowl();//clear out any other growls first.\n\n		var modal_class = modal_class ? modal_class + ' splashui-growl' : 'splashui-growl plain',\n			html = '<div class=\"splashui-inner\">' +\n						'<p>' + message + '</p>' +\n						'<button data-dismiss=\"1\" class=\"nu-btn nu-btn-sleek splashui-confirm-btn\">OK</button>' +\n					'</div>',\n			$modal = $('<div />', {'html': html, 'class': modal_class}).appendTo($alertHolder),\n			timer = null,\n			closeModal = function() {\n				$modal.fadeOut(function() { $(this).remove(); });\n				clearTimeout(timer);\n			},\n			default_stick_duration = 4000;\n		//if stick_duraction is bool false, make growl persist\n		//otherwise set to specified duration if provided, otherwise default to default_stick_duration\n		if(stick_duration !== false) {\n			timer = setTimeout(function() {\n				closeModal();\n			}, stick_duration || default_stick_duration);\n		}\n		$modal.on('click', function(e) { e.stopPropagation(); });\n		$modal.find('[data-dismiss]').on('click', function() { closeModal(); });\n	}\n\n	var _ask = function(callback, message, confirm_btn_text, stick_duration) {\n		var	confirm_btn_text = confirm_btn_text || 'Confirm',\n			html = '<div class=\"splashui-inner\">' +\n						'<p class=\"splashui-title\">Heads Up:</p><p>' + message + '</p>' +\n						'<button data-confirm-response=\"1\" class=\"nu-btn nu-btn-sleek splashui-confirm-btn\">' + confirm_btn_text + '</button><button data-confirm-response=\"0\" class=\"nu-btn nu-btn-sleek link x-close\"></button>' +\n					'</div>',\n			$modal = $('<div />', {'html': html, 'class': 'splashui-growl ask'}),//.appendTo($alertHolder),\n			\n\n			handleResponse = function(response) {\n				if(response) callback.call(null, true);\n				else callback.call(null, false);\n				$modal.fadeOut(300, function() { $(this).remove(); });\n				$(document).off('keyup.closeGrowl');\n			},\n			timer = null,\n			closeModal = function() {\n				$modal.fadeOut(function() { $(this).remove(); });\n				clearTimeout(timer);\n			},\n			default_stick_duration = 5000;\n		//if stick_duraction is bool false, make growl persist\n		//otherwise set to specified duration if provided, otherwise default to default_stick_duration\n		if(stick_duration !== false) {\n			timer = setTimeout(function() {\n				closeModal();\n			}, stick_duration || default_stick_duration);\n		}\n		$alertHolder.html($modal),\n\n		$modal.on('click', function(e) { e.stopPropagation(); });\n		$modal.find('button[data-confirm-response=\"1\"]').focus(); //focus on the confirm button\n		$modal.find('[data-confirm-response]').on('click', function() { handleResponse( $(this).data('confirm-response') == '1' ); }); //user clicked a button\n		$modal.on('click', function(e) { e.stopPropagation(); }); //need to in order to prevent modals from closing\n		$(document).on('keyup.closeGrowl', function(e) { if(e.keyCode === 27) handleResponse(false); }); //user hit the escape key\n	}\n\n	//called when file loads\n	var init = function() {\n		$(function() {\n			$alertHolder = $('<div />', {id: 'growl-holder'}).appendTo('body');\n		});\n	}();\n\n	return {\n		'confirm': _confirm,\n		'notify': _notify,\n		'ask': _ask,\n		'hideGrowl': _hideGrowl\n	}\n\n}();\n\nfunction trackIndicativeEvent(value,params){\n	if(typeof Indicative!=='undefined'){\n		if(params == null){\n			params = {};\n	 	}\n	 	if(typeof constants.event_id !== 'undefined') {\n	 		Indicative.buildEvent('event-'+value, (''+constants.event_id), params);\n	 	}\n	 	else if(typeof constants.logged_in_admin_email !== 'undefined') {\n	 		Indicative.buildEvent('user-'+value ,constants.logged_in_admin_email, params);\n	 	}\n	 	else if(typeof constants.user_email !== 'undefined') {\n	 		Indicative.buildEvent('user-'+value ,constants.user_email, params);\n	 	}\n\n	}\n}\n\n\n/* timezoneDetector,\n	a module that is useful to retrieve timezone for a location\n	used in the event settings modal and in the create flow\n*/\ntimezoneDetector = (function($) {\n\n	var _getTimezone = function( lat, lng, callback ) {\n		$.ajax({\n			url: \"https://maps.googleapis.com/maps/api/timezone/json?location=\"+lat+\",\"+lng+\"&timestamp=\"+(Math.round((new Date().getTime())/1000)).toString()+\"&sensor=false\"\n		}).done(function(response){\n			if ( typeof callback == 'function' ) {\n				callback(response);\n			}\n        })\n		.fail(function(xhr, options, error ) {\n			console.log(\"timezoneDetector error, Response: \"+ xhr.status+ \" - \"+error);\n			if ( typeof callback == 'function' ) {\n				callback();\n			}\n		})\n	};\n	return {\n		getTimezone: _getTimezone,\n	}\n})(jQuery);\n\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/main-ui.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 30791,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "function zeroFill( number, width ){width -= number.toString().length;if ( width > 0 ){return new Array( width + (/\\./.test( number ) ? 2 : 1) ).join( '0' ) + number;}return number; }\n\n$(document).ready(function(){\n	// $(\"#main-canvas .button a.button-link\").each(function(){\n	// 		if($(this).attr('href') === \"\") {\n	// 			$(this).attr('href', $(this).prev().attr('href'))\n	// 		}\n	// })\n	var isMobile = (/iPhone|iPod|iPad|Android|BlackBerry/).test(navigator.userAgent)\n\n	if ( isMobile == true ){\n		$('body').addClass('isMobile')\n	}\n\n	if( ! $('body').hasClass('finetune') && $('#gallery-thumbs').find('.photo-thumb').length == 0 && $('.element-gallery').length == 1 ){\n		// IF EMPTY GALLERY, remove from page instead of showing blank space\n		// ONLY WORKS IF only ONE gallery on page\n		$('.element-gallery').remove()\n	}\n\n\n	$('body').removeClass('loading');\n	winHeight = $(window).height();\n\n\n	if( isMobile == true ){\n		// FIX FOR SHORT MODALS\n		$('#simple-modal-wrap').find('.simple-modal-flow-control').css('min-height', winHeight + 'px')\n\n		// IF SHORT, CENTER VERTICALLY\n		var modalHeight = $('#rsvp-modal').outerHeight()\n		if( winHeight > ( modalHeight + 30 ) ){\n			$('#rsvp-modal').addClass('isShort')\n			var thisOffset = ( winHeight - modalHeight ) / 2\n			$('#rsvp-modal').css('top', thisOffset+'px')\n		}\n\n	}\n\n	if( $('.autoWindowHeight').length > 0 ){\n		autoWindowSizes();\n	} else {\n		if( constants.thisTheme != 'st-poster-v2' && constants.thisTheme != 'st-flyer-v2'){\n			dynamaHead()\n		}\n	}\n\n	//headerVideoInit();\n\n	$(document).on({\n		mouseenter:function(){\n			if($(this).find(\".when\").length){\n				$(this).find(\".company\").hide();\n				$(this).find(\".when\").show();//('fast');\n			}\n		},\n		mouseleave:function(){\n			var $obj = $(this);\n			if($(this).find(\".when\").length){\n				$(this).find(\".when\").hide();//('slow',function(){\n				$obj.find(\".company\").show();//;;('fast');\n//				});\n\n			}\n		}\n	},'#event-attendees li');\n\n	resizeSplashContainer();\n\n	$navWrap = $(\"#main-canvas\").find(\".navWrap:first\");\n	if(typeof $navWrap!=='undefined' && $navWrap.position()!==null){\n		navPos = $navWrap.position().top;\n	}\n	if(typeof navPos!=='undefined' && navPos!==false){\n		$(window).scroll(function(){\n			if($(this).scrollTop()>navPos){\n				$navWrap.addClass('fixed');\n				navHeight = 0;\n			} else{\n				$navWrap.removeClass('fixed');\n				navHeight = $navWrap.outerHeight();\n			}\n		});\n	}\n\n	$(\"html\").click(function(e){\n		if(openModal){\n			if(!$(\"#simple-modal-wrap\").hasClass('persistent')){\n				var $target = $(e.target);\n				if(!$target.hasClass('simple-modal') && $target.parents(\".simple-modal\").length < 1){\n					closeSimpleModal();\n					openModal = false;\n				}\n			}\n		}\n	}).keyup(function(e){\n		if(e.which==27){\n			if(openModal){\n				if(!$(\"#simple-modal-wrap\").hasClass('persistent')){\n					closeSimpleModal();\n					openModal = false;\n				}\n			}\n		}\n	});\n	/* End Video Stuff */\n\n	$('#ticketForm').on('click', '.more-info', function(){\n		$desc = $(this).siblings('.description');\n		if( $desc.hasClass('hide') ){\n			$desc.removeClass('hide')\n		} else {\n			$desc.addClass('hide')\n		}\n	});\n\n	$(document).on('click','#sectionNav a',function(event){\n		event.preventDefault();\n		var section = $.trim($(this).attr('href').replace('#',''));\n		var $chunk = $(\"#section-\"+section);\n		if($chunk.length){\n			$('html, body').stop().animate({\n		    	scrollTop: $chunk.offset().top-20\n    	  	}, 1000,'easeInOutExpo');\n		}\n\n	});\n\n\n\n	$(\"#main-canvas\").on('click',\".element-rsvp\",function(){\n		var $t = $(this);\n		if(!$(\"body\").hasClass('finetune')&&!$(\"body\").hasClass('rsvp-closed')){\n			if( $t.find(\".rsvp-form.private\").length < 1){//don't click if dealing with semi-private event.\n\n				if( $('#main-canvas').hasClass('link') && typeof $('#rsvp-button').attr('href')!=='undefined' ) {\n					window.open( $('#rsvp-button').attr('href') );\n				} else if($t.find(\"#rsvp-modal\").length < 1) {//dont fire if inline rsvp form.\n					showRsvpForm();\n					return false;\n					//$(\"#rsvp-button\").click();\n					//return false;\n				}\n			}\n		}\n	});\n\n	$(\"#main-canvas\").on('click',\"#rsvp-button\",function(event){\n		var $this = $(this);\n		_gaq.push(['_trackEvent', 'Splash', $this.attr(\"track\"), 'id:'+constants.event_id]);\n		if( !$this.hasClass('disabled') && !$this.hasClass('editable') && !$(\"body\").hasClass('rsvp-closed')){\n			//$(\"#rsvp-button\").hide();\n\n			if( $('#main-canvas').hasClass('link') && $('#rsvp-button').attr('href') ) {\n				window.open( $('#rsvp-button').attr('href') ); //  open if rsvp_method is external link\n			} else {\n				event.stopPropagation();\n				showRsvpForm();\n			}\n		}\n	});\n\n\n	$(document).on('click', 'a.add-cal', function(e){\n		_gaq.push(['_trackEvent', 'Splash', 'CalendarOpen', 'id:'+constants.event_id]);\n		e.preventDefault();\n		$(this).parents(\"div:first\").find('.the-cals').removeClass('hide');\n		$('#add-cal-wrap').addClass('addingToCal')\n	});\n\n	$(\"div.private h3\").click(function(){\n		$(\"input[name='access_code']\").focus();\n	});\n\n	var mapOpenTimeout;\n\n	$(\"#rsvp-form-inner\").on('click',\"#add-message\",function(event){\n		_gaq.push(['_trackEvent', 'Splash', 'RSVPAddMessage', 'id:'+constants.event_id]);\n		event.preventDefault();\n		$(this).hide();\n		var $rsvpMessage = $('#rsvp-message');\n		//$rsvpMessage.removeClass('hide').slideDown('fast',function(){$rsvpMessage.focus().width()});\n		$rsvpMessage.removeClass('hide').focus().width();\n	});\n\n	$(\"#rsvp-form-inner\").on('keyup',\".form-field\",function(e){\n		if ( e.which == 13 ){\n			var $this = $(this);\n\n			if(!$this.hasClass('textarea')){ //textareas can press enter.\n				if($this.parent().hasClass('radio')){ //radio button + enter = select it.\n					$this.click();\n					if($this.hasClass('attending-toggle')){\n						$(\"#rsvp-submit\").click();\n						return false;\n					}\n				}\n				var $n = $this.next('.form-field');\n				if($n.length > 0){\n					$n.focus();\n				} else{\n					var input_index = $this.index()*1;\n					var next = input_index;\n					var $next_input = $(\"#rsvp-form-inner\").find(\".form-field:eq(\"+next+\")\");\n\n					if($next_input.length>0){\n						$next_input.focus();\n					} else{\n\n						next = input_index+1;\n						$next_input = $(\"#rsvp-form-inner\").find(\".form-field:eq(\"+next+\")\");\n						if($next_input.length > 0){\n							$next_input.focus();\n						} //else {\n						//	$(\"#rsvp-submit\").click();\n						//}\n					}\n				}\n			}\n		}\n	});\n\n	$('#rsvp-form-inner').on('change','.date-select',function(){\n		var $this = $(this);\n		var $parent = $this.parents(\".date-holder\");\n		if($this.hasClass('month')){\n			if($.inArray($this.val(),['02','04','06','09','11']) > -1 ){\n				//$parent.find(\".day\").find(\"option:gt(28)\").remove();\n				$parent.find(\".day:first\").find(\".option[value='29'],.option[value='30'],.option[value='31']\").hide();\n				if($this.val()=='02'){\n					var year = $parent.find(\".year\").val();\n					if(year!=''){\n						var isLeap = new Date(year, 1, 29).getMonth();\n						if(isLeap==1){\n							$parent.find(\".day:first\").find(\".option[value='29']\").show();\n\n							// var other_opts = '<option value=\"29\">29</option>';\n							// $parent.find(\".day\").append(other_opts);\n						}\n					}\n\n				} else{\n					// var other_opts = '<option value=\"29\">29</option><option value=\"30\">30</option>';\n					// $parent.find(\".day\").append(other_opts);\n					$parent.find(\".day:first\").find(\".option\").show().end().find(\".option[value='31']\").hide();\n				}\n				// $parent.find(\".day\").find(\"option:gt(30)\").remove();\n\n			} else{\n				$parent.find(\".day:first\").find(\".option\").show();//:gt(28):lt(31)\").show();\n\n				// $parent.find(\".day\").find(\"option:gt(28)\").remove();\n				// var other_opts = '<option value=\"29\">29</option><option value=\"30\">30</option><option value=\"31\">31</option>';\n				//$parent.find(\".day\").append(other_opts);\n			}\n		} else if ($this.hasClass('year')){\n			var year = $this.val();\n			var month = $parent.find(\".month\");\n			if(month.val()=='02'){\n				var isLeap = new Date(year, 1, 29).getMonth();\n				if(isLeap==1){\n					$parent.find(\".day:first\").find(\".option[value='29']\").show();\n					// var other_opts = '<option value=\"29\">29</option>';\n					// $parent.find(\".day\").append(other_opts);\n				} else{\n					$parent.find(\".day:first\").find(\".option[value='29']\").hide();//[value='29']\").show();\n				}\n			}\n		}\n		var p = { year: $parent.find(\".year\").val(),\n			month: $parent.find(\".month\").val(),\n			day: $parent.find(\".day\").val()\n		};\n		$this.parents(\".date-holder\").find(\"input.custom\").val(p.year+'-'+p.month+'-'+p.day);\n		// if($(this).val()=='')\n	});\n\n	$(\"#sendANote,#contactOrgFtr\").click(function(event){\n		event.preventDefault();\n		$(\"#contact-event-organizer\").fireSimpleModal();\n		return false;\n	});\n\n	$(\"#rsvp-modal\").on('change','#attendee_count',function(){\n		var c = parseInt($(this).val());\n		$('.guest_names').hide();\n		for ( var i=1; i<c; i++ ){\n			$('.guest_name_'+i).show();\n		}\n	});\n	$(\"#rsvp-modal\").on({\n		click:function(){\n\n			var $this=$(this)\n			if($this.prop(\"checked\")){\n				$this.parents(\".options\").find(\"input.other-input-field\").fadeIn(300,function(){\n					$(this).focus();\n				})\n			} else{\n				$this.parents(\".options\").find(\"input.other-input-field\").val('').hide();\n			}\n		}\n	},'input[value=\"include_other_opt\"]');\n\n	$(\"#rsvp-modal\").on({\n		click:function(){\n			if( $(this).val() != 'include_other_opt' ){\n				$(this).parents(\".options\").find(\"input.other-input-field\").val('').hide();\n			}\n		}\n	}, '.radio input')\n\n\n	$(document).on({\n		change:function(){\n\n\n			var $this=$(this)\n			if( $this.val() == 1 ){\n				$this.parents(\".options\").find(\"input.other-input-field\").fadeIn(300,function(){\n					$(this).focus();\n				})\n			} else{\n				$this.parents(\".options\").find(\"input.other-input-field\").val('').hide();\n			}\n		}\n	},'input[field=\"include_other_opt\"], input[use-val=\"include_other_opt\"]');\n\n	$(document).on('change','select, input.dropdown',function(){\n		var $t = $(this);\n		var $input = $t.parents(\".select-holder:first\").find(\"input.other-input-field\");\n		if($input.length > 0){\n			if($t.val()=='include_other_opt'){\n				$input.fadeIn().focus();\n			} else{\n				$input.hide().val('');\n			}\n		}\n	});\n\n	$(document).on('click',\".plus-one-wrap label\",function(){\n		//can be a regular checkbox, or a 'nu-input' which is either '1' or '0'\n		var isChecked = $('#rsvp-plus-1').attr('type') === 'checkbox' ? $('#rsvp-plus-1').is(':checked') : parseInt($('#rsvp-plus-1').val());\n		if(isChecked){\n			$('#guest-name').show();\n		} else {\n			$('#guest-name').hide();\n			$('#guest-name').val('');\n		}\n	});\n\n	$(document).on('click', '.attending-wrap', function(){\n\n		if( ! $('.cantMakeIt').find('input').is(':checked') ){\n			$('#rsvp-form-inner').find('.attending-wrap').removeClass('selected')\n			$(this).addClass('selected')\n		}\n	})\n\n	$(document).on('change', 'input[type=\"file\"]', function(){\n		var filename = $(this).val().replace(/C:\\\\fakepath\\\\/i, '')\n		$(this).attr('data-content', 'Uploaded: ' + filename).addClass('uploaded')\n	})\n\n	function isMinAge(minAge, dateString) {\n		if (dateString.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n			var parts = dateString.split('-'),\n				maxDate = new Date();\n			maxDate.setFullYear((maxDate.getFullYear() - minAge));\n			var maxTime = maxDate.getTime(),\n				enteredDate = new Date(parts[0],(parts[1] - 1),parts[2]),\n				enteredTime = enteredDate.getTime();\n			return enteredTime <= maxTime;\n		}\n		return false;\n	}\n\n	$(document).on('click',\"#rsvp-submit\",function(){\n		var $obj = $(this);\n		var errors = [];\n		var $form = $(\"#rsvp-form-inner\");\n		var params = {\n			event_id: constants.event_id, first_name: $(\"#rsvp-first-name\").val(),\n			last_name: $(\"#rsvp-last-name\").val(), email: $.trim($(\"#rsvp-email\").val()), custom: {}\n		}\n\n		//only collect unique error messages\n		var addToErrors = function(error_message) {\n			if($.inArray(error_message, errors) == -1) errors.push(error_message);\n		}\n		// console.log('submitting')\n\n		if($(\"#rsvp-company\").length){\n			params.company = $(\"#rsvp-company\").val()\n		}\n		if($(\"#rsvp-linkedin_url\").length){\n			params.linkedin_url = $(\"#rsvp-linkedin_url\").val()\n		}\n		if($(\"#rsvp-message\").is(\":visible\")){\n			params.message = $(\"#rsvp-message\").val();\n		}\n		if($(\"#rsvp-plus-1\").length){\n			var $plus_one_input = $('#rsvp-plus-1');\n			if ($plus_one_input.attr('type') == 'checkbox') {\n				params.plus_one = ($plus_one_input.prop(\"checked\"))?'yes':'no';\n			} else {\n				// nu-checkbox - hidden\n				params.plus_one = ( $plus_one_input.parents('.nu-checkbox:first').hasClass('checked') ) ? 'yes' : 'no';\n			}\n			var $g = $('#guest-name');\n			params.guest_names = ($g.val()!=$g.attr('placeholder'))?[$g.val()]:[];\n		}\n\n		var $b = $(\"#attendee_count\");\n		if($b.length == 1 ){\n			params.attendee_count = $('#attendee_count').val();\n			params.guest_names = [];\n			$('.guest_names:visible').each(function(){\n				var value = $.trim($(this).val());\n				if ( value != '' ){\n					params.guest_names.push(value);\n					$(this).removeClass('error-border');\n				}\n				else {\n					$(this).addClass('error-border');\n					addToErrors('Guest Name required.');\n				}\n			});\n			if(isNaN(params.attendee_count)){//if its empty, mark as 1.\n				params.attendee_count = 1;\n			}\n		}\n\n		// captcha validation\n		if ($('#captcha').length) {\n			params.recaptcha_challenge_field = $('#recaptcha_challenge_field').val();\n			params.recaptcha_response_field = $('#recaptcha_response_field').val();\n		}\n\n		var $custom_fields = $form.find(\"input.custom,select.custom,textarea.custom\");\n		if($custom_fields.length > 0){\n			$custom_fields.each(function(){\n				var $input = $(this);\n\n				if ( $input.attr('type') == 'checkbox' || $input.hasClass('checkbox') ){\n\n					var $thisParent = $input.parent()\n					var isNuCheckbox = false\n\n					if( $thisParent.hasClass('nu-checkbox') && $thisParent.hasClass('checked') ){\n						isNuCheckbox = true\n					}\n\n					if ( $input.hasClass('multi') ){\n						if ( $input.is(':checked') || isNuCheckbox ){\n							if ( typeof params.custom[$input.attr(\"num\")] == 'undefined' )\n								params.custom[$input.attr(\"num\")] = [];\n							if ($input.val() == 'include_other_opt' || $input.attr('use-val') == 'include_other_opt') {\n								var $opts = $input.parents('.options:first');\n								var $other = $opts.find('.other-input-field');\n								if ($other.length && $other.length > 0 ) {\n									if( $input.is(':checked') || isNuCheckbox == true ) {\n										params.custom[$input.attr(\"num\")].push('Other: '+$other.val());\n									}\n								}\n							} else {\n\n								if(  isNuCheckbox == true  ) {\n									params.custom[$input.attr(\"num\")].push($input.attr('use-val'));\n								} else if( $input.is(':checked') ){\n									params.custom[$input.attr(\"num\")].push($input.val());\n								}\n							}\n						}\n							//params.custom[$input.attr(\"num\")] = '';\n\n					}\n					else{\n\n						if ( $input.is(':checked') || isNuCheckbox == true ){\n							params.custom[$input.attr(\"num\")] = $input.val();\n						}else{\n							params.custom[$input.attr(\"num\")] = '';\n						}\n					}\n				} else if ( $input.attr('type') == 'radio' ){\n					if ( $input.is(':checked') ){\n						params.custom[$input.attr(\"num\")] = $input.val();\n						if (params.custom[$input.attr(\"num\")] == 'include_other_opt') {\n							var $opts = $input.parents('.options:first');\n							var $other = $opts.find('.other-input-field');\n							if ($other.length && $other.length > 0 ) {\n								params.custom[$input.attr(\"num\")] = 'Other: '+$other.val();\n							}\n						}\n					}else{\n						//params.custom[$input.attr(\"num\")] = '';\n					}\n				} else if ( $input[0]['nodeName']=='SELECT' || $input.hasClass('dropdown') ){//.attr('type') == 'select' ){\n\n					params.custom[$input.attr(\"num\")] = ($input.val()!=$input.attr('placeholder'))?$input.val():'';\n\n					if (params.custom[$input.attr(\"num\")] == 'include_other_opt'){\n						var $opts = $input.parents(\".select-holder:first\");\n						var $other = $opts.find('.other-input-field');\n						if ($other.length && $other.length > 0  ) {\n							params.custom[$input.attr(\"num\")] = 'Other: '+$other.val();\n						}\n\n					} else{\n						//console.log(\"NOPE\");\n					}\n				} else{\n					params.custom[$input.attr(\"num\")] = ($input.val()!=$input.attr('placeholder'))?$input.val():'';\n				}\n			});\n		}\n\n		var guestNameRequired = $('#rsvp-plus-1').is('[type=\"checkbox\"]') ? $('#rsvp-plus-1').is(':checked') : $('#rsvp-plus-1').val() == 1;\n		$form.find(\"input.required,select.required,textarea.required\").each(function(){\n			var $input = $(this);\n\n			// avoid time and short_date inputs, those will be handled separatedly\n			if ( $input.hasClass('input-type-time') || $input.hasClass('input-type-short-date') )\n				return;\n\n			if( $input.attr('type') == 'checkbox' || $input.hasClass('checkbox') ) {\n				if ( $input.hasClass('multi') ){\n					if ( $('input[name=\"'+$input.attr('name')+'\"]:checked').length == 0 && $input.parents('.multiCheck-holder:first').find('.nu-checkbox.checked').length == 0 ){\n						$input.parent().parent().addClass('error-border');\n						addToErrors('Please select at least one.');\n					}else {\n						$input.parent().parent().removeClass('error-border');\n					}\n				}else{\n\n					if( $('body').hasClass('isMobile') && !$input.is(':checked') )	{\n\n						// REQUIRED FIELD NOT CHECKED ON MOBILE\n						$input.parent().addClass('error-border');\n						addToErrors('Checkbox required');\n\n					} else if ( !$input.is(':checked') && ! $input.parents('.checkbox:first').hasClass('checked') ){\n						$input.parent().addClass('error-border');\n						addToErrors('Checkbox required');\n					} else{\n						$input.parent().removeClass('error-border');\n					}\n				}\n\n		/*	} else if( $input.hasClass('date-field') ) {\n\n				var $parent = $input.parents('.date-holder:first')\n\n				var $day = $parent.find('.date-select.day')\n				var $month = $parent.find('.date-select.month')\n				var $year = $parent.find('.date-select.year')\n\n				if( $day.hasClass('nativeSelect') || $month.hasClass('nativeSelect') || $year.hasClass('nativeSelect') ){\n					// IF NATIVE SELECT\n					if( $input.val() == '' ){\n						$input.parents('.date-holder:first').addClass('error-border')\n					} else {\n						$input.parents('.date-holder:first').removeClass('error-border')\n					}\n\n				} else {\n					// IF NU DROPDOWN\n					var isError = false\n\n					if( $day.val() == ''){\n						isError = true\n					}\n					if( $month.val() == ''){\n						isError = true\n					}\n					if( $year.val() == '' ){\n						isError = true\n					}\n\n\n\n				}\n			*/\n			} else if( $input.hasClass('dropdown') ){\n\n				if( $input.val() == '' ){\n					$input.parents('.nu-dropdown:first').addClass('error-border')\n					addToErrors('Dropdown required');\n				} else {\n					$input.parents('.nu-dropdown:first').removeClass('error-border')\n				}\n\n			}else if( $input.attr('type') == 'radio' && $('input[name=\"'+$input.attr('name')+'\"]:checked').length == 0 ){\n				$input.parent().parent().addClass('error-border');\n				if($.trim($input.attr(\"radio-placeholder\"))) addToErrors($input.attr(\"radio-placeholder\")+' is required.');\n				else addToErrors('Fill out all required fields.');\n			}\n			else if($input.is('[type=\"file\"]')) {\n				var compressedImgId = $input.data('customfield-img'),\n					$compressedData = $('#customfield-img-' + compressedImgId),\n					compressedDataVal = $compressedData.length ? $compressedData.find('input[type=\"hidden\"]').val() : false;\n\n				if(!$input.get(0).files[0] && !compressedDataVal) {\n					addToErrors('Fill out all required fields.');\n					$input.addClass('error-border');\n				}\n				else {\n					$input.removeClass('error-border');\n					$input.parent().removeClass('error-border');\n					$input.parent().parent().removeClass('error-border');\n				}\n			}\n			else if (($.trim($input.val()) == '' || $input.val()==$input.attr(\"placeholder\")) && !($input.attr('id')=='guest-name' && !guestNameRequired) ){\n				if ( $input.hasClass('textarea') ) $input.parent().addClass('error-border');\n				$input.addClass('error-border');\n				if ( $input.attr('placeholder') && $.trim($input.attr(\"placeholder\"))){\n					addToErrors($input.attr(\"placeholder\")+' is required.');\n				} else{\n					addToErrors('Fill out all required fields.');\n				}\n			}\n			else{\n				$input.removeClass('error-border');\n				$input.parent().removeClass('error-border');\n				$input.parent().parent().removeClass('error-border');\n			}\n		});\n\n		// Time validation\n		$form.find(\".input-type-time\").each(function(){\n\n			var num = $(this).attr(\"num\");\n			var value = $(this).val();\n			var valueEmpty = (value == null || value == '');\n\n			if($(this).hasClass('required') && valueEmpty ){\n				$(this).addClass('error-border');\n				errors.push('Please specify a valid time. Format 12:34AM.');\n\n			} else if ( !valueEmpty && !value.match(/^(([1-9]|1[0-2]):[0-5][0-9](PM|AM))$/i) ) {\n				$(this).addClass('error-border');\n				errors.push('Please specify a valid time. Format 12:34AM.');\n			} else {\n				$(this).removeClass('error-border');\n				params.custom[ num ] = value ;\n			}\n		});\n\n		// Short date validation\n		$form.find(\".input-type-short-date\").each(function(){\n\n			var num = $(this).attr(\"num\");\n			var value = $(this).val();\n			var valueEmpty = (value == null || value == '');\n\n			if($(this).hasClass('required') && valueEmpty ){\n				$(this).addClass('error-border');\n				errors.push('Please specify a valid date. Format 09/30/91');\n\n			} else if ( !valueEmpty && !value.match(/^(0[1-9]|1[012])\\/(0[1-9]|[12][0-9]|[3][01])\\/[0-9]{2}$/i) ) {\n				$(this).addClass('error-border');\n				errors.push('Please specify a valid date. Format 09/30/91');\n			} else {\n				$(this).removeClass('error-border');\n				params.custom[ num ] = value ;\n			}\n		});\n\n		$form.find(\".date-holder\").each(function(){\n			//if the container has class `min-21`, then set this to boolean true in order to pass value thru 21+ validation\n			var validateMinAge = false;\n			if($(this).parents('.min-21').length) validateMinAge = 21;\n			if($(this).parents('.min-18').length) validateMinAge = 18;\n\n			var $date_block = $(this);\n			var $input = $date_block.find(\"input.custom\");\n\n			var $parent = $input.parents('.date-holder:first')\n\n			var $day = $parent.find('.date-select.day')\n			var $month = $parent.find('.date-select.month')\n			var $year = $parent.find('.date-select.year')\n\n			if( $day.hasClass('nativeSelect') || $month.hasClass('nativeSelect') || $year.hasClass('nativeSelect') ){\n				// IF NATIVE SELECT\n				if( $input.val() == '' ){\n					$input.parents('.date-holder:first').addClass('error-border')\n				} else {\n					$input.parents('.date-holder:first').removeClass('error-border')\n				}\n\n			} else {\n\n				var date_val = $input.val();\n\n				if($day.val() =='' && $month.val()=='' && $year.val() == ''){\n					if($input.hasClass('required')){ //only stop them if they are required to fill out date.\n						$date_block.addClass('error-border');\n						addToErrors('A valid date is required.');\n					}\n				} else if($day.val()=='' || $month.val()=='' || $year.val() == ''){\n					//regardles of whether it's required.  if at least one field is empty, but not all, let them know.\n					$date_block.addClass('error-border');\n					addToErrors('A valid date is required.');\n				} else {\n\n					// if(date_val.match(/^(19|20)\\d\\d-(0\\d|1[012])-(0\\d|1\\d|2\\d|3[01])$/)){\n					// 	alert('good date');\n					// 	errors.push('A valid date is required.');\n					// 	$date_block.removeClass('error-border');\n					// } else{\n					// 	alert('bad date');\n\n					$input.val( $year.val() + '-' + $month.val() + '-' + $day.val()  )\n\n					$date_block.removeClass('error-border');\n\n				}\n\n			}\n\n			// the custom date question has a min date requirement\n			// either min age 18 or 21 via .min-21/.min-18 class on the parent\n			if (validateMinAge) {\n				var dateString = $input.val();\n				if(isMinAge(validateMinAge, dateString)) {\n					$input.val(dateString);\n					$input.parents('.min-' + validateMinAge + ':first').removeClass('error-border');\n				}\n				else {\n					$input.val('').parents('.min-' + validateMinAge + ':first').addClass('error-border');\n					var minAgeError = 'You must be ' + validateMinAge + '+ to RSVP to this event.';\n					addToErrors(minAgeError);\n				}\n			}\n\n			params.custom[$input.attr(\"num\")] = $input.val() ;\n\n		});\n\n		if( !isValidEmail($(\"#rsvp-email\").val()) && !$(\"#rsvp-email\").hasClass('error-border') ){\n			$(\"#rsvp-email\").addClass('error-border');\n			addToErrors('A valid email address is required.');\n		}\n\n		params.attending = 1;\n		var $attending_toggle = $form.find(\"input.attending-toggle\");//:checked\");\n		if($attending_toggle.length > 0){\n			//make sure that eiter attending/not attending is checked (if applicable)\n			var attending_val = $form.find(\"input.attending-toggle:checked\").val();\n			if(typeof attending_val==='undefined'){\n				//fix for attending_val returning undefined. having difficulty pinpointing why this is happening,\n				//but believe it has something to do with radio inputs that are not visible on the page, thus the :checked selector not grabbing the right value.\n				attending_val = $form.find(\"input.attending-toggle[checked='checked']\").val();\n			}\n			if(attending_val!='1' && attending_val!='0'){\n				_gaq.push(['_trackEvent', 'Splash', 'RSVPSubmitError', 'id:'+constants.event_id]);\n				$(\"span.required-fields\").html('*Please select if you\\'re attending or not.').fadeIn();//errors.join('<br />')).fadeIn();\n				$form.find(\"input.attending-toggle:first\").focus();\n				return false;\n				//$form.find(\".attending-toggle:first\").focus();\n			} else{\n				params.attending = attending_val;\n			}\n		}\n\n		if(errors.length > 0){\n			_gaq.push(['_trackEvent', 'Splash', 'RSVPSubmitError', 'id:'+constants.event_id]);\n			var errorText = '<span class=\"header-text\">* Please see the RSVP requirements below:</span><br />' +\n			    errors.join('<br />');\n			//if there's a min. age, override the error message.\n			if(typeof minAgeError!=='undefined' && minAgeError!==false){\n				errorText = '<span class=\"minAgeErr\">'+minAgeError+'</span>';\n			}\n			//errorText += errors.join('<br />'); //show all errors on the form\n			$(\"span.required-fields\").html(errorText).fadeIn();\n			return false;\n		}\n		else{\n			_gaq.push(['_trackEvent', 'Splash', 'RSVPSubmit', 'id:'+constants.event_id]);\n			$(\"span.required-fields\").hide();\n			$obj.hide();\n			if($obj.hasClass('in-progress')){\n				return false;\n			}\n			$obj.addClass('in-progress');\n			$(\"#rsvp-spinner\").show().find('.nu-loader').addClass('loading');\n			$('#rsvp-form-inner .btnWrap').addClass('noBorder')\n\n			// check for a real form for the file upload\n			var $realForm = $('#rsvp-real-form.realForm');\n			if ( $realForm.length == 1 ){\n\n				$('#rsvp-form-inner').find(\".nu-checkbox:not('.checked')\").each( function(){\n					$(this).find('input[type=\"hidden\"]').remove()\n				})\n\n				$('#rsvp-form-inner').find(\".nu-checkbox.checked\").each( function(){\n					if ( $(this).find('input[type=\"hidden\"]').attr('use-val') == 'include_other_opt' ){\n						$(this).find('input[type=\"hidden\"]').remove()\n					}\n				})\n				$realForm[0].submit();\n				return;\n			}\n\n			// this functionality needs to be duplicated in rsvp-form.ctp for realForm compat\n			$.post(constants.formBase+\"/rsvp\"+location.search, params, function(response){\n				var jq = $.parseJSON(response);\n\n				// we check it this is a server validation error, such a captcha error. In this case, we keep the form where it is\n				if ( typeof jq.error!=='undefined' && jq.error == 1 && jq.msg === 'incorrect-captcha-sol' ) {\n					$('#captcha-error').show();\n					$(\"#rsvp-spinner\").hide();\n					$obj.removeClass('in-progress');\n					$obj.show();\n					Recaptcha.reload();\n				}\n\n				// In case there's no captcha error\n				else {\n					if(typeof jq.error!=='undefined' && jq.error == 1){\n\n\n						constants.hide_registration_prompt=true;\n						$(\"#contactTheOrganizer\").show();\n						var $social = '';\n						/* if (typeof jq.msg != 'undefined') {\n							//$('#rsvp-modal').find('.rsvp-form').append(jq.msg);\n							$('#afterRsvpMessage').after(jq.msg);\n						} */\n						if(typeof jq.msgHead != 'undefined'){\n							$('#rsvp-form-top .rsvp-text').text(jq.msgHead)\n							//console.log('head')\n						}\n\n\n						if(typeof jq.msgBody != 'undefined'){\n\n							$('#afterRsvpMessage .afterRsvpMessageInner .content').html('<p>'+jq.msgBody+'</p>')\n							$('#afterRsvpMessage').show()\n						}\n\n\n					} else {\n						var $social  = $(\"div.countdown\").find(\"ul.social\").clone();\n						$('#rsvp-button').addClass('disabled');\n					}\n					var $fh = $obj.parents('.form-holder:first');\n\n					//$fh.find('h5:first span').remove();\n					//var formTitle = $fh.find('h5:first').html();\n					$fh.remove();\n					//$fh.addClass('rsvp-confirm').html(jq.msg).append($social).hide().fadeIn('fast');\n					//galleryThumbFlow(true);\n					// for wired theme\n					$('span.fist-thumb.thumb').show();\n\n					// pop a modal with the message.. some social links.. and the 'create-your-own' auto-reg\n					if ( constants.hide_registration_prompt !== true && (typeof jq.error == 'undefined' || jq.error!=1) ){\n						var $myShareBox = ( constants.hide_social_links ) ? '' : createMyShareBox(window.location);\n						var $social  = $(\"div.countdown\").find(\"ul.social\").clone();\n						var $arm = $('#afterRsvpMessage');\n						$arm.show()\n							.find('.first_name').val(params.first_name)\n							.end().find('.last_name').val(params.last_name)\n							.end().find('.email').val(params.email)\n							.end().find('.afterRsvpMessageInner .content').html('')\n								.append(jq.msg)\n								.append($social);\n						if ( $myShareBox != '' && $myShareBox.html().trim() != '' && (typeof jq.error==='undefined'||jq.error!='1') ){\n							$arm.find('.afterRsvpMessageInner .content').append('<span class=\"shareWithFriends\">Share with Friends:</span>').append($myShareBox).append( $('#add-cal-wrap') );\n						}\n					}\n					if(typeof jq.hideInlineForm!=='undefined'){\n						$(\"#section-rsvp\").find(\"i.close-form\").hide();\n						closeSimpleModal();\n					}\n\n					$('#rsvp-modal').addClass('afterRsvp')\n\n					var thisMsg = jq.msgHead\n\n					if( thisMsg.length != 0 ) {\n						$('#rsvp-form-top').find('.rsvp-text').text( thisMsg )\n						$('#afterRsvpMessage').find('.content > h5').remove()\n						$('#afterRsvpMessage').find('.content > h3').remove()\n					}\n\n					if(typeof Indicative!=='undefined'){\n						Indicative.buildEvent('event-attendeeRSVP', (''+params.event_id));\n						Indicative.buildEvent('user-attendeeRSVP', params.email, {'event_id':constants.event_id});\n					}\n\n					if (typeof customAfterRSVP == 'function') {\n						setTimeout(function(){\n							customAfterRSVP(params);\n						},0);\n					}\n\n				}\n\n			});\n		}\n	});\n\n	galleryInit();\n\n	$(document).on('click','#afterRsvpMessage .close',function(){\n		//$('#afterRsvpMessage').hide();\n		closeSimpleModal();\n	});\n	$(document).on('click','.fb-wrap .close',function(){\n		$(this).parents('div.fb-wrap:first').hide();\n	});\n	$(document).on('click','.add-fb-comments',function(e){\n		e.preventDefault();\n		var $li = $(this).parents('div.photo:first');\n		var $myFBWrap = $li.find('div.fb-wrap');\n		if ( $li.hasClass('commentsOpen') ){\n			$li.removeClass('shareOpen commentsOpen shareBoxOpen')\n				.css({height:'',marginTop:'auto'});\n		}else{\n			$myFBWrap.show();\n			$li.addClass('shareOpen commentsOpen').removeClass('shareBoxOpen').find('.shareBox').remove();\n			setTimeout(function(){$('div.photos').scrollTop($('div.photos').height());},30);\n		}\n		if (!$myFBWrap.hasClass('jfiedj') ){\n			$myFBWrap.addClass('jfiedj');\n			$myFBWrap.html('<h3>Comment on this photo <span class=\"right\">To mention someone in your comment, put an @ symbol before their name</span></h3><div class=\"fb-comments\" data-href=\"'+$(this).attr('href')+'\" data-num-posts=\"30\" data-width=\"'+$myFBWrap.width()+'\" data-colorscheme=\"dark\"></div><span class=\"close\">&#10006</span>').show();\n			FB.XFBML.parse(document.getElementById('fb-wrap-'+$(this).attr('im')))\n		}\n		return false;\n	});\n\n	$(\"#view-attendees\").click(function(){\n		attendees.view();\n		return false;\n	});\n\n	var closingSimple = false\n\n\n	var closeSimpleWithDelay = function(){\n\n		$('body').removeClass('showSimple')\n\n		clearTimeout( closingSimple )\n\n		closingSimple = setTimeout( function(){\n			closeSimpleModal()\n		}, 300 )\n\n	}\n	//bind close modal\n	$(\"#main-canvas .isModal\").on(\"click\", function(e) {\n		//e.preventDefault();\n		modal.close($(this));\n	})\n	$(\"#main-canvas .isModal .isModalFront\").on(\"click\", function(e) {\n		return false;\n	})\n\n	$('#simple-modal-wrap').on('click', function( event ){\n		//if( $('body').hasClass('isMobile') ){\n\n			if( $('#rsvp-modal').css('display') != 'none' && $(event.target).hasClass('simple-modal-flow-control') ){\n\n				event.preventDefault()\n\n				var $thisModal = $(this).find('#rsvp-modal')\n\n				if( $thisModal.css('display') != 'none'  ){\n\n					closeSimpleWithDelay()\n\n				}\n\n				return false\n			}\n\n		//}\n	})\n\n	$('#rsvp-modal').on('click', '.close-form', function(event){\n		event.preventDefault()\n\n		closeSimpleWithDelay()\n\n		return false\n	})\n\n	$(\"#attendees-modal,#attendee-block\").on('click','.attendee-sort a',function(event){\n		event.preventDefault();\n		attendees.sortList($(this));\n	});\n\n	$(document).on('click',\".toggle-shell\",function(){\n		var $bar = $(this).find('span.inner');\n		if ( $(this).attr('status') == 'off' ){\n			$(this).attr(\"status\",'on').find('span.inner').animate({marginLeft:0},{duration:200});\n			$(this).parents(\".toggle-shell-contain\").find(\"input.toggle-hidden-val\").val(1).blur();\n		} else{\n			$(this).attr(\"status\",'off').find('span.inner').animate({marginLeft:-82},{duration:200});\n			$(this).parents(\".toggle-shell-contain\").find(\"input.toggle-hidden-val\").val(0).blur();\n		}\n	});\n\n	/////////////////////////////////////////////////////////////////\n	// Ticket Form Validation\n	$(document).on('submit','form.validateTicketForm',function(){\n		var $this = $(this);\n\n		var form = getValuesObjFromForm($this);\n\n		// make sure at least one ticket type has a > 0 quantity\n		var isGood = false;\n		if ( typeof form.tickets != 'undefined' ){\n			for ( id in form.tickets ){\n				if ( typeof form.tickets[id].quantity != 'undefined' && form.tickets[id].quantity != '' && parseInt(form.tickets[id].quantity) > 0 ){\n					isGood = true;\n				}\n			}\n		}\n		if (isGood != true) {\n			$this.parents('.form-holder').find('.required-fields').html('Please select a valid number of tickets.').show();\n\n		} else if (typeof form.discount_code != 'undefined' && form.discount_code != ''){\n			$.ajax({url:constants.formBase+'/checkCode',type:'post',data:{code:form.discount_code},dataType:'json'})\n				.done(function(response){\n					if (typeof response != 'undefined' && typeof response.status != 'undefined' && response.status == 'success') {\n						$this[0].submit(); // this is so we don't keep looping this onsubmit!\n					} else if (typeof response != 'undefined' && typeof response.status != 'undefined' && response.status == 'max_reached') {\n						$this.parents('.form-holder').find('.required-fields').html('Code Expired').show();\n					} else {\n						$this.parents('.form-holder').find('.required-fields').html('Invalid Code').show();\n					}\n				})\n				.error(function(){\n					$this.parents('.form-holder').find('.required-fields').html('Invalid Code').show();\n				});\n			return false;\n		} else if (isGood == true) { //passed\n			return true;\n		}\n		return false;\n	});\n	// End Ticket Form Validation\n	/////////////////////////////////////////////////////////////////\n\n	$(\".subscribe-signup\").click(function(event){\n		event.preventDefault();\n		var params = {};\n		var $t = $(this);\n		var $p = $(this).parents(\".subscribe-signup-area:first\");\n		if($p.hasClass('saving')){//no double clicks.\n			return false;\n		}\n\n		$p.addClass('saving').find(\"input.subscribe-input\").each(function(){\n			if($(this).val()!=''){\n				params[$(this).prop(\"name\")] = $(this).val();\n			}\n		});\n\n		params.event_id = constants.event_id;\n		$.ajax({\n			url: constants.formBase+\"/extSubscribe/\"+constants.slug,\n			type: 'POST',\n			data: params,\n			success:function(response){\n				$p.removeClass('saving').hide().parents(\".layoutGrp:first\").addClass('subscribed');\n				$(\".wakefield-success\").fadeIn(300);\n			},\n			error:function(){\n				$p.removeClass('saving');\n				// alert('There was an error ')\n			}\n		});\n	});\n\n	if($(\"input.subscribe-email\").length > 0){\n		$(\"input.subscribe-email\").keyup(function(e){\n			if(e.keyCode==13){//submit on enter.\n				$(this).parents(\".subscribe-signup-area:first\").find(\".subscribe-signup\").click();\n			}\n		});\n		$(\"input.subscribe-email\").attr(\"placeholder\",'Enter email address.');\n	}\n\n	$(\"#contact-event-organizer\").on('click',\"#send-contact-org-note\",function(event){\n		event.preventDefault();\n		_gaq.push(['_trackEvent', 'Splash', 'SendANoteSubmit', 'id:'+constants.event_id]);\n		var params = {\n			action: 'sendANote',\n			name: $(\"#contact-org-name\").val(),\n			note: $.trim($(\"#contact-org-note\").val()),\n			email: $(\"#contact-org-email\").val(),\n			company: $(\"#contact-org-company\").val(),\n			eventid: constants.event_id\n		};\n		if ( !isValidEmail(params.email) ){\n			$(\"#contact-org-required\").text('Please enter a valid email address.');\n			$(\"#contact-org-email\").focus();\n		} else if ( params.note == '' ){\n			$(\"#contact-org-required\").text('Please fill out a message to send.');\n			$(\"#contact-org-note\").focus();\n		} else {\n\n			if(typeof Indicative!=='undefined'){\n				Indicative.buildEvent('event-contactOrg', (''+constants.event_id), {'event_id':constants.event_id});\n				Indicative.buildEvent('user-contactOrg', params.email, {'event_id':constants.event_id});\n			}\n\n			var $this = $(this);\n			$this.text('Sending...');\n			$.ajax(\"\",{\n				type:'POST',\n				data: params,\n				dataType: 'json',\n				success: function(response){\n					if(typeof response.success!=='undefined'){\n						$this.text('Sent!');\n						setTimeout(function(){\n							$this.text('Send Note');\n							closeSimpleModal();\n							//setTimeout(function(){\n							//	},2000);\n						},3000);\n						$(\"#contact-org-required\").text('');\n					} else if(typeof response.error!=='undefined'){\n						$(\"#contact-org-required\").html(response.error);\n						$this.text('Send Note');\n					} else{\n						alert('There was an error sending your message.  Please try again.');\n						$this.text('Send Note');\n					}\n				},\n				error: function(response){\n					alert('There was an error sending your message.  Please try again.');\n					$this.text('Send Note');\n				}\n\n			});\n		}\n	});\n\n	if(typeof constants.viewer!=='undefined'){\n		$(\"#rsvp-first-name\").val(constants.viewer.first_name);\n		$(\"#rsvp-last-name\").val(constants.viewer.last_name);\n		$(\"#rsvp-email\").val(constants.viewer.email);\n	}\n	if(typeof constants.rsvp_form_field_values!=='undefined'){\n		var makeReadOnly = false;\n		if (constants.event_id == 79054) {\n			makeReadOnly = true;\n		}\n		for (var key in constants.rsvp_form_field_values) {\n			var value = $.trim(constants.rsvp_form_field_values[key]);\n			if (key == 'first_name') {\n				var $input = $(\"#rsvp-first-name\");\n				$input.val(value);\n				if (makeReadOnly && value != '') $input.attr('readonly','1');\n\n			} else if (key == 'last_name') {\n				var $input = $(\"#rsvp-last-name\").val(value);\n				if (makeReadOnly && value != '') $input.attr('readonly','1');\n\n			} else if (key == 'email') {\n				var $input = $(\"#rsvp-email\");\n				$input.val(value);\n				if (makeReadOnly && value != '') $input.attr('readonly','1');\n\n			// custom fields\n			} else {\n				var num = key.replace('custom_field_','');\n				var $input = $('#rsvp-form-inner').find('input[num=\"'+num+'\"]:first');\n				if ($input.length == 1) {\n					var type = $input.attr('type') || false;\n					if (type == 'radio' || type == 'checkbox') {\n						var set = false;\n						$('#rsvp-form-inner').find('input[num=\"'+num+'\"]').each(function(){\n							var $this = $(this);\n							if ($this.attr('type') == type && $this.val() == value) {\n								$this.attr('checked','checked');\n								set = true;\n							} else {\n								$this.removeAttr('checked');\n							}\n						});\n						// other\n						if (set == false) {\n							var $input = $('#rsvp-form-inner').find('input[num=\"'+num+'\"].other-input-field');\n							if ($input.length == 1) {\n								$('#rsvp-form-inner').find('input[num=\"'+num+'\",value=\"include_other_opt\"]').attr('checked','checked');\n								$input.val(value);\n							}\n						}\n					} else {\n						$input[0].value = value;\n					}\n					if (makeReadOnly && value != '') $input.attr('readonly','1');\n				} else {\n					var $input = $('#rsvp-form-inner').find('textarea[num=\"'+num+'\"]:first,');\n					if ($input.length == 1) {\n						$input.val(value);\n					} else {\n						var $input = $('#rsvp-form-inner').find('select[num=\"'+num+'\"]:first,');\n						if ($input.length == 1) {\n							$input.val(value);\n							if (makeReadOnly && value != '') $input.attr('disabled','disabled');\n						} else {\n							var $input = $('<input id=\"custom-'+num+'\" class=\"custom optional\" num=\"'+num+'\" name=\"custom_field_'+num+'\" type=\"hidden\" />');\n							$input.val(value);\n							$('#rsvp-form-inner').append($input);\n						}\n					}\n					if (makeReadOnly && value != '') $input.attr('readonly','1');\n				}\n			}\n		}\n	}\n\n	if($(\"#checkin-password-prompt\").length > 0){\n		$(\"#checkin-password-prompt\").fireSimpleModal({ persistent: true });\n		$(\"#checkin-page-code\").keyup(function(e){\n			if(e.keyCode==13){\n				$(\"#checkin-password-save\").click();\n			}\n		});\n\n		$(\"#checkin-password-save\").click(function(){\n			var $this = $(this);\n			if($this.hasClass('in-progress')){\n				return false;\n			}\n			$this.addClass('in-progress').text('Checking...');\n			$.ajax(constants.formBase+\"/splash/checkinPassword/\"+constants.event_id,\n			{\n				type: 'POST',\n				data: { code: $(\"#checkin-page-code\").val() },\n				dataType:'json',\n				success: function(response){\n					if(typeof response.success!=='undefined'){\n						$(\"#checkin-password-response\").hide();\n						document.location.reload();\n					} else{\n						$this.removeClass('in-progress').text('Submit');\n						$(\"#checkin-password-response\").hide().text('Invalid password').fadeIn();\n					}\n				},\n				error:function(){\n					alert('There was an error submitting your data.  Please try again (#102)');\n					$this.removeClass('in-progress').text('Submit');\n				}\n			});\n\n		});\n	}\n\n	// NEW -- GOOD -- DONT DELETE ME -- <3 Clay\n	if( $('body').hasClass('private') ) {\n\n		//moved into privacy check\n		$(\"input.age-input\").keyup(function(event){\n			if(event.keyCode == 13){\n				if($(this).prop(\"id\")=='age-yy'){\n					$(\"#access-code-form\").submit();\n				}\n				else{\n					event.preventDefault();\n					$(this).next().focus();\n					return;\n				}\n			}\n			var allowed = [46,8,9,188,37]; //allow backspace,delete,tab,period,left,right,comma\n			var $this= $(this);\n			if($this.val().length == $this.prop(\"maxlength\")){\n				if($.inArray(event.keyCode,allowed)<0 ){\n					$(this).next().focus();\n				}\n			}\n		});\n\n		$(\"#access-code-form\").submit(function(){\n			var $code_input = $(\"#access-code-input\");\n			if($(\"#age-mm\").length > 0){\n				var match = false;\n				$(\"input.age-input\").each(function(){\n					if($(this).val().length!=$(this).prop(\"maxlength\")){\n						$(\"#access-code-error\").html('Please enter a valid date of birth.').fadeIn('fast');\n						$(this).focus();\n						match=true;\n						return false;\n					}\n				});\n				if(match){\n					return false;\n				}\n			}\n			if($code_input.length && $code_input.val() == ''){\n				if($code_input.hasClass('email_access')){\n					$(\"#access-code-error\").html('<br>Please enter your email address to continue.').fadeIn('fast');\n				} else {\n					$(\"#access-code-error\").html('<br>Please enter the access code to continue.').fadeIn('fast');\n				}\n				$(\"#access-code-input\").focus();\n				return false;\n			}\n\n		});\n\n	}\n\n	$(\"#splash-container\").find(\".element\").each(function(){\n		var $t = $(this);\n		if($t.prop(\"id\")){\n			$t.parents(\".layoutGrp:first\").addClass($t.prop(\"id\"));\n		}\n	});\n\n	$(\"a.nav-jump,a.button-link\").click(function(event){\n		if(!$(\"body\").hasClass('finetune')){\n			var $t = $(this);\n			if($t.prop(\"target\")!='_blank' && $t.prop(\"target\")!='_self'){//if linking out, use _self.\n				jumpToNavBlock($t,event);\n				return false;\n			}\n		}\n	});\n\n	$('table.ticketTypeTable').on('click','span.showDetails',function(){\n		$(this).parents('tbody').find('tr.prefs').toggle();\n	});\n\n	if($('#main-canvas').find('.ticker').length > 0){\n		$('.ticker .ticker-item').hide()\n		fadeTickerItems()\n	}\n\n	if( $('body').hasClass('hasVidBG') && ! $('body').hasClass('finetune') ){\n		var tag = document.createElement('script');\n		tag.src = \"/js/vidBG.js\";\n		tag.id = \"ytAPIsrc\";\n\n		var firstScriptTag = document.getElementsByTagName('script')[0];\n		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n	}\n\n	if(typeof navPos!=='undefined' && navPos!==false && !$(\"body\").hasClass('finetune')){\n		$(\"#main-canvas\").find(\".nav-item\").click(function(){\n			$(this).find(\"a.nav-jump\").click();\n			return false;\n		});\n	}\n	if(constants.autosize['title']||constants.autosize['subtitle']||constants.autosize['rsvp']){\n		setTimeout(function(){\n			autoSizeContent(null);\n			setTimeout(function(){\n				autoSizeContent(null,true);\n			},100);\n\n		},10);\n	}\n\n	$(\"#main-canvas\").find(\".carousel\").each(function(){\n		$(this).activateCarousel();\n	});\n\n	$(\"#main-canvas\").find(\"input.event-hub-search\").each(function(){\n		var $search = $(this);\n		var $block = $search.parents(\"div.event-hub:first\");\n		if($block.length < 1){\n			$block = $(\"#main-canvas\").find(\"div.event-hub:first\");\n		}\n		$search.keyup(function(e){\n			if (e.which == 13) {\n				$search.parents(\"div.hubSearch:first\").find(\".search-btn\").click();//search.\n				return;\n			}\n		});\n\n	});\n\n	$(\"#rsvp-modal\").on('click','.shareBox .icon',function(e){\n		var type = $(this).parents(\".method:first\").attr(\"method\");\n		_gaq.push(['_trackEvent', 'Splash', 'shareBox-'+type, 'id:'+constants.event_id]);\n		if(typeof Indicative!=='undefined'){\n			Indicative.buildEvent('event-shareIconClick',(''+constants.event_id), {'share-type':type});\n		}\n\n	});\n\n	$(\"#rsvp-modal\").on('keyup','.shareBox .method[method=email] input',function(e){\n		if ( e.which == 13 ){ $(this).siblings('a:first').click(); }\n	})\n	$(\"#rsvp-modal\").on('click','.shareBox .method[method=email] a',function(e){\n		e.preventDefault();\n		var $this = $(this);\n		var $parent = $this.parents(\".method\");\n		if($this.hasClass('in-progress')){ return false; }\n		var $shareBox = $this.parents('.shareBox:first');\n		var $emailS = $shareBox.find('input.share-rsvp-email-input');\n		// var email = $.trim($emailS.val());\n		var email = $emailS.val();\n		var url = $this.attr('share-url');\n		if ( isValidEmail(email) ){\n			_gaq.push(['_trackEvent', 'Splash', 'EmailShareSend', 'id:'+constants.event_id]);\n			$emailS.attr('disabled','disabled');\n			$this.addClass('in-progress').text('Sending...');\n			$.ajax(constants.formBase+'/emailShare',{type:'POST',data:{email:email,url:url},dataType:'json',\n				success: function(response){\n					_gaq.push(['_trackEvent', 'Splash', 'EmailShareSuccess', 'id:'+constants.event_id]);\n					$shareBox.find('img.loading').remove();\n					$emailS.val('').removeAttr('disabled');\n					$this.removeClass('in-progress').text('Message sent!');//show();\n					setTimeout(function(){\n						$this.text('Send message');\n						$parent.find(\".icon:first\").click();\n					},2500);\n				},\n				error: function(){\n					_gaq.push(['_trackEvent', 'Splash', 'EmailShareSuccess', 'id:'+constants.event_id]);\n					$shareBox.find('img.loading').remove();\n					$this.show();\n					$emailS.removeAttr('disabled');\n				},timeout: 10000\n			});\n		}\n		else{\n			_gaq.push(['_trackEvent', 'Splash', 'EmailShareValidFail', 'id:'+constants.event_id]);\n			alert('Please enter a valid Email Address.');\n			$emailS.select();\n		}\n	});\n	$(\"#rsvp-modal\").on('click','.shareBox .method[method=link] a',function(e){\n		_gaq.push(['_trackEvent', 'Splash', 'shareBox-LinkOpen', 'id:'+constants.event_id]);\n	});\n	$(\"#rsvp-modal\").on('click','.shareBox .closeShareBox',function(e){\n		var $this = $(this);\n		_gaq.push(['_trackEvent', 'Splash', 'closeShareBox', 'id:'+constants.event_id]);\n		var $shareBox = $this.parents('.shareBox:first');\n		$shareBox.animate({width:'0px'},350,'linear',function(){$shareBox.remove();});\n	});\n	$(\"#rsvp-modal\").on('click','.shareBox .method .icon',function(e){\n		var $m = $(this).closest('.method');\n		var $p = $m.closest('.shareBox');\n\n		var clear = ($p.hasClass($m.attr('n'))||$m.hasClass('jammed'));\n		$p.find('.method').each(function(){ $p.removeClass($(this).attr('n')); });\n		if ( clear === false ){\n			$p.addClass($m.attr('n'));\n			_gaq.push(['_trackEvent', 'Splash', 'shareBox-'+$m.attr('method'), 'id:'+constants.event_id]);\n		}\n		else if (!$m.hasClass('jammed')){\n			_gaq.push(['_trackEvent', 'Splash', 'shareBox-clear', 'id:'+constants.event_id]);\n		}\n	});\n\n	$(document).on('click', '#rsvp-modal .nu-checkbox > a', function(e){\n		// FOR NU CHECKBOXES IN THE RSVP FORM, OPEN ANY LINKS WITHIN ON CLICK OF LINK\n		e.preventDefault();\n		window.open($(this).attr('href'), '_blank');\n		return false;\n	});\n\n	$(\"#splash-container\").on('click','a.close-fixed-modal',function(event){\n		$(\"#splash-container\").find(\"div.modalify\").removeClass('modalify');\n	});\n\n	customThemeReady()\n\n\n\n\n	if (!!navigator.userAgent.match(/Trident\\/7\\./)){\n		$('body').addClass('isIE')\n		var thisVer = $.browser.version.substring(0, 2).replace('.','')\n		$('body').addClass('v'+thisVer)\n	} else {\n		$('body').removeClass('isIE')\n	}\n\n	if( constants.inlineRsvp == 1 && constants.thisTheme.indexOf('st-reset') == '-1' && constants.thisTheme.indexOf('st-') != '-1' ){\n\n		var inlineBgColor = $('.element-rsvp').css('background-color')\n		var inlineTxtColor = $('.element-rsvp').css('color')\n		$('#rsvp-submit').css({'background-color':inlineBgColor, 'color':inlineTxtColor })\n\n		$('.element-rsvp').addClass('inlineForm')\n\n	}\n\n	updateModalColors()\n\n	//check for open rsvp form on load.\n	if(typeof constants.openRsvp!=='undefined' && constants.openRsvp=='1'){\n		showRsvpForm();\n	}\n\n	// prepare timepicker and datepicker inputs\n	$(\"input.input-type-time\").timepicker({\n		appendTo: '#rsvp-form-inner'\n	});\n	$(\".input-type-short-date\").datepicker({ dateFormat: \"mm/dd/y\" });\n\n	fixFooter();\n\n}); // end of document ready\n\n\n\nfunction fixFooter(){\n	var $mc = $('#main-canvas'),\n		$footer = $('#footer'),\n		mcHeight = $mc.outerHeight(),\n		footerHeight = ( $footer.is(\":visible\") )?$footer.outerHeight():0, //if the footer is not visible, set the height to 0;\n		totalHeight = mcHeight + footerHeight,\n		nuHeight = windowHeight - footerHeight,\n		$mcByClass = $mc.find('> .main-canvas-min-height')\n\n	if( totalHeight < windowHeight ){\n		$mc.css('min-height', nuHeight + 'px')\n		$mcByClass.css('min-height', nuHeight + 'px')\n	}\n}\n\n$('#rsvp-modal').find('.nu-checkbox').find('a').on('click', function(e){\n	// FOR NU CHECKBOXES IN THE RSVP FORM, OPEN ANY LINKS WITHIN ON CLICK OF LINK\n	e.preventDefault();\n	window.open($(this).attr('href'), '_blank');\n	return false;\n})\n\nRegExp.escape = function(text) { return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"); }\n\n	var $navWrap;\n	var navPos=false;\n	var navHeight = 0;\n	function fadeTickerItems(){\n\n		var tickers = $('#main-canvas').find('.ticker')\n		var animSpeed = 3000;\n		var fadeSpeed = 1000;\n\n		var fadeThisTicker = function(thisTicker){\n			var $t = $(thisTicker)\n\n			if( ! $t.hasClass('active') ){\n				$t.addClass('active')\n\n				var thisIndex = 0;\n				var endIndex = $t.find('.ticker-item').length;\n\n				$t.find('.ticker-item:first').fadeIn(fadeSpeed)\n\n				var  loopThisFade = function($this){\n					if( ! $this.hasClass('editingTicker') ){\n						setTimeout(function(){\n							if( ! $this.hasClass('editingTicker') ){\n								$this.find('.ticker-item:eq('+thisIndex+')').delay(fadeSpeed).fadeOut(fadeSpeed, function(){\n									thisIndex++\n									if(thisIndex == endIndex){\n										thisIndex = 0;\n									}\n									$this.find('.ticker-item:eq('+thisIndex+')').fadeIn(fadeSpeed, function(){\n										loopThisFade($this)\n									})\n								})\n							}\n						}, animSpeed)\n					} else {\n						$this.find('.ticker-item').show().css('opacity', '1')\n						loopThisFade = null\n					}\n				}\n				loopThisFade($t)\n			}\n		}\n\n		var scrollThisTicker = function(thisTicker){\n			var $t = $(thisTicker)\n\n			if( ! $t.hasClass('active') ){\n				$t.addClass('active')\n				var thisIndex = 0;\n				var endIndex = $t.find('.ticker-item').length\n				var scrollWidth = 0;\n\n				$t.find('.ticker-item').each(function(){\n					scrollWidth = scrollWidth + $(this).outerWidth()\n				})\n\n				if( scrollWidth < 5000 ){\n					scrollWidth = scrollWidth * 1.05\n				} else {\n					scrollWidth = scrollWidth * 1.1\n				}\n				var pxSpeed = 20\n				if( $t.parents('.layoutGrp:first').hasClass('slowScroll') ){\n					pxSpeed = 20\n				} else if( $t.parents('.layoutGrp:first').hasClass('medScroll') ) {\n					pxSpeed = 40\n				} else if( $t.parents('.layoutGrp:first').hasClass('fastScroll') ) {\n					pxSpeed = 50\n				}\n\n				var thisSpeed =  ( scrollWidth / pxSpeed ) * 1000\n\n				if( $t.find('.scrollWrap').length == 0 ){\n					$t.find('.children').wrapAll('<div class=\"scrollWrap\"></div>')\n				}\n\n				$t.find('.children:last').clone().appendTo($t.find('.scrollWrap') )\n\n				if( $t.find('.children').length < 3 ){\n					$t.find('.children:last').clone().appendTo($t.find('.scrollWrap'))\n				}\n\n				$t.find('.scrollWrap').css({'width':  ( scrollWidth*3.25 )  +'px'})\n				//$t.css({ 'left':'100%', 'position':'relative' }).animate({ 'left':\"-100%\" }, thisSpeed, 'linear', moveScroll);\n				$t.find('.children').css({'width':'auto', 'position':'relative'})\n				$t.find('.children:first').animate({ 'margin-left':\"-\"+ scrollWidth +\"px\" }, thisSpeed, 'linear', flipClones);\n\n				function moveScroll(){\n					$t.find('.children:first').animate({ 'margin-left':\"-\"+ scrollWidth +\"px\" }, thisSpeed, 'linear', flipClones);\n				}\n\n				function flipClones(){\n					if( ! $t.hasClass('editingTicker') ){\n						$t.find('.scrollWrap .children:first').insertAfter($t.find('.scrollWrap .children:last'))\n						$t.find('.children').css({'margin-left':'0px'})\n						moveScroll()\n					}\n				}\n\n			}\n\n		}\n\n		for(var i=0; i<tickers.length; i++){\n			if( ! $(tickers[i]).hasClass('editingTicker') && ! $(tickers[i]).hasClass('active') ){\n\n				$item = $(tickers[i]).find('.ticker-item')\n\n				if( $item.hasClass('tickerFade') ){\n					fadeThisTicker(tickers[i])\n				} else if( $item.hasClass('tickerScroll') ) {\n\n					$(tickers[i]).addClass('scrollBlock')\n					scrollThisTicker(tickers[i])\n				}\n\n			}\n		}\n\n	}\n\n	function getValuesObjFromForm($form){\n		var formArray = $form.serializeArray();\n		var form = {};\n		for ( i in formArray ){\n			var keyVal = formNameValueToObj(formArray[i].name,formArray[i].value);\n			if ( typeof form[keyVal.key] != 'undefined' ){\n				form[keyVal.key] = $.extend(form[keyVal.key],keyVal.value);\n			}\n			else {\n				form[keyVal.key] = keyVal.value;\n			}\n		}\n		return form;\n	}\n	// this function makes an assoc array (object) from name=\"someName[index][someIndex]\" .. // handy\n	function formNameValueToObj(name,value){\n		var ret = { key: '', value: false };\n		var tmp = name.split(/\\[/);\n		if ( tmp.length == 1 ){\n			ret.key = name.replace(/\\]/,'');\n			ret.value = value;\n		}else{\n			ret.key = tmp.shift().replace(/\\]/,'');\n			var keyVal = formNameValueToObj(tmp.join('['),value);\n			ret.value = {};\n			ret.value[keyVal.key] = keyVal.value;\n		}\n		return ret;\n	}\n\n\nfunction resetScroll(){\n	$('.ticker.scrollBlock .children').append( $('.tickerScroll:first') )\n	moveBG()\n}\n\nfunction moveBG(){\n    var left = $('.tickerScroll').offset().left;\n    $('.tickerScroll').css({ 'left':left+\"px\" });\n    $('.tickerScroll').animate({ 'left':\"-1000px\" }, 8000, 'linear', resetScroll);\n}\n\n\nvar cIn = false;\nvar cFadeLock = false;\n//var $ctrl = $('div.v-ctrl');\n// function fadeCtrl(){\n// 	if ( !cIn && !cFadeLock && !$('#sound').hasClass('big') ) {\n// 		$ctrl.fadeOut();\n// 	}\n// }\n\nvar videoPlayer = {pause:function(){}};\nvar duration; var minutes; var seconds; var currentTime; var c_minutes; var c_seconds;\nvar headerVideoInited = false;\n\n	$.fn.textfill = function(options) {\n       var fontSize = options.maxFontPixels;\n       var minFontSize = 3;\n       if(typeof options.minFontPixels !== 'undefined'){\n       		minFontSize = options.minFontPixels;\n       }\n       var ourText = $('span:visible:first', this);\n        var maxHeight = $(this).height();\n        var maxWidth = $(this).width();\n        var textHeight;\n        var textWidth;\n        do {\n            ourText.css('font-size', fontSize+'px');\n            textHeight = ourText.height();\n            textWidth = ourText.width();\n            fontSize = fontSize - 1;\n        } while ((textHeight > maxHeight || textWidth > maxWidth) && fontSize >= minFontSize);\n\n\n        if(options.comeBackUp && fontSize <= minFontSize && (textHeight > maxHeight || textWidth > maxWidth)){\n\n	        maxHeight = maxHeight * 2;//textHeight; //set maxHeight up to current height\n	        $(this).css('height',maxHeight+'px');\n	        do{\n	            fontSize = fontSize + 1;\n	            ourText.css('font-size', fontSize+'px');\n	            textHeight = ourText.height();\n	            textWidth = ourText.width();\n	        }\n	        while ((textHeight <= maxHeight) && fontSize < options.maxFontPixels );\n	        ourText.css('font-size',(fontSize-1)+'px');\n\n        }\n\n        return this;\n    }\n\n\n/*******************************\n * Photo Gallery functionality *\n *******************************/\nvar galleryOpen = false;\nvar currentPhotoId = 0;\nvar gBlankHtml;\n\n// array holding from properties for iframed gallery\nvar galleryIframeUtils = {\n	top : 0,\n	switchOrigin: '',\n\n	// apply special rules if iframed and window height is two times window width\n	isActive: function () {\n		return (window.location != window.parent.location) && ($(window).height() > $(window).width()*2);\n	}\n}\n\nfunction galleryInit(){\n	if ( $(\"#gallery-thumbs div.photo-thumb\").length > 0 ){\n\n		var $gBlank = $('#gallery').find('div.photo:first');\n		$gBlank.detach();\n		gBlankHtml = '<div photo-id=\":id:\" n=\":i:\" class=\"photo :type:\">'+$gBlank.html()+'</div>';\n		for ( i in galleryImages ){\n			galleryI[galleryImages[i]['id']] = parseInt(i) + 1;\n		}\n\n		//checks for clicking off gallery photos (easy close)\n		$(document).on({\n			mouseenter: function(){\n				$(this).addClass('activeLI');\n			},\n			mouseleave: function(){\n				$(this).removeClass('activeLI');\n			}\n			}, \"div.photos div.photo\"\n		);\n\n		$(\"div.photos\").click(function(){\n			if($(\"div.activeLI\").length < 1){\n				hideTheGallery();\n			}\n		});\n\n\n		if ( typeof adminSort == 'undefined' ){\n			$(document).on('click',\"div.photo-thumb\",function(){\n				//if($(this).hasClass('sort')){\n				//	return false; //dont fire if in sort mode.\n				//}\n				if($(\"#finetune-block\").length){\n					return false; //dont sort in finetune mode.\n				}\n				_gaq.push(['_trackEvent', 'Splash', 'GalleryOpenThumb', 'id:'+constants.event_id+' pid:'+$(this).find('img.th').attr('photo-id')]);\n				showTheGallery($(this).find('img.th').attr('photo-id'));\n			});\n		}\n\n		setTimeout(function(){\n			galleryThumbFlow();\n		},1000);\n\n\n		$(\"#gallery .mask-below, #gallery .actions .close\").click(function(){\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryClose', 'id:'+constants.event_id]);\n			hideTheGallery();\n		});\n\n		currentPhotoId = $(\"#gallery div.photos div.photo:first\").attr('photo-id');\n\n		$(\"#gallery .actions .next,#gallNext\").click(function(){\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryNext', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n			galleryNext();\n		});\n\n		$(\"#gallery .photo-count .first\").click(function(){\n			var photoId = galleryI[0];\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryFirst', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n			showTheGallery(photoId);\n		});\n		$(\"#gallery .photo-count .last\").click(function(){\n			var photoId = galleryI[galleryI.length-1];\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryLast', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n			showTheGallery(photoId);\n		});\n\n		$(\"#gallery .actions .prev,#gallPrev\").click(function(){\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryPrev', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n			galleryPrevious();\n		});\n\n		$(\"#gallery .actions .playPause\").click(function(){\n			if ( $(this).find('.play').hasClass('hide') ){\n				_gaq.push(['_trackEvent', 'Splash', 'GalleryStop', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n				// show play, hide pause, stop slideshow\n				$(this).find('.play').removeClass('hide');\n				$(this).find('.pause').addClass('hide');\n				stopGallerySlideshow();\n			}else{\n				_gaq.push(['_trackEvent', 'Splash', 'GalleryPlay', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n				// hide play, show pause, start slideshow\n				$(this).find('.play').addClass('hide');\n				$(this).find('.pause').removeClass('hide');\n				startGallerySlideshow();\n			}\n		});\n\n		$(document).on('click','.pinterestShare',function(){\n			var n = $(this).attr('n');\n			_gaq.push(['_trackEvent', 'Splash', 'PhotoPinterest', 'id:'+constants.event_id+' n:'+n]);\n			href=\"http://pinterest.com/pin/create/button/?media=\";\n			var imgSrc = $(this).parents('li:first').find('img.ph').attr('src');\n			if ( imgSrc[0] == '/'){\n				href+=encodeURIComponent('http://'+gallVars['domain']+imgSrc);\n			}else{\n				href+=encodeURIComponent(imgSrc);\n			}\n			href+=\"&url=\";\n			href+= $(this).parent().attr('share-url');\n			href+=\"&alt=alt&title=\";\n			href+=gallVars['urlencodedtitle'];\n			href+=\"&is_video=false\"\n			window.open(href,'Pinterest','width=590,height=360');\n			return false;\n		});\n\n		$(document).keyup(function(e){\n			if ( galleryOpen ){\n				var keyCode = e.which;\n				if ( keyCode == 37 || keyCode == 38 ) { // left arrow or up arrow\n					_gaq.push(['_trackEvent', 'Splash', 'GalleryKeyPrevious', 'id:'+constants.event_id+' k:'+keyCode]);\n					galleryPrevious();\n				}else if ( keyCode == 39 || keyCode == 40 ) { // right arrow or down arrow\n					_gaq.push(['_trackEvent', 'Splash', 'GalleryKeyNext', 'id:'+constants.event_id+' k:'+keyCode]);\n					galleryNext();\n				}else if ( keyCode == 27 ) { // escape\n					_gaq.push(['_trackEvent', 'Splash', 'GalleryKeyEsc', 'id:'+constants.event_id+' k:'+keyCode]);\n					hideTheGallery();\n				}\n			}\n		});\n\n		var $_GET = getQueryParams(document.location.search);\n		if ( window.location.hash && window.location.hash.match(/^#p[0-9]+/) ){\n			var index = parseInt(window.location.hash.replace(/^#p/,''));\n			_gaq.push(['_trackEvent', 'MobileSplash', 'GalleryAutoOpenHash', 'id:'+constants.event_id+' p:'+index]);\n			if ( index <= galleryImages.length ){\n				setTimeout('showTheGallery(1,'+index+')',1000);\n			}else{ // //console.log('choke');\n			}\n		}\n		else if ( $_GET.p && !isNaN(parseInt($_GET.p)) && isFinite($_GET.p) ){\n			var index = parseInt($_GET.p);\n			_gaq.push(['_trackEvent', 'Splash', 'GalleryAutoOpenShared', 'id:'+constants.event_id+' g:'+index]);\n			if ( index <= galleryImages.length ){\n				setTimeout('showTheGallery(1,'+index+')',1000);\n			}else{ //console.log('choke');\n			}\n		}\n		else if ( $_GET.i && !isNaN(parseInt($_GET.i)) && isFinite($_GET.i) ){\n			var photoid = parseInt($_GET.i);\n			var index = false;\n			if ( galleryI[photoid] ){\n				index = galleryI[photoid];\n				_gaq.push(['_trackEvent', 'Splash', 'GalleryAutoOpenShared', 'id:'+constants.event_id+' g:'+index]);\n				setTimeout('showTheGallery(1,'+index+')',1000);\n			}else{ //console.log('choke');\n			}\n		}\n		if ( $_GET.d && !isNaN(parseInt($_GET.d)) && isFinite($_GET.d) ) {photoLoadDelay = $_GET.d*1000;lzD=photoLoadDelay; }\n		if ( $_GET.party ) { partyMode = true; setTimeout(function(){ checkForNewPhotos();}, 5000); }\n		//if ( constants.domain == 'rockyourpalate.splashthat.com' ) { partyMode = true; setTimeout(function(){ checkForNewPhotos();}, 5000); }\n\n		if ( typeof $_GET.expired != 'undefined' ) {\n			$('#rsvp-button').click();\n			$('.rsvp-form .required-fields').css({'font-family':'Helvetica','font-size':'12px'}).html('Your order expired').show();\n		}\n\n		$(\"#splash-container\").on('click','.stickyMedia',function(e){\n			var $s = $('#stickyMedia');\n			$s.empty().show();//.append('<span class=\"close\">&#10006;</span>');\n\n			$s.css({ bottom:'auto', left: $(this).offset().left, top: ($(this).offset().top - $(window).scrollTop()), width: $(this).width(), height: $(this).height(), border: '2px dotted #333333', background: '#ffffff'});\n\n			var targetWidth = $(this).attr('w');\n			var targetHeight = $(this).attr('h');\n\n			var content = false;\n			if ( $(this).attr('content') != undefined ){\n				content = $(this).attr('content');\n			}else if ( $(this).attr('video-url') != undefined ){\n				var vUrl = $(this).attr('video-url');\n				for ( x in videoUrlElements ){\n					if ( vUrl.match(RegExp(videoUrlElements[x]['reg'])) ){\n						content = videoUrlElements[x]['element'].replace(/:video-url:/g,vUrl);\n						$c = $(content);\n						if ( $c.attr('content') != undefined ){\n							content = $c.attr('content');\n							targetHeight = $c.attr('h');\n							targetWidth = $c.attr('w');\n						}\n						break;\n					}\n				}\n			}\n			if ( content !== false ){\n				$s.animate({top:($(window).height()-targetHeight),left:(($(window).width()/2)-(targetWidth/2)),width:targetWidth,height:targetHeight},{duration: 1000, complete: function(){\n					$s.append(content+'<span class=\"close\">&#10006;</span>');\n					$s.css({bottom:0,top:'auto',border:0});\n				}});\n				stickyOn = true;\n			}\n			return false; // to stop the bubble up\n		});\n		$(\"#splash-container\").on('click','#stickyMedia .close',function(){\n			$('#stickyMedia').empty().hide();\n			stickyOn = false;\n		});\n\n\n	}\n}\n\n// Code that will die soon. Guillermo\n// RSVP Modal, behavior of the URL share\n		$(document).on('click','.urlShare',function(e){\n			e.preventDefault();\n			var $this = $(this);\n			if ( $this.find('input').length == 0 ){\n				var $p = $('<input type=\"text\" />');\n				$p.css({ width: '171px',fontFamily: 'Arial,sans-serif', fontSize: '12px',position: 'absolute', right: '108px', top: '52px', background: '#eeeeee', display: 'inline-block'});\n				$p.attr('disabled',true);\n				$p.val($this.attr('href'));\n				$this.append($p);\n				$p.select();\n			}else {\n				$this.find('input').remove();\n			}\n			return false;\n		});\n		$(document).on('click','a.backToTop',function(event){\n			event.preventDefault();\n			$(\"html, body\").animate({ scrollTop: 0 }, 300);\n			return false;\n\n\n		});\n\nvar stickyOn = false;\nwindow.onbeforeunload = function (evt) {\n	if ( stickyOn ){\n	var message = 'Looks like you might be listening to some tunes here.';\n	if (typeof evt == undefined) {\n		evt = window.event;\n	}\n	if (evt) {\n		evt.returnValue = message;\n	}\n	return message;\n	}\n}\nfunction getQueryParams(qs) {\n	qs = qs.split(\"+\").join(\" \");\n	var params = {},\n		tokens,\n		re = /[?&]?([^=&]+)=?([^&]*)?/g;\n\n	while (tokens = re.exec(qs)) {\n		params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n	}\n	return params;\n}\nfunction hideTheGallery(){\n	$(\"body\").css('overflow','auto');\n	galleryOpen = false;\n	$(\"#gallery\").fadeOut(400,function(){$(this).find('div.photos').empty();});\n	window.location.hash = '';\n	stopGallerySlideshow();\n}\n\nvar gallerySliding = false;\nfunction startGallerySlideshow(){\n	gallerySliding = true;\n	slideGallery();\n}\nfunction slideGallery(){\n	if ( gallerySliding ){\n		galleryNext();\n		_gaq.push(['_trackEvent', 'Splash', 'GalleryPlaySlide', 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n		setTimeout(function(){\n			slideGallery();\n		},5000);\n	}\n}\nfunction stopGallerySlideshow(){\n	gallerySliding = false;\n}\nvar galleryI = {};\nvar $gallery;\nfunction showTheGallery(photoId,n,action){\n	if ( typeof collapseStickyOnGaleryOpen != undefined ) $('#stickyMedia').addClass('closed');\n	videoPlayer.pause();\n	$(\"body\").css('overflow','hidden');\n	$gallery = $(\"#gallery\");\n	$gallery.find('div.photos').empty();\n	galleryOpen = true;\n	var $ul = $gallery.find('div.photos');\n	if ( photoId ){\n\n		galleryIframeUtils.switchOrigin = 'thumbnail';\n\n		// insert in the photo lis\n		if ( typeof n == 'undefined' )\n			var n = galleryI[photoId];\n		var $main = newPhotoLi(n);\n		$ul.append($main);\n		loadPhoto(n,0,$main);\n		positionPhotoLi(n,0);\n\n		// load next one\n		var np1 = n+1;\n		if ( np1 == ( galleryImages.length + 1 )&& galleryImages.length != 1 ) np1 = 1;\n		var $nPOne = newPhotoLi(np1);\n		if ( $nPOne !== false ){\n			$ul.append($nPOne);\n			loadPhoto(np1,1,$nPOne);\n			positionPhotoLi(np1,1,$nPOne);\n		}\n\n		// load previous one\n		if ( galleryImages.length !=2 ){\n			var nm1 = n-1;\n			if ( nm1 == 0&& galleryImages.length != 1 ) nm1 = galleryImages.length;\n			var $nMOne = newPhotoLi(nm1);\n			if ( $nMOne !== false ){\n				$ul.append($nMOne);\n				loadPhoto(nm1,-1,$nMOne);\n				positionPhotoLi(nm1,-1,$nMOne);\n			}\n		}\n\n		$(\"#gallery .photo-count span.current\").text(n);\n	}\n	$gallery.fadeIn();\n}\nfunction galleryNext(){\n\n	galleryIframeUtils.switchOrigin = 'arrow';\n	var p0 = parseInt($gallery.find('div.photo[p=0]').attr('n'));\n	var p1 = parseInt($gallery.find('div.photo[p=1]').attr('n'));\n	if ( isNaN(p1) || isNaN(p0) ) return false;\n	// remove n-1\n	$('#gallery').find('div.photos div.photo[p=-1]').remove();\n	// move n into -1\n	positionPhotoLi(p0,-1);\n	// move n+1 into 0\n	positionPhotoLi(p1,0);\n	// create and append new +1\n	var newnp2 = p0 + 2;\n	if ( newnp2 == ( galleryImages.length + 1 ) ) newnp2 = 1;\n	else if ( newnp2 == ( galleryImages.length + 2 ) ) newnp2 = 2;\n	if ( galleryImages.length != 2 ){\n		var $nP = newPhotoLi(newnp2);\n		$gallery.find('div.photos').append($nP);\n		positionPhotoLi(newnp2,1,$nP);\n		loadPhoto(newnp2,1,$nP);\n	}\n}\nfunction galleryPrevious(){\n\n	galleryIframeUtils.switchOrigin = 'arrow';\n	var p0 = parseInt($gallery.find('div.photo[p=0]').attr('n'));\n	var pm1 = parseInt($gallery.find('div.photo[p=-1]').attr('n'));\n	if ( isNaN(pm1) || isNaN(p0) ) return false;\n\n\n	// remove +1\n	$('#gallery').find('div.photos div.photo[p=1]').remove();\n	// move n into +1\n	positionPhotoLi(p0,1);\n	// move n-1 into 0\n	positionPhotoLi(pm1,0);\n	// create and append new -1\n	var newnm2 = p0 - 2;\n	if ( newnm2 == 0 ) newnm2 = galleryImages.length;\n	else if ( newnm2 == -1 ) newnm2 = galleryImages.length - 1;\n\n	if ( galleryImages.length != 2 ){\n		var $nM = newPhotoLi(newnm2);\n		$gallery.find('div.photos').append($nM);\n		positionPhotoLi(newnm2,-1,$nM);\n		loadPhoto(newnm2,-1,$nM);\n	}\n}\nfunction newPhotoLi(n){\n	var newHtml = gBlankHtml.replace(/:i:/g,n);\n	if ( galleryImages[n-1] ) {\n		for ( x in galleryImages[n-1] ){\n			if ( x == 'credit' ){\n				var credit = galleryImages[n-1][x];\n				if ( galleryImages[n-1].otype == 'twitter' ){\n					credit = '@'+credit+'<br>via Twitter';\n				}\n				else if ( galleryImages[n-1].otype == 'instagram' ){\n					credit = '@'+credit+'<br>via Instagram';\n				}\n				else if ( galleryImages[n-1].otype == 'facebook' ){\n					credit = '@'+credit+'<br>via Facebook';\n				}\n				if ( credit != '' ) credit = 'By '+credit;\n				newHtml = newHtml.replace(RegExp(':'+x+':','g'),credit);\n			}\n			else {\n				newHtml = newHtml.replace(RegExp(':'+x+':','g'),galleryImages[n-1][x]);\n			}\n		}\n		for ( x in gallVars ){\n			newHtml = newHtml.replace(RegExp(':'+x+':','g'),gallVars[x]);\n		}\n		var $n = $(newHtml);\n		if ( galleryImages[n-1]['video-url'] != '' ){\n			for ( x in videoUrlElements ){\n				if ( galleryImages[n-1]['video-url'].match(RegExp(videoUrlElements[x]['reg'])) ){\n					var ele = videoUrlElements[x]['element'].replace(/:video-url:/g,galleryImages[n-1]['video-url']);\n					$n.find('img.ph').after(ele);\n					break;\n				}\n			}\n		}\n		if ( typeof FB != 'undefined' ) FB.XFBML.parse($n.find('span.comment')[0]);\n		return $n;\n	}else{\n		return false;\n	}\n}\ngalleryNP = { n:0, np1:0, nm1:0, np2:0, nm2:0 };\n// positions photo, takes care of switching animations and loading background image\nfunction positionPhotoLi(n,p,$li){\n	if ( typeof($li) == 'undefined' ) $li = $('#gallery').find('div.photos div.photo[n='+n+']');\n	if ( typeof(p) == 'undefined' && $li ) p = $li.attr('p');\n	if ( galleryImages[n-1] ){\n		if ( $li.length > 0 ){\n			$li.attr('p',p);\n			if ( p == 0 ){\n\n				galleryNP.n = n;\n\n				// we force the top positining only if screen is tall. Useful for when iframed. only p==0\n				if ( galleryIframeUtils.switchOrigin != 'arrow' && galleryIframeUtils.isActive() ) {\n					$photoThumb = $('#gallery-container .photo-thumb[event-photo-id='+$li.attr('photo-id')+']');\n\n					var thumbTopDistance = Math.round($photoThumb.offset().top) - $(window).scrollTop();\n					thumbTopDistance += Math.round( $photoThumb.find('.inner>img').height()/2 );\n\n					$li.css({top: thumbTopDistance+'px', verticalAlign: 'top' });\n					$('#gallery-container .gall-ctrl').css({top: thumbTopDistance+'px', verticalAlign: 'top' });\n\n					galleryIframeUtils.top = thumbTopDistance;\n				}\n				// if the next or prev arrows where clicked, we keep positioning\n				else if ( galleryIframeUtils.switchOrigin == 'arrow' && galleryIframeUtils.isActive() ) {\n					$li.css({top: galleryIframeUtils.top+'px', verticalAlign: 'top' });\n				}\n				// if desktop, default css is applied. currently, no resizing support form mobile to desktop without refreshing\n\n\n				$li.css({right:'auto',left:'auto',zIndex:2,overflow:'visible', position:'relative'});\n				$li.siblings('div.photo').removeClass('active').find(\"span.share,span.credit,span.caption,.fb-wrap\").addClass('hide');\n\n				// showing the element and the picture\n				$li.addClass('active').find(\"span.share,span.credit,span.caption\").removeClass('hide');\n\n				// if clicking on the thumbnail, load background\n				if ( galleryIframeUtils.switchOrigin != 'arrow' ) {\n					$(\"#gallery\").find(\"div.primary\").html('<img src=\"'+galleryImages[n-1]['src']+'\" />');\n				}\n\n				// if clicking on arrow, we make a background transition\n				else if ( galleryIframeUtils.switchOrigin == 'arrow' ) {\n					$(\"#gallery\").find(\"div.secondary\").html('<img src=\"'+galleryImages[n-1]['src']+'\" />');\n					$(\"#gallery\").find(\"div.mask.primary\").animate(\n						{opacity: 0},\n						{duration: 0,\n							complete:function(){\n								$('#gallery').find('div.secondary').removeClass('secondary').addClass('primary');\n								$(this).addClass('secondary').removeClass('primary');\n								$(this).css('opacity',1);\n							}\n					});\n				}\n\n				$(\"#gallery .photo-count span.current\").text(n);\n\n			}else if ( p == 1 ){\n				galleryNP.np1 = n;\n				var newLeft = $(window).width() - 100;\n				$li.css({right:'auto',zIndex:1,overflow:'hidden'});\n				$li.animate({ left: newLeft },{ duration: 0, complete: function(){\n\n				}});\n			}else if ( p == -1 ){\n				galleryNP.nm1 = n;\n				var newRight = $(window).width() - 100;\n				$li.css({left:'auto',zIndex:1,overflow:'hidden'});\n				$li.animate({ right: newRight },{ duration: 0, complete: function(){\n\n				}});\n			}else if ( p == 2 ){\n				galleryNP.np2 = n;\n				$li.css('left',$(window).width() + 200);\n			}else if ( p == -2 ){\n				galleryNP.nm2 = n;\n				$li.css('left',$(window).width() + 200);\n			}\n		}\n	}else{\n		$li.css('left',$(window).width() + 200);\n		$li.attr('p',p);\n	}\n	setImageOrientation($li);\n}\n\nvar photoLoadDelay = 0;\nvar loadedPhotos = [];\nfunction loadPhoto(n,p,$li){\n	if ( typeof($li) == 'undefined' ) $li = $('#gallery').find('div.photos div.photo[n='+n+']');\n	if ( galleryImages[n-1] && $.inArray(n,loadedPhotos) == -1 ){\n		loadedPhotos.push(n);\n		if ( !$li.hasClass('quote') ){\n			if ( galleryImages[n-1]['src'] != '' ){\n				var loader = new ImageLoader(galleryImages[n-1]['src']);\n\n				loader.loadEvent = function(url, image){\n					setTimeout(function(){\n						var $l = $('#gallery').find('div.photos div.photo[n='+n+']');\n						$l.addClass('sized').find('img.ph').attr('src',url).load( function() {\n							// performed when image is loaded\n							positionPhotoLi(0);\n							setImageOrientation($l);\n						});\n					},photoLoadDelay);\n				};\n				loader.load();\n			}else{\n				$('#gallery').find('div.photos div.photo[n='+n+']').addClass('sized').find('img.ph').attr('src','').addClass('hide');\n			}\n		}\n	}\n	// if image is loaded\n	else if ( galleryImages[n-1] && !$li.hasClass('quote') ){\n		if ( $li.length > 0 ){\n\n			if (  galleryImages[n-1] != '' ){\n				$li.find('img.ph').removeClass('hide');\n			}else{\n				$li.find('img.ph').addClass('hide');\n			}\n			$li.find('img.ph').addClass('sized').attr('src',galleryImages[n-1]['src']).load( function () {\n				positionPhotoLi(n);\n				setImageOrientation($(this).closest('.photo'));\n			});\n		}\n	}\n}\nfunction setImageOrientation($li){\n\n	var $image = $li.find('img.ph');\n	var p = $li.attr('p');\n\n	// make positioning calculations only for the current and ones on the side\n	if ( p == 0 || p == -1 || p == 1 ) {\n		var diff = $image.height() - $image.width();\n		//$li.width($image.width()).height($image.height());\n		if ( $image.length == 1 ){\n			var licss = {'max-width':'none','max-height':'none'};\n			var imagecss = {'height':'auto','width':'auto','max-width':'none','max-height':'none'};\n			if ( !$li.hasClass('quote') ){\n				licss.height='auto';\n			}\n			if ( diff > 0 ){\n				//$li.addClass('portrait');\n				licss.maxHeight = '90%';\n				imagecss.maxHeight = '100%';\n			}\n			else if ( diff < 0 ){\n				//$li.addClass('landscape');\n				licss.maxWidth = '90%';\n				imagecss.maxWidth = '100%';\n			}\n			else{\n				//$li.addClass('square');\n				licss.maxWidth = '90%';\n				imagecss.maxWidth = '100%';\n			}\n\n			if ( galleryIframeUtils.isActive() ) {\n				licss.maxHeight = Math.round($(window).width()*0.9) + 'px';\n			}\n\n			$li.css(licss);\n			$image.css(imagecss);\n\n			// Calculate margin top so that the image is finally centered. Only for iframed (tall screens).\n			//   the margin will be adjusted so that the image is inside the view.\n			//   the next/prev arrows will be also centered to the image in case they aren't.\n			if ( p == 0 && galleryIframeUtils.isActive() ) {\n\n				$li.css({'margin-top': '0px'});\n				$('.gall-ctrl>span').css({'margin-top': '-40px'}); //bad bad, but the only way to do it without changing all styles and arrow icons\n\n				// calculate margin top\n				var marginTop = -Math.round( $image.height()/2 ); // default magin top to center an image\n				var distanceToEdges = 70; //px, min margin to viewport top and bottom edges\n				var offsetTop = Math.round($image.offset().top);\n\n				// moving the image up in case it goes out of the viewport. also move arrows on the side\n				if ( offsetTop + $image.height() + marginTop + distanceToEdges > $(document).height() ) {\n					newMarginTop = $(document).height() - (offsetTop + $image.height()) - distanceToEdges;\n					$('.gall-ctrl>span').css('margin-top', (newMarginTop - marginTop) + 'px');\n					marginTop = newMarginTop;\n				}\n\n				// moving the image down in case it goes out of the viewport. also move arrows on the side\n				if ( offsetTop + marginTop + distanceToEdges < 0 ) {\n					newMarginTop = -offsetTop + distanceToEdges;\n					$('.gall-ctrl>span').css('margin-top', (newMarginTop - marginTop) + 'px');\n					marginTop = newMarginTop;\n				}\n\n				$li.css({'margin-top': ''+marginTop+'px'});\n			}\n		}\n	}\n}\n\n/** Thumbnail loading stuff **/\nvar cleared = false;\nfunction galleryThumbFlow(force_cliff){\n	galleryOuterWidthReflow();\n	return;\n}\nvar scrollTop,docHeight,winHeight,winBottom,doneLoadingThumbs=false;\n\nvar $gallery = $(\"#gallery-container\");\nvar $thumbQuoteTable = $('<table class=\"quote-table\">'+\n							'<tr valign=\"middle\">'+\n								'<td valign=\"middle\">'+\n									'<h2 class=\"quote-body\"></h2>'+\n									'<h4 class=\"quote-credit\"></h4>'+\n								'</td>'+\n							'</tr>'+\n							'</table>');\n$(document).on('click','#loadMoreThumbs',function(){\n	checkViewportForThumbsToLoad();\n	//$('html,body').animate({ scrollTop: $(this).parent().offset().top+$(this).parent().height()- $(window).height() },{ duration:500, queue:false});\n});\nvar scrlT,sectionAdder=false;\nvar loggedOutScrollChecks = debounce(function(){\n	//clearTimeout(scrlT);\n	docHeight = $(document).height();\n	scrollTop = $(document).scrollTop();\n	winBottom = Math.ceil(scrollTop + winHeight);\n	//scrlT=setTimeout(function(){\n		checkViewportForThumbsToLoad();\n		var $ll = $(\"#live-link\");\n		if(!sectionAdder && $ll.length > 0 && typeof constants.finetune!=='undefined' && constants.finetune){\n			$ll.addClass('active');\n			sectionAdder=true;\n		}\n		if (!(typeof mustClickToLoadMore != 'undefined' && mustClickToLoadMore)) {\n			checkViewportForThumbsToLoad();\n		}\n		if($gallery.length){\n			if ( ( winHeight + scrollTop ) > $('#gallery-container').offset().top ){\n				$('#live-link').addClass('active');\n			}else $('#live-link').removeClass('active');\n		}\n	//},50);\n\n\n	if(typeof constants!=='undefined'){\n		if( constants.thisTheme == 'st-flyer-v2' || constants.thisTheme == 'st-poster-v2' ){\n			customThemeScroll( )\n		}\n	}\n\n	checkViewportForBottoms();\n\n}, 250);\n\n$(document).scroll(loggedOutScrollChecks);\n\n\nfunction resizeAdventureFooter(){\n\n	var thisWidth;\n\n\n	var $ac = $('#splash-container').find('.adventure-content')\n\n	if( $ac.length > 0 ){\n\n		if( $('body').hasClass('finetune') ){\n			thisWidth = ( $('#splash-container').outerWidth() - $('.event-bg-url').outerWidth() ) + 'px'\n		} else {\n			thisWidth = $ac.outerWidth() + 'px'\n			$('#footer').css('width', thisWidth)\n		}\n\n		$('#footer').css('width', thisWidth)\n	}\n\n\n}\n\n\nvar canvasTimer;\n\nfunction resizeAdventureCanvas(){\n\n\n\n//	clearTimeout( canvasTimer );\n\n//	canvasTimer = setTimeout(function(){\n\n		var $ac = $('#splash-container').find('.adventure-content')\n\n		if( $ac.length > 0 ){\n\n			var thisMin = $ac.css('min-height').replace('px','')\n\n			var newMin = thisMin - $('#footer').outerHeight()\n\n\n			if( $ac.outerHeight() > $(window).outerHeight() ){\n				$ac.css('min-height', $('.event-bg-url').outerHeight() + 50 + 'px' )\n			} else {\n				$ac.css('min-height', newMin + 'px')\n			}\n\n			resizeAdventureFooter()\n\n		}\n\n	//}, 100)\n\n\n}\n\nfunction resizeFlyer(){\n	if ($('body').hasClass('finetune')) {\n		$('#main-canvas').css('margin-bottom', $('.st-details-wrap').height()+40);\n	} else {\n		$('#footer').css('padding-bottom', $('.st-details-wrap').height()+40 );\n	}\n	$('.st-content-wrap').css('padding-bottom', $('.st-details-wrap').outerHeight() * .9 + 'px')\n}\n\nfunction scrollFlyer(){\n	if($(window).scrollTop() + $(window).height() > $(document).height() - $('#footer').outerHeight() ) {\n        $('body').addClass('scrolledToBottom')\n		$('.st-details-wrap').css('bottom', $('#footer').outerHeight() + 'px')\n	} else {\n		$('body').removeClass('scrolledToBottom')\n		$('.st-details-wrap').css('bottom', '')\n	}\n}\n\nfunction scrollPoster(){\n	if($(window).scrollTop() + $(window).height() > $(document).height() - $('#footer').outerHeight() ) {\n		$('body').addClass('scrolledToBottom')\n		$('.st-details-wrap').css('bottom', $('#footer').outerHeight() + 'px')\n	} else {\n		$('body').removeClass('scrolledToBottom')\n		$('.st-details-wrap').css('bottom', '')\n	}\n}\n\n\nfunction flyerReady(){\n	$('.st-content-wrap').css('padding-bottom', $('.st-details-wrap').outerHeight() * .9 + 'px')\n	$('#footer').css('padding-bottom', '')\n}\n\nfunction adventureReady(){\n\n\n	var $ac = $('#splash-container').find('div.adventure-content')\n\n	if( $ac.length > 0 ){\n\n		$ac.attr('initMinHeight', $ac.css('min-height') )\n		// save initial min height of container\n\n\n		$('.toolBtn').on('click', function(){\n			setTimeout(function(){\n\n				if( constants.thisTheme == 'st-adventure-v2'){\n					resizeAdventureFooter()\n				}\n\n			}, 10)\n		})\n\n		var resizeAdvTimer;\n\n		$('#splash-container').on('keyup', '.adventureStuffWrap, .event-bg-url', function(){\n			if( constants.thisTheme == 'st-adventure-v2' ){\n\n				clearTimeout(resizeAdvTimer);\n				resizeAdvTimer = setTimeout(function(){\n					if( constants.thisTheme == 'st-adventure-v2' ){\n						autoWindowSizes()\n					}\n				},100);\n\n			}\n		})\n\n		resizeAdventureFooter()\n\n	}\n\n}\n\nfunction adjustSlantyCanvas(){\n	if( typeof( $slantCanvas ) === 'undefined' || $slantCanvas.length == 0 ){\n		return false;\n	}\n		$canvasHeight = $('#main-canvas').height() - $slantCanvas.offset().top\n	$('.slantCanvasContain').css('height', $canvasHeight + 'px')\n}\n\n\nfunction updateClassicSidebar(){\n	//return false;\n	$sidebar = $('.details-wrap:first').find('.classicSidebar')\n\n	var $mc = $('.content-wrap.link-canvas-bg')\n	var color = $mc.css('background-color') + ' !important'\n\n\n	if( $('#main-canvas').hasClass('darkBG') ){\n		$sidebar.addClass('dark')\n\n		$sidebar.css('background-color', color).find('.details-cap').css('background-color', color)\n\n	} else {\n		$sidebar.removeClass('dark')\n		$sidebar.css('background-color', '').find('.details-cap').css('background-color', '')\n	}\n}\n\nfunction slantyReady(){\n	adjustSlantyCanvas()\n	updateHoverColors()\n}\n\nfunction resizeSlanty(){\n	adjustSlantyCanvas()\n}\n\n\nfunction customThemeReady(){\n	if( constants.thisTheme == 'st-adventure-v2' ){\n		adventureReady()\n	} else if ( constants.thisTheme == 'st-flyer-v2' ){\n		flyerReady()\n	} else if ( constants.thisTheme == 'st-slanty-v2'){\n		slantyReady()\n	}\n}\n\nfunction customThemeScroll(){\n	if ( constants.thisTheme == 'st-flyer-v2' ){\n		scrollFlyer()\n	} else if ( constants.thisTheme == 'st-poster-v2' ){\n		scrollPoster()\n	}\n}\n\nfunction customThemeResize(){\n\n	if( constants.thisTheme == 'st-adventure-v2' ){\n		resizeAdventureCanvas()\n	} else if ( constants.thisTheme == 'st-flyer-v2' ){\n		resizeFlyer()\n	} else if ( constants.thisTheme == 'st-slanty-v2' ){\n		resizeSlanty()\n	}\n\n}\n\nfunction resizeGalleryCarousel() {\n	$(\"#main-canvas\").find(\".carousel\").each(function(){//resizing the gallery carousel\n		$slides = $(this).find(\".slides\");\n		var width = $slides.parent().width();\n		var $imgs = $slides.find('.list-item')\n		$imgs.css('width',width+'px');\n		if ($imgs.length > 0) {\n			$slides.css('width',(width*($imgs.length+1))+'px');\n		}\n\n		$(this).slideToCurrent();\n	});\n}\n\n\n$(window).resize(function(){\n	winHeight = $(window).height();\n	windowHeight = winHeight;\n	scrollTop = $(document).scrollTop();\n	setImageOrientation($('#gallery-container').find('div.photo.active'));\n	modal.scale();\n\n	galleryOuterWidthReflow();\n	resizeSplashContainer();\n\n	resizeGalleryCarousel();\n\n	clearTimeout(clearing);\n	clearing = setTimeout(function(){\n		autoSizeContent();\n	},250);\n\n	customThemeResize( )\n\n	if( $('.autoWindowHeight').length > 0 ){\n		autoWindowSizes();\n	} else {\n\n		if( constants.thisTheme != 'st-poster-v2' && constants.thisTheme != 'st-flyer-v2'){\n			dynamaHead()\n		}\n	}\n\n	fixFooter();\n\n});\n\nfunction updateHoversOTF(){ // updates while choosing color on the fly\n\n\n	if ( constants.thisTheme == 'st-slanty-v2'){\n\n		var $mc = $('#splash-container').find('.content-wrap.link-canvas-bg'),\n			color = $mc.css('background-color')\n\n		var shade = parseColorLightDark(color)\n\n		if( shade == 'dark' ){\n			$('#main-canvas').removeClass('lightBG').addClass('darkBG')\n		} else {\n			$('#main-canvas').removeClass('darkBG').addClass('lightBG')\n		}\n\n		updateClassicSidebar()\n	}\n\n}\n\nfunction updateHoverColors(){\n\n	var $mc = $(\"#main-canvas\")\n	var color = $mc.css('background-color')\n\n	if( typeof constants.canvasColor !== 'undefined' && constants.canvasColor != ''){\n		color = constants.canvasColor\n	}\n\n	var shade = parseColorLightDark(color)\n\n	if(shade == 'dark'){\n		$mc.addClass('darkBG').removeClass('lightBG')\n	} else {\n		$mc.addClass('lightBG').removeClass('darkBG')\n	}\n\n	if ( constants.thisTheme == 'st-slanty-v2'){\n		updateClassicSidebar()\n	}\n\n}\n\nfunction parseColorLightDark(color){\n	var values = parseColorShade(color),\n	bgAvg = ( parseInt(values['red']) + parseInt(values['green']) + parseInt(values['blue']) ) / 3;\n\n	if(bgAvg < 146 && values['alpha'] > .475){\n		return 'dark';\n	} else {\n		return 'light';\n	}\n}\n\nfunction parseColorShade(color){\n\n	var values = { red:null, green:null, blue:null, alpha:null };\n\n	if( color.indexOf('#') === 0 ){\n		color = color.substr(1)\n		if( color.length == 3 )\n			values = {\n				red:   parseInt( color[0]+color[0], 16 ),\n				green: parseInt( color[1]+color[1], 16 ),\n				blue:  parseInt( color[2]+color[2], 16 ),\n				alpha: 1\n			}\n		else\n			values = {\n				red:   parseInt( color.substr(0,2), 16 ),\n				green: parseInt( color.substr(2,2), 16 ),\n				blue:  parseInt( color.substr(4,2), 16 ),\n				alpha: 1\n			}\n	/* rgb */\n	}else if( color.indexOf('rgb(') === 0 ){\n		var pars = color.indexOf(',');\n		values = {\n			red:   parseInt(color.substr(4,pars)),\n			green: parseInt(color.substr(pars+1,color.indexOf(',',pars))),\n			blue:  parseInt(color.substr(color.indexOf(',',pars+1)+1,color.indexOf(')'))),\n			alpha: 1\n		}\n	/* colora */\n	}else if( color.indexOf('rgba(') === 0 ){\n		var pars = color.indexOf(','),\n			repars = color.indexOf(',',pars+1);\n		values = {\n			red:   parseInt(color.substr(5,pars)),\n			green: parseInt(color.substr(pars+1,repars)),\n			blue:  parseInt(color.substr(color.indexOf(',',pars+1)+1,color.indexOf(',',repars))),\n			alpha: parseFloat(color.substr(color.indexOf(',',repars+1)+1,color.indexOf(')')))\n		}\n	/* verbous */\n	} else {\n		values = {\n				red:   0,\n				green: 0,\n				blue:  0,\n				alpha: 1\n			}\n	}\n\n	return values\n}\n\n\n\n\nfunction checkViewportForThumbsToLoad(checkAll){\n	if ( doneLoadingThumbs === false ){\n		if ( checkAll )\n			$nextUnloadedThumb = $('#gallery-thumbs img.unloaded:first');\n		else\n			$nextUnloadedThumb = $('#gallery-thumbs img.unloaded');\n		if ( $nextUnloadedThumb.length > 0 ){\n			$nextUnloadedThumb.each(function(){\n				if ( !$(this).hasClass('loading-thumb') ){\n					if ( winBottom >= $(this).offset().top ){\n						loadMoreThumbs();\n						return false;\n					}\n				}\n			});\n		}else if ( typeof unloadedGalleryThumbnails !== 'undefined' && unloadedGalleryThumbnails && unloadedGalleryThumbnails.length > 0 && winBottom >= $('#galleryThumbBottom').offset().top ) {\n			newToLoad = thumbsToLoad;\n			if ( newToLoad > unloadedGalleryThumbnails.length ) newToLoad = unloadedGalleryThumbnails.length;\n			//var newT = unloadedGalleryThumbnails.slice(0,thumbsToLoad);\n			$galleryThumbs = $('#gallery-thumbs');\n			$blank = $galleryThumbs.find('div.photo-thumb:first').clone();\n			$blank.removeClass('photo-thumb clear video double triple')\n				.find('.quote-table,.via').remove()\n				.end().find('img.th').remove()\n				.end().find('span.play').remove();\n			var playSpan = {open:'<span class=\"play', audio:' audio stickyMedia', id: '\" photo-id=\"', close: '\"></span>'};\n			for ( var x=0; x<newToLoad; x++ ){\n				var $newBlank = $blank.clone();\n				var n = unloadedGalleryThumbnails.shift();\n				$newBlank.addClass(n['outer-class']);\n				/*if ( n['outer-class'].match(/double/) ){\n					newToLoad += 7;\n					if ( newToLoad > unloadedGalleryThumbnails.length ) newToLoad = unloadedGalleryThumbnails.length;\n				}\n				if ( n['outer-class'].match(/triple/) ){\n					newToLoad += 9;\n					if ( newToLoad > unloadedGalleryThumbnails.length ) newToLoad = unloadedGalleryThumbnails.length;\n				}*/\n				var $img = $newBlank.find('img.th');\n				if ( $img.length == 0 ){\n					$img = $('<img />');\n					$newBlank.find('.inner:first').append($img);\n					$img.addClass('th').attr('loading-src','/images/eventfeed/loading-4.png');\n				}\n				$img.attr('data-src',n['src'])\n					.attr('src',$img.attr('loading-src')).addClass('unloaded')\n					.attr('photo-id',n['photo-id'])\n					.attr('thumbnail-position',n['thumbnail_position']);\n				if ( n['src'] == '' ) $img.css('display','none').removeClass('unloaded');\n				if ( n['has-play'] ){\n					var playButtonSpan = playSpan.open;\n					if ( n['has-play'] == 'audio' ) playButtonSpan += playSpan.audio + '\" video-url=\"'+n['video-url'];\n					playButtonSpan += playSpan.id+n['photo-id']+playSpan.close;\n					$newBlank.find('span.view').after(playButtonSpan);\n				}\n				$newBlank.find('.body').html(n['caption']);\n				$newBlank.find('.author').html(n['credit']);\n				$newBlank.find('.created').html(n['created']);\n				if ( n['type'] == 'quote' || ( ( n['type'] == 'twitter' || n['type'] == 'facebook' ) && n['src'] == '' ) ){\n					//$newBlank.find('.thumbDetails').remove();\n					//$newBlank.find('img.th').before($thumbQuoteTable.clone());\n					//$newBlank.find('.quote-body').html('\"'+n['caption']+'\"');\n					//$newBlank.find('.quote-credit').html('-'+n['credit']);\n\n					$newBlank.find('.quote .inner span:first').html(n['caption']);\n					$newBlank.find('.meta .username .inner span:first').html(n['credit']);\n					if (typeof n['remote_screen_name'] != 'undefined') {\n						$newBlank.find('.meta .username .inner span:last').html('@'+n['remote_screen_name']);\n					} else {\n						$newBlank.find('.meta .username .inner span:last').html('');\n					}\n					if (typeof n['meta_data'] != 'undefined' && n['meta_data']['remote_profile_img'] != 'undefined') {\n						$newBlank.find('.meta .thepoint img:first').attr('src',n['meta_data']['remote_profile_img']);\n					} else {\n						$newBlank.find('.meta .thepoint img:first').hide();\n					}\n				}\n				if ( n['otype'] == 'twitter' ){\n					$newBlank.find('.inner:first').append('<img src=\"/images/eventfeed/share-twitter.png\" alt=\"via Twitter\" title=\"via Twitter\" class=\"via\">');\n				} else if ( n['otype'] == 'instagram' ){\n					$newBlank.find('.inner:first').append('<img src=\"/images/eventfeed/share-instagram.png\" alt=\"via Instagram\" title=\"via Instagram\" class=\"via\">');\n				} else if ( n['otype'] == 'facebook' ){\n					$newBlank.find('.inner:first').append('<img src=\"/images/eventfeed/share-fbook.png\" alt=\"via Facebook\" title=\"via Facebook\" class=\"via\">');\n				}\n				$galleryThumbs.append($newBlank);\n				if ( unloadedGalleryThumbnails && unloadedGalleryThumbnails.length == 0 ){\n					doneLoadingThumbs = true;\n					$('#loadMoreThumbs').hide();\n				}\n			}\n			$('#gallery-thumbs').masonry('reload');\n			loadMoreThumbs();\n		}else if ( $nextUnloadedThumb.length == 0 && typeof unloadedGalleryThumbnails !== 'undefined' && unloadedGalleryThumbnails && unloadedGalleryThumbnails.length == 0 ){\n			doneLoadingThumbs = true;\n			$('#loadMoreThumbs').hide();\n		}\n	}\n}\n\n// position the image in the thumbnail viewport to represent their crop\nfunction positionThumbnail($img){\n	setTimeout(function(){\n		var fullPosition = $img.attr('thumbnail-position');\n		if ( fullPosition ){\n			var xyw = fullPosition.split(/;/);\n			if($img.attr(\"display-width\")){\n				var displayWidth = $img.attr('display-width');\n			}\n			else{\n				var $parent = $img.parents(\"div.photo-thumb\");\n				if($parent.hasClass('triple')){\n					$img.attr(\"display-width\",constants.thumbSizes.triple.w);\n				}\n				else if($parent.hasClass('double')){\n					$img.attr(\"display-width\",constants.thumbSizes.double.w);\n				}\n				else{\n					$img.attr(\"display-width\",constants.thumbSizes.single.w);\n				}\n				$img.attr(\"display-width\",$parent.width());\n\n				var displayWidth=$img.attr(\"display-width\");\n			}\n\n			var displayTop=0,displayLeft=0;\n			if ( xyw.length == 3 ){\n				displayWidth = Math.ceil(displayWidth/xyw[2]);\n				displayTop = Math.ceil(xyw[1]*displayWidth);\n				displayLeft = Math.ceil(xyw[0]*displayWidth);\n			}\n			$img.css({\n				\"min-width\": 'none',\n				\"max-width\": 'none',\n				\"margin-top\": '-'+displayTop+'px',\n				\"margin-left\": '-'+displayLeft+'px',\n				\"width\": displayWidth+'px',\n				\"height\": 'auto'\n			});\n		} else {\n			var diff = $img.height() - $img.parent().height();\n			if ( diff < 0 ){\n				$img.css({\n					\"min-width\": 'none',\n					\"max-width\": 'none',\n					\"width\": 'auto',\n					\"height\": '100%'\n				});\n			}else if ( diff > 0 ) {\n				$img.css({\n					\"height\": 'auto'\n				});\n			}\n		}\n	},200);\n}\n\nvar thumbsToLoad = 6*5;\n//var extraThumbsToLoad = 0;\nfunction loadMoreThumbs(){\n	$thumbs = $('#gallery-thumbs img.unloaded');\n	if ( $thumbs.length > 0 ){\n		var i = 0;\n		$thumbs.each(function(){\n			i++;\n			var $img = $(this);\n			$img.removeClass('unloaded').addClass('loading-thumb');\n			var loader = new ImageLoader($img.attr('data-src'));\n			loader.loadEvent = function(url, image){\n				//action to perform when the image is loaded\n				setTimeout(function(){\n					$img.attr('src',url);\n					$img.removeClass('loading-thumb')\n						.parents(\".inner:first\").addClass('loaded').find(\".lazy.message\").hide();\n					positionThumbnail($img);\n				},photoLoadDelay);\n			}\n			loader.load();\n		});\n	}\n	galleryThumbFlow();\n}\n\n$(document).on('click','.photo-thumb .thumbShare',function(e){\n	_gaq.push(['_trackEvent', 'Splash', 'shareBox-open', 'id:'+constants.event_id]);\n	$('div.main').find('.shareBox').each(function(){ $(this).animate({width:0},100,'linear',function(){$(this).remove();}) });\n	var $thumbDiv = $(this).parents('.photo-thumb:first');\n	var photoId = $thumbDiv.find('img.th').attr('photo-id');\n	var url = 'http://'+gallVars.domain+'/?i='+photoId;\n	var $myShareBox = createMyShareBox(url);\n	var right = $(window).width() - ($thumbDiv.offset().left+$thumbDiv.width()+2) ;\n	var top = $thumbDiv.offset().top + $thumbDiv.height() - 114;\n	$myShareBox.css({top: top, left: 'auto', right: right+'px',width: '0px'});\n	$('#gallery-thumbs').after($myShareBox);\n	$myShareBox.animate({width:'400px'},350,'linear',function(){\n		var myLeftOffset = $myShareBox.offset().left;\n		if ( myLeftOffset < 0 ){\n			$myShareBox.animate({right: (right+myLeftOffset)},200);\n		}\n	});\n	return false; // to stop the gallery from opening...\n});\n\n/* it takes the share box, which is the div containins the shareing links in the rsvp modal, and inserts the\ncurrent page URL */\nfunction createMyShareBox(url){\n	if ( $('#shareBoxMarkup').length == 0 ) {\n		return $();\n	}\n	var blankHtml = $('#shareBoxMarkup').html();\n	blankHtml = blankHtml.replace(/:url:/g,url);\n	return $(blankHtml);\n}\n$(document).on('click','#gallery div.photos div.photo .shareThisPhoto',function(e){\n	var $this = $(this)\n	var $li = $this.parents('div.photo:first');\n	if ( !$li.hasClass('shareBoxOpen') ){\n		$li.addClass('shareOpen shareBoxOpen').removeClass('commentsOpen');\n		$li.find('.fb-wrap').hide();\n		$li.css({\n			//height:$(window).height()-20\n			//,marginTop:($(document).scrollTop()-$li.offset().top)+10\n		});\n\n		// add and parse the fb comment block\n		var $myShareBox = createMyShareBox($li.find('.urlShare').attr('href'));\n		var newLeft = ($li.width()/2)-200;\n		$myShareBox.css({top: $this.parent().height(), right: 'auto', left: newLeft,height: '0px'});\n		$this.parents('.photo-util').find('.util-actions-wrap').prepend($myShareBox);\n		$myShareBox.animate({height:'116px'},1,'linear',function(){\n			setTimeout(function(){$('div.photos').scrollTop($('div.photos').height());},0);\n		});\n		$this.hide();\n	}else{\n		$li.removeClass('shareOpen shareBoxOpen commentsOpen')\n			.css({height:'',marginTop:'auto'});\n		$li.find('.shareBox').remove();\n	}\n});\n\n//var partyDelays = { check: 30000, scrollJump: 30 }; // live\nvar partyDelays = { check: 3000, scrollJump: 900 }; // testing\n\nvar newPhotosSince;\nvar partyMode = false;\nvar keepScrolling = false;\nvar keepScrollingRepeat = false;\nfunction checkForNewPhotos(){\n	$.ajax(constants.formBase+'/party/new',{type:'POST',data:{since:newPhotosSince},dataType:'json',\n		success: function(response){\n			if ( typeof response.newSince != 'undefined' ){\n				newPhotosSince = response.newSince;\n			}\n			thumbsToLoad = 2;\n			if ( typeof response.newThumbs != 'undefined' && response.newThumbs.length > 0 ){\n				unloadedGalleryThumbnails = unloadedGalleryThumbnails.concat(response.newThumbs);\n				doneLoadingThumbs = false;\n				keepScrolling = true;\n				checkViewportForThumbsToLoad();\n			}\n			if ( typeof response.scrollToTopWhenAtBottom != 'undefined' ){\n				keepScrollingRepeat = response.scrollToTopWhenAtBottom;\n				keepScrolling = true;\n				keepScrollingDown();\n			}\n			if ( typeof response.partyDelayCheck != 'undefined' ){\n				partyDelays.check = parseInt(response.partyDelayCheck);\n			}\n			if ( typeof response.partyDelayScrollJump != 'undefined' ){\n				partyDelays.scrollJump = parseInt(response.partyDelayScrollJump);\n			}\n\n			// do we stop the party?\n			if ( typeof response.stopParty != 'undefined' ){ partyMode = false; keepScrolling = false; }\n			// or keep it rolllllingg\n			if ( partyMode == true ){\n				setTimeout(function(){ checkForNewPhotos(); }, partyDelays.check); // call again in 1 min\n			}\n		},\n		timeout: 5000\n	});\n}\nvar nwineiunvriwunewervwe;\nfunction keepScrollingDown(){\n	clearTimeout(nwineiunvriwunewervwe);\n	nwineiunvriwunewervwe = setTimeout(function(){\n	if ( keepScrolling ){\n		var current = $(document).scrollTop();\n		$('html, body').stop().animate({\n			scrollTop: current+partyDelays.scrollJump\n		}, 1000,'linear',function(){\n			if ( current == $(document).scrollTop() ){\n				if ( keepScrollingRepeat ){\n					keepScrolling = false;\n					setTimeout(function(){\n						var $screen = $('<div style=\"position:fixed;width:100%;height:100%;background:#000000;display:none;top:0;left:0;z-index:23;\"></div>');\n						$('#main-canvas').append($screen);\n						$screen.fadeIn(1000,function(){\n							$(document).scrollTop(0);\n							$screen.fadeOut(1000,function(){\n								keepScrolling = true;\n								keepScrollingDown();\n								$screen.remove();\n							});\n						});\n					},1000);\n				}else keepScrolling = false;\n			}else{\n				keepScrollingDown();\n			}\n		});\n	}\n	},0);\n}\n\n/***********************************\n * End Photo Gallery functionality *\n ***********************************/\n\n	var liveTimes;\n	var countdownInterval;\n\n	var map_visible = false;\n	var countdown_visible = false;\n	var map_animating = false;\n	var countdown_animating = false;\n	var map_hover = false;\n	var countdown_hover = false;\n\n	function isValidEmail(val){\n		var reg = /^([A-Za-z0-9_\\-\\.\\+:])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n		return reg.test($.trim(val));\n	}\n\n\nvar $get_params = getQueryParams(window.location.search);\nif(typeof $get_params.fb !=='undefined'){\n	setTimeout(function(){\n		$(\"#fb-link\").click();\n	},2000);\n}\nelse if(typeof $get_params.tw !== 'undefined'){\n	setTimeout(function(){\n		$(\"#twitter-link\").click();\n	},2000);\n}\nif(typeof $get_params.closefb !== 'undefined'){\n	window.close();\n}\n$(\"#ext-rsvp-link\").click(function(){\n	_gaq.push(['_trackEvent', 'Splash', 'GetLinks', 'id:'+constants.event_id]);\n});\n\n//resize title on the fly.\n$.fn.resizeText = function(args){\n	// clearTimeout(clearing);\n	// clearing = setTimeout(function(){\n	if(args==null){\n		args = { min: 18, max: 140 };\n	}\n\n	var $t = $(this);\n	// $t.html($t.html().replace(/<br\\s*[\\/]?>/gi,' ')).css('font-size',maxFontSize);\n	$t.css(\"font-size\",args.max+'px');\n   	var tempTarget = $t.clone().html(\"&nbsp;\").insertAfter($t);\n   	var fontSize = parseInt($t.css(\"font-size\"));\n	while ($t.height() > tempTarget.height() && fontSize>=args.min) {\n	 	fontSize--;\n	    $t.css(\"font-size\", fontSize+'px');\n    }\n    $t.css(\"line-height\",fontSize+'px');\n    // finetuneDeActivateEditable($(this));\n    // finetuneActivateEditable($('#element-title').find(\"h1 span\"),'data[EventSetting][theme_styles][title][text]',{ /*singleField:true,*/ noPane: true, noRTE: true });\n	tempTarget.remove();\n	//},200);\n\n}\n\n\n\nvar galleryOuterWidthReflowTimer;\nvar forceSmallerGalleryWidth = false;\nfunction galleryOuterWidthReflow() {\n	clearTimeout(galleryOuterWidthReflowTimer);\n	galleryOuterWidthReflowTimer = setTimeout(function(){\n		var $g = $('#gallery-container');\n		if ($g.hasClass('noAutoWidthChange')) {\n			w = $g.width();\n		}\n		var $gt = $('#gallery-thumbs');\n		var cols = 5;\n		if ($g.hasClass('column4')) {\n			cols = 4;\n		} else if ($g.hasClass('column3')) {\n			cols = 3;\n		} else if ($g.hasClass('column2')) {\n			cols = 2;\n		} else if ($g.hasClass('column1')) {\n			cols = 1;\n		}\n		var win = $(window).width();\n		if (win<481) {\n			cols = 1;\n		}\n		var w = $gt.width();\n\n		var displayRatio = 3/4;\n		var margin = 4; // half of the gutter\n\n		var columnWidth = Math.floor(w/cols);\n		var rowHeight = Math.floor(columnWidth*displayRatio);\n\n		var singleWidth = columnWidth-margin*2;\n		var singleHeight = rowHeight-margin*2;\n		var doubleWidth = (singleWidth*2+margin*2);\n		var doubleHeight = (singleHeight*2+margin*2);\n		var tripleWidth = (singleWidth*3+margin*4);\n		var tripleHeight = (singleHeight*3+margin*4);\n\n		var $thumbs = $gt.find(\".photo-thumb\");\n		$thumbs.each(function(){\n			var $this = $(this);\n			var width = singleWidth;\n			var height = singleHeight;\n			if ($this.hasClass('triple')) {\n				if (cols >= 3) {\n					width = tripleWidth;\n					height = tripleHeight;\n				} else if (cols == 2) {\n					width = doubleWidth;\n					height = doubleHeight\n				}\n			} else if ($this.hasClass('double')) {\n				if (cols >= 2) {\n					width = doubleWidth;\n					height = doubleHeight;\n				}\n			}\n			var css = {\n				'width':width+'px',\n				'height':height+'px'\n			};\n			$this.css(css);\n			$this.find('>.inner:first').css(css);\n		});\n\n		// lock this parent's height\n		var $p = $gt.parent();\n		$p.css('height',$p.height()+'px');\n		if ($gt.hasClass('masonry')) {\n			$gt.masonry('destroy');\n		}\n		if(typeof galleryMasonryVars!=='undefined' && $thumbs.length > 0){\n			galleryMasonryVars.columnWidth = columnWidth;\n			$gt.masonry(galleryMasonryVars);\n		}\n\n		setTimeout(function(){\n			$p.css('height','auto');\n		},1000);\n\n	},100);\n}\n\n\nfunction autoSizeContent(type,fv){\n	//return; // this has been causing all sorts of title size issues\n	// if(type!=null){\n	// 	if(typeof constants.autosize[type]!=='undefined' && constants.autosize[type]){\n	// 		if(type=='rsvp'){\n	// 			$(\"#element-\"+type).parents(\".layoutGrp:first\").resizeText({ min: 18, max: 36 });\n	// 		} else{\n	// 			$(\"#element-\"+type).parents(\".layoutGrp:first\").resizeText();\n	// 		}\n	// 	}\n	// } else{\n	// 	if(constants.autosize['title']){\n	// 		$(\"#element-title\").parents(\".layoutGrp:first\").resizeText();\n	// 	}\n	// 	if(constants.autosize['subtitle']){\n	// 		$(\"#element-subtitle\").parents(\".layoutGrp:first\").resizeText();\n	// 	}\n	// 	if(constants.autosize['rsvp']){\n	// 		$(\"#element-rsvp\").parents(\".layoutGrp:first\").resizeText({ min: 18, max: 36 });\n	// 	}\n	// }\n	if(fv!=null){\n		$(\"#element-title\").parents(\".layoutGrp:first\").removeClass(\"no-op\");\n		$(\"#element-subtitle\").parents(\".layoutGrp:first\").removeClass(\"no-op\");\n		$(\"#element-rsvp\").parents(\".layoutGrp:first\").removeClass(\"no-op\");\n	}\n}\n\n/********* Image loading Object Stuff *******************/\n// Cross-browser implementation of element.addEventListener()\nfunction addListener(element, type, expression, bubbling)\n{\n	bubbling = bubbling || false;\n	if(window.addEventListener)	{ // Standard\n		element.addEventListener(type, expression, bubbling);\n		return true;\n	} else if(window.attachEvent) { // IE\n		element.attachEvent('on' + type, expression);\n		return true;\n	} else return false;\n}\nvar ImageLoader = function(url){\n	this.url = url;\n	this.image = null;\n	this.loadEvent = null;\n};\n\nImageLoader.prototype = {\n	load:function(){\n		this.image = document.createElement('img');\n		var url = this.url;\n		if (url != '') {\n			var image = this.image;\n			var loadEvent = this.loadEvent;\n			addListener(this.image, 'load', function(e){\n				if(loadEvent != null){\n					loadEvent(url, image);\n				}\n			}, false);\n			this.image.src = this.url;\n		}\n	},\n	getImage:function(){\n		return this.image;\n	}\n};\n\n/********* End Image loading Object Stuff *******************/\n\n/********** Lazy Image Loading **************/\nvar lzD=0; // delay to test some shit...\nvar lazyLoader=function(){this.q=[];this.r=false;};\nlazyLoader.prototype={\n	load: function(image,_c){\n		if (image && image != '') {\n			this.q.push(image);\n			if(this.r==false)this.go(_c);\n		}\n	},\n	go: function(_c){\n		if (this.q.length>0){\n			this.r=true;\n			var image=this.q.shift();\n			var me = this;\n			var went = false;\n			this.loadImage(image,function(){\n				if ( !went ) { me.go(); went = true; }\n				if(typeof _c!='undefined')_c();\n			});\n			setTimeout(function(){ if ( !went ) { me.go(); went = true; } },200);\n		}else this.r=false;\n	},\n	loadImage: function(i,_c){\n		var iL=new ImageLoader(i.getAttribute('lazy-src'));\n		iL.loadEvent=function(u){\n			i.setAttribute('src',u);\n			i.removeAttribute('lazy-src');\n			$(i).parents(\".inner:first\").addClass('loaded').find(\".lazy.message\").hide();\n			if(typeof _c!='undefined')setTimeout(_c,lzD);\n			positionThumbnail($(i));\n		};\n		iL.load();\n	}\n}\nvar myLazyLoader=new lazyLoader();\nfunction lazyLoad(i,c){myLazyLoader.load(i,c)}\n\nfunction manualLazy(ele,src,_c){\n	var loader = new ImageLoader(src);\n	loader.loadEvent = function(url, image){\n		setTimeout(function(){\n			ele.setAttribute('src',url);\n			if ( typeof _c != 'undefined' ) _c();\n		},0);\n	};\n	loader.load();\n}\n\nfunction getAge(dateString) { //http://stackoverflow.com/questions/4060004/calculate-age-in-javascript\n	var today = new Date();\n	var birthDate = new Date(dateString);\n	var age = today.getFullYear() - birthDate.getFullYear();\n	var m = today.getMonth() - birthDate.getMonth();\n	if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n	age--;\n	}\n	return age;\n}\n\nfunction resizeSplashContainer(){ //fixes footer to the bottom of the page.\n	var $div = $(\"#footer\");\n	if($div.is(\":visible\")){\n\n		if ( $('#splash-container .layoutGrp.event-body').length>0 ) {\n			$(\"#splash-container .layoutGrp.event-body\").css('min-height',$(window).height()-$div.outerHeight(true));\n		} else {\n			$(\"#splash-container\").css('min-height',$(window).height()-$div.outerHeight(true));\n		}\n\n		if( $('#splash-container').outerHeight() < $(window).outerHeight() ){\n			$('body').addClass('fixFooter')\n		} else {\n			$('body').removeClass('fixFooter')\n		}\n\n	//	$(\"#main-canvas\").css('min-height',$(window).height()-$div.outerHeight(true));\n	} else{\n	//	$(\"#main-canvas\").css('min-height',$(window).height()-$div.outerHeight(true));\n	}\n\n}\n\n\nvar $awhs=false;\nfunction autoWindowSizes(){\n\n	var h = winHeight;\n	if ( typeof($awhs) != 'undefined' || $awhs==false ){\n		$awhs = $('.autoWindowHeight');\n	}\n	if ($awhs.length>0){\n		$awhs.each(function(){\n			var $t=$(this);\n			var $m=$t.find('.autoHeightMaint:first');\n			if ($m.length>0){\n				var mh=$m.outerHeight();\n				$t.css('height',mh+'px');\n				$t.css('min-height',h+'px');\n			}\n		});\n	}\n\n	if( constants.thisTheme == 'st-adventure-v2' ){\n		resizeAdventureCanvas()\n	}\n}\nvar $hbiv=false;\nfunction checkViewportForBottoms(){\n	if($hbiv===false){$hbiv=$('.hasBottomInViewport');}\n	if($hbiv.length>0){\n		$hbiv.each(function(){\n			var $t=$(this); var h=$t.height(); var t=$t.offset().top;\n			if(h+t>winBottom){$t.removeClass('bottomIn');}else{$t.addClass('bottomIn');}\n	});}\n}\n\n\n/**********************\n * Upload Photo Modal */ // {{{\nfunction uploadGalleryPhotos() {\n	var $galleryModal = $('#galleryUploadModal');\n	$galleryModal.html('Loading...').fireSimpleModal();\n	$.ajax({url:constants.upload_form_action+'?m'})\n		.done(function(response){\n			$galleryModal.html(response);\n			initializePhotoUploader();\n		});\n\n}\n\nfunction updateModalColors(){\n\n	if( ! $('#splash-container').hasClass('isCustomPage') ){\n\n		var $btn = $('#main-canvas').find('.element-rsvp')\n\n		var btnBgColor = $btn.css('background-color')\n		var highlightColor\n\n		if( ! btnBgColor ){\n			btnBgColor = '#000'\n		}\n\n		var shade = parseColorLightDark( btnBgColor )\n\n		highlightColor = 'rgba(255,255,255,.5)'\n		if( btnBgColor == 'rgb(255, 255, 255)' ){\n			highlightColor = 'rgba(0,0,0,.1)'\n		}\n		var btnTxtColor = $btn.css('color')\n\n		if( ! btnTxtColor ){\n			btnTxtColor = '#FFF'\n		}\n\n		var nuGradient = \"linear-gradient(to right, \"+btnBgColor+\", \"+highlightColor+\", \"+btnBgColor+\", \"+highlightColor+\")\"\n\n		$('#rsvp-modal').find('.bgGradient').css({'background-image': nuGradient, 'background-color':btnBgColor})\n\n		/*\n		if($btn.length > 0 && ! $btn.hasClass('inlineForm') ){\n			$('#rsvp-submit').css({ 'background-color':btnBgColor, 'color':btnTxtColor })\n		}\n		if($(\"#ticketForm\").length > 0){\n			$('#ticketForm').find('.purchase-button').css({ 'background-color':btnBgColor, 'color':btnTxtColor });\n		}\n		var $addCalWrap = $(\"#add-cal-wrap\");\n		if($addCalWrap.length > 0){\n			$addCalWrap.find('a.add-cal,.the-cals').css({ 'background-color':btnBgColor, 'color':btnTxtColor })\n			$addCalWrap.find('a').css('color', btnTxtColor)\n		}\n		*/\n\n	}\n\n}\n\nfunction showRsvpForm(){\n	$(\"#rsvp-modal\").fireSimpleModal({persistent:true});\n	$('#rsvp-form-inner').addClass('active');\n\n	updateModalColors()\n\n\n	if( $('#rsvp-modal').find('.ticket-create-link').length > 0){\n		$('#rsvp-modal').addClass('no-payout-info')\n	} else {\n		$('#rsvp-modal').removeClass('no-payout-info')\n	}\n\n	setTimeout(function(){\n		$('#rsvp-first-name').focus();\n	}, 400);\n	return false;\n}\nfunction jumpToNavBlock($t,event){\n	var jumpTo = $t.attr(\"href\");\n	if(typeof jumpTo==='undefined'){ return false; }\n	if(jumpTo.match(/^#/)){//if it starts with a hash, jump in.\n		jumpTo = jumpTo.replace('http://','');//remove \"http://\" from jumpTo path.\n		if (event && event.preventDefault) event.preventDefault();\n		var $s = $(jumpTo);\n		if(jumpTo=='#tobutton'||jumpTo=='#button'||jumpTo=='#rsvp'){\n			$s = $(\"#element-rsvp\");\n			//if rsvp form is inline, scroll to it.\n			if($s.length < 1 /*|| !$s.parents(\".element-rsvp:first\").is(\":visible\")*/ ){\n				$('html, body').animate({\n			    	scrollTop: 0\n			   	}, 400);\n			} else { //otherwise, pop the rsvp modal.\n				// ticket type hide/showing\n					// this is the 'Two Ticket Button Solution'\n					// it will hideticket types that aren't tagged with the correct tag\n					// to use:\n					// 1. add a button element to the page with action 'Main Page Action'.\n					// 2. set ticket_types.tag for each ticket type\n					// 3. add a classname to the button element of 'ticket-tag-TAGNAME' to match the ticket_types.tag\n					// 4. ???\n					// 5. profit\n					var ticket_tag = false;\n					var $parent = $t.parents('.layoutGrp:first');\n					var classes = (''+$parent[0].className).split(' ');\n					for (var x in classes) {\n						if ((''+classes[x]).match(/^ticket-tag-[^\\s]+/i)) {\n						ticket_tag = (''+classes[x]).replace('ticket-tag-','');\n						}\n					}\n					var $form = $('#rsvp-modal');\n					$form.find('.short-ticket-form .tkt-wrap').show();\n					if (ticket_tag !== false) {\n						if (ticket_tag !== false){\n							$form.find('.short-ticket-form .tkt-wrap:not(.'+ticket_tag+')').hide();\n							$form.find('.short-ticket-form tr.discount').show();\n						}\n					}\n				showRsvpForm();\n			}\n			return false;\n		} else if(jumpTo == '#top'||jumpTo == '#totop'||jumpTo == '#event'){//go to top of the page.\n			$('html, body').animate({\n		    	scrollTop: 0\n		   	}, 400);\n			return false;\n		} else if(jumpTo.indexOf('modal-') > -1){\n			$('body').addClass('inModal')\n			var modalLocation = jumpTo;\n			var modalStr = modalLocation.split(\"-\");\n			modal.show(modalStr[1]);\n		} else if(jumpTo=='#guest-list'){\n			attendees.view();\n		}\n\n		if($s.length > 0){\n			if($t.parents(\".tt-content\").length > 0){//tabbed nav.\n				//tabbed nav, not page nav.\n				var $p = $s.parents(\".sf:first\");\n				var bt = 'full-list';\n\n				$t.parents(\".tt-content\").find(\"div[block-type='\"+bt+\"']\").each(function(){\n					$(this).parents(\".layoutGrp:first\").hide();\n				});\n				var $b = $s.parents(\".layoutGrp:first\");\n\n				$b.show();\n				$t.parents(\".nav-item:first\").addClass('active').siblings().removeClass('active');\n\n			} else{\n				$t.parents(\".nav-item:first\").addClass('active').siblings().removeClass('active');\n				$('html, body').animate({\n			    	scrollTop: $s.offset().top - 60 - navHeight\n			   	}, 400);\n   			}\n	   		return false;\n   		} else {\n   			//CHECKS FOR TT.  HARDCODED LINKS\n   			if(jumpTo == '#to301527'){ //\"IDEAS\"\n   			 	var $s = $(\"#main-canvas\").find(\".sf[block-type='content']:first\");\n   			} else if(jumpTo == '#to301542'){//PARTICIPANTS\n   				var $s = $(\"#main-canvas\").find(\".sf[block-type='list']:first\");\n   			} else if(jumpTo == '#to306859'){//PHOTOS\n   				var $s = $(\"#main-canvas\").find(\".element-gallery:last\");\n   				if($s.length < 1 || !$s.is(\":visible\")){\n   					var $s = $(\"#main-canvas\").find(\".sf[block-type='images']:first\");\n   				}\n   			}\n   			if(typeof $s !== 'undefined' && $s.length > 0){\n   				$('html, body').animate({\n   			    	scrollTop: $s.offset().top - 60 - navHeight\n   			   	}, 400);\n   			}\n   		}\n	} else {\n		$t.click();//try firing if it's a real link.\n	}\n}\n\nvar autoTimeout;\n\nfunction dynamaHead(){\n\n	if( $('.stretchBox').length == 0){\n		return false;\n	}\n\n	clearTimeout(autoTimeout)\n\n	autoTimeout = setTimeout(function(){\n\n			var $thisBG = $('.event-bg-url')\n\n			var innerHeight = $('.stretchBox').outerHeight() + 60\n\n			if( constants.thisTheme == 'st-pitch-v2'){\n				innerHeight = $('.stretchBox').outerHeight() + 100\n			}\n\n\n			var thisMin = parseInt( $thisBG.css('min-height') )\n\n			if( innerHeight > thisMin ){\n				$thisBG.css('height', innerHeight + 'px' )\n\n				$('.stretchBox').css('top', '0px')\n\n				if( constants.thisTheme == 'st-pitch-v2'){\n					$('.stretchBox').css('top', '-30px')\n				}\n\n			} else {\n				$thisBG.css('height', thisMin + 'px' )\n				$('.stretchBox').css('top', '')\n			}\n\n	}, 700 )\n\n}\n\n//lat-lng distance calculation - slightly modified for miles from: http://stackoverflow.com/questions/27928/how-do-i-calculate-distance-between-two-latitude-longitude-points\nfunction getDistanceFromLatLon(lat1,lon1,lat2,lon2) {\n  //var R = 6371; // Radius of the earth in km\n  var R = 3959; // Radius of the earth in miles\n\n  var dLat = deg2rad(lat2-lat1);  // deg2rad below\n  var dLon = deg2rad(lon2-lon1);\n  var a =\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n    Math.sin(dLon/2) * Math.sin(dLon/2)\n    ;\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  var d = R * c; // Distance in km\n  return d;\n}\nfunction deg2rad(deg) {\n  return deg * (Math.PI/180)\n}\n\n\nvar openModal = false;\nvar clearing;\nvar windowHeight = $(window).height();\n\n/* End Upload Photo Modal * // }}}\n **************************/\n $.fn.slideToCurrent = function(){\n	var $carousel = $(this),\n		$parent = $carousel.parents(\".layoutGrp:first\"),\n		$slides = $carousel.find(\".slides\"),\n		$left = $parent.find(\".scrollLeftContain\"),\n		$right = $parent.find(\".scrollRightContain\");\n\n	var $current = $carousel.find(\".list-item.current:first\");\n	var left = $current.position().left;\n	$slides.css('left','-'+left+'px');\n	var current_index = $current.index();\n	$parent.find('.progress .current').html((current_index+1));\n	var $currentImg = $current.find(\"img:first\");\n	if($currentImg.hasClass('unloaded')){\n		lazyLoad($currentImg[0],function(){$currentImg.removeClass('unloaded')});\n	}\n	if($current.prev().length > 0){\n		$left.show();\n	} else {\n		$left.hide();\n	}\n\n	if($current.next().length > 0){\n		$right.show();\n	} else {\n		$right.hide();\n	}\n }\n $.fn.activateCarousel = function(params){\n 	//\n 	var $carousel = $(this), //div.carousel inside of the layout group. can be multiple on page.\n	$parent = $carousel.parents(\".layoutGrp:first\"),//parent layout group for carousel\n	$left = $parent.find(\".scrollLeftContain\"),//left button.\n	$right = $parent.find(\".scrollRightContain\"),//right button.\n	$slides = $carousel.find(\".slides\"),\n	imgCount = $carousel.find(\".list-item\").length;\n\n 	if(imgCount == '1'){//if only one, hide the controls.\n 		$left.hide();\n 		$right.hide();\n 	}\n 	$parent.find(\".progress\").find(\".total\").text(imgCount);\n\n	// do this soon.. but after we're done here\n	setTimeout(function(){\n		var width = $slides.parent().width();\n		var $imgs = $slides.find('.list-item')\n		$imgs.css('width',width+'px');\n		if ($imgs.length > 0) {\n			$slides.css('width',(width*($imgs.length+1))+'px');\n		}\n	},0);\n\n	function loadNext() {\n 		var $next = $carousel.find(\"img.unloaded:first\");\n		if ($next.length == 1) {\n			lazyLoad($next[0],function(){$next.removeClass('unloaded')});\n		}\n	}\n\n 	$left.unbind('click').click(function(){//going left in carousel.\n 		var $currentImg = $carousel.find(\".list-item.current:first\");\n 		var $prev = $currentImg.prev();\n 		$currentImg.removeClass('current');\n		$prev.addClass('current');\n		$carousel.slideToCurrent();\n 	});\n\n 	$right.unbind('click').click(function(){//going right in carousel.\n 		var $currentImg = $carousel.find(\".list-item.current:first\");\n 		var $next = $currentImg.next();\n 		$next.addClass('current');\n 		$currentImg.removeClass('current');\n		$carousel.slideToCurrent();\n		loadNext();\n 	});\n }\n $.fn.getHubBlock = function(){\n	var	$block = $(this).parents(\"div.event-hub:first\");\n 	if($block.length < 1){\n 		$block = $(\"#main-canvas\").find(\"div.event-hub:first\");\n 	}\n 	return $block;\n }\n\n///starting to build modalify functionality\nvar modal = {\n	modalLinks: [],\n	modalId: '',\n	uniqueID: function() {\n		return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n	},\n	linkModal: function(option) {\n		modal.modalLinks.push(option);\n	},\n	create: function($ele) { //takes group Id\n		$ele.addClass('isModal');\n\n	},\n	show: function(modalId) {\n		var modalObj = $('#main-canvas').find('[modalid = '+modalId+']');\n\n		$('body').addClass('inModal');\n		modalObj.addClass('isModalFront')\n		modalObj.parent().addClass('makeModal');\n		modal.scale();\n\n		layoutFunction.checkToolsViewport(modalObj);\n		modal.modalId = modalId;\n\n	},\n	scale: function() {\n		var modalObj = $('#main-canvas').find('[modalid = '+modal.modalId+']');\n		var modalObjH = modalObj.height();\n		var modalObjW = modalObj.width();\n\n		var winHeight = $(window).height();\n		var winWidth = $(window).width();\n\n		var diffH = winHeight - modalObjH;\n		var diffW = winWidth - modalObjW;\n\n		modalObj.css('margin-left',diffW/2);\n		modalObj.css('margin-top',diffH/2);\n\n	},\n	close: function($this) {\n		console.log('here')\n		if($('body').hasClass('inModal')) {\n			$('body').removeClass('inModal');\n			$this.removeClass('makeModal');\n			$this.find('[modalid = '+modal.modalId+']').removeClass('isModalFront')\n		}\n		return false;\n	}\n}\n\nvar ticketForm = function(ticket_hierarchy) {\n	var $form = null;\n\n	var getChildIds = function(parent_ttid) {\n		var childIds = [],\n			objectKey = 'parent_id_' + parent_ttid;\n		if(ticket_hierarchy['parent2children'][objectKey] && ticket_hierarchy['parent2children'][objectKey] instanceof Array) {\n			childIds = ticket_hierarchy['parent2children'][objectKey];\n		}\n		return childIds;\n	}\n\n	var getParentIds = function(child_ttid) {\n		var parentIds = [],\n			objectKey = 'child_id_' + child_ttid;\n		if(ticket_hierarchy['children2parents'][objectKey] && ticket_hierarchy['children2parents'][objectKey] instanceof Array) {\n			parentIds = ticket_hierarchy['children2parents'][objectKey];\n		}\n		return parentIds;\n	}\n\n	var showChildren = function(ticketTypeId) {\n		//the ticket has children tickets, toggle their visibility\n		var childIds = getChildIds(ticketTypeId);\n		for(var t = 0; t < childIds.length; t++) {\n			var $child = $('#ticket-type-' + childIds[t], $form);\n			$child.show();\n			$child.find('input, select, textarea').prop('disabled', false);\n		}\n	}\n\n	/**\n	* This is pretty confusing, the child to be hidden can have other parents that might need to show\n	* this child, so we have to loop over the parents and make sure they don't need this child.\n	* parents can have a mutual && children have > 1 parent\n	*/\n	var hideChildrenIfNotNeeded = function(ticketTypeId) {\n		var childIds = getChildIds(ticketTypeId);\n		for(var t = 0; t < childIds.length; t++) {\n			//check all other parents\n			var parentIds = getParentIds(childIds[t]),\n				neededByOtherParent = false;\n			for(var p = 0; p < parentIds.length; p++) {\n				var otherParentQty = $('select.quantity-select[data-ttid=\"' + parentIds[p] + '\"]').val();\n				if(otherParentQty && parseInt(otherParentQty) > 0) {\n					neededByOtherParent = true;\n					break;\n				}\n			}\n			if(neededByOtherParent) {\n				return null;\n			}\n\n			var $child = $('#ticket-type-' + childIds[t], $form);\n			$child.hide();\n			$child.find('input, select, textarea').val(0).prop('disabled', true);\n\n			//hide the children of this child\n			console.log('hide children ' + childIds);\n			for(var c = 0; c < childIds.length; c++) {\n				hideChildrenIfNotNeeded(childIds[c]);\n			}\n		}\n	}\n\n	var selectQuantity = function() {\n		var $dropdown = $(this),\n			ticketTypeId = $dropdown.data('ttid'),\n			quantity = $dropdown.val();\n		if(quantity && parseInt(quantity) > 0) showChildren(ticketTypeId);\n		else hideChildrenIfNotNeeded(ticketTypeId);\n\n		if($('.secondary-ticket:visible').length) $('.addon-tickets', $form).addClass('applicable');\n		else $('.addon-tickets', $form).removeClass('applicable');\n	}\n\n	//dom ready, bind dropdown event\n	$(function() {\n		$form = $('#ticketForm');\n		$form.find('select.quantity-select').on('change', selectQuantity);\n	})\n\n}\n\n\n/** anything pertaining to viewing attendees on-page **/\nvar attendees = {\n	loadList: function(sort){\n		$(\"#sort-spinner\").show();\n		$.ajax(constants.formBase+\"/splash/viewAttendees/\",{\n			data: { event_id: constants.event_id, sort: sort },\n			type: 'post',\n			success: function(response){\n				$(\"#sort-spinner\").hide();\n				$(\"#event-attendees\").html(response);\n				var updated_guest_count = $(\"#event-attendees\").find(\".updated-guest-count:first\").html() * 1;\n				$(\"#guest-count\").html(updated_guest_count+' Attending');\n				$(\"#attendees-modal\").addClass('loaded');\n			},\n			error: function(){\n				$(\"#sort-spinner\").hide();\n				alert('There was a problem processing your request.  Please try again.');\n			}\n		});\n	},\n	sortList: function($obj){\n		var $this = $obj;\n		var sort = $this.attr(\"sort\");\n		_gaq.push(['_trackEvent', 'Splash', 'ViewAttendeeSort'+sort, 'id:'+constants.event_id+' pid:'+currentPhotoId]);\n		$this.parents(\".attendee-sort\").find(\"a.active\").removeClass('active');\n		$this.addClass('active');\n		attendees.loadList(sort);\n	},\n	view: function(){\n		if($(\"#attendees-modal\").hasClass('loaded')){\n			$(\"#attendees-modal\").fireSimpleModal();\n			return false;\n		} else{\n			$(\"#attendees-modal\").fireSimpleModal();\n			attendees.loadList('');\n			return false;\n		}\n	},\n\n}\n\n// ------------------\n// Client geolocation\n//\n// Usage:\n//    Geolocation.geolocateMe()  - It will load location. Only one request made no matter how many times it is called\n// Callbacks:\n//    .success( function(data) {} )\n//    .fail ( function(errorMsg) {} )\n// Pattern used: Douglas Crockford Module Pattern\nvar Geolocation = function($) {\n\n	var ip='';\n	var country_code='';\n	var country_name='';\n	var region_code='';\n	var region_name='';\n	var city='';\n	var zipcode='';\n	var latitude='';\n	var longitude='';\n	var metro_code='';\n	var area_code='';\n	var status='';\n	var errorMsg='';\n	var successCallback= null;\n	var failCallback= null;\n\n	// callbacks function, executes the appropiate callback after the ajax call is made\n	var _callbacks = function () {\n		// Callback: SUCCESS\n		if ( status == 'success' && typeof successCallback == 'function' ) {\n\n			successCallback({\n				// all geo data\n				ip:ip,country_code:country_code,country_name:country_name,region_code:region_code,\n				region_name:region_name,city:city,zipcode:zipcode,latitude:latitude,\n				longitude:longitude,metro_code:metro_code,area_code:area_code\n			});\n		}\n		// Callback: FAIL\n		else if ( typeof failCallback == 'function' ) {\n			failCallback( errorMsg );\n		}\n	};\n\n	return {\n		// main function that performs the geolocation and executes callbacks if set\n		geolocateMe: function () {\n\n			// only execute if it wasnt executed before\n			if ( ip == '' ) {\n\n				$.ajax({\n					url: \"http://freegeoip.net/json/\"\n				})\n				.success( function (response) {\n\n					ip = response['ip'];\n					country_code = response['country_code'];\n					country_name = response['country_name'];\n					region_code = response['region_code'];\n					region_name = response['region_name'];\n					city = response['city'];\n					zipcode = response['zipcode'];\n					latitude = response['latitude'];\n					longitude = response['longitude'];\n					metro_code = response['metro_code'];\n					area_code = response['area_code'];\n					status = 'success';\n\n					_callbacks();\n\n				})\n				.fail(function(xhr, options, error ) {\n\n					errorMsg = \"geolocateMe response: \"+ xhr.status+ \" - \"+error;\n					_callbacks();\n				})\n\n			}\n			// if location was already loaded, simply execute callback\n			else {\n				setTimeout( function(){\n					_callbacks()\n				},0);\n			}\n			return this;\n		},\n\n		// saves the given function as a parameter so it will be executed on callback\n		success: function ( newSuccessCallback ) {\n			if ( typeof newSuccessCallback == 'function' ) {\n				successCallback = newSuccessCallback;\n			}\n			return this;\n		},\n\n		// saves the given function as a parameter so it will be executed on callback\n		fail: function ( newFailCallback ) {\n			if ( typeof newFailCallback == 'function'  ) {\n				failCallback = newFailCallback;\n			}\n			return this;\n		}\n	}\n}(jQuery)\n\n\n// ----------------------------------\n// Social Buttons logic\n// \n// uses the _event.social information, or the default stuff\n//\nvar SocialBtns = function($) {\n\n	return {\n		fireTweet: function ( body ) {\n\n			body = (body == null) ? _event.social.twitter.body : body;\n\n			if ( body == '' && typeof _event.finetune != 'undefined' ) {\n				body = _event.finetune.social_defaults.twitter.body\n			}\n\n			var href = 'https://twitter.com/intent/tweet?source=tweetbutton&text=' + encodeURIComponent( body );\n			window.open( href, 'Twitter', 'width=400,height=350');\n			_gaq.push(['_trackEvent', 'Splash', 'SocialTrayTW', 'tw id:'+ _event.id ])\n		},\n\n		fireFacebookShare: function ( name, description ) {\n\n			name = (name == null) ? _event.social.facebook.name : name;\n			description = (description == null) ? _event.social.facebook.description : description;\n\n			if ( name == '' ) {\n				name = _event.finetune.social_defaults.facebook.name\n			}\n			if (description == '' ) {\n				description = _event.finetune.social_defaults.facebook.description\n			}\n\n			var href = 'https://www.facebook.com/dialog/feed?display=popup&app_id=' +constants.facebook_client_id +\n				'&description=' + encodeURIComponent( description ) +\n				'&name=' + encodeURIComponent( name ) +\n				'&link=' + encodeURIComponent( _event.domain.effective ) +\n				'&redirect_uri=http://splashthat.com/?fbClose=1';\n			window.open(href,'Facebook','width=400,height=250');\n			_gaq.push(['_trackEvent', 'Splash', 'SocialTrayFB', 'fb id:'+ _event.id ]);\n		},\n\n		fireLinkedInShare: function ( title, description ) {\n\n			title = (title == null) ? _event.social.linkedin.name : title;\n			description = (description == null) ? _event.social.linkedin.description : description;\n\n			if ( title == '' ) {\n				title = _event.finetune.social_defaults.linkedin.name\n			}\n			if ( description == '' ) {\n				description = _event.finetune.social_defaults.linkedin.description\n			}\n\n			var href = 'http://www.linkedin.com/shareArticle?mini=true' +\n				'&summary=' + encodeURIComponent( description.substr(0,2000) ) +\n				'&title=' + encodeURIComponent( title.substr(0,200) ) +\n				'&url=' + encodeURIComponent( 'http://'+_event.domain.effective );\n			window.open(href,'Linkedin','width=520,height=570');\n			_gaq.push(['_trackEvent', 'Splash', 'SocialTrayLI', 'li id:'+ _event.id ]);\n		}\n	}\n}(jQuery)\n\n// -- Social buttons, click handlers\n// We need to take this doc ready to other place\n// Legacy social buttons, fixed on the page\n$(document).ready(function(){\n	$('body').on('click', '#social-main .social-btn', function() {\n\n		if ( $(this).hasClass('twitter') ) {\n			SocialBtns.fireTweet();\n		} else if ( $(this).hasClass('facebook') ) {\n			SocialBtns.fireFacebookShare();\n		} else if ( $(this).hasClass('linkedin') ) {\n			SocialBtns.fireLinkedInShare();\n		}\n\n	});\n});\n\n// ----------------------------------\n\n\n// convenient function to update javascript event properties\nfunction am_pm_to_hours(time) {\n	var matches = time.match(/^(\\d+):(\\d+):{0,1}(\\d{0,2})/);\n	var hours = Number(matches[1]);\n	var minutes = Number(matches[2]);\n	if ((/PM/i).test(time) && hours < 12) hours = hours + 12;\n	if ((/AM/i).test(time) && hours == 12) hours = hours - 12;\n	var sHours = hours.toString();\n	var sMinutes = minutes.toString();\n	if (hours < 10) sHours = \"0\" + sHours;\n	if (minutes < 10) sMinutes = \"0\" + sMinutes;\n	return (sHours +':'+sMinutes + (matches[3] != '' ? ':'+matches[3] : ':00'));\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-site.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 130824,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/create.ctp",
			"settings":
			{
				"buffer_size": 10227,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/rsvp-form.ctp",
			"settings":
			{
				"buffer_size": 36816,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "@import 'global-mixins'\n\n#edit-settings #settingsUpSell\n	display none\n\n// .settingsOpen\n// .simple-modal-wrap\n// .simple-modal\n// 	max-width none !important\n// 	max-height none !important\n// 	transition none\n\n#edit-settings\n	min-width 670px\n	background rgba(244, 244, 244, 0.92) !important\n	// display none !important\n	transition none \n	::-webkit-scrollbar-thumb\n		background #C0C0C0 !important\n		box-shadow 0 0 0 1px #FFF inset !important\n	::-webkit-scrollbar-track\n		background transparent !important\n\n	.settings-fixed-hdr \n		position fixed\n		top 0\n		left 0\n		width calc(100% \\- 129px \\- 279px)\n		background #FAFAFA\n		z-index 1\n		padding 1.5em 3em\n		.light\n			font-weight 700\n\n	#settings-content\n	#settings-sidebar\n		/*position absolute Guillermo */\n		position relative\n		height 100%\n\n	.sectionWrap\n		margin-bottom 1em\n\n	#settings-content\n		width 100%\n		height calc(100% - 4.6em)\n		/*top 4.6em Guillermo */\n		/*left 0 Guillermo */\n		top 0\n		overflow auto\n		background #f4f4f4\n\n		.splash-box\n			background-color #fafafa\n\n		.contact-wrap\n			&:not(.newbie)\n				.invite-sent\n					display none !important\n\n		// Overriding some widths\n		.settings-right > .w3-4\n		.settings-right .w1-2\n		.settings-right .w2-4\n		.sectionWrap.w3-4\n			width 100% \n			padding-right 0 \n			padding-left 0\n\n		// Privacy options\n		.settings-right .w3-4 .nu-dropdown.m\n			width 100%\n			background #fff\n			margin-top 0px\n\n		#password-holder\n			margin-top 10px\n			&:before\n				position absolute\n				top 10px\n			#private-code\n				margin-left 20px\n\n		.privacyWrap\n			.nu-dropdown\n				.current\n					overflow hidden\n					text-overflow ellipsis\n\n		#eventMetadata > div\n			max-width 600px\n\n\n		.nu-input\n			color #505050\n			padding 10px 10px\n			font-family 'gibsonLight'\n		#domain-input\n			/*border none !important Guillermo */\n			font-family 'gibsonLight' !important\n			/*border-radius 0 Guillermo */\n			box-shadow none\n			float left\n			color #505050 !important\n			padding 10px 10px\n			&.organizer-name\n			&.organizer-email\n				border 1px solid #D1D1D1 !important\n		textarea\n			min-height 5em\n		#share-btn-wrap\n			.nu-checkbox\n				float right\n				top 12px\n		#eventSettingsWrap\n			.nu-checkbox\n			&.checked:after\n				left 13px\n			.refresh-notice\n				position absolute\n				top 2px\n				font-size 9px\n				text-align center\n				color #f00\n				display none\n				float right\n				right 0px\n				text-transform uppercase\n				letter-spacing 1px\n				&.active\n					display inline-block\n		.nu-checkbox\n			font-family 'gibsonLight'\n		.nu-dropdown.m\n			/*border none Guillermo */\n			/*border-radius 0 Guillermo */\n			box-shadow none !important\n			color #505050 !important\n			&:before\n				border-radius 0\n				box-shadow none\n				top 0\n				right 0\n				width 35px\n				background rgba(0,0,0,0)\n			&:after\n				content '\\e88a'\n				font-family 'fontello'\n				width auto\n				height auto\n				background none\n				margin 0\n				position absolute\n				right 0.8em\n				top 0.1em\n				color #919191\n			.options\n				top 35px\n				box-shadow none\n				background #fefefe\n				border-radius 0\n				color #FFF\n\n				div\n					border-top 1px solid #EEE\n					border-bottom none\n					color #9C9C9C\n					&:hover\n						background #CDCCCC\n						color #FFF\n						box-shadow none\n\n		.nu-checkbox\n		.nu-dropdown\n		#domain-input\n		.nu-input\n			border-radius 3px\n\n		#domain-input\n			text-transform none\n			color #000\n			cursor text\n			font-family 'gibsonRegular'\n			padding 6px 9px\n			font-size 14px\n			margin-bottom 6px\n			position relative\n			background #fff\n			/*border none Guillermo */\n		.settings-stuff\n			display none\n			padding-top 0px\n			padding-left 0px\n			padding-right 0px\n			&[data-opt=\"meta\"]\n				#eventMetaDataWrap\n					width 95%\n					margin 0 auto\n					margin-top 29px\n					left 12px\n					position relative\n					#eventDescriptionInput\n						min-height 150px\n						text-align left\n					.fullWidth\n						max-width 100% !important\n			.share-stuff\n\n				.nu-checkbox\n					float right\n					top 3px\n					&:after\n						top 2px\n						left 7px\n				.share-btn\n					cursor pointer\n					border-radius 5px\n					border 0\n					color #fff\n					font-family 'gibsonSemiBold'\n					overflow hidden\n					i\n						color #FFF\n\n				.social-opt\n					&.tw\n						background #4099ff !important\n					&.fb\n						background #3b5998 !important\n					&.li\n						background #007bb6 !important\n\n				.twitter-char-count\n					&.warning\n						color #ff3300\n\n			&[data-opt=\"admin\"]\n				padding 0 30px\n				.nu-checkbox\n					.sectionTitle\n						font-family 'gibsonLight'\n						font-size 13px\n				.fullWidth\n					max-width 100% !important\n				.smallSectionTitle\n					font-family 'gibsonLight'\n					font-size 13px\n					padding-left 10px\n				.spladminWrap\n					margin-bottom 1em\n				.nu-dropdown\n					margin-top 4px\n\n			&.active\n				display block\n				float left\n				position relative\n			.planner-title\n				letter-spacing .1em\n				font-family 'gibsonSemibold'\n				background #fff\n				// > .inner\n				// 	border-bottom 1px solid #E4E4E4\n			.section-title\n				display block\n				clear both\n				margin-bottom 20px\n				text-transform uppercase\n				font-size 23px\n				color #4d4d4d\n				letter-spacing 2px\n			.designer-stuff\n			.share-stuff\n				.desc-text\n					clear both\n					font-size 14px\n					font-family gibsonLight\n					padding-left 0px\n					width 75%\n					max-width 500px\n				.admin-title\n					display block\n					width 100%\n					float left\n					font-size 14px\n					text-transform uppercase\n					margin-top 8px\n				.vanity-label\n					display block\n					float left\n					clear both\n					width 100%\n					margin-top 15px\n					font-size 13px\n					font-family gibsonLight\n				#vanity-input\n					font-size 14px\n					padding 8px\n					border-radius 2px				\n\n		.sectionTitle\n			display block\n			font-family gibsonSemiBold\n			font-size .8em\n			color #353333\n			text-transform uppercase\n		.fullWidth\n			margin-top 4px\n			margin-bottom 12px\n			height 40px\n			line-height 28px\n		#event-type\n			max-width none !important\n		#update-page-title\n			&:after\n				position absolute\n				top 1px\n				left 7px\n\n		#updateTitleOnPage\n			position relative !important\n			top 0 !important\n			left 0 !important\n			width auto !important\n			margin-left .5em\n			float left\n\n	#settings-sidebar\n		width 315px\n		right 0\n		background #fff\n		.settings-head\n			width 70%\n			margin 0 auto\n			margin-top 13px\n			> span\n				display block\n				text-align center \n				&.title\n					font-family gibsonSemibold\n					text-transform uppercase\n					letter-spacing 1px\n				&.desc\n					font-family gibsonRegular\n					text-transform uppercase \n					font-size 12px\n					margin-top 3px\n					color #8c8b8b\n		#settings-opt-wrap\n			margin 0 auto\n			width 75%\n			margin-top 24px\n			.settings-opt\n				display block\n				margin-bottom 1.4em\n				font-size 11px\n				font-family 'gibsonSemibold'\n				text-transform uppercase\n				letter-spacing .05em\n				color #bfc0c0\n				cursor pointer\n				&.active\n					color #171717\n\n#planningWrap\n	.contact-wrap\n		.letter\n			position absolute\n			font-size 23px\n			left 0px\n			top 0\n			color #fff\n			width 0% !important\n			height 0% !important\n			text-align center;\n			font-family 'gibsonRegular'\n			line-height 62px\n			margin-left -0.025em\n\n//making circles...now they are squares.\n.circ \n	//height 2.8em\n	width 12em\n	cursor pointer\n	margin 9px 0px 0px 0px\n	border 3px solid #9f9f9f\n	color #9f9f9f\n	font-family 'gibsonRegular'\n	&.facebook\n		.icon-f-fb-f\n			color #9f9f9f\n			font-size 1.5em\n			margin-right 10px\n	&.twitter\n		.icon-f-twitter-bird\n			color #9f9f9f\n			font-size 1.5em\n			margin-right 10px\n	&.linkedin\n		.icon-f-linkedin\n			color #9f9f9f\n			font-size 1.5em\n			margin-right 10px\n	&.email\n		.icon-f-mail-alt\n			color #9f9f9f\n			font-size 1.5em\n			margin-right 10px\n\n#event-start-timepicker\n#event-end-timepicker\n#event-start-time\n#event-end-time\n	/* border none !important Guillermo */\n	color #505050\n	margin-left 7px !important\n	font-family 'gibsonLight' !important\n	padding 11px 11px\n\n#dateTBDCheckbox\n	position relative\n	top 0\n	clear left\n	float left\n\n#timeZoneContain\n	position relative\n	clear left\n	float left\n	color #929393\n	text-transform uppercase\n	letter-spacing .05em\n	margin-left 1em\n	margin-bottom 0.8em\n	margin-top 0.5em\n	font-size 0.8em\n	a\n		color #929393\n		&:hover\n			darken(#929393, 30%)\n\n#addEventEndDate\n	font-size 0.7em\n	margin 0px 0px 0px 8px\n	border 1px dashed #C2C2C2\n	padding 0.9em 3.4em\n	float left\n	top 2px\n	color #C2C2C2\n	border-radius 3px\n	&:hover\n		color #fff\n		background #C2C2C2\n		border 1px solid #C2C2C2\n\n#deleteEventEndDate\n	color #727272\n	font-size 20px\n	top 3px\n	left 100%\n	right auto\n	&:before\n		content '\\e87c'\n		font-family 'fontello'\n		color #FFF\n		position absolute\n		top 1.5em\n		left 100%\n		padding-left 0.4em\n		margin 0\n		z-index 1\n		right auto\n		font-size 0.4em\n	&:after\n		content ''\n		position absolute\n		top 0px\n		right auto\n		left 0px\n		width 16px\n		height 38px\n		background #CDCCCC\n		border-radius 0 4px 4px 0\n		z-index 0\n\n#socialDataWrap\n	box-shadow none\n	&.facebook\n		background #3b5998 !important\n		.active-link-box\n			width 0\n			height 0\n			top -32px\n			position relative\n			border-left 20px solid transparent\n			border-right 20px solid transparent\n			border-bottom 20px solid #3b5998\n	&.twitter\n		background #4099FF !important\n		.active-link-box\n			width 0\n			height: 0\n			left 5.4em\n			top -32px\n			position relative\n			border-left 20px solid transparent\n			border-right 20px solid transparent\n			border-bottom 20px solid #4099FF\n	&.linkedin\n		background #007bb6 !important\n		.active-link-box\n			width 0\n			height: 0\n			left 5.4em\n			top -32px\n			position relative\n			border-left 20px solid transparent\n			border-right 20px solid transparent\n			border-bottom 20px solid #007bb6\n	&.email\n		background #8c8c8c !important\n		.active-link-box\n			width 0\n			height: 0\n			left 11.1em\n			top -32px\n			position relative\n			border-left 20px solid transparent\n			border-right 20px solid transparent\n			border-bottom 20px solid #8c8c8c\n	.social-opt\n		color #ffffff\n		background #dcdcdc\n		float none\n		margin -1px 0 0 0\n		overflow hidden\n#eventKeywords\n	margin-top 30px\n.user-share-label\n	color #FFF\n	font-size 12px\n	position absolute\n	left 11.7em\n	top 160px\n.user-share-toggle\n	display inline-block\n	width 60px\n	height 32px\n	border-radius 20px\n	background #9f9e9e\n	position absolute\n	top 153px\n	left 13.5em\n	cursor pointer\n	transition background .15s linear\n	.toggle-circ\n		position absolute\n		top 1px\n		left 1px\n		width 30px\n		height 30px\n		background #fff\n		border-radius 100%\n		transition left .15s linear\n	&.active\n		background green\n		.toggle-circ\n			left calc(100% - 31px )		\n\nbody\n	#dateTBDCheckbox\n		padding-left 27px\n		font-size 0.8em\n		left 27.3em !important\n		top 35px !important\n		line-height 17px !important\n		position absolute\n\n\n#saveEventTheme\n#editCustomAssets\n#uploadFiles\n	display none !important\n\n#faqTitles\n	background #fff\n	margin-left 18px\n\n#saveEventSettings\n	position absolute\n	top auto\n	right 18px\n	bottom 16px\n	width 120px\n\n.done-settings-btn\n	width 80%\n	padding 10px 20px !important\n	border 2px solid #000000\n	height 55px !important\n	text-align center\n	color #000000\n	font-family gibsonSemiBold\n	border-radius 40px !important\n	&hover\n		background #000\n		color #fff\n.venue-tbd-holder\n	float right\n	font-size 0.8em\n	margin-top: -0.8em\n#venue-edit-contain\n	.tbdText\n		position absolute\n		top 50%\n		left 50%\n		transform translateX(-50%) translateY(-50%)\n	.google-search\n		margin-top -5px\n		font-size 14px \n#uploadBorderBox\n	//border 1px solid #bcbcbc\n	//background #Fcfcfc\n	border 2px dashed #acacac\n	//height 64px\n	//width 64px\n	//margin-top -99px\n.sectionTitle\n	&.Favicon\n		margin 5px 0 0 0 \n#FavIconBtn\n	position relative\n	top 13px\n.alpha-avatar\n	width 43px\n	height 43px\n	position relative\n	border-radius 100%\n	float left\n.letter-R\n	background transparent !important\n\nbody\n	#eventSettingsWrap\n		.editVenueHolder\n			.tbdHolder\n				display none\n	#event_date\n	#event_date_end\n		height 39px\n		top 2px\n		line-height 33px\nbody\n	&.venue-tbd\n	#edit-settings.venue-tbd\n		#eventSettingsWrap\n			.editVenueHolder\n				.tbdHolder\n					display block\n\n#eventSettingsWrap\n	.tbdHolder\n		width 100%\n		height calc(100% - 1.6em)\n		//left 125px\n		top 1px\n		position absolute\n		background #f7f7f7\n		z-index 1\n		opacity 1\n		border 1px dashed #ccc\n		font-family 'gibsonLight'\n		font-size 18px\n		color #b7b7b7\n\n\nul.titleList\n	padding 14px 8px 30px\n\nli.categoryLink\n	cursor pointer\n	margin 13px 0 0 0\n	font-size 12px\n	font-family gibsonSemiBold\n	color #313131\n	text-align right\n	&.active\n		color #ec4d76\n		&:hover\n			color #ce294d\n			margin-left 0px\n	&:hover\n		color lighten( #ec4d76, 20%)\n#favIconOutput\n	//margin -38px 0 0 0\n#settingsFAQWrap\n	margin 0 0 0 2.5em\n	.questionsByCategory\n		h2\n			color #eb3d6b\n			font-family gibsonSemiBold\n			font-size 16px\n			text-transform uppercase\n		h4\n			background transparent\n			color #313131\n			margin 0px\n			padding-left 0px\n			font-family gibsonRegular\n			font-size 14px\n			text-transform capitalize\n			margin-top 15px\n			padding 0px\n	.questions\n		padding 0.5em 0em\n		margin 0\n		font-size 12px\n		font-family gibsonLight\n		li\n			margin 3px 0px\n		a\n			color #252525\n			&:hover \n				color #46c5e9\n\ndiv.letter\n	line-height 46px\nbody.settingsOpen\n	/*#splash-container\n	#finetune-block\n		filter blur(4px) */\n	&.lockItUp.finetune\n		overflow-y hidden\n	#simple-modal-wrap\n		background rgba(255, 255, 255, 0.8)\n		&:before\n			display none\n	#edit-settings\n		display block \n\n\nbody\n	&.dateVenueModal.finetune\n		#edit-settings\n			overflow visible !important\n			#settings-content\n				overflow visible !important\n				.ui-timepicker-wrapper\n					overflow-x hidden\n			#saveEventSettings\n				z-index 1\n			&.onlyDate\n				.editDateHolder\n					pointer-events all\n				#eventSettingsWrap\n					z-index 2\n					pointer-events none\n			&.onlyDate\n			&.onlyVenue\n				#eventSettingsContain > div\n					width 100%\n				#eventSettingsWrap > h5\n					display none\n	#edit-settings\n		margin 0\n		display none\n		position fixed !important\n		z-index 1000\n		width 80%\n		max-width 1280px\n		height 80% !important\n		max-height 870px\n		top 50%\n		left 50%\n		transform translateX(-50%) translateY(-50%)\n		.close-modal\n			position absolute\n			top 18px\n			right -50px\n			color #888\n			text-decoration none\n			font-size 24px\n		.editDateHolder\n			.tbdHolder\n				width 349px !important\n				top 21px !important\n				height 41px !important\n				padding-top 7px\n				text-align center\n	&.date-tbd #edit-settings\n	#edit-settings.date-tbd\n			.editDateHolder\n				.tbdHolder\n					display block !important\n\n\n@media screen and (max-width: 1100px)\n	#edit-settings\n		.header\n			.title\n				padding .8em 3em\n			.title\n			.sections-nav\n				width 100%\n				text-align center\n		#settings-content\n			top auto\n			bottom 0\n			height calc(100% - 7.1em)\n\n@media screen and (max-width: 1050px)\n	#edit-settings\n		.header\n			.sections-nav\n				.section\n					padding 0.2em 0em !important\n					font-size 14px\n\n@media screen and (max-width: 959px)\n	body.finetune\n		#edit-settings\n			#addEventEndDate\n				padding 1.1em 3.9em\n			#dateTBDCheckbox\n				left 30.1em !important\n				top 31px !important\n		&.dateVenueModal\n			&.event-has-end-time\n			&.date-tbd\n				#edit-settings\n					#dateTBDCheckbox \n						left 31.1em !important\n						top 11px !important\n			&.date-tbd\n				#edit-settings\n					.editDateHolder\n						.tbdHolder.timeDate\n							top -2px !important\n							width 355px !important\n	body.finetune\n		&.dateVenueModal\n			&.date-tbd\n				.tbdHolder.timeDate\n					top -1px !important\n\n\n\n					",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/settings-modal.styl",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 15339,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/user-elements.css",
			"settings":
			{
				"buffer_size": 237055,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/ticket-payout-settings.ctp",
			"settings":
			{
				"buffer_size": 28709,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_setting.php",
			"settings":
			{
				"buffer_size": 93833,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/finetune.ctp",
			"settings":
			{
				"buffer_size": 41921,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/design.ctp",
			"settings":
			{
				"buffer_size": 11338,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/admin-settings.ctp",
			"settings":
			{
				"buffer_size": 5100,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/social.ctp",
			"settings":
			{
				"buffer_size": 10364,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/time_zone.php",
			"settings":
			{
				"buffer_size": 2854,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/gallerysort.css",
			"settings":
			{
				"buffer_size": 4994,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/sites_controller.php",
			"settings":
			{
				"buffer_size": 112619,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_feed.php",
			"settings":
			{
				"buffer_size": 67359,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list-item.ctp",
			"settings":
			{
				"buffer_size": 4938,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_comment.php",
			"settings":
			{
				"buffer_size": 12882,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "$(document).ready(function(){\n	$blankGrp = $(\"#finetune-grp-blank\"),\n	$finetuneLayoutContent = $('#finetune-layout-content');\n	setTimeout(function(){\n		finetuneLayoutInit(EventSettingLayout);\n\n		if(inAdvancedMode()){\n			makeGrpsSortable();\n		}\n		$(\"#admin-group-clusters\").append($('#finetune-layout-contain'));\n\n		setVisibleAccordionHeight();\n		loadToggleState();\n		generate_ftg_positions();\n		setWindowHeight($(\"#nestedLayoutContainer\"));\n		setWindowHeight($(\"#allSectionsContainInner\"));\n		if(inDesignerMode()){\n			$('#allSectionsContain').removeClass('hide');\n			$('#nestedLayoutContainer').addClass('hide');\n			setTimeout(function(){\n				setWindowHeight($(\"#allSectionsContainInner\"));\n			},1000);\n		}\n\n	},100);\n\n	finetuneLayoutBind();\n	$('#finetune-layout-contain').find('script').each(function(){\n		$(this).attr('type','text/xml');\n	});\n\n});\n\nfunction finetuneLayoutBind()\n{ // {{{//console.time(\"BINDING LAYOUT\");\n	$('#finetune-layout-missing-elements').on('click','.element',function() { // {{{\n		var $this = $(this);\n		var element = $this.attr('e');\n		var fullLayout = finetuneGetEventLayout();\n		if (fullLayout.group) {\n\n			var $masterGroup = findMasterGroup();\n			if ($masterGroup.length == 1) {\n				var addElementToMasterGrp = function($layout,ele) {\n					var $layout = ($layout) ? $.extend(true,{},$layout) : {};\n					if ($layout && $layout['master_group'] && $layout['master_group'] == 1) {\n						if (!$layout['group']) {\n							$layout['group'] = [];\n						}\n						$layout['group'].push(ele);\n					}\n					else if ($layout && $layout['group']) {\n						for (var $i in $layout['group']) {\n							var $g = $layout['group'][$i];\n							$layout['group'][$i] = addElementToMasterGrp($g,ele);\n						}\n					}\n					return $layout;\n				}\n				fullLayout = addElementToMasterGrp(fullLayout,{element: element});\n			} else {\n				fullLayout.group.push({element:element});\n			}\n			finetuneDesignApplyThemeLayout(fullLayout, {},function(){\n				//finetuneDesignPopulateThemeStyles(captureRevertState('theme_styles'),true);\n				$('#finetune-layout-missing-elements').find('.element.hide').removeClass('hide');\n			});\n\n		}\n\n		$this.remove();\n		finetuneLayoutChangesMade();\n	}); // }}}\n\n	$('#showMissingElements').unbind('click').click(function() { // {{{\n		var $this = $(this);\n		if ($this.hasClass('shown')) {\n			$this.removeClass('shown');\n			$('#finetune-layout-missing-elements').find('.element').addClass('hide');\n		} else {\n			$this.addClass('shown');\n			$('#finetune-layout-missing-elements').find('.element.hide').removeClass('hide');\n		}\n	}); // }}}\n\n	$('#addNewGroup').unbind('click').click(function() { // {{{\n		var $myNew = finetuneGroupMarkup({\n			group: [],\n			styles: {\n				padding: 0\n			}\n		});\n		var $ft = $('#finetune-layout-contain');\n		var $victim = $ft.find('>.ft-grp:first').removeClass('x1').addClass('x2');\n		$myNew.append($victim);\n		$ft.find('.layout-block:first').after($myNew);\n\n		// now the on-page version\n		var gid = (''+$myNew.attr('id')).replace('ftg-','');\n		var vid = (''+$victim.attr('id')).replace('ftg-','');\n		$('#g-'+vid).wrap($('<div class=\"grp p-grp x1 layoutGrp p0\" id=\"g-'+gid+'\"></div>'));\n		finetuneLayoutChangesMade();\n	}); // }}}\n\n	$('#main-canvas').on('click','.edit-tools .deleteImg',function(e){ // {{{\n		var $this = $(this);\n\n		var $myEditTools = $this.parents(\".edit-tools:first\");\n		if($myEditTools.hasClass('imgEditTools')){\n			$myEditTools.parents('.wImg').find('.qq-uploader').parent().show().end().find(\".crp-enabled\").hide();\n			$myEditTools.remove();\n			return;\n		}\n	}); // }}}\n\n	$('#main-canvas').on('click', '.edit-tools .edit-image', function(e){\n		e.preventDefault();\n\n		$t = $(this)\n		$layGrp = $t.parents('.layoutGrp:first')\n		$image = $layGrp.find('.img-utils.crop')\n\n		$image.click()\n\n		return false;\n	})\n\n	$('#main-canvas').on('click','.edit-tools .delete',function(e){ // {{{\n		var $this = $(this);\n		e.preventDefault();\n		if($this.parents(\".list-item\").length > 0){ //if we're only deleting an ITEM not a SECTION.\n			var $sf = $this.parents(\".list-item:first\"),\n				$sf_img = $sf.find(\"div.image:first\").find(\"img:first\"),\n				skipConfirm=false;\n\n			if(typeof $sf_img!=='undefined' && $sf_img.length > 0){\n				var src = $sf_img.prop(\"src\");\n				if(src.match(/\\?stp/)||src.match(/st-p-/)){//if the file ends with \"?stp\" - it's a placeholder.\n					skipConfirm = true;\n				} else{//if they have an image, no newbie.\n					$sf.removeClass('newbie');\n				}\n			}\n			if($sf.hasClass('newbie')){\n				skipConfirm = true;\n			}\n			if(skipConfirm){\n				deleteListItem($sf);\n			} else{\n\n				SplashUI.confirm(function(response) {\n					if(response) deleteListItem($sf);\n				}, 'Are you sure you want to delete this item?');\n			}\n		} else{//deleting full group.\n\n			e.preventDefault()\n			var $grp = $this.parents('.layoutGrp:first')\n			var gid = $grp.attr('id')\n			var deleteThis = function(){\n				closeCustomSection();\n				$('#sectionTabWrap').removeClass('expanded')\n				setTimeout(function(){\n					removeGroup($grp,gid,true);\n				},100);\n			}\n\n			SplashUI.confirm(function(response) {\n				if(response) deleteThis();\n			}, 'Are you sure you want to delete this section?');\n\n			return false\n\n		}\n	}); // }}}\n\n\n	$('#delete-modal').on('click', '.deleteBtn', function(){\n		var gid = $('#delete-modal').attr('thisDiv')\n\n		var $grp = $('#' + gid)\n\n		if($grp.length > 0){\n			closeCustomSection();\n			$('#sectionTabWrap').removeClass('expanded')\n			setTimeout(function(){\n				removeGroup($grp,gid,true);\n			},500);\n		}\n\n		closeSimpleModal()\n\n	})\n\n	$('#delete-modal').on('click', '.cancelBtn', function(){\n		closeSimpleModal()\n	})\n\n	//no longer called as of 2.oh\n	// $('#inline-reorder-init').unbind('click').click(function(e){\n	// 	if( $('#sections-wrap').hasClass('sorting') ){\n	// 		makeGrpsSortable(true);\n	// 		$('#sections-wrap').removeClass('sorting');\n	// 		cancelReorderState()\n	// 	} else {\n	// 		makeGrpsSortable();\n	// 		$('#sections-wrap').addClass('sorting');\n	// 		$('#allSectionsContain').find('.mainCard').removeClass('expanded').css('overflow', 'hidden')\n	// 		$('body').addClass('sortingStuff')\n	// 		$(\"#allSectionsContain\").find('.contentTabWrap').removeClass('open')\n\n	// 		if( $('body').hasClass('advMode') == false ){\n	// 			$('#sectionTabWrap').addClass('open')\n	// 		}\n	// 	}\n	// });\n\n	var reorderingClasses = {};\n\n	$('#finetune-layout-contain').off('click.pro').on('click.pro','.grp-wrapper > .collapse',function(e){\n\n		var $ftg = $(this).parents('.ft-grp:first');\n\n		if ($ftg.hasClass('savedAsCustomElement')) {\n			$ftg.addClass('collapsed');\n			return false;\n		}\n\n		var grp = $ftg.data('grp');\n		if ($ftg.hasClass('collapsed')) {\n			$ftg.removeClass('collapsed');\n			grp.c=0;\n			delete(grp.c);\n		} else if( !$ftg.hasClass('isBodyGroup') ) {\n			$ftg.addClass('collapsed');\n			grp.c=1;\n		}\n		finetuneLayoutChangesMade();\n		return false;\n\n	});\n\n	$('#finetune-layout-contain').off('click.propt').on('click.propt','.opts',function(e){\n		var $this = $(this);\n		if ($this.hasClass('open')) {\n			$this.removeClass('open').find('.opts-drop').remove();\n		} else {\n			$this.addClass('open');\n			var $opts = $('<div class=\"opts-drop\"><div class=\"rename\">Rename</div><div class=\"delete-section\">Delete</div></div>');\n			$this.append($opts);\n			$opts.find('.rename').click(function(e){\n				var $title = $(this).parents('.ft-grp:first').find('> .title:first');\n				if ($title.length == 1) {\n					$title.attr('contenteditable',true).focus();\n				}\n			});\n\n		}\n		return false;\n	});\n\n} // }}}\n\nfunction ftgHeightWidthRatioSet($ftg){\n	setTimeout(function(){\n		var hwr = $ftg.attr('hwr');\n		if (hwr) {\n			var w = $ftg.width();\n			var h = hwr*w;\n			$ftg.css('min-height',h+'px');\n		}\n	},10);\n}\n\nvar ftg_dragging=false,ftg_draggingTopOffset,ftg_draggingLeftOffset,ftg_draggingT,ftg_prevx,ftg_prevy;\nfunction generate_ftg_positions(){\n	ftg_positions = [];\n	var moffset = $('#finetune-layout-contain').offset();\n	ftg_draggingTopOffset = moffset.top;\n	ftg_draggingLeftOffset = moffset.left;\n	var i=0;\n	$('#finetune-layout-contain').find('.section.ft-grp').each(function(){\n		i++;\n		var $t = $(this);\n		if ($t.is(':visible') && $t.attr('id') != 'ftg-draghelper') {\n			var offset = $t.offset(),\n			width = $t.outerWidth(),\n			height = $t.outerHeight();\n			var position = {\n				id: $t.attr('id'),\n				top: offset.top-ftg_draggingTopOffset,\n				left: offset.left-ftg_draggingLeftOffset,\n				width: width,\n				height: height,\n				//ele: $t.hasClass('ele-wrapper')\n			};\n			position.weight = i;//parseInt((''+position.id).replace('ftg-',''));\n			ftg_positions.push(position);\n		}\n	});\n	ftg_positions.sort(function(a,b){return b.weight-a.weight;});\n}\nfunction finetuneLayoutInit(layout)\n{ // {{{\n\n	var $contain = $(\"#finetune-layout-contain\");\n	$contain.find('.ft-grp').each(function(){\n		$(this).remove();\n	});\n	$(\"#finetune-layout-content\").empty();\n	finetuneGroupCount = 0;\n	finetuneLayoutMarkup(layout.group,$contain);\n	var missingElements = [];\n	if (typeof layout.elements == 'undefined') {\n		layout.elements = EventSettingLayout.elements;\n	}\n	for (var i in layout.elements) {\n		var element = layout.elements[i];\n		if ($contain.find('.ft-grp .element[e=\"'+element+'\"]').length == 0) {\n			missingElements.push(element);\n		}\n	}\n	var $missingContain = $('#finetune-layout-missing-elements');\n	$missingContain.empty();\n	if (missingElements.length > 0) {\n		for (var i in missingElements) {\n			$missingContain.append(finetuneElementMarkup(missingElements[i]));\n		}\n		$missingContain.parent().show();\n	} else {\n		$missingContain.parent().hide();\n	}\n\n	hideShowSortBtn()\n	//updateFinetuneSectionCountDisplay();\n} // }}}\n\nfunction ftGetGrp($someFtGrp,$t)\n{\n	var gid = ftGetId($someFtGrp),//takes either one!\n		grp = $('#ftg-'+gid).data('grp');\n	return grp||{};\n}\n\nfunction ftGetLayoutGrp($someFtGrp,$t){\n	var gid = ftGetId($someFtGrp);\n	return $('#g-'+gid);\n}\n\nfunction ftGetAccordion($someFtGrp){//gets the accordion FT.\n	var gid = ftGetId($someFtGrp);\n	var $t = $('#acc-ftg-'+gid);\n	return $t;\n}\n\nfunction ftGetFtGrp($someFtGrp){//gets the accordion FT.\n	var gid = ftGetId($someFtGrp);\n	var $t = $('#ftg-'+gid);\n	return $t;\n}\n\nfunction ftGetId($someFtGrp){//takes any layout group object and returns the raw group id. acc-ftg-50 -> 50.  g-50 -> 50.  ftg-50 -> 50.\n	if(!isNaN($someFtGrp)){ //ie already = 50.\n		var id = $someFtGrp;\n	} else if(typeof $someFtGrp=='string'){ //ie. g-50, acc-ftg-50, or ftg-50 -> 50.\n		var id = (''+$someFtGrp).replace(/(acc-)?(ft)?(g)?-?/,'');\n	} else {\n		//expects an object.\n		var id = (''+$someFtGrp.prop(\"id\")).replace(/(acc-)?(ft)?(g)?-?/,'');\n	}\n	return id;\n}\n\nfunction getKeyFromLayoutGrp($layoutGrp){\n	var grp_class = $layoutGrp.attr('class');\n	var key = false;\n	if(grp_class.match(/element-hash/)){\n		key = 'hash';\n	} else if(grp_class.match(/element-rsvp/)){\n		key = 'rsvp';\n	} else if(grp_class.match(/element-title/)){\n		key = 'title';\n	} else if(grp_class.match(/element-subtitle/)){\n		key = 'subtitle';\n	}\n\n	return key;\n}\n\nfunction updateGroupProperties($someFtGrp, properties){//super useful. allows us to dynamically update a layout property for a given group.\n	var $accordion = ftGetAccordion($someFtGrp);\n	var grp = ftGetGrp($someFtGrp);\n	for(var key in properties){ //where key = 'eventImage','hide','font-size', etc. can be any group property.\n		if(properties[key]==false){//if set to false, it means remove it.\n			if(grp[key]){\n				delete grp[key];\n			}\n		} else { //otherwise, create/override the current value.\n			grp[key] = properties[key];\n		}\n	}\n\n	$accordion.empty().removeClass('bound');//make them go back in and see the updated properties.\n	finetuneLayoutChangesMade();\n}\n\nfunction getElementFromLayoutGrp($grp){\n	var $ele = $grp.find(\".element:first\"),\n		element = ($ele.attr('id')+'').replace(/^element-/,'');\n\n	//special cases.\n	if( $grp.hasClass(\"mega-location-wrap\") || element.match(/where-/) ){\n		element = 'where';\n	} else if( $grp.hasClass(\"mega-date-wrap\") || element.match(/when-/) ){\n		element = 'when';\n	} else if(element=='social-links'){\n		element = 'social';\n	}\n\n	return element;\n}\n\nfunction finetuneLayoutMarkup(layout,$par,x)\n{ // {{{\n	var x = x || 1;\n	for (var i in layout) {\n		if (i !== 'hidden') {\n			$par.append(finetuneGroupMarkup(layout[i],x));\n		}\n	}\n} // }}}\n\nvar finetuneGroupCount=0;\n\n//builds the accordions in the finetune pane.\nfunction finetuneGroupMarkup($group,x,block_type_override)\n{ // {{{\n	//console.time(\"FTGROUP MARKUP \",$group);\n	if (!$group) { return; }\n\n	finetuneGroupCount++;\n	//var $s = [];\n	//console.time(\"p1\");\n	var x=x||1,\n		block_type_override=block_type_override||false,\n		$c = ['ft-grp x'+x],\n		$image=false,\n		$markup = $blankGrp.clone(),\n		$accordion = $markup.find(\"div.accordion:first\"),\n		ftgid = 'ftg-'+finetuneGroupCount,\n		mA = { 'id': ftgid, 'style':\"\",'nestedAttr':x};//mA = markupAttributes\n\n	if (typeof $group['master_group'] !== 'undefined' && $group['master_group']!='0') {\n		$c.push('master_group');\n		$c.push('grp-wrapper');\n	}\n	if($group.c && $group.c==1 && !$group['set_as_body']){\n		$c.push('collapsed');\n	}\n	if($group['set_as_header'] && $group['set_as_header']==1){\n		$c.push('isHeaderGroup');\n	}\n	if($group['set_as_body'] && $group['set_as_body']==1){\n		$c.push('isBodyGroup');\n	}\n\n	if ($group && typeof $group.layout_block_id != 'undefined') {\n		$c.push('savedAsCustomElement');\n	}\n\n	var hotlinked = (typeof $group['hotlinked_layout_block'] != 'undefined') ? $group['hotlinked_layout_block'] : false;\n	if (hotlinked !== false) {\n		$c.push('hotlinked collapsed');\n		$markup.prop('title',\"This is a hotlinked element.\");\n	}\n\n	$markup.attr(mA).addClass($c.join(' '));\n	$accordion.empty().attr({ 'id':'acc-'+ftgid }).addClass('ft-grp');\n\n	if ($group && $group['styles'] && $group['styles']['hidden'] && $group['styles']['hidden'] == \"1\") {\n		$markup.addClass('section-hidden');\n	}\n	//bindAndPopulateAccordion($accordion,$group);\n\n	if (typeof $group['group'] !== 'undefined' && $group['group'].length > 0) {\n		var title = finetuneGroupName($group);\n		$markup.append(finetuneLayoutMarkup($group['group'],$markup,x+1))\n			.addClass('grp-wrapper')\n			.data('grp',$group)\n			.append('<span class=\"collapse icon-f-wide-darr\"></span>')\n			.find('span.title:first').html(title).wrapInner(\"<span></span>\").append(\"<span class='ele-utils'><span class='hidden'></span><span title='Wrap element' class='grp-wrap-btn icon-f-ele-container'></span><span title='Reorder' class='moveCursor icon-f-tb-layout'></span></span>\");\n		//bb-$accordion.find('span.title:first').html('Group');\n		//if it's an admin group, lose the layout chooser and image embed area.\n		//bb-$accordion.find(\".layout-chooser,.blockEmbedHolder\").remove();///dont show any if we dont find any.\n\n	} else if (typeof $group['element'] !== 'undefined') {\n		if(typeof $group['element']!='undefined'){\n			if(!$group['element'].match(/^custom.block/) && $group['element'] != 'facebook-comments' && $group['element'] != 'gallery'){//only add if it's not a custom block.\n				//$markup.addClass('adminBlock hide');\n			}\n		}\n\n\n		// get the already on-page element\n		var $block_type = $(\"#element-\"+$group['element']);//ie. element-custom-block-x\n		if ($block_type.length>0){\n			var bt = $block_type.find(\">.sf:first\").attr(\"block-type\");\n		} else if (($group['element']+'').match(/^custom-block/)) { // for new sections being added on the fly.\n			var n = $group['element'].replace('custom-block','sfid');\n			var bt = $(\"#\"+n).attr(\"block-type\");\n		}\n		if ($group['element'] == 'gallery') {\n			var bt = 'gallery';\n		}\n\n		if ($group['element_type'] && $group['element_type'] != '') {\n			var bt = $group['element_type'];\n		}\n\n		if (block_type_override != false) {\n			var bt = block_type_override;\n		}\n\n		var eleName = finetuneElementName($group['element']);\n		if($group['name']){\n			var eleName = finetuneElementName($group['name']);\n		}\n\n		var formattedTitle = '<span class=\"eleText\">' + eleName + '</span>';\n\n		if(typeof bt!=='undefined'&&bt!='undefined' && bt!=''){\n			$accordion.addClass('ele-'+bt).attr(\"block-type\",bt);\n			$markup.attr(\"block-type\",bt);\n			if(eleName.replace(/ /g,'').trim()==''){\n				eleName = bt;\n			}\n			//if(eleName!==bt){\n				formattedTitle+=' <span class=\"subText\">'+bt.replace('_',' ')+'</span>';\n			//}\n		}\n\n		var title = eleName;\n\n		if ($group.name && $group.name != '') {\n			title = $group.name;\n		}\n\n		$markup.append(finetuneElementMarkup($group['element'],$group))\n			.addClass('ele-wrapper')\n			.attr('group-type',$group['element'])\n			.data('grp',$group)\n			.append('<span class=\"collapse\"></span>')\n			.find('span.title').html(formattedTitle).wrapInner(\"<span></span>\").append(\"<span class='ele-utils'><span class='hidden'></span><span title='wrap element' class='grp-wrap-btn icon-f-ele-container'></span><span title='properties' class='moveCursor icon-f-tb-layout'></span></span>\");\n\n		$accordion.attr(\"section-name\",eleName)//bb-.find('span.title').html(eleName.toLowerCase());\n\n	} else if($group['type-body']) {\n			$markup.wrap(finetuneLayoutMarkup($group['type-body'],$markup,0))\n			.addClass('grp-wrapper')\n			.data('grp',$group)\n			.append('<span class=\"collapse icon-f-wide-darr\"></span>')\n	}\n	else {\n		var title = finetuneGroupName($group);\n		$markup.data('grp',$group)\n			.append('<span class=\"delete-section\">&#10006;</span><span class=\"drag\"></span><span class=\"collapse\"></span>')\n			.find('span.title:first').html(title).wrapInner(\"<span></span>\").append(\"<span class='ele-utils'><span class='hidden'></span><span title='wrap element' class='grp-wrap-btn icon-f-ele-container'></span><span title='properties' class='moveCursor icon-f-tb-layout'></span></span>\");;\n		if($group['contain']){ //columns being added on the fly.  Still empty so no $group['group'], but should be treated as a wrapper anyway.\n			$markup.append('<span class=\"collapse icon-f-wide-darr\"></span>').addClass('grp-wrapper');\n			//setWindowHeight($(\"#nestedLayoutContainer\"));\n\n		}\n		if($group['modalId']){\n			$markup.append('<span class=\"collapse icon-f-wide-darr\"></span>').addClass('grp-wrapper').addClass('ftg-modalid');\n			//setWindowHeight($(\"#nestedLayoutContainer\"));\n			//console.log($markup.attr('id'))\n		}\n		//bb-$accordion.find('span.title:first').html('Group');\n	}\n\n	//$accordion.data('grp',$group);\n	//console.timeEnd(\"FTGROUP MARKUP \",$group);\n	return $markup;\n} // }}}\n\nfunction finetuneElementMarkup(element,$elegroup)\n{ // {{{\n	var markup = '<div class=\"hide element\" e=\"'+element+'\">';\n	markup += finetuneElementName(element,$elegroup);\n	markup += '</div>';\n	return markup;\n} // }}}\n\nfunction finetuneGroupName(group)\n{ // {{{\n	name = 'Container';\n\n	if (group) {\n		if (group.name && group.name != '') {\n			name = group.name;\n		} else {\n			if (group.master_group && group.master_group == '1') {\n				name = 'Master Group';\n			} else if (group.eventImage) {\n				name = 'Header';\n			} else if (group.class && (''+group.class).match(/(event_start|event_end|mega\\-date\\-wrap)/)){\n				name = 'When Wrap';\n			} else if (group.group && group.group.length == 1 && group.group[0] && group.group[0].element){\n				name = (''+group.group[0].element).replace(/[-_]/g,' ') + '';\n			} else if (group.group && group.group.length > 0 && group.group[0] && group.group[0].element){\n				name = (''+group.group[0].element).replace(/[-_]/g,' ') + ' (+'+(group.group.length-1)+')';\n			} else if (group.group && group.group.length > 0 && group.group[0]){\n				name = 'Container ('+(group.group.length)+')';\n			}\n		}\n	}\n\n	return name;\n} // }}}\nfunction finetuneElementName(element,$elementGrp)\n{ // {{{\n	if (EventSettingLayout.elementNames && EventSettingLayout.elementNames[element]) {\n		//return $(EventSettingLayout.elementNames[element]).text();\n			return EventSettingLayout.elementNames[element];\n	}\n	if(typeof $elementGrp !== 'undefined') {\n		if(typeof $elementGrp.name !== 'undefined'){\n			console.log($elementGrp.element + ' ' + $elementGrp.name);\n			return $elementGrp.name;\n		}\n	}\n	else {\n		if(element && element.indexOf(\"custom-block\") > -1) {\n 			return \"Custom Element\";\n	 	}\n		return (''+element).replace(/[-_]/g,' ');\n	}\n	// if($elementGrp) {\n	// 	var name = 'Custom Element'\n	// 	//debugger;\n	// 	if(typeof $elementGrp.name !== 'undefined' && $elementGrp.name){\n	// 		name = $elementGrp.name;\n	// 		console.log('NAME '+ name);\n	// 	}\n	// 	else {\n	// 		if (EventSettingLayout.elementNames && EventSettingLayout.elementNames[element]) {\n	// 		//return $(EventSettingLayout.elementNames[element]).text();\n	// 			name =  EventSettingLayout.elementNames[element];\n	// 			console.log('ELEMENT-NAME '+ name);\n	// 		}\n	// 		else {\n	// 			if(element && element.indexOf(\"custom-block\") > -1) {\n	// 	 			name =  \"Custom Element\";\n	// 	 			console.log('CUSTOM ELE '+ name);\n	// 		 	}\n	// 			name = (''+element).replace(/[-_]/g,' ');\n	// 			console.log('REG EX '+ name);\n	// 		}\n	// 	}\n	// 	console.log('THE END '+ name);\n	// 	return name;\n	// }\n} // }}}\n\nfunction finetuneGetEventLayout(getElementType,$partialContain)\n{ // {{{\n	var getElementType = getElementType || false;//setting this to true puts the element types in the array.\n	if($partialContain!=null){\n		$partialContain.wrap('<div class=\"temp-wrap\" />');//wrap it so we get the outer wrap.\n		$contain = $partialContain.parent();//parent = the new div.  this ensures we get the proper selector.\n	} else {\n		$contain = $('#finetune-layout-contain');\n	}\n\n	var layout = { group: finetuneGetGroups($contain,getElementType) };\n	if($partialContain!=null){\n		$partialContain.unwrap();\n	}\n	return layout;\n} // }}}\n\nfunction finetuneGetGroups($par,getElementType)\n{ // {{{\n	var getElementType = getElementType || false;\n	var groups = [];\n	$par.find('> .ft-grp').each(function(){\n		var $this = $(this);\n		var group = $this.data('grp');\n		if (!group) {\n			group = {};\n		}\n\n		if (group.hotlinked_layout_block) {\n			var hotlink_grp = {\"element\":\"layout-block-\"+group.hotlinked_layout_block};\n			groups.push(hotlink_grp);\n			return;\n		}\n\n		// override any previous groups\n		var myGroups = finetuneGetGroups($this,getElementType);\n		if (myGroups.length > 0) {\n			group['group'] = myGroups;\n		} else {\n			group['group'] = null;\n			delete(group['group']);\n		}\n\n		// override any previous elements\n		var myElement = false;\n		$this.find('> .element').each(function(){\n			var e = $(this).attr('e');\n			if (e) {\n				myElement = e;\n				if (typeof finetuneNewBlockIds != 'undefined' && finetuneNewBlockIds.length > 0) {\n					for (var x in finetuneNewBlockIds) {\n						var tmpId = finetuneNewBlockIds[x][0];\n						var newId = finetuneNewBlockIds[x][1];\n						var reg = new RegExp(tmpId);\n						if ((''+myElement).match(reg)) {\n							myElement = (''+myElement).replace(reg,newId);\n						}\n					}\n				}\n			}\n		});\n		if (myElement != false) {\n			group['element'] = myElement;\n			if (getElementType && group['element'].match(/^custom.block/) && $this.attr('block-type')) {\n				group['element_type'] = $this.attr('block-type');\n			}\n		} else {\n			group['element'] = null;\n			delete(group['element']);\n		}\n\n		if (\n			typeof group['group'] == 'undefined' && typeof group['element'] == 'undefined' &&\n			!(group.master_group && group.master_group == '1') &&\n			!(typeof group['contain']!=='undefined' && group['contain']==true)\n			&&\n			!(typeof group['modalId']!=='undefined')\n			&&\n			!(typeof group['type-body']!=='undefined')\n			&&\n			!(typeof group['eventImage']!=='undefined')\n		) {\n			// // this effectively makes it so you can't save empty groups\n		} else {\n			groups.push(group);\n		}\n	});\n	return groups;\n} // }}}\n\nfunction getSplashFeedChildOptions($element)\n{ // {{{\n	var toReturn = [];\n	var $childrenItems = $element.find(\".children .sf\");\n	if ($childrenItems.length > 0) {\n		$childrenItems.each(function(){\n			var $myself = $(this);\n			var options = $myself.data('splashFeedOptions');\n			if (!options) {\n				options = {};\n				$myself.data('splashFeedOptions',options);\n				var encodeOptions = $myself.attr('opts');\n				if (encodeOptions) {\n					var opts = $.parseJSON(encodeOptions);\n					$.extend(true,options,opts); // this should put the new values into the options array to save.. AND in splashFeedOptions\n				}\n				toReturn.push(options);\n			}\n		});\n	}\n	return toReturn;\n} // }}}\n\nfunction saveSplashFeedChildOptions(gid,key,data)\n{ // {{{\n	var gid = ftGetId(gid);\n	var $childrenItems = $('#g-'+gid).find(\".children >.sf\");\n	if ($childrenItems.length > 0) {\n		$childrenItems.each(function(){\n			var $myself = $(this);\n			var options = $myself.data('splashFeedOptions');\n			if (!options) {\n				options = {};\n				$myself.data('splashFeedOptions',options);\n				var encodeOptions = $myself.attr('opts');\n				if (encodeOptions) {\n					var opts = $.parseJSON(encodeOptions);\n					$.extend(true,options,opts); // this should put the new values into the options array to save.. AND in splashFeedOptions\n				}\n			}\n			if (key && typeof data != 'undefined') { // the typeof is to allow data values of 'false' and ''\n				options[key] = data;\n			}\n			var mysfid = (''+$myself.attr('id')).replace('sfid-','');\n			finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend(true,{},options);\n			finetuneFieldChangesMade();\n		});\n	}\n} // }}}\n\nfunction updateGroupImage($someFtGrp,params){\n	var grp = ftGetGrp($someFtGrp),\n		$liveGroup = ftGetLayoutGrp($someFtGrp),\n		$accordion = ftGetAccordion($someFtGrp),\n		dims = (params && params['dims'])?params['dims']:null;\n	if(dims){\n		$(\"#img-modal-photo-dimensions\").val(dims);\n	}\n\n	if(!$accordion.hasClass('bound')){\n		bindAndPopulateAccordion($accordion);\n	}\n\n	$accordion.find('input.background-image').val(params['src']);\n	$accordion.find('.currentBackground').css(\"background-image\",'url(\"'+params['src']+'\")');\n\n	grp['bgimage'] = params['src'];\n	if(!grp['styles']){ grp['styles'] = {}; }\n	grp['styles']['background-image'] = grp['bgimage'];\n\n	$liveGroup.css('background-image','url(\"'+grp['bgimage']+'\")');\n\n	if($liveGroup.hasClass('event-bg-url')){ //we are updating the event image!\n		$(\"#header-image-source\").val(params['src']).trigger('change');//update base header here.\n		$(\"#header-bg-type\").val('image').trigger('change');\n		$(\"#event-image-url\").val(params['src']).addClass('changes-made');//meh?\n		$(\"#header-image-changed\").val(1).trigger('change');\n		if (dims) {\n			$(\"#header-image-dims\").val(dims).addClass('changes-made');//update header dims to get sent.\n		}\n		$liveGroup.find(\"img.bg:first\").prop(\"src\",grp['bgimage']);//also update the inline image.\n		updateBackgroundSettings($liveGroup,'image',params['src'],grp);\n		updateThemeCards();\n		updateFavIcon(params['src']);\n	} else if($liveGroup.hasClass('event-body')){\n		$(\"#body-image-source\").val(params['src']).trigger('change');//update base header here.\n		//updateBackgroundSettings($liveGroup,'image',params['src']);\n		//convertTo2Oh('body');\n		//changeBackgroundImage(grp['bgimage']);\n	} else if ($liveGroup.is(\"#splash-container\")){\n		$(\"#body-image-source\").val(params['src']).trigger('change');//update base header here.\n		updateBackgroundSettings($liveGroup,'image',params['src'],grp);\n	}\n\n	finetuneLayoutChangesMade();\n}\n\nfunction updateGroupBgColor($obj,color){\n	var $g = $obj.parents('.ft-grp:first');\n	var grp = ftGetGrp($g);\n	var gid = (''+$g.attr('id')).replace('acc-ftg-','');\n	var $liveGroup = $('#g-'+gid);\n	$liveGroup.css({ 'background-image': 'none', 'background-color': color });\n	grp['bgimage']='';\n	grp.styles['background-color']=color;\n	if($liveGroup.hasClass('event-bg-url')){ //we are updating the event image!\n		$(\"#header-bg-type\").val('color').trigger('change');\n		$(\"#header-image-source\").val('').trigger('change');\n		$(\"#header-bg-color\").val(color).trigger('change');\n	}\n\n	finetuneLayoutChangesMade();\n\n}\nfunction replaceNewSplashFeedIdsInLayout($layout,$newId,$actualId)\n{ // {{{\n	if(typeof $layout!=='undefined'){\n		if ($layout['group']) {\n			for (var $i in $layout['group']) {\n				var $g = $layout['group'][$i];\n				$layout['group'][$i] = replaceNewSplashFeedIdsInLayout($g,$newId,$actualId);\n			}\n		}\n		if ($layout['element']) {\n			if ($layout['element'] == 'custom-block-'+$newId) {\n				$layout['element'] = 'custom-block-'+$actualId;\n			}\n		}\n	}\n	return $layout;\n} // }}}\n\nfunction updateBlockProperty($block,params,triggerChange){\n	if($block.length > 0){\n\n		var grp = ftGetGrp($block);\n		if(!$block.hasClass('accordion')){ //if we weren't passed an accordion, get the corresponding accordion.  This would be if FTG or LayoutGrp was passed.\n			$block = ftGetAccordion($block);\n		}\n		// console.log(\"..\",$block);\n\n		if(typeof grp['styles']==='undefined'){\n			grp['styles'] = {};\n		}\n\n		//accepts an key=>value object.  ie, { \"background-color\": \"blue\", \"font-size\": \"16px\" }\n		for(var propName in params){\n			if(params[propName]==\"\"){//if it's an empty value, clear it out of the array. no need to bloat.\n				if(typeof params[propName]!=='undefined'){//only delete if it exists.\n					delete(grp['styles'][propName]);\n				}\n			} else{\n				grp['styles'][propName] = params[propName];\n			}\n		}\n\n		//grp['styles'][propName] = value;\n		if( $block.hasClass('bound') ){//if the group is bound, update the input.\n			// bindAndPopulateAccordion($block,grp);\n			setTimeout(function(){\n				for(var propName in params){\n					if(propName=='color'){\n						$block.find(\"input.text-color:first\").val(params[propName]);\n					} else {\n						if(propName=='background-image' && params[propName]!=''){\n							var $input = $block.find(\"input.background-image:first\");\n							$input.parents(\".bg-img-utils\").find(\".currentBackground\").css('background-image','url(\"'+params[propName]+'\")');\n						} else{\n							var $input = $block.find(\"input.\"+propName+\":first\");//ie, <input type=\"hidden\" class=\"font-size\"\n						}\n						if(propName=='bg-type'){\n							flipBackgroundType($input,params[propName]);\n						}\n\n						if($input.length > 0){\n							$input.val(params[propName]);\n							if(triggerChange){\n								$input.trigger('change');\n							}\n						}\n					}\n				}\n			},50);\n		}\n\n		finetuneLayoutChangesMade();\n	}\n}\nfunction updateBlockClasses($block,className,remove){\n	if($block.length > 0){\n		var grp = ftGetGrp($block);\n\n		if(typeof grp!=='undefined'){\n			if(typeof grp['class']==='undefined'){\n				grp['class']='';\n			}\n			grp['class'] = grp['class'].replace(className,'').trim();//first remove class to prevent dupes.\n			if(remove==null){//now add the class.\n				grp['class']+=' '+className;\n			}\n			if($block.hasClass('bound')){//update the input if the group is already bound.\n				$block.find(\"input.class:first\").val(grp['class']);\n			}\n			finetuneLayoutChangesMade();\n		}\n	}\n}\n\n//expects accordion object in form $(\"#acc-ftg-x\");\nfunction bindAndPopulateAccordion($accordion,$group, skipScroll, _callback){\n	// //console.time(\"gg\");\n		if(typeof $group==='undefined'){ return false; }\n		if($accordion.hasClass('bound')){ return false; }\n		$accordion.addClass('bound').removeClass('hide');\n		var $inner = $blankGrp.find(\".accordion:first\").html();\n		$accordion.html($blankGrp.find(\".accordion:first\").html());\n\n		var bt = $accordion.attr(\"block-type\");\n		var $ftgroup = $accordion.parents(\".ft-grp:first\");\n		var gid = ftGetId($accordion);\n		var $liveGroup = ftGetLayoutGrp(gid);\n		var eleName = finetuneElementName($group['element']);\n		var sectionName = $accordion.attr('section-name');\n		if (sectionName && sectionName != '') {\n			$accordion.find('span.title').html('Back');\n			$accordion.find('.content-inner-wrap .sectionTitle').html(sectionName.toUpperCase() )\n		}\n		//console.log($group['element']);\n\n		if(typeof bt!=='undefined' && bt!=''){\n			var $mode_opts = $accordion.find(\".modes[type='\"+bt+\"']\");\n			if($mode_opts.length > 0){\n				$mode_opts.show().siblings('.modes').remove();\n			} else{\n				$accordion.find(\".layout-chooser\").remove();///dont show any if we dont find any.\n			}\n			if($.inArray(bt,['speakers','images','sponsors']) >= 0){\n				var $shapes = $(\"#blank-shape-opts\").clone();\n				$accordion.find(\".layoutShapeStuff\").append($shapes.html());\n			}\n\n			if($.inArray(bt,['audio','video','iframe','map']) > -1){\n				var $embedOpts = $(\"#blank-embed-opts\").clone();\n				if(bt == 'video'){\n					$embedOpts.find(\".form-wrap\").find('.inner-title').html(bt);\n					$embedOpts.find(\"videoCheckBoxes\").removeClass('hide');\n				}\n				else {\n					$embedOpts.find(\".form-wrap\").find('.inner-title').html(bt);\n				}\n\n				$accordion.find(\".main-controls:first\").prepend($embedOpts.html());\n			}\n\n			if(bt=='event-hub'){\n				var $hubOpts = $(\"#blank-hub-opts\").clone();\n				$accordion.find(\".main-controls:first\").prepend($hubOpts.html());\n			} else if(bt == 'img_gal'){\n				var $galOpts = $(\"#blank-carousel-opts\").clone();\n				$accordion.find(\".main-controls:first\").prepend($galOpts.html());\n			} else if(bt=='comments'){\n				var $commentsOpts = $(\"#blank-comments-opts\").clone();\n				$accordion.find(\".main-controls:first\").prepend($commentsOpts.html());\n			} else if(bt=='attendees'){\n				var $attendeesOpts = $(\"#blank-attendees-opts\").clone();\n				$accordion.find(\".main-controls:first\").prepend($attendeesOpts.html());\n			}\n\n		} else if ((''+$group['element']).match(/^when./)){\n			var $mode_opts = $accordion.find(\".modes[type='date']\");\n			if($mode_opts.length > 0){\n				$mode_opts.show().siblings('.modes').remove();\n			} else{\n				$accordion.find(\".layout-chooser\").remove();///dont show any if we dont find any.\n			}\n		} else if($group['element']=='rsvp'){\n			$accordion.find(\".main-controls:first\").prepend($(\"#extraRSVPControls\"));\n			$accordion.find(\".layout-chooser\").remove();///dont show any if we dont find any.\n		} else if($ftgroup.hasClass('ftg-modalid')){\n			var $modalOpts = $(\"#blank-modal-opts\").clone();\n			$accordion.find(\".main-controls:first\").prepend($modalOpts.html());\n			$accordion.find('.edit-modal-opts').click(function(){modal.show($liveGroup.attr('modalid'))});\n		} else {\n			$accordion.find(\".layout-chooser\").remove();///dont show any if we dont find any.\n		}\n\n		// -------- Settings Clickies ----------------- // {{{\n		//GROUP WIDTH BEGIN // {{{\n		var $width = $accordion.find('input.width');\n		if (typeof $group['width'] !== 'undefined') {\n			flipDropDown($width,$group['width']);\n		}\n\n		$accordion.on('change','input.unit-val',function(){ //changing units on the fly.\n			var $t = $(this);\n\n			$t.parents('.bx:first').removeClass('dd-open')\n\n			if($t.val()=='auto'){\n				$t.parents(\".unit-dropdown:first\").parent().find(\"input.style-ctrl:first\").val('').attr('unit','auto').trigger('change');\n			} else {\n				$t.parents(\".unit-dropdown:first\").parent().find(\"input.style-ctrl:first\").attr('unit',$t.val()).removeAttr('no-unit').trigger('change');\n			}\n\n		});\n\n		$width.change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			var oldClass = (typeof grp['width']!=='undefined' && grp['width'].split('-').length>0 )?'w'+grp['width']:'';\n\n			if($(this).val()=='custom'){\n				$ftgroup.find(\"input.customWidthPicker\").show().find(\"input:first\").focus();\n				return;\n			} else {\n				$ftgroup.find(\"input.customWidthPicker\").hide();\n			}\n\n			if(grp['styles'] && grp['styles']['width']){\n				delete grp['styles']['width'];//remove from array.\n			}\n			if ($liveGroup.length == 1) {\n				$liveGroup.addClass('editing').css('width','');//remove width style.\n				var c = $liveGroup[0].className;\n				if (oldClass!=''){\n					c = (''+c).replace(oldClass,'');\n				}\n				if($(this).val()=='auto'){//special case for auto.\n					grp['styles']['width'] = $this.val();\n					$liveGroup.css('width','auto');\n					$liveGroup[0].className = c; //removes any inline width classes. ie w1-2, w1-3, etc.\n				} else {\n					grp['width'] = $this.val();\n					$liveGroup[0].className = c+' w'+$.trim(grp['width']);\n				}\n\n				setTimeout(function(){\n					$liveGroup.removeClass('editing');\n\n				},250);\n			}\n\n			$liveGroup.find('.list-item').find('img').each(function (index, img) {\n				checkPlaceholderWidth( $(img) )\n			});\n\n			finetuneLayoutChangesMade();\n			galleryOuterWidthReflow();\n		});\n\n		//changing custom width.\n		$accordion.find(\"input.customWidthPicker\").change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			var oldClass = (typeof grp['width']!='undefined' && grp['width'].match(/w-/) )?'w'+grp['width']:'';\n			grp['styles']['width'] = $this.val();\n			if ($liveGroup.length == 1) {\n				$liveGroup.removeClass(oldClass);\n			}\n			finetuneLayoutChangesMade();\n		});\n\n		/////TRANSLATE CONTROLS///\n		if($group['translateX']){\n			$accordion.find(\"input.translateX\").val($group['translateX']);\n		}\n		if($group['translateY']){\n			$accordion.find(\"input.translateY\").val($group['translateY']);\n		}\n		$accordion.find('input.translateX,input.translateY').change(function(){\n			var grp = ftGetGrp($ftgroup);\n			if(!grp['styles']){\n				grp['styles']={}\n			};\n\n			var $x = $accordion.find('input.translateX');\n			var $y = $accordion.find('input.translateY');\n			if($x.val()!='' && $y.val()!=''){\n				grp['styles']['transform'] = 'translateX('+$x.val()+'%) translateY('+$y.val()+'%)';\n				grp['translateX'] = $x.val();\n				grp['translateY'] = $y.val();\n			} else if($x.val()!=''){\n				grp['styles']['transform'] = 'translateX('+$x.val()+'%)';\n				grp['translateX'] = $x.val();\n				delete grp['translateY'];\n			} else if($y.val()!=''){\n				grp['styles']['transform'] = 'translateY('+$y.val()+'%)';\n				grp['translateY'] = $y.val();\n				delete grp['translateX'];\n			} else {\n				delete grp['styles']['transform'];\n				delete grp['translateX'];\n				delete grp['translateY'];\n			}\n\n			if(grp['styles']['transform']){\n				$liveGroup.css('-webkit-transform',grp['styles']['transform']);\n			} else {\n				$liveGroup.css('-webkit-transform',\"\");\n			}\n\n			scrollToBlock($liveGroup);\n			finetuneLayoutChangesMade();\n\n		});\n		/////END TRANSLATE CONTROLS///\n\n		// Behaviour of Event Hub custom options in accordion\n		if(bt=='event-hub'){\n			var $filters = $accordion.find(\"input.hub-filters\");\n			var $g = $filters.parents('.ft-grp:first');\n			var grp = ftGetGrp($g);\n			var $block = $(\"#element-\"+grp['element']);\n			var $sf = $block.find(\".sf:first\");\n			if(grp['options']){\n				var options = grp['options'];\n			} else {\n				var options = $sf.data('splashFeedOptions');\n			}\n\n			if (!options) {\n				options = {};\n				$sf.data('splashFeedOptions',options);\n			}\n			for(var key in options){ // where options is something like { show_all_events: 1, geolocate: 0, only_zip_codes: 1}\n				//future_only, maps, show_all_events, geolocate, etc.\n				if(options[key]=='1'){\n					var $f = $accordion.find(\"input.hub-filters[field='\"+key+\"']:first\");\n					if($f.length > 0){\n						setCheck($f,1);\n					}\n				}\n			}\n\n			$filters.change(function(){\n				var $this = $(this);\n				if($this.attr(\"field\") == 'hub_divide'){\n					if($this.val()== 1) {\n						HubElement.dividePastUpcomingEvents($block, true);\n					}\n					else { //unwrap hub\n						HubElement.dividePastUpcomingEvents($block, false);\n					}\n				}\n				var options = $sf.data('splashFeedOptions');\n				if (!options) {\n					options = {};\n					$sf.data('splashFeedOptions',options);\n				}\n				var grp = ftGetGrp($liveGroup);\n				options.mode = grp['mode'];\n				options[$this.attr(\"field\")] = $this.val();\n				var mysfid = (''+$sf.attr('id')).replace('sfid-','');\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend({},options);\n				grp['options'] = options;\n				finetuneFieldChangesMade();\n				finetuneLayoutChangesMade();\n			});\n		}\n\n		// Behaviour of Comments Element custom options in accordion\n		else if ( bt=='comments'){\n			var $filters = $accordion.find(\"input.comments-filters\");\n			var $g = $filters.parents('.ft-grp:first');\n			var grp = ftGetGrp($g);\n			var $block = $(\"#element-\"+grp['element']);\n			var $sf = $block.find(\".sf:first\");\n\n			var options = $sf.data('splashFeedOptions');\n\n			if (!options) {\n				options = {};\n				$sf.data('splashFeedOptions',options);\n			}\n			for(var key in options){ // where options is something like { show_all_events: 1, geolocate: 0, only_zip_codes: 1}\n				//future_only, maps, show_all_events, geolocate, etc.\n				if(options[key]=='1'){\n					var $f = $accordion.find(\"input.comments-filters[field='\"+key+\"']:first\");\n					if($f.length > 0){\n						setCheck($f,1);\n					}\n				}\n			}\n\n\n\n			$filters.change(function(){\n				sfid = $sf.attr('id').replace('sfid-',''); // get splash feed id\n\n				// obtain or create the options array for this element\n				var options = $sf.data('splashFeedOptions');\n				if ( typeof(options) == 'undefined' ) options = {};\n				options['users_only'] = $(this).val();\n\n				// extend clones the options array\n				finetuneEditedFields[ 'data[SplashFeed]['+sfid+'][options]' ] = $.extend({},options);\n				finetuneFieldChangesMade();\n			});\n		}\n\n		// Behaviour of Attendees Element custom options in accordion\n		else if ( bt=='attendees'){\n			var $filters = $accordion.find(\"input.attendees-filters\");\n			var $g = $filters.parents('.ft-grp:first');\n			var grp = ftGetGrp($g);\n			var $block = $(\"#element-\"+grp['element']);\n			var $sf = $block.find(\".sf:first\");\n\n			var options = $sf.data('splashFeedOptions');\n\n			if (!options) {\n				options = {};\n				$sf.data('splashFeedOptions',options);\n			}\n			for(var key in options){ // where options is something like { show_all_events: 1, geolocate: 0, only_zip_codes: 1}\n				//future_only, maps, show_all_events, geolocate, etc.\n				if(options[key]=='1'){\n					var $f = $accordion.find(\"input.attendees-filters[field='\"+key+\"']:first\");\n					if($f.length > 0){\n						setCheck($f,1);\n					}\n				}\n			}\n\n\n\n			$filters.change(function(){\n				sfid = $sf.attr('id').replace('sfid-',''); // get splash feed id\n\n				// obtain or create the options array for this element\n				var options = $sf.data('splashFeedOptions');\n				if ( typeof(options) == 'undefined' ) options = {};\n				options['query_limit'] = $(this).val();\n\n				// extend clones the options array\n				finetuneEditedFields[ 'data[SplashFeed]['+sfid+'][options]' ] = $.extend({},options);\n				finetuneFieldChangesMade();\n			});\n		}\n\n		//SECTION MODE BEGIN // {{{\n		var $this = $accordion;\n		var $mode = $this.find('div.layout-chooser:first').find('.modes:first');\n\n		if (typeof $mode !== 'undefined') {\n			//$c.push($group['mode']);\n			if($mode.length == 0){\n				$accordion.addClass('noLayouts')\n			} else {\n				flipMode($mode,{ val: $group['mode'] });\n			}\n\n		} else {\n			$accordion.addClass('noLayouts')\n		}\n\n		$mode.find(\".nu-btn\").click(function(){\n			var $this = $(this);\n			$this.parents(\".layout-chooser\").find(\"input.mode\").val($this.attr(\"value\")).trigger('change');\n			$mode.find(\".nu-btn.active\").removeClass('active');\n			$this.addClass('active');\n			finetuneLayoutChangesMade();\n			if ($this.hasClass('updateOnPageDateTime')) {\n				updateSplashField('date');\n			}\n		});\n\n		///CHANGING SECTION MODE DROPDOWN EVENT\n		$mode.find('input.mode').change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			var oldClass = (typeof grp['mode']!='undefined')?grp['mode']:'';\n			grp['mode'] = $this.val();\n\n			if( skipScroll ){\n				//console.log('great!')\n			} else {\n				scrollToBlock($liveGroup);\n			}\n\n\n			// the main on-page gallery\n			if (grp && grp.element && grp.element == 'gallery') {\n				$(\"#galleryLayoutPresetInput\").val(grp['mode']).trigger('change').addClass('changes-made');\n				finetuneFieldChangesMade();\n			}\n\n			var $childrenItems = $liveGroup.find(\".children .sf\");\n			//	$liveGroup.addClass('trans');\n			var rem = '';\n			$mode.find(\".nu-btn\").each(function(){\n				rem += $(this).attr(\"value\")+' ';\n			});\n			var $parentSf = $liveGroup.find(\"div.sf:first\");\n\n			if ($childrenItems.length > 0) {\n				$childrenItems.each(function(){\n					var $myself = $(this);\n					$myself.addClass('trans').removeClass(rem).addClass(grp['mode']);\n					var options = $myself.data('splashFeedOptions');\n					if (!options) {\n						options = {};\n						$myself.data('splashFeedOptions',options);\n					}\n					options.mode = grp['mode'];\n					var mysfid = (''+$myself.attr('id')).replace('sfid-','');\n					finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend({},options);\n					finetuneFieldChangesMade();\n					setTimeout(function(){ $myself.removeClass('trans');},500);\n				});\n			}\n\n			if($parentSf.hasClass('changeParentMode') || $childrenItems.length < 1 || $parentSf.attr(\"block-type\")=='list'){\n				var $myself = $parentSf;\n				$myself.addClass('trans').removeClass(rem).addClass(grp['mode']);\n				var options = $myself.data('splashFeedOptions');\n				if (!options) {\n					options = {};\n					$myself.data('splashFeedOptions',options);\n				}\n				options.mode = grp['mode'];\n				var mysfid = (''+$myself.attr('id')).replace('sfid-','');\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend({},options);\n				finetuneFieldChangesMade();\n				setTimeout(function(){ $myself.removeClass('trans');},500);\n			}\n\n			if($this.hasClass('event-hub-mode') ){ //if event hub mode, there may be javascript to follow.\n				HubElement.checkForModeJs($parentSf,grp['mode']);\n			}\n\n			finetuneLayoutChangesMade();\n		});\n		//SECTION MODE END // }}}\n\n		// MASTER GROUP BEGIN // {{{\n		var $master_group = $accordion.find(\"input.master-group:first\");\n		if(typeof $group['master_group']!=='undefined' && $group['master_group']!='0'){\n			setCheck($master_group,1);\n		}\n\n		$master_group.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp['master_group'] = $(this).val();\n			if (grp['master_group'] == 0) {\n				$liveGroup.removeClass('master_group');\n				$liveGroup.removeClass('container-ele');\n				$ftgrp.removeClass('master_group');\n				delete(grp['master_group']);\n			} else {\n				$liveGroup.addClass('master_group');\n				$liveGroup.addClass('container-ele');\n				$ftgrp.addClass('master_group');\n			}\n			finetuneLayoutChangesMade();\n		});\n\n		///MASTER GROUP END // }}}\n\n\n		// REPEATABLE ELEMENT BEGIN //\n		var $repeatable_input = $accordion.find(\"input.set-as-repeatable:first\");\n		if(typeof $group['is_repeatable']!=='undefined' && $group['is_repeatable']!='0'){\n			setCheck($repeatable_input,1);\n		}\n\n		//this event expects the event being marked as repeatable to BE the Item that is going to be cloned.\n		//The parent layoutGrp will also be affected, so we know what block to clone.\n		$repeatable_input.change(function(){\n			var $parent_ftgroup = $ftgroup.parents(\".ft-grp:first\");//first parent group.\n			if($parent_ftgroup.length > 0){\n				var grp = ftGetGrp($ftgroup);\n				var parent_grp = ftGetGrp($parent_ftgroup);\n\n				grp['is_repeatable'] = $(this).val();\n\n				$parent_layoutgrp = ftGetLayoutGrp($parent_ftgroup);\n\n				if(grp['is_repeatable'] == '1' ){ //if setting as repeatable, we must save this layoutGrp\n					$parent_layoutgrp.addClass('has-items')\n					var $accordion = ftGetAccordion($ftgroup);\n\n					var $innerWrap = $accordion.find(\".content-inner-wrap:first\");\n					var currentScroll = $innerWrap.scrollTop();\n\n					var params = {\n						fields: {\n							title: $ftgroup.find(\".eleText:first\").text(),\n							event_id: constants.event_id,\n							tags: ',repeatable,', //super important to add tag comma at beginning and end.\n							active: 0, //flag as inactive so it doesn't display on the elements list.\n						},\n					};\n					var layoutToSave = finetuneGetEventLayout(true,$ftgroup);\n					params.layout = layoutToSave;\n					//this patch is not ideal - grab the current scrolltop of the page PRIOR to finetuneGetEventLayout call,\n					//because it adds a .wrap() and .unwrap() function call which by default resets the block scroll position.\n					//then, we rescroll to the current section after the call is made.\n					$innerWrap.scrollTop(currentScroll);\n\n					//silently save this element as repeatable\n					repeatableItems.save(params,function(response){\n						var block_id = response.block_id;\n\n						$parent_layoutgrp.data('repeatable-block-id',block_id);\n						repeatableItems.clearRepeatableForBlock(block_id);\n						parent_grp['repeatable-block-id'] = block_id;\n\n						finetuneLayoutChangesMade();\n					});\n\n				} else {\n					$parent_layoutgrp.removeClass('has-items').data('repeatable-block-id',false);\n					if(parent_grp['repeatable-block-id']){\n						delete parent_grp['repeatable-block-id'];\n					}\n				}\n\n				finetuneLayoutChangesMade();\n			}\n		});\n		// REPEATABLE ELEMENT END //\n\n\n		///// SET AS BODY //////\n		var $setAsBody = $accordion.find(\"input.set-as-body:first\");\n		if(typeof $group['set_as_body']!=='undefined'){\n			setCheck($setAsBody,1);\n		}\n\n		$setAsBody.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			var $currentActive = getTargetById('body');//expects a proper layoutGrp with class .event-bg-url returned\n			$currentActive.removeClass('event-body');//remove event-body from on page group with class.\n\n			//remove isBodyGroup from any ft-grp that currently has it.\n			var $currentBodyGroup = $(\"#finetune-all-tools\").find(\".ft-grp.isBodyGroup\");\n			$currentBodyGroup.removeClass('isBodyGroup');\n\n			if ( $(this).val() == 0 ) {\n				if(grp['set_as_body']){\n					delete grp['set_as_body'];\n				}\n			} else {\n				grp['set_as_body'] = 1;\n				$ftgroup.addClass('isBodyGroup').removeClass('collapsed');\n				$liveGroup.addClass('event-body');\n\n				//if this value WAS assigned to another ft group, remove the property from the other group!\n				if($currentBodyGroup.length > 0 && $currentBodyGroup.prop('id') != $ftgroup.prop('id')){\n					updateGroupProperties($currentBodyGroup, { 'eventBody': false });\n				}\n			}\n			finetuneLayoutChangesMade();\n\n		}); // END SET AS BODY // }}}\n\n\n		var $editable_bg = $accordion.find(\"input.editable-bg:first\");\n		if(typeof $group['editable_bg']!=='undefined'){\n			setCheck($editable_bg,1);\n		}\n		$editable_bg.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp['editable_bg'] = $(this).val();\n			if(grp['editable_bg']==1){\n				$liveGroup.addClass('editable_bg');\n			} else {\n				$liveGroup.removeClass('editable_bg');\n			}\n			$liveGroup.find(\".editToolsFor-g-\"+gid).remove();\n			setTimeout(function(){\n				$liveGroup.addEditTools();\n			},10);\n			finetuneLayoutChangesMade();\n		});\n\n		// SET AS HEADER // {{{\n		var $setAsHeader = $accordion.find(\"input.set-as-header:first\");\n		// if( ( typeof $group['header_img_ctrl']!=='undefined' && $group['header_img_ctrl']=='1' )\n		// 	|| (typeof $group['eventImage']!=='undefined') )\n		if(typeof $group['eventImage']!=='undefined'){\n			setCheck($setAsHeader,$group['eventImage']);\n		}\n\n		$setAsHeader.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			if(grp['header_img_ctrl']){ //legacy removal\n				delete grp['header_img_ctrl'];\n			}\n			var $currentHeader = getTargetById('header');//expects a proper layoutGrp with class .event-bg-url returned\n			$currentHeader.removeClass('event-bg-url');\n\n			var $currentHeaderFtGrp = $(\"#finetune-all-tools\").find(\".ft-grp.isHeaderGroup\");\n			$currentHeaderFtGrp.removeClass('isHeaderGroup');\n			if ( $(this).val() == 0) {\n				if(grp['eventImage']){\n					delete grp['eventImage'];\n				}\n			} else {\n				//if this value WAS assigned to another ft group, remove the property from the other group!\n				if($currentHeaderFtGrp.length > 0 && $currentHeaderFtGrp.prop('id') != $ftgroup.prop('id')){\n					updateGroupProperties($currentHeaderFtGrp, { 'eventImage': false });\n				}\n\n				grp['eventImage'] = true;\n				$ftgroup.addClass('isHeaderGroup');\n				$liveGroup.addClass('event-bg-url');\n			}\n			finetuneLayoutChangesMade();\n\n		}); // END SET AS HEADER // }}}\n\n\n		// TIE BKG TO HEADER\n		var $tieBgToHeader= $accordion.find(\"input.tieBgToHeader\");\n		if(typeof $group['tieBgToHeader']!=='undefined'){\n			setCheck($tieBgToHeader,$group['tieBgToHeader']);\n		}\n\n		$tieBgToHeader.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp.tieBgToHeader = $(this).val();\n			finetuneLayoutChangesMade();\n			if(grp.tieBgToHeader == 1) {\n				$liveGroup.addClass('tieBgToHeader');\n			}\n			else {\n				$liveGroup.removeClass('tieBgToHeader');\n			}\n		});\n\n		// IMG_SHAPE BEGIN // {{{\n		var $img_mode = $accordion.find(\"input.img_shape\").parents(\"div.modes:first\");//.find('.layout-chooser:first').find('.modes:first');\n		if(typeof $group['img_shape']!=='undefined'){\n			flipMode($img_mode, { val: $group['img_shape'] });\n		}\n\n		///CHANGING img_shape DROPDOWN EVENT\n		$img_mode.find('input.img_shape').change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			var oldClass = (typeof grp['img_shape']!='undefined')?grp['img_shape']:'';\n			grp['img_shape'] = $this.val();\n			if( skipScroll ){\n				//console.log('great!')\n			} else {\n				scrollToBlock($liveGroup);\n			}\n			var $childrenItems = $liveGroup.find(\".children\").find(\".sf\");\n			var rem = ' circle square layout portrait no-shape landscape nu-logo-landscape nu-logo-square nu-portrait nu-square none';//<2.1 classes. always remove these moving forward.\n			$img_mode.find(\".nu-btn\").each(function(){\n				rem += $(this).attr(\"value\")+' ';\n			});\n\n			if ($childrenItems.length > 0) {\n				$childrenItems.each(function(){\n					var $myself = $(this);\n					var img_src = '/images/st-p-';\n					if ($.inArray(grp['img_shape'],['nu-square','nu-circle','nu-portrait','nu-landscape'])>-1){\n						img_src += grp['img_shape']+'.png';\n					} else if (grp['img_shape'] == 'nu-logo-square'){\n						img_src += 'nu-square.png';\n					} else if (grp['img_shape'] == 'nu-logo-landscape'){\n						img_src += 'nu-landscape.png';\n					} else if (grp['img_shape'] == 'none'){\n						// needs to be the actual image src for none, no-shape or legacycycyc\n						img_src = stripUrl($myself.find(\".media.image:first\").css('background-image'));\n					}\n					var $img = $myself.find(\".media.image:first\").find(\"img\");\n					//legacy shape check\n					//if($myself.hasClass('no-shape')){\n					//	rem+=' no-shape ';\n					//	var current_src = $img.prop(\"src\");\n					//	$myself.find(\".media.image:first\").css('background-image','url('+current_src+')');\n					//}\n					$img.attr('src',img_src).addClass('use-parent-bg');\n\n					$myself.removeClass(rem).addClass(grp['img_shape']);\n					var options = $myself.data('splashFeedOptions');\n					if (!options) {\n						options = {};\n						$myself.data('splashFeedOptions',options);\n					}\n					options.img_shape = grp['img_shape'];\n					var mysfid = (''+$myself.attr('id')).replace('sfid-','');\n					finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend({},options);\n					finetuneFieldChangesMade();\n				});\n			} else{ //no children.  big block.\n				var $myself = $liveGroup.find(\".sf:first\");\n				$myself.addClass('trans').removeClass(rem).addClass(grp['img_shape']);\n				var options = $myself.data('splashFeedOptions');\n				if (!options) {\n					options = {};\n					$myself.data('splashFeedOptions',options);\n				}\n				options.img_shape = grp['img_shape'];\n				var mysfid = (''+$myself.attr('id')).replace('sfid-','');\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend({},options);\n				finetuneFieldChangesMade();\n				setTimeout(function(){ $myself.removeClass('trans');},500);\n			}\n			finetuneLayoutChangesMade();\n		});\n		//IMG_SHAPE END // }}}\n\n		//GROUP CLASS INPUT BEGIN // {{{\n		var $className = $accordion.find('input.class');\n		if (typeof $group['class'] != 'undefined') {\n			//$c.push($group['class']);\n			$className.val($group['class']);\n		}\n		$className.change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			var oldClass = (typeof grp['class']!='undefined')?grp['class']:'';\n			grp['class'] = $this.val();\n			if( skipScroll ){\n				//console.log('great!')\n			} else {\n				scrollToBlock($parent);\n			}\n			if ($liveGroup.length == 1) {\n				var c = $liveGroup[0].className;\n				if (oldClass!=''){\n					c = (''+c).replace(oldClass,'');\n				}\n				$liveGroup[0].className = c+' '+grp['class'];\n			}\n			finetuneLayoutChangesMade();\n		});\n		//GROUP CLASS INPUT END // }}}\n\n		$accordion.find(\".slider.bound\").removeClass('bound');\n\n\n		var styles = (typeof $group['styles'] != 'undefined') ? $group['styles'] : {};\n\n		if(typeof styles['width']!=='undefined'){\n			flipDropDown($width,'custom');\n			$accordion.find(\"input.customWidthPicker\").show().val(styles['width']);\n		}\n\n		//FONT FAMILY BEGIN // {{{\n		if (typeof styles['font-family'] !== 'undefined'){\n			flipDropDown($accordion.find(\"input.font-family:first\"),''+styles['font-family']);\n		}\n		// FONT FAMILY END // }}}\n\n		//FONT COLORPICKER // {{{\n		if (typeof styles['color'] !== 'undefined') {\n			var $fcolor = $accordion.find('input.text-color:first');\n			$fcolor.css(\"background\",styles['color']).val(styles['color']);\n		}\n		//END FONT COLOR PICKER // }}}\n\n		// MARGIN, PADDING, Min Width, Max Width, Min Height, Max Height // {{{\n		var props = ['margin-top','margin-bottom','margin-left','margin-right','padding-top', 'padding-right',\n			'padding-bottom','padding-left','min-width','max-width','height','min-height','max-height','border-radius',\n			'border-left-width','border-right-width','border-top-width','border-bottom-width','z-index','font-size','line-height'];\n\n		for(var x in props){\n			if(typeof styles[props[x]]!=='undefined'){\n				var $input = $accordion.find(\"input.\"+props[x]+\":first\");\n				updateInputValue($input,styles[props[x]]);\n 			}\n 		}\n\n 		if(typeof styles['border-color']!=='undefined'){\n 			$accordion.find(\"input.border-color\").val(styles['border-color']).css('background',styles['border-color']);\n 		}\n\n 		//POSITION - important!  we used to be using 'position' for the left/right/center logic. without this check, we'll get nasty results.\n 		if(typeof styles['position']!=='undefined' && $.inArray(styles['position'],['static','relative','absolute','fixed'])>-1){\n 			var $pos = $accordion.find(\"input.meta-position\");\n 			flipDropDown($pos,styles['position']);\n 			$pos.parents(\".layout-ctrl:first\").attr(\"position-type\",styles['position']);\n		}\n\n		//ideally this wouldn't be necessary, but .left and .right are used all over the place, so got to be extra specific here.\n		var position_props = ['top','bottom','left','right'];\n		var $parent = $accordion.find(\".pos-ctrls\");//positioning controls div.\n		for(var x in position_props){\n			if(typeof styles[position_props[x]]!=='undefined'){\n				var $input = $parent.find(\"input.\"+position_props[x]+\":first\");\n				updateInputValue($input,styles[position_props[x]]);\n			}\n		}\n\n		var other_props = ['clear','display','overflow','text-align'];\n		for(var x in other_props){\n			if(styles[other_props[x]]!=='undefined'){\n				var $input = $accordion.find(\"input[data-css-prop='\"+other_props[x]+\"']:first\");\n				flipDropDown($input,styles[other_props[x]]);\n			}\n		}\n\n		// LINE HEIGHT // {{{\n			/*\n		if(typeof styles['line-height'] !== 'undefined'){\n			var $lh = $accordion.find(\"input.line-height:first\");\n			updateSliderValue($lh,styles['transform']);\n		}\n		*/\n		// END LINE HEIGHT // }}}\n		// LETTER SPACING // {{{\n		if(typeof styles['letter-spacing']!=='undefined'){\n			var $ls = $accordion.find(\"input.letter-spacing:first\");\n			updateSliderValue($ls,styles['letter-spacing']);\n		}\n\n		// END LETTER SPACING // }}}\n\n		// BOX SHADOW // {{{\n		if(typeof styles['box-shadow']!=='undefined'){\n			var $b = $accordion.find(\"div.block-box-shadow\");\n			updateShadow($b.find(\"input.box-shadow:first\"),styles['box-shadow'],true);\n			$b.find(\".shadow-sliders\").show()\n		}\n\n		// if(typeof styles['img-box-shadow']!=='undefined'){\n		// 	var $b = $accordion.find(\"div.img-box-shadow\");\n		// 	updateShadow($b.find(\"input.box-shadow:first\"),styles['img-box-shadow'],true);\n		// 	$b.find(\".shadow-sliders\").show();\n		// }\n		// if(typeof styles['text-shadow']!=='undefined'){\n		// 	var $b = $accordion.find(\"input.text-shadow:first\");\n		// 	updateShadow($b,styles['text-shadow']);\n		// 	$b.find(\".shadow-sliders\").show();\n		// }\n		// END BOX SHADOW // }}}\n\n		if(typeof styles['img-border']!=='undefined'){\n			var w = '0', s='solid', r=styles['img-border']['radius']||'0px', c=styles['img-border']['color']||'#000';\n			if(styles['img-border']['style']){\n				s=styles['img-border']['style'];\n				w=styles['img-border']['width'].replace('px','');\n			} else if(styles['img-border']['width']){\n				var parts = formatBorderWidth(styles['img-border']);\n				w=parts.wi.replace('px','');\n				s=parts.st;\n			}\n			var $this = $accordion.find(\".border-picker:last\");\n			flipDropDown($this.find(\"input.bdr-w\"),w+','+s);\n			flipDropDown($this.find(\"input.bdr-r\"),r);\n			$this.find(\"input.bdr-s\").val(s).end()\n				 .find(\".bdr-color\").val(c).css('background',c);\n		}\n		//END BORDER COLOR FUNCTIONALITY // }}}\n\n		//CHANGING SECTION BACKGROUND TYPE (COLOR VS. IMAGE) // {{{\n		var $bgt = $accordion.find('input.bg-type:first');\n		if (typeof styles['bg-type']!=='undefined' || $group['bg-type']!=='undefined') {\n			var bg_type = ($group['bg-type'])?$group['bg-type']:styles['bg-type'];\n			$bgt.val(bg_type);\n			flipBackgroundType($bgt,bg_type);\n		}\n\n		$bgt.change(function(){\n			var $this = $(this);\n			var grp = ftGetGrp($ftgroup);\n			if(typeof grp.styles=='undefined'){grp.styles={};}\n			grp['bg-type'] = $this.val();\n			flipBackgroundType($this,grp['bg-type'],true);\n			finetuneLayoutChangesMade();\n		});\n\n		$accordion.on('click','.remove-bg',function(){\n			$accordion.find(\"input.background-image\").val('').trigger('change');\n			$accordion.find(\"input.background-color\").val('').trigger('change');\n			$accordion.find(\"input.bg-type\").val('none').trigger('change');\n		})\n\n		//BACKGROUND-COLOR// {{{\n		var $bgcolor = $accordion.find('input.background-color:first');\n		if (typeof styles['background-color'] !== 'undefined') {\n			$bgcolor.val(styles['background-color']);\n			flipBackgroundType($bgt,'color');\n		}\n		$bgcolor.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			if(!grp['styles']){ grp['styles'] = {}; }\n			grp['styles']['background-color'] = $(this).val();\n			finetuneLayoutChangesMade();\n		});\n		//END BACKGROUND COLOR // }}}\n\n		// CHANGING SECTION BACKGROUND IMAGE // {{{\n		var $bgi = $accordion.find('input.background-image:first');\n		if(typeof $group['bgimage']!=='undefined' && $group['bgimage']!=''){\n			$bgi.val($group['bgimage']);\n			flipBackgroundType($bgt,'image');\n		}\n\n		$accordion.find(\".currentBackground\").click(function(){\n			var $this = $(this);\n			var extra_classes = '';\n			if($accordion.hasClass('eventImageGrp')){ //HEADER IMAGE\n				extra_classes = 'editHead';\n			} else if($accordion.hasClass('eventBodyGrp')){\n				extra_classes = 'editBody';\n			}\n			$(\"#imgColorPickerTab\").addClass('adminPane');\n			//check to see if we should default to the color tab.\n			var grp = ftGetGrp($accordion);\n			var gid = ftGetId($accordion);\n			if(grp['bg-type'] && grp['bg-type']=='color'){\n				$(\"#imgColorPickerTab\").addClass('active').siblings().removeClass('active');\n			}\n\n			pickAndOrCropNewImage($bgi,{\n				done: function(newSrc,dims){\n					updateGroupImage($accordion, { src: newSrc, dims: dims } );\n					updateBackgroundSettings( $liveGroup, 'image', newSrc, grp );\n				},\n				isBgImg: true,\n				classesToAdd: extra_classes,\n				group_id: gid\n			});\n\n		});\n\n\n		//END CHANGING SECTION BACKGROUND TYPE (COLOR VS. IMAGE) // }}}\n\n		if(typeof styles['border-style']!=='undefined'){\n			var $dd = $accordion.find(\"input.border-style:first\");\n			flipDropDown($dd,styles['border-style']);\n		}\n\n\n		// Section Hiding // {{{\n		var $hide = $accordion.find('input.hide-section');\n		if (typeof styles['hidden']!=='undefined') {\n			setCheck($hide,styles['hidden']);\n			if( styles['hidden'] == 1 ){\n				$hide.siblings('.hideText').text('Show Section')\n			}\n		}\n\n		$hide.change(function(){\n			var $this = $(this);\n			var $g = $this.parents('.ft-grp:first');\n			hideGroup($liveGroup,$this.val());\n		});\n		//END Section Hiding // }}}\n\n		//LOCKING SECTIONS\n		var $lock_type = $accordion.find(\"select.lock-type\");\n\n		if(typeof $group['lock_type']!=='undefined'){\n			$lock_type.val($group['lock_type']);\n		}\n		$lock_type.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp['lock_type'] = $lock_type.val();\n			if(grp['lock_type']==''){\n				$liveGroup.removeAttr(\"lock\");\n			} else {\n				$liveGroup.attr(\"lock\",grp['lock_type']);\n			}\n			finetuneDeActivateOnPageEditables(function(){\n				finetuneActivateOnPageEditables();\n				finetuneLayoutChangesMade();\n			});\n		});\n		//END LOCKING SECTIONS\n\n		//COLOR LINKING\n		var $linkToSwatch = $accordion.find(\"input.link-to-swatch\");\n		if(typeof $group['link-to-swatch']!=='undefined'){\n			setCheck($linkToSwatch,$group['link-to-swatch']);\n			if($group['link-to-swatch']=='1'){\n				$ftgroup.populateSwatchCombo();\n			} else {\n				$ftgroup.emptySwatchCombo();\n			}\n		} else {\n			$ftgroup.emptySwatchCombo();\n		}\n\n\n		$linkToSwatch.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp['link-to-swatch'] = $(this).val();\n			if(grp['link-to-swatch']=='1'){\n				$ftgroup.populateSwatchCombo();\n				$liveGroup.addClass('link-to-swatch');\n				setTimeout(function(){\n					var activeIndex = $(\"#advColorWrap\").data('editingOpt');\n					$linkToSwatch.parents('.link-to-swatch-holder:first').find('.comboWrap .combo-opt').eq( activeIndex ).addClass('active')\n				}, 1)\n\n			} else {\n				var grp = ftGetGrp($ftgroup);\n				$liveGroup.css({ 'color': \"\", 'background-color':\"\"});\n				if(grp['styles']){\n					if(grp['styles']['background-color']){\n						delete grp['styles']['background-color'];\n					}\n					if(grp['styles']['color']){\n						delete grp['styles']['color'];\n					}\n				}\n\n				if(grp['swatches']){\n					delete grp['swatches'];\n				}\n\n				delete grp['link-to-swatch'];\n\n				var classes = $liveGroup.attr(\"class\").split(' ');\n				var legitClasses = [];\n				for(var x in classes){\n					if(!classes[x].match(/swatch[0-9]/)){//only allow non swatch$NUM classes.\n						legitClasses.push(classes[x].trim());\n					}\n				}\n				$liveGroup.attr('class',legitClasses.join(' ')).removeClass('link-to-swatch');\n				$ftgroup.emptySwatchCombo();\n\n			}\n			finetuneLayoutChangesMade();\n		});\n		//COLOR LINKING END\n\n		//FONT LINKING\n		var $linkToFont = $accordion.find(\"input.link-to-font\");\n		if(typeof $group['link-to-font']!=='undefined'){\n			setCheck($linkToFont,$group['link-to-font']);\n			if($group['link-to-font']=='1'){\n				splash.fontActions.populateCombosInAccordion($accordion);\n			} else {\n				splash.fontActions.emptyCombosInAccordion($accordion);\n			}\n		} else {\n			splash.fontActions.emptyCombosInAccordion($accordion);\n		}\n\n		$linkToFont.change(function(){\n			var grp = ftGetGrp($ftgroup);\n			grp['link-to-font'] = $(this).val();\n			if(grp['link-to-font']=='1'){\n				\n				splash.fontActions.populateCombosInAccordion($accordion);\n				splash.fontActions.addTargetFontFamily($liveGroup,grp);\n			\n			} else {\n\n				splash.fontActions.removeTargetFontFamily($liveGroup,grp);\n				splash.fontActions.emptyCombosInAccordion($accordion);\n\n			}\n			finetuneLayoutChangesMade();\n		});\n		//FONT LINKING END\n\n	\n		///NUMBER INPUT LOGIC ///\n		$accordion.find(\"input[type=number]\").keypress(function(e){\n			// if($(this).parents().hasClass('box-controls')){\n			// 	if($(this).val().length == 3) {\n\n			// 	}\n			// }\n			// Allow: backspace, delete, tab, escape, enter and .\n	        if ( event.keyCode == 46 || event.keyCode == 8 ) {\n    			// let it happen, don't do anything\n	    	} else {\n	    		// Ensure that it is a number and stop the keypress\n	    		if (event.keyCode < 48 || event.keyCode > 57 ) {\n	    			event.preventDefault();\n	    		}\n	    	}\n		});\n\n		///END NUMBER INPUT LOGIC////\n		// -------- Settings Clickies ----------------- // }}}\n\n		if (typeof $group['bgimage'] != 'undefined') {\n			//$c.push('img');\n			$image = $group['bgimage'];\n		}\n		if ($group['eventImage']) {\n			$accordion.addClass('eventImageGrp');\n		}\n\n	if( typeof _callback === 'function' ){\n		setTimeout(function(){\n			_callback()\n		}, 0)\n	}\n\n	return true;\n}\n\nfunction deleteListItem($sf){\n	if($sf.hasClass('img-gal-item')){ //found us a keeper.\n		var photo_id = (''+$sf.prop(\"id\")).replace('epid-','');\n		updateEventPhoto(photo_id,{ deleted: '1' });\n		var $carousel = $sf.parents(\"div.carousel:first\");\n		var $next = $sf.next();\n		var $prev = $sf.prev();\n\n		$sf.fadeOut(300,function(){\n			$(this).remove()\n			if( $next.length > 0 ){\n				var $newCurrent = $next;\n			} else if( $prev.length > 0 ){\n				var $newCurrent = $prev;\n			} else {\n				var $newCurrent = $carousel.find(\".img-gal-item:first\");//fall back to the first in the list.\n			}\n			$newCurrent.addClass('current').siblings().removeClass('current');//go to the new last\n			$carousel.activateCarousel();\n			$carousel.slideToCurrent();\n		});\n\n	} else {\n\n		var sfid = (''+$sf.prop(\"id\")).replace('sfid-','');\n		finetuneEditedFields['data[SplashFeed]['+sfid+'][deleted]'] = 1;\n		$sf.fadeOut(300,function(){ $(this).remove() });\n\n	}\n\n	finetuneFieldChangesMade();\n	//finetuneLayoutChangesMade();\n	updateMainCanvasCClasses();\n}\nvar undoObjectIds = [];\nvar undoGrpWrapperId = [];\nfunction makeGrpsSortable(disable) {\n	var disable = disable || false;\n	var draggableSelector = \"#finetune-layout-contain .section.ft-grp\";\n	var dragHandle = (inAdvancedMode()) ? '.moveCursor' : '';\n	if (disable) {\n		console.log(' rgrg rgdiabled.ef efewerwb ev wr')\n		//$('#finetune-layout-contain')\n		$(draggableSelector).draggable('destroy');\n	} else {\n		$(draggableSelector).draggable({\n			helper: function() { return $('<div id=\"ftg-draghelper\" style=\"\"></div>')[0]; },\n			appendTo: '#finetune-layout-contain > .layout-block:first',\n			cursorAt: {top:10,left:10},\n			scroll: true,\n			handle: dragHandle,\n			axis: 'y',\n			start: function(event, ui){\n				generate_ftg_positions();\n				var $helper = $('#ftg-draghelper');\n				//$(draggableSelector).draggable(\"option\", \"cursorAt\", {top:10,left:20});\n				var $this = $(this);\n				if ($this.hasClass('grp-wrapper') && !$this.hasClass('collapsed') && !$this.hasClass('isBodyGroup')) {\n						$this.addClass('collapsed');\n						generate_ftg_positions();\n					//return false\n				}\n				ftg_dragging = true;\n				var $title = $this.find('>.title:first').clone().removeAttr('contenteditable');\n				$helper.css({\n					height: $this.outerHeight()+'px',\n					lineHeight: $this.outerHeight()+'px',\n					// minWidth: '30px',\n					width: $this.outerWidth()+'px'\n				}).html($title).addClass();\n				$this.children('span.title').addClass('dragging');\n				$this.addClass('the-placeholder');\n				undoObjectIds.push($this.next());\n				undoGrpWrapperId.push($this);\n				initWrap.length = $(\"#finetune-layout-contain\").children(\".ft-grp.grp-wrapper\").length;\n				initEle.length = $(\"#finetune-layout-contain\").children(\".ft-grp.grp-wrapper\").length;\n\n\n			},\n			stop: function(){\n				ftg_dragging = false;\n				var $this = $(this);\n				$this.removeClass('dragging the-placeholder');\n				var mgid = (''+$this.attr('id')).replace(/^ft/,'');\n				var $prev = $this.prev('.ui-draggable');\n\n				if ($prev.length == 1) {\n					var gid = $prev.attr('id');\n					gid = (''+gid).replace(/^ft/,'');\n					var $p = $('#'+gid);\n					if ($p.length == 1) {\n						$p.after($('#'+mgid));\n					}\n				}\n				else {\n					var $parent = $this.parent();\n					var gid = $parent.attr('id');\n					if (gid == 'finetune-layout-contain') {\n						gid = 'main-canvas';\n						if($this.hasClass('ele-wrapper')){\n							$this.removeClass('ele-wrapper')\n						}\n						$this.addClass('grp-wrapper');\n					}\n					gid = (''+gid).replace(/^ft/,'');\n					var $p = $('#'+gid);\n					if ($p.length == 1) {\n						$p.prepend($('#'+mgid));\n					}\n				}\n				updateNestAttr($this);\n				setTimeout(function(){\n					scrollToBlock($(\"#\"+mgid));\n				},250);\n				$(\"#nestedLayoutContainer .undo\").addClass(\"active\");\n				var grpWrapperLength = $(\"#finetune-layout-contain\").children(\".ft-grp.grp-wrapper\").length;\n				//this checks to see if the length of the ele-wrapper or grp-wrapper is different from when\n				//it initially started (ie. during a drag), it appends it to the bottom of the page as a graceful\n				//fallback, to ensure it never disappears.\n				if( (grpWrapperLength < initWrap.length || grpWrapperLength < initEle.length)\n					&& $this.parents(\"#finetune-layout-contain\").length > 0){\n					$(\"#finetune-layout-contain\").append($this);\n					$(\"#nestedLayoutContainer .undo\").removeClass(\"active\");\n				}\n				generate_ftg_positions();\n				addElementButtons();\n				finetuneLayoutChangesMade();\n			},\n			drag: function(ev){\n				clearTimeout(ftg_draggingT);\n				var $this = $(this);\n				var $helper = $('#ftg-draghelper');\n				ftg_draggingT = setTimeout(function(){\n\n					var moffset = $('#finetune-layout-contain').offset();\n					ftg_draggingTopOffset = moffset.top;\n					ftg_draggingLeftOffset = moffset.left;\n\n					var y = $helper.offset().top - ftg_draggingTopOffset;\n					// moving down so use the bottom edge\n					if (ftg_prevy && y > ftg_prevy) {\n						y += $helper.outerHeight();\n					}\n					var x = $helper.offset().left - ftg_draggingLeftOffset;\n					var $underMe = false;\n					var direction = false;\n					for (var i in ftg_positions) {\n						if ($underMe === false) {\n							var p = ftg_positions[i];\n\n							if (p.left + p.width > x && p.left < x\n								&& p.top + p.height > y && p.top < y) {\n								$underMe = $('#'+p.id);\n								var relY = (y-p.top)/p.height;\n								//$this.find('>.title:first').text(relY);\n								if (relY <= .50) {\n									direction = 'up';\n								} else { //if (relY > .49) {\n									direction = 'down';\n								}\n							}\n\n						}\n					}\n					if ($underMe !== false && $this.attr('id') != $underMe.attr('id') && $underMe.length == 1 ){\n						if ($underMe.hasClass('ele-wrapper') || $underMe.hasClass('collapsed')) {\n							if($underMe.hasClass('collapsed')){\n								//$uncollapseNav = setTimeout(function(){$underMe.removeClass('collapsed')}, 4000);\n								updateNestAttr($this);\n								generate_ftg_positions();\n							}\n							if (direction == 'up') {//// ftg_prevy && y < ftg_prevy ){\n								$this.insertBefore($underMe);\n								generate_ftg_positions();\n							} else {\n								$this.insertAfter($underMe);\n								generate_ftg_positions();\n							}\n\n						} else if ($underMe.hasClass('grp-wrapper')) {\n							var pid = $this.parent().attr('id');\n							if ($underMe.attr('id') == pid) {\n								if(direction == 'up'){\n									$this.insertBefore($underMe);\n									generate_ftg_positions();\n								}\n								else{\n									console.log($underMe.children('.accordion'))\n									$this.insertAfter($underMe.children('.accordion'));\n									generate_ftg_positions();\n								}\n								//// already in here\n								//var top = $this.offset().top-ftg_draggingTopOffset;\n								//if (y < top) {//up\n									//var $prev = $this.prev('.ui-draggable');\n									//if ($prev.length == 1) {\n										//$this.insertBefore($prev);\n									//}\n								//}\n								//else {//down\n									 //var $next = $this.next('.ui-draggable');\n									 //if ($next.length == 1) {\n										//$this.insertAfter($next);\n									 //}\n								 //}\n							} else {\n								// need to change parents\n								if ( ftg_prevy && y < ftg_prevy ){\n									$underMe.children('.accordion').after($this);\n								} else {\n									$underMe.prepend($this);\n								}\n							}\n						}\n					}\n				ftg_prevx = x;\n				ftg_prevy = y;\n				},5);\n			}\n		});\n	}\n}\n\n\n\n//////////ADV MODE LAYOUT SUPPORT FUNCTION(s)\n/////Scroll window\nfunction cursorScrolling() {\n	var canvas = $(\"#nestedLayoutContainer\");\n	canvas.append(canvas.children().clone());\n	var self = this;\n	var ScrollTimer = \"\"\n	this.StartScroll = function() {\n	    ScrollTimer = window.setInterval(function() {\n	        canvas.scrollTop(canvas.scrollTop() + 1)\n	    }, 10);\n\n	}\n	this.StopScroll = function() {\n	    if (ScrollTimer != \"\") {\n	        window.clearInterval(ScrollTimer);\n	    }\n	};\n	// to scroll the div when the mouse mouse at the bottom right corner\n	canvas.mousemove(function(event) {\n	    self.StopScroll();\n	    var boundaries = canvas[0].getBoundingClientRect();\n	    //-50 margin, so that we can scroll the div when the mouse at the bottom right corner.\n	    if (event.offsetY > boundaries.width - 50) {\n	        self.StartScroll()\n	    }\n	});\n	// stop scroll when the mouse is out of the div\n	canvas.mouseout(function(event) {\n	    self.StopScroll();\n	});\n}\n\n\nfunction updateNestAttr(){//expects an ftg object - ie. $(\"#ftg-19\");\n	var $ftLayout = $(\"#finetune-layout-contain\");\n	var ftGrp = \".ft-grp\";\n	//find each ft-grp\n	$ftLayout.find(ftGrp).each(function(){\n		var parentNestVal = $(this).parents('.grp-wrapper:first').attr('nestedAttr');\n		var $parentGrp = $(this).parent();\n		if($parentGrp.prop('id') == 'finetune-layout-contain') {\n			var parentNestVal = 1;\n			$(this).attr('nestedAttr',parentNestVal);\n		}\n		else {\n			var newNestVal = parseInt(parentNestVal) + 1;\n			$(this).attr('nestedAttr', newNestVal);\n		}\n		$(this).children('span.title:first').removeClass('dragging');\n	});\n	return false;\n	//AFTER MORE TESTING OF THE CODE ABOVE -- DELETE THE CODE BELOW\n	/*\n	var parentNest = parseInt($currentGrp.prev().attr('nestedattr'));\n	var currentNestInt = parseInt($currentGrp.attr('nestedattr'));\n	var nextNestAttr = Math.abs(parentNest + 1);\n	if(isNaN(parentNest)) {\n		var parentNest = parseInt($currentGrp.parent().attr('nestedattr'));\n		var nextNestAttr = Math.abs(parentNest + 1);\n		if(parentNest < currentNestInt || isNaN(currentNestInt)){\n			$currentGrp.attr('nestedattr', nextNestAttr.toString());\n		}\n		else if($currentGrp.parent().attr('id') == \"finetune-layout-contain\") {\n			$currentGrp.attr('nestedattr', '1');\n		}\n	}\n	else {\n		if(parentNest < currentNestInt){\n			$currentGrp.attr('nestedattr', nextNestAttr.toString());\n		}\n		else {\n			$currentGrp.attr('nestedattr', parentNest.toString());\n		}\n	}\n	*/\n}\n\nvar storeHeadText = new Object();\nfunction editTitles() {\n	storeHeadText.title\n}\n\nfunction flipMode($obj,params){\n	var $p = $obj.parents(\"div.chooser-wrap:first\"),\n		$wrap = $p.find('div.modes:first'),\n		$opts = $wrap.find(\"div.layBtnWrap\");\n	var $img_shape = $wrap.find(\"input.img_shape\");\n	if($img_shape.length > 0){\n		var $input = $img_shape;\n	} else {\n		var $input = $wrap.find(\"input.mode\");\n	}\n\n	var modeType = 'layout';\n	var $layoutGrp = ftGetLayoutGrp($p.parents(\".accordion:first\"));\n\n	if( $img_shape == $input ){\n		modeType = 'shape';\n	}\n\n	if(params.val!=null){//PASSING SET VALUE.\n		var $activeMode = $wrap.find(\"div.nu-btn[value='\"+params.val+\"']:first\").parents(\"div.layBtnWrap:first\");\n		if($activeMode.length < 1){			//fallback to the first in case we don't find a match.\n			$activeMode = $opts.eq(0);\n		}\n	} else{	//going in a direction.\n		var $currentActive = $wrap.find(\"div.layBtnWrap.active:first\");\n		if(params.direction=='right'){\n			var $activeMode = $currentActive.next('.layBtnWrap');\n			if($activeMode.length < 1){//go back to beginning.\n				$activeMode = $opts.eq(0);\n			}\n		} else {//left.\n			var $activeMode = $currentActive.prev('.layBtnWrap');\n			if($activeMode.length < 1){//go to end.\n				var c = $opts.length -1;\n				$activeMode = $opts.eq(c)//last();\n			}\n		}\n	}\n	$activeMode.addClass('active').siblings().removeClass('active').find(\".nu-btn:first\").removeClass('active');\n	var $obj = $activeMode.find(\".nu-btn:first\");\n	$obj.addClass('active');\n	$p.find('.layoutText').text( $obj.attr('desc') )\n	$input.val($obj.attr(\"value\"));\n	var $jump = false;\n	if(typeof params.force!=='undefined' && params.force == true){\n\n		var thisVal = $obj.attr(\"value\")\n\n		var $sf = $layoutGrp.find(\".sf:first\");\n		var block_type = $sf.attr('block-type');\n\n		if ( block_type == 'schedule'  ){\n\n			var thisAlign = 'left'\n\n			if (thisVal == 's1') {\n				thisAlign = 'left'\n			} else if (thisVal == 's3') {\n				thisAlign = 'center'\n			}\n\n			$sf.find('.title h1').css('text-align', thisAlign ).trigger('change');\n\n		} else if ( block_type == 'content'  ){\n\n			var thisAlign = 'left'\n\n			if (thisVal == 'leftLay') {\n				thisAlign = 'left'\n			} else if (thisVal == 'centerLay') {\n				thisAlign = 'center'\n			} else if (thisVal == 'rightLay') {\n				thisAlign = 'right'\n			}\n\n			$sf.find('.body h1').css('text-align', thisAlign ).trigger('change');\n\n			$layoutGrp.css('text-align', thisAlign )\n\n			updateBlockProperty( $layoutGrp , { \"text-align\": thisAlign });\n		} else if ( block_type == 'images' ){ // image group\n\n			var thisAlign = 'center'\n\n			$sf.find('.title h1').css('text-align', thisAlign ).trigger('change');\n\n		} else if ( block_type == 'sponsors' ){ // image group\n\n			var thisAlign = 'center'\n\n			$sf.find('.title h1').css('text-align', thisAlign ).trigger('change');\n\n		} else if ( block_type == 'list'  ){\n\n			var thisAlign = 'left'\n\n			if (thisVal == 's1') {\n				thisAlign = 'left'\n			} else if (thisVal == 's1 alt' || thisVal == 's1 alt three') {\n				thisAlign = 'center'\n			}\n\n			$sf.find('.title h1').css('text-align', thisAlign ).trigger('change');\n\n		}\n\n		if( modeType == 'layout' ){\n			$jump = $layoutGrp.find('.edit-tools .inner .layout-jump')\n		} else if( modeType == 'shape' ){\n			$jump = $layoutGrp.find('.edit-tools .inner .shape-jump')\n		}\n\n		$input.trigger('change');\n\n		if( $jump !== false ){\n			$jump.find('.inline-state').text( $obj.attr('desc') )\n\n\n			if ( modeType == 'layout' ){\n				var thisClass = $obj.find('i').attr('class')\n\n				if( typeof thisClass !== 'undefined' && thisClass.indexOf('icon-f') == -1 && thisClass.indexOf('mce') == -1 ){\n					thisClass = 'icon-f-' + thisClass\n				}\n\n				$jump.find('i[show=\"hover\"]').attr('class', '').addClass( thisClass )\n			} else if ( modeType == 'shape' ){\n\n				var thisClass = $obj.attr('value')\n\n				if( typeof thisClass !== 'undefined' && thisClass.indexOf('icon-f') == -1 && thisClass.indexOf('mce') == -1 ){\n					thisClass = 'icon-f-' + thisClass\n				}\n\n				$jump.find('i[show=\"hover\"]').attr('class', '').addClass( thisClass )\n\n			}\n\n		}\n\n\n	}\n\n\n\n	if(typeof $activeMode!=='undefined'){\n		setTimeout(function(){\n			var	thisLeft = $activeMode.position().left;\n			$wrap.css('left','-'+thisLeft+'px');\n		},50);\n	}\n\n	$thisChunk = $p.parents('.section:first').attr('chunk')\n\n	// console.log('chunk ', $thisChunk)\n	// console.log('val ', $obj.attr(\"value\"))\n\n	if( typeof $thisChunk !== 'undefined' ){\n		thisGrp = '#' + $thisChunk.replace('ft', '')\n		$( thisGrp ).find('.list-item').find('img').each(function (index, img) {\n			checkPlaceholderWidth( $(img) )\n		});\n	}\n\n}\n\n// flip layout function for new elements, simpler. Executed when clicking the layout finetune icon\nfunction layoutJump($sf, params) {\n\n	// get splash feed id\n	sfid = $sf.attr('id').match(/[0-9]+$/);\n\n	// obtain or create the options array for this element\n	var options = $sf.data('splashFeedOptions');\n	if ( typeof(options) == 'undefined' ) options = {};\n\n	if ( $sf.hasClass('nav') ) {\n		var newNavMode = NavElement.toggleMode($sf);\n		options['mode'] = newNavMode;\n\n		// apply to all nav items as well\n		$.each( $sf.find('.sf.nav-item'), function() {\n			var options = $(this).data('splashFeedOptions');\n			if ( typeof(options) == 'undefined' ) options = {};\n			options['mode'] = newNavMode;\n			finetuneEditedFields[ 'data[SplashFeed]['+$(this).attr('id').match(/[0-9]+$/)+'][options]' ] = $.extend({},options);\n		});\n	}\n	else if ( $sf.hasClass('countdown') ) {\n		options['layout'] = CountdownElement.toggleLayout($sf);\n	}\n	else if ( $sf.hasClass('attendees') ) {\n		options['layout'] = AttendeesElement.toggleMode($sf);\n	}\n	else if ( $sf.hasClass('social-links-v2') ) {\n		options['mode'] = SocialLinksElement.toggleMode($sf);\n	}\n\n	// extend clones the options array\n	finetuneEditedFields[ 'data[SplashFeed]['+sfid+'][options]' ] = $.extend({},options);\n	finetuneFieldChangesMade();\n}\n\n\n$openingAcc = false; ///global variable for opening accoridion\nfunction openCustomSection($someFtGrp,params){\n	if(!inAdvancedMode() && !inDesignerMode()){//only applies for advanced mode as of v2.Oh\n		return false;\n	}\n\n	var $accordion = ftGetAccordion($someFtGrp);\n	var gid = ftGetId($accordion);\n	var $ftgrp = $(\"#ftg-\"+gid);\n	var grp = ftGetGrp($accordion);\n\n	//this opens a custom section, expects an $ftg object (ie. $(\"#ftg-5\") ) passed through with optional parameters.\n	$('#buttonTabWrap').removeClass('open')\n	$(\"#nestedLayoutContainer\").css({ \"height\":\"100%\", \"max-height\":\"100%\"});\n	$(\"#finetune-back-btn\").removeClass('hide');\n	$('#finetune-all-tools .container-undo-btn').hide();\n\n	//add logic to update section header here.\n\n	if( $accordion && ! $(\"#sections-wrap\").hasClass('sorting') ){\n\n		var grptype = $ftgrp.attr('group-type');\n		if (grptype == 'gallery'){\n			gallerySplashFeedId = false;\n		} else if( $ftgrp.attr(\"block-type\") == 'img_gal' ) {//hardcoded check for image gallery img_gal.\n			var sfid = grptype.replace('custom-block-','');//get the raw splash feed id.\n			gallerySplashFeedId = sfid;\n		}\n\n		$(\"#finetune-sections\").find('.section.open').removeClass('open')\n		// $(\"#finetune-block\").find(\"div.accordion\").hide();//bb\n		$accordion.find(\".content-inner-wrap\").scrollTop(0);\n\n		if(!$accordion.hasClass('bound')){\n			bindAndPopulateAccordion($accordion,grp);\n		}\n		\n		$accordion.find('.layout-ctrl').removeClass('open')\n		if(grp && grp['link-to-swatch'] && grp['link-to-swatch']=='1'){//has to be called regardless of bound or now.\n			$accordion.populateSwatchCombo();\n		}\n		if(grp && grp['link-to-font'] && grp['link-to-font']=='1'){//has to be called regardless of bound or now.\n			splash.fontActions.populateCombosInAccordion($accordion);\n		}\n\n\n		inCustomSection = true;\n		$openingAcc = true;\n\n		$ftgrp.addClass('open').siblings().removeClass('open').parents('.contentTabWrap:first').addClass('expanded')\n		$ftgrp.parents(\".ft-grp.collapsed\").removeClass('collapsed');//important - has to open collapsed parents.  for the sake of the bolt jump.\n		$('#allSectionsContain').addClass('open')\n		$ftgrp.children('.title').addClass('hideSidebar');\n		$ftgrp.children('span.collapse.icon-f-wide-darr').hide();\n		$(\"#finetune-layout-instructs-sub\").text('Double Click to Edit Title');\n		$('#elementsHeader').addClass('isBackBtn').text('Back to All Content')\n		var str = $ftgrp.find(\"span.title:first\").find(\"span:first\").text();//getting the title of the group.\n		var title = str.split(\" \");\n		//if(str.length > -1){\n		//if(title[0] == title[1]) {//prevents ones with the double name.\n			// $(\"#finetune-all-tools .sectionHead .instructs span\").text(title[0]);\n			// }\n			// else {\n		$(\"#finetune-layout-instructs\").text(str);\n		adminPane.hideCheckBox($ftgrp);\n			//}\n		//}\n\n		// some other things happen in settimeouts.. gotta do it twice.. staggereD\n		//<<<v.2.0>>> - does this still need to happen?\n		setTimeout(function(){\n			setVisibleAccordionHeight();\n		},100);\n		setTimeout(function(){\n			setVisibleAccordionHeight();\n			layoutFunction.highlightSidebar($accordion);\n			$openingAcc = false;\n		},500);\n\n		if(params!=null && params.scrollToBlock == true){\n			//find section on page.\n			var $layoutGrp = ftGetLayoutGrp(gid);\n			if($layoutGrp.length > 0){\n				scrollToBlock($layoutG,-20);\n			}\n		}\n\n	}\n}\n\nfunction matchTitleText($titleObj) {\n	if($(\"#finetune-all-tools .section.ft-grp\").hasClass('open')){\n		$titleObj.attr(\"contenteditable\",\"true\").addClass(\"inline editable hasTiny mce-content-body mce-edit-focus\").focus();\n		$titleObj.keyup(function(){\n\n			storeHeadText.title = $(\"#finetune-layout-instructs\").text();\n			var grp = ftGetGrp($(\"#finetune-layout-contain .ft-grp.open\"));\n			grp.name = storeHeadText.title;\n			console.log(grp);\n			$(\"#finetune-layout-contain .ft-grp.open span.title:first span:first\").text(storeHeadText.title);\n			finetuneLayoutChangesMade();\n		});\n	}\n	else {\n	 	$titleObj.attr(\"contenteditable\",\"false\").removeClass(\"inline editable hasTiny mce-content-body mce-edit-focus\").blur();\n	 }\n	 finetuneLayoutChangesMade();\n}\n\nfunction closeCustomSection(){\n	var $ft = $(\"#finetune-all-tools\"),\n		$openAccordions = $ft.find('.ft-grp.open');\n\n	$(\"#finetune-layout-instructs\").attr('contenteditable',\"false\").text('LAYOUT');\n	$(\"#finetune-layout-instructs-sub\").text('Reorder and Manage Sections');\n	$(\"#finetune-undo-btn\").show();\n	$(\"#finetune-back-btn\").addClass('hide');\n\n	$('#sectionTabWrap').removeClass('expanded')//not sure if this is needed.\n\n\n	//important- in case of multiple objects having the open class, make sure to close ALL instances,\n	closeSecAccords($openAccordions);\n	if($openAccordions.length > 0){\n\n		$openAccordions.removeClass('open').find('.title').removeClass('hideSidebar');\n		$ft.find(\".ft-grp span.collapse\").show()\n		setWindowHeight($(\"#nestedLayoutContainer\"));\n		if(inCustomSection){//nice UI plug. if you click in and click \"BACK\" - you are taken to current Scroll section.\n			// var currentScroll = $(\"#nestedLayoutContainer\").data('currentScroll')\n			$(\"#nestedLayoutContainer\").scrollTop($(\"#nestedLayoutContainer\").data('currentScroll')).data('currentScroll',0);\n		}\n\n		setTimeout(function(){\n			setVisibleAccordionHeight();\n			layoutFunction.removeHighlight(false);\n		},700);\n	}\n\n	//important - set the following two global variables to false so user can get back into custom section.\n	inCustomSection = false;\n	$openingAcc = false;\n\n}\n\nfunction removeGroup($grp,gid,preserve){//main call for deleting a group.\n	gid = (''+gid).replace('g-','');\n	var $ftgrp = $('#ftg-'+gid);\n	if ($ftgrp.length == 1) {\n		var $ele = $ftgrp.find('.element:first');\n		if ($ele.length == 1) {\n			var $missings = $('#finetune-layout-missing-elements');\n			$missings.append($ele);\n		}\n		var $acc = $(\"#acc-ftg-\"+gid);\n		if(preserve==null && $acc.length > 0 && $acc.is(\":visible\")){\n			backToFineTune();\n		}\n		$ftgrp.fadeOut(300,function(){\n			$(this).remove();\n			updateFinetuneSectionCountDisplay();\n			updateNestAttr();//update the nest attribute order.\n		});\n		var $parent = $grp.parents(\".drop-area:first\");\n\n		$acc.fadeOut(300, function(){ $(this).remove(); });\n		$grp.fadeOut(300,function(){\n			if($grp.find(\".sf:first\").hasClass('attendeeButton')){ //if we're deleting the view attendees block, set a variable to true.\n				var checkForAttendees = true;\n			}\n			$(this).remove();\n			addElementButtons();\n			setTimeout(function(){\n				if($parent.length > 0 && $parent.find(\".layoutGrp\").length < 1){\n					$parent.addClass('not-edited');\n					var grp = ftGetGrp($parent);\n					if(grp){\n						if(!grp['class']){\n							grp['class'] = '';\n						}\n						grp['class']+=' not-edited ';\n						finetuneLayoutChangesMade();\n					}\n\n				}\n				if(typeof checkForAttendees!=='undefined'){\n					if($(\"#splash-container\").find(\".sf.attendeeButton\").length < 1){ //if we deleted the only view Attendees button, update the event settings.\n						updateSettingsField( { field: 'rsvp_guest_display', value: 0 } );\n					}\n				}\n			},10);\n\n		});\n		finetuneLayoutChangesMade();\n		updateMainCanvasCClasses();\n\n	}\n}\n\n$(\"#finetune-layout-instructs\").on('dblclick', function(e){\n	matchTitleText($(this));\n});\n\n\n$(\"#finetune-layout-contain\").on('click','.grp-wrap-btn', function(e){\n	e.preventDefault();\n	var num = $(this).parents(\".ft-grp:first\").attr(\"nestedattr\");\n	var $myNew = finetuneGroupMarkup(\n			{\n				name:'Container',\n				styles: {\n				padding: 0\n				}\n			},\n			num\n		);\n	var numNext = num++;\n	var $ft = $(this).parents(\".ft-grp:first\");\n		$ft.removeClass('x'+num).addClass('x'+numNext);\n	$myNew.addClass('grp-wrapper ui-draggable').append('<span class=\"collapse icon-f-wide-darr\"></span>');\n	$ft.wrap($myNew);\n	var gid = (''+$myNew.attr('id')).replace('ftg-','');\n	var vid = (''+$ft.attr('id')).replace('ftg-','');\n	$('#g-'+vid).wrap($('<div class=\"grp p-grp x'+num+' layoutGrp p0\" id=\"g-'+gid+'\"></div>'));\n	finetuneLayoutChangesMade();\n	generate_ftg_positions();\n	updateNestAttr();\n	makeGrpsSortable();\n	return false;\n});\n\nvar initWrap = new Object();\nvar initEle = new Object();\nvar undoHideShow = [];\nvar undoColumnSort = [];\nundoColumnSortPrev = [];\nundoColumnSortParent = [];\n\n$('#nestedLayoutContainer .undo').click(function() {//Advanced Layout UNDO Button click\n	$fineTuneContain = $(\"#finetune-layout-contain\")\n	$( \"#ftg-draghelper\").remove();\n\n	/////MAGIC\n	var value = undoObjectIds.length - 1;\n	if(value < 0) {\n		var value = 0;\n	}\n	if( ! undoObjectIds[value]){\n		return false;//nothing to do.\n	}\n	var current = undoObjectIds[value][0].id;\n	$(\"#\"+current).before($(\"#\"+undoObjectIds[value].context.id));\n\n	if($fineTuneContain.children(\".ft-grp.grp-wrapper\").length < initWrap.length){\n		if($fineTuneContain.children(\".ft-grp.grp-wrapper\").length == 1 && $fineTuneContain.children(\".ft-grp.grp-wrapper\").attr('id') == 'ftg-1' ) {\n			$fineTuneContain.append($(undoObjectIds[value].context));\n		}\n		if($fineTuneContain.children(\".ft-grp.grp-wrapper\").length == 1 && $fineTuneContain.children(\".ft-grp.grp-wrapper\").attr('id') != 'ftg-1') {\n			$addTo = $fineTuneContain.children(\".ft-grp.grp-wrapper\");\n			$addTo.before($(undoObjectIds[value].context));\n		}\n	}\n\n	var gidcurrent = $(\"#\"+current).attr('id').replace('ftg-','g-');\n	var gidcontext = $(\"#\"+undoObjectIds[value].context.id).attr('id').replace('ftg-','g-');\n	$(\"#\"+gidcurrent).before($(\"#\"+gidcontext));\n\n	if(undoObjectIds.length > 1){\n		undoObjectIds.pop();\n	}\n	if(undoObjectIds.length == 1){\n		$(\"#nestedLayoutContainer .undo\").removeClass(\"active\");\n	}\n\n	//console.log(undoObjectIds);\n	//$body.addClass('has-theme-changes');\n	generate_ftg_positions();\n\n	trackIndicativeEvent('layoutChangeUndo');\n});\n\n$('.container-undo-btn .reorder-undo-grp .addContain').click(function(){\n	var containGroups = getColumnContainerMarkup('1-column');\n	addNewSection(containGroups,true);\n	$(\"#nestedLayoutContainer\").scrollTop($(\"#nestedLayoutContainer\")[0].scrollHeight);\n});\n$('.container-undo-btn .reorder-undo-grp .addCol').click(function(){\n	var columnGroups = getColumnContainerMarkup('2-columns');\n	addNewSection(columnGroups,true);\n	$(\"#nestedLayoutContainer\").scrollTop($(\"#nestedLayoutContainer\")[0].scrollHeight);\n});\n\nvar reorderButton = 0;\n$(\"#reorder\").click(function(e){\n	reorderButton++;\n	if(reorderButton > 1){\n		makeGrpsSortable(true);\n		reorderButton = 0;\n	}\n	else {\n		makeGrpsSortable();\n	}\n});\n\n\nfunction getMasterGroupFromLayout(layout){\n	var grp = false;\n	for(var x in layout){\n		if(layout.master_group=='1'){\n			grp = layout.master_group;\n			return grp;\n		}\n	}\n}\n\nfunction flipBackgroundType($input,value,triggerChange){//deals with switching background-type from color -> image -> none.\n	var $accordion = ftGetAccordion($input.parents(\".ft-grp:first\"));\n	var $currentBg = $accordion.find(\".currentBackground\");\n	if (value == 'image') {\n		var bgimage = $accordion.find(\"input.background-image:first\").val()\n		if(bgimage!=''){\n			$currentBg.css('background-image','url(\"'+bgimage+'\")');\n		}\n	} else if(value=='none'){\n		$currentBg.css('background','url(\"/images/empty-bg.png\")');\n	} else { //color\n		var thisColor = $accordion.find(\"input.background-color:first\").val();\n		$currentBg.css('background',thisColor);\n	}\n\n	if(triggerChange){\n		if(value=='image'){\n			if(bgimage==''){//if the field has no bg image, fire the gallery\n				$bg_wrap.find(\".currentBackground:first\").click();\n			} else {\n				updateGroupImage($ftgrp, { src: bgimage });\n			}\n		} else if(value=='none'){\n			updateGroupBgColor($input,'transparent');\n		} else {//color\n			updateGroupBgColor($input,thisColor);\n		}\n	}\n}\n\nfunction hideGroup($someFtGrp,value){\n	var $accordion = ftGetAccordion($someFtGrp);\n	var $ftgroup = ftGetFtGrp($someFtGrp);\n	var $liveGroup = ftGetLayoutGrp($someFtGrp);\n\n	if(!$accordion.hasClass('bound')){\n		bindAndPopulateAccordion($accordion, { silent: true });\n	}\n	var $btn = $accordion.find(\"input.hide-section\");\n	setTimeout(function(){\n		$accordion.find('input.hide-section').val(value)\n	},10);\n	var grp = ftGetGrp($ftgroup);\n	if(typeof grp.styles=='undefined'){grp.styles={};}\n	if (value == 1) {\n		grp.styles['hidden'] = 1;\n		$ftgroup.addClass('section-hidden');\n		$liveGroup.hide();\n		$btn.siblings('.hideText').text('Show Section');\n	} else {\n		$ftgroup.removeClass('section-hidden');\n		$liveGroup.show();\n		scrollToBlock($liveGroup,-20);\n		$btn.siblings('.hideText').text('Hide Section');\n		delete grp['styles']['hidden'];\n	}\n\n	var group_classes = $liveGroup.attr('class');\n	//check for basic elements.\n	if( group_classes.match(/mega-date-wrap/g) ) {\n		var $basic_block = $(\"#when_theme_styles\");\n	} else if( group_classes.match(/mega-location-wrap/g) ){\n		var $basic_block = $(\"#where_theme_styles\");\n	} else if( group_classes.match(/element-/g) ){\n		//deal with other hidden layout opts here.\n		var match = false;\n		var class_array = group_classes.split(' ');\n		for(var x in class_array){\n			if( !match && class_array[x].match(/element-/g) ){\n				match = class_array[x].replace('element-','');\n			}\n		}\n		var $basic_block = $(\"#\"+match+\"_theme_styles\");\n	}\n	if(typeof $basic_block!=='undefined'){\n		if(value==1){\n			$basic_block.addClass('is-hidden');\n		} else {\n			$basic_block.removeClass('is-hidden');\n		}\n	}\n\n	trackIndicativeEvent('finetuneLayoutHide', { 'value': value });\n	finetuneLayoutChangesMade();\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/finetune-layout.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 96075,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-button.ctp",
			"settings":
			{
				"buffer_size": 1388,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list.ctp",
			"settings":
			{
				"buffer_size": 4883,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/page-action-settings.ctp",
			"settings":
			{
				"buffer_size": 8902,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/planning-tools.ctp",
			"settings":
			{
				"buffer_size": 21095,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/nav-embed.ctp",
			"settings":
			{
				"buffer_size": 4136,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/registration_controller.php",
			"settings":
			{
				"buffer_size": 27809,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/layout.ctp",
			"settings":
			{
				"buffer_size": 46085,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/inline-edit-actions.ctp",
			"settings":
			{
				"buffer_size": 6965,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "$(document).ready(function(){\n    \n    $(document).on('click',\"#contact-submit\",function(){\n        contact_changes_made=false;\n    });\n    window.onbeforeunload = function (evt) {\n        console.log('ahh');\n        if ( contact_changes_made ){\n            var message = \"You have unsaved changes for this contact.  Save your changes before leaving!\";\n            if (typeof evt == undefined) {\n                evt = window.event;\n            }\n            if (evt) {\n                evt.returnValue = message;\n            }\n            return message;\n        }\n    }\n\n    $(document).on('click', 'a', function(event){\n        if($(this).attr(\"href\") == '#'){\n            event.preventDefault();\n        }\n    });\n    $(\"html\").click(function(e){\n        if($(\"#simple-modal-wrap\").is(\":visible\")){\n            var $target = $(e.target);\n            if(($target.parents(\".simple-modal\").length<1 && !$target.hasClass('simple-modal')) && !$(\"#simple-modal-wrap\").hasClass('persistent')){\n                if(!autoCompleteSearchOpen){\n                    closeSimpleModal();\n                }\n            }\n        }\n    });\n\n    if(typeof constants.add_contact!=='undefined'){\n        $.fn.checkProfileFields();\n    }\n    $(document).on('click',\"#backToContacts\",function(){\n        if(contact_changes_made){\n            if(!confirm(\"You have unsaved changes for this contact.  Save your changes before leaving!\")){\n                return false;\n            }\n        }\n        var $this = $(this);\n        if($this.hasClass('hardReload')){\n            searchContacts();\n            $this.removeClass('hardReload');\n        } else{\n            $(\"#profile-content\").hide();\n            $(\"#all-contacts,#upper-nav\").fadeIn('fast');\n        }\n        $('body,html').animate({\n            scrollTop: $(\"#all-events\").offset().top - 50\n        }, 0);\n\n    });\n\n    $(window).bind('hashchange',function(){\n        ///////////////////alert('You clicked something that changed the hash tag to #.  Remember!  What was it!?');\n        var hash = getHash();\n        var contents = hash.split('-');\n        //console.log(\"contents\"+contents);\n        //console.log(hash);\n        if( (hash==''||hash=='!') && !$(\"#all-contacts\").is(\":visible\") ){\n            $(\"#backToContacts\").click();\n        }\n        else if($.inArray(contents[0].toLowerCase(),['eventrsvp','eventinvite','contact','contactsocial'])>-1 && !$(\"#profile-content\").is(\":visible\")){\n            if(!loadingContact){\n                loadProfile(contents[0],contents[1]);                   \n            }\n            //$(\"#all-contacts\").find(\"#\"+hash).click();\n\n            //  [remote-id='\"+contents[1]+\"']\").click();\n        }\n        else if($.inArray(contents[0],['community','address'])>-1){\n            var $ul = $(\"#contact-sort-belt\");\n            var type = (contents[0]=='community')?'guests':'contacts';\n            if($ul.find(\"a.active\").attr(\"type\")!=type){\n                $ul.find(\"a[type='\"+type+\"']\").click();\n            } \n        }\n        else if(contents[0]=='tag'){\n            var tag_id = contents.pop()*1;\n            if(tag_id > 0){\n                var $tag = $(\"#tag-list\").find(\"a.tag[tag-id=\"+tag_id+\"]\");\n                if(!$tag.hasClass('selected')){\n                    $tag.click();\n                }\n            }\n\n        }\n    \n    });\n    \n    $(\"#upper-nav\").on('click',\"#tag-list a.tag,#city-list a.city-tag\",function(){\n        var $this = $(this);\n        if($this.hasClass('selected')){\n            $this.removeClass('selected');\n        } else{\n            //preventative check to guarantee it's showing.\n            $(\"#upper-nav\").addClass('advanced');\n            $(\"#advanced-search\").addClass('icon-down').removeClass('icon-right');      \n\n            $(\"#search_contacts,#event-select\").val('');\n            $(\"#clear-contact-search\").hide();          \n            $(\"#alphabet-list\").find(\"li.selected\").removeClass('selected');\n            $this.parents(\"div.tag-contain\").find(\"a.selected\").removeClass('selected');            \n            $this.addClass('selected');\n        }\n        searchContacts();\n    });\n\n\n    $(\"#event-select\").change(function(){\n        $(\"a.alphabet-link\").removeClass('selectedLink');\n        $(\"#search_contacts\").val('');\n        $(\"#clear-contact-search\").hide();\n        searchContacts();\n    });\n\n    $(\"#alphabet-list\").find(\"a\").click(function(){\n        var $this = $(this);\n        var $li = $this.parent(\"li\");\n        if($li.hasClass('selected')){\n            $li.removeClass('selected');            \n        } else{\n            $(\"#search_contacts\").val('');\n            $(\"#clear-contact-search\").hide();\n            $(\"#tag-list\").find(\"a.selected\").removeClass('selected');\n            $(\"#alphabet-list\").find(\"li.selected\").removeClass('selected');            \n            $li.addClass('selected');\n        }\n        searchContacts();\n    });\n\n    $(document).on('click','a.remove-tag',function(){\n        var $parent = $(this).parents(\"li.category\");\n        var tag_id = $parent.attr(\"tag-id\")*1;\n        var parent_tag_id = $parent.attr(\"parent-tag-id\")*1;\n        $parent.fadeOut('fast');\n        \n        if(isNewContactPage()){\n            var $tag_to_delete = $(\"#profile-content\").find(\"input.new-tags[value='\"+$parent.find(\"a.remote-tag\").text()+\"']\");\n            if($tag_to_delete.length){\n                $tag_to_delete.remove();\n            }\n    \n        } else{\n\n            $.post(\"/contacts/removeTag\",{ tag_id: tag_id}, function(response){});\n            var $all_contacts = $(\"#all-contacts\");\n            if($all_contacts.length){\n                $all_contacts.find(\"a.remote-tag[tag-id='\"+parent_tag_id+\"']\").remove();\n            \n            }\n        }\n        \n    });\n\n    $(document).on('click',\"a.clear-search\",function(){\n        clearSearch();  \n    });\n    $(document).on('click',\"a.other-contacts\",function(){\n        //switch contact list view.\n        var $parent = $(\"#contact-sort-belt\");\n        var $current_active = $parent.find(\"a.contact-type.active\");            \n        if($current_active.length){\n            if($current_active.attr(\"type\")=='contacts'){\n                $parent.find(\"a.contact-type[type='guests']\").click();\n            } else{\n                $parent.find(\"a.contact-type[type='contacts']\").click();\n            }\n        }\n    })\n    $(document).on('click',\"input.contact-checkbox\",function(){\n        var $this = $(this);\n\n        if($this.prop(\"checked\")){\n            $this.parents(\"div.contact-card\").addClass('selected');\n        } else{\n            $this.parents(\"div.contact-card\").removeClass('selected');\n        }\n\n        var checked_count = $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").length;\n        console.log(\"WTF ? \"+checked_count);\n        if(checked_count>0){\n            $(\"#checkAll\").parent(\"div.utils-bottom\").addClass('activeCheck');\n            if(checked_count == 2){\n                $(\"#merge-contact-link\").show();\n            } else{\n                $(\"#merge-contact-link\").hide();\n            }       \n            if($(\"#upper-nav\").hasClass('advanced')){\n                $(\"#alphabet-list\").hide();             \n            }\n            $(\"#sub-util-actions\").fadeIn(200);\n        } else{\n            $(\"#checkAll\").parent(\"div.utils-bottom\").removeClass('activeCheck');\n            \n            if($(\"#upper-nav\").hasClass('advanced')){\n                $(\"#alphabet-list\").show();             \n            }\n            $(\"#sub-util-actions\").fadeOut(200);\n        }\n        $(\"#current-selected-count\").text(checked_count);\n    });\n\n    $(document).on('change',\"select.contact-sort,#page-limit\",function(){\n        searchContacts();\n    });\n\n    $(\"#search_contacts\").keyup(function(){\n        var $this = $(this);\n        if($this.val() != current_search){\n            contactChange();    \n            current_search = $this.val();   \n        }\n        if($this.val().length>0){\n            $(\"#clear-contact-search\").show();\n        } else{\n            $(\"#clear-contact-search\").hide();  \n        }\n\n    });\n    $(\"#clear-contact-search\").click(function(){\n        $(this).hide();\n        $(\"#search_contacts\").val('');\n        searchContacts();\n        //contactChange();\n    })\n\n    $(window).scroll(function(){\n        //if($(this).scrollTop() > (actionOffset.top+$(\"#upper-nav\").outerHeight()+header_height)){\n        if(typeof upperNavOffset!=='undefined'){\n            console.log(upperNavOffset);\n            if($(this).scrollTop() > (upperNavOffset.top+header_height-34)){\n                $upper_nav.addClass('sticky');\n            }\n            else{\n                $upper_nav.removeClass('sticky');\n            }\n        }\n    });\n        \n    $(\"#all-events\").on('click',\"a.contact-delete\", function(){\n        var answer=confirm('Are you sure you want to delete this contact?  There\\'s no going back...');\n        if(answer){\n            window.location=\"/contacts/delete/\"+$(this).parents(\"div.contact-card\").attr(\"contact-id\");\n        }\n        return false;\n    });\n    \n    $(document).on('click','#contact_delete_link',function(event){\n        event.preventDefault();\n        var answer=confirm('Are you sure you want to delete this contact?  There\\'s no going back...');\n        if(answer){\n            window.location=\"/contacts/delete/\"+$(this).attr(\"contact-id\");\n        }\n        return false;\n    });\n\n    $(\"#all-events\").on('click',\"a.view-contact\",function(event){   \n        //if(!$(this).hasClass('hard-link')){\n            //event.preventDefault();\n            var $this = $(this);\n            // if($this.parents(\"div.contact-card\").hasClass('my-profile')){\n            //  window.location = '/account';\n            // } else{\n                var params = { type: $this.attr(\"type\"), id: $this.attr(\"remote-id\") };\n                loadingContact = true;\n                loadProfile(params.type,params.id); \n                window.location.hash = params.type.toLowerCase()+'-'+params.id;\n            //}\n        //}\n    });\n    \n    var url = getHash();\n    if(url != ''){ //&& typeof constants.forceHash!=='undefined'){\n        console.log(url);\n        setTimeout(function(){\n            $(window).trigger( 'hashchange' );\n        },300);\n    }\n    else{\n        window.location.hash = '!';\n    }\n\n    // $(document).on('click',\"#edit-contact-link\",function(){\n    //  $(\"#edit-profile\").fireSimpleModal({  });\n    // });\n    \n    $(document).on('click',\"a.close-modal\",function(){\n        closeSimpleModal();\n    });\n    \n    $(document).on('click','div.paginate-links a',function(event){\n        var $this = $(this);\n        var number = $this.text();\n        if(isNaN(number)){\n            var href_params = $this.attr(\"href\").split(\":\");\n            if(!isNaN(href_params[href_params.length-1])){ //grab last value of array.\n                page_number = href_params[href_params.length-1];\n                console.log('paje '+page_number);\n            } else{ \n                return false;\n            }\n        } else{\n            page_number = number;\n        }\n\n        if(!isNaN(page_number)){\n            event.preventDefault();         \n            var params = searchContacts(null,null,page_number);\n        }\n\n    });\n\n    $(\"#advanced-search\").click(function(){\n        if($(this).hasClass('icon-right')){ //open sesame.\n            $(\"#upper-nav\").addClass('advanced');\n            $(\"#alphabet-list\").show();\n            //$(\"#all-contacts\").animate({'margin-top': '50px'},500);\n            $(this).addClass('icon-down').removeClass('icon-right');        \n            //$(\"#advanced-search-options\").slideDown(200);\n        } else{ //close cinammon raisin\n            //$(\"#all-contacts\").animate({'margin-top': '0px'},200);\n\n            $(\"#upper-nav\").removeClass('advanced');\n\n            //$(\"#advanced-search-options\").slideUp(200);\n            $(this).addClass('icon-right').removeClass('icon-down');\n        }\n    });\n\n    $(\"#tag-search\").autocomplete({\n       source: createTagList(),\n       open: function(event,ui){\n            autoCompleteSearchOpen = true;\n            console.log('opened');\n       },\n       close: function(event,ui){   \n            setTimeout(function(){\n                autoCompleteSearchOpen = false;     \n            },200);\n            console.log('Closed');\n       }\n    });\n\n    $(document).on('click',\"#add-tag-link,#addNewTag\",function(){\n        $(\"#add-tag\").fireSimpleModal({persistent:false});\n        setTimeout(function(){\n            $(\"#tag-search\").focus();\n        },200);\n    });\n\n    $(\"#merge-contact-link\").click(function(){\n        var $spinner = $(\"#contact-spinner\").show();        \n        $('body,html').animate({\n            scrollTop: $(\"#all-events\").offset().top - 50\n        }, 500);\n        var $all_contacts = $(\"#all-contacts\");\n        var $checked_contacts = $all_contacts.find(\"input.contact-checkbox:checked\");\n        $(\"#upper-nav,#sub-util-actions\").hide();       \n\n        $all_contacts.hide();\n\n        if($checked_contacts.length<2){ //gotta have 2 to merge!\n            return false;\n        }\n        $checked_contacts.prop(\"checked\",false).parents(\"div.contact-card\").removeClass('selected');\n        var params = { data: { contact: [] } };\n        var x = 0;\n        $checked_contacts.each(function(){\n            if(x<=1){\n                var $parent = $(this).parents(\"div.contact-card\");\n                params.data.contact[x] = { type: $parent.attr(\"type\"), id: $parent.attr(\"contact-id\") };\n            }\n            x++;\n        }); \n            \n        if(typeof constants.by_user!=='undefined'){\n            params.data.by_user = constants.by_user;\n        }\n        var $profile = $(\"#profile-content\");\n        $profile.load(\"/contacts/merge\", params, function(a,b){ \n           contact_changes_made = false;\n            $(\"#contact-spinner\").hide();\n            $profile.fadeIn('slow').checkProfileFields();                   \n           loadingContact = false;\n        });\n\n        //$(\"#merge-contacts\").fireSimpleModal();\n    })\n    $(\"#remove-contacts-link\").click(function(){\n        var count = $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").length;\n        var $modal = $(\"#remove-contact\");\n        setTimeout(function(){\n            $modal.fireSimpleModal({persistent:false});\n\n        },20);\n        var txt = (count!=1)?count+' contacts':'1 contact';\n        $modal.find(\".contact-count\").text(txt);\n    });\n\n    /*****CONTACT PROFILE START ****/\n    //action when a label is clicked.  hide the label and show the first input.\n    $(document).on('click',\".label_trigger > a\",function(){\n        var $obj=$(this).parent(\"span\");\n        var $input = $obj.parents(\"td\").find('input[type=\"text\"]:first');\n        if($(this).attr(\"id\") == 'TypeId_trig'){ //exception to the rule.\n            $input = $(\"#ContactTypeId\");\n        }\n        var $parent = $input.parents(\"div.add-another\");\n        if($parent.length){\n            if($parent.hasClass('address-block')){\n                $input = $parent.find(\"textarea:first\");\n            }\n        }\n        $input.parents(\"div.add-another\").show();\n        $obj.hide();\n        $input.show().focus();\n    });\n    \n    $(document).on('keyup',\"textarea\",function(){\n        if($(this).parents(\"div.add-another\").length){\n            if($.trim($(this).val())!=''){\n                $(this).parents(\"td\").find(\"a.add_link\").show();\n            }\n        }\n    });\n    \n    $(document).on({\n        keyup:function(){\n            var $this = $(this);\n            var val = $.trim($this.val());\n            if($this.parents(\"div.add-another\").length){\n                if(val!=''){\n                    $this.removeClass('empty').parents(\"td\").find(\"a.add_link\").show();\n                }\n                else{\n                    if(!($this.parents(\"div.address-block\").length)){//don't hide address block after showing it.\n                        $this.removeClass('empty').parents(\"td\").find(\"a.add_link\").hide();\n                    }\n                }\n            }\n            if(val!=''){\n                $this.removeClass('empty');\n            } else{\n                $this.addClass('empty');\n            }\n        },\n        keydown:function(event){\n            if(event.keyCode == 13){\n                event.preventDefault();\n                var $this = $(this);\n                var tabindex = $this.attr(\"tabindex\") * 1;\n                var next = tabindex + 1;\n                var $next_input = $this.parents(\"table\").find(\".tabbable[tabindex=\"+next+\"]\");\n                if($next_input.length && $next_input.is(\":visible\")){\n                    $next_input.focus();\n                }           \n                else{\n                    var $next_input = $this.parents(\"tr\").next().find(\".tabbable:visible:first\");\n                    if($next_input.length){\n                        $next_input.focus();\n                    }\n                }\n                return false;\n\n                //var $next_input = $(this).parents(\"table\").find(\"input[tabindex=\"+next+\"]\");\n                // if($next_input.length){\n                //  $next_input.show().focus().parents(\"td\").find(\".label_trigger\").hide();\n                //  return false;\n                // }\n                // else{\n                //  var $trig=$(this).parents(\"table\").find(\".label_trigger\").filter(':visible:first');\n                //  if($trig.length){\n                //      $trig.find(\"a\").click();\n                //      return false;\n                //  }\n                // }\n            }\n        },\n        change: function(){\n            contact_changes_made = true;\n        }\n    },'table.contact-form input');\n\n    $(document).on('focusout','table.contact-form textarea',function(){\n        var $this = $(this);\n        if($this.val()==''){\n            $this.addClass('empty');\n        } else{\n            $this.removeClass('empty');\n        }\n    });\n\n    $(document).on('click',\"a.add_link\",function(){\n        var $next_row = $(this).parents(\"td\").find(\"div.add-another:hidden:first\");\n        if($next_row.length){\n            $next_row.show().find(\"input:first\").focus();       \n        }\n        $(this).hide();\n    });\n    $(document).on('click',\"a.remove-contact-piece\",function(){\n        $(this).parents(\"div.add-another\").hide().find(\"input\").val('');    \n    });\n    \n    $(\"#profile_photo_link\").click(function(){\n        $(\"#profile_photo_upload\").show().click();\n    });\n    $(\"#profile_photo_upload\").change(function(){\n        document.photo_upload.submit(); \n    });\n    $(\"#tag-search\").keyup(function(e){ //submit on enter.\n        if(e.keyCode==13){\n            if($(this).val()!=''){\n                $(\"#save-tag\").click();             \n            }\n        }\n    });\n    /*****CONTACT PROFILE END ****/     \n    $(\"#save-tag\").click(function(){\n        var $search = $(\"#tag-search\");\n        var params = { contacts: [], tags: $search.val() };\n    \n        if($.trim(params.tags)==''){\n            alert('Fill out a tag.');\n            $search.focus();\n            return false;\n        }\n\n        var $profile = $(\"#profile-content\");\n\n        $search.val('');\n        closeSimpleModal();\n\n        if($profile.is(\":visible\")){ //contact profile vs. index\n            if(isNewContactPage($profile)){\n                var new_input = '<input type=\"hidden\" class=\"new-tags\" name=\"data[ContactTag][]\" value=\"'+params.tags+'\" />';\n                $(\"#contact-profile-img-input\").after(new_input);//arbitrary place in form to insert.\n                var $tag_list = $(\"#tag-container\").find(\"div.tag-section\");\n                var new_tag = createNewTag(params.tags,true);\n                $(\"#tag_ul\").append(new_tag);\n                return false;\n            } else{\n                var $profile_input = $profile.find(\"input.main-profile-input\");\n                params.contacts.push( { id: $profile_input.val(), type: $profile_input.attr(\"m\") });                            \n            }\n            \n        } else { \n            $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").each(function(){\n                var $parent = $(this).parents(\"div.contact-card\");\n                params.contacts.push( {id:$parent.attr(\"contact-id\"),type:$parent.attr(\"type\") });\n            });\n        }   \n\n        $.post(\"/contacts/saveContactTags\",params,function(response){\n            var jq = $.parseJSON(response);\n            if(jq.tags){\n                var $parent = $(\"#tag-list\").find(\"div.inner\");\n                $parent.empty();\n                var tag_list = '';\n                for(x=0;x<jq.tags.length;x++){\n                    tag_list+=createNewTag(jq.tags[x]);\n                }\n                $parent.append(tag_list);\n                $(\"#tag-search\").autocomplete(\"option\",{ source: createTagList()});\n            }           \n            $(\"#sub-util-actions\").hide();          \n            if($(\"#upper-nav\").hasClass('advanced')){ //fix for edge UI case.  needed.\n                $(\"#alphabet-list\").show();\n            }\n            if(typeof $profile_input!=='undefined'){\n                $(\"#backToContacts\").addClass('hardReload');\n                $(\"#tag-container\").find(\"div.tag-section\").load(\n                    \"/contacts/contactTagList\", { data: { id: $profile_input.val(), type: $profile_input.attr(\"m\") }}, function(){\n                }); \n            } else{\n                searchContacts();               \n            }\n\n        });\n\n\n        // console.log(params);\n    });\n\n    $(\"#save-contact-deletion\").click(function(){\n        var params = { contacts: [], removal_type: $(\"input.contact-removal-type:checked\").val() };\n        $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").each(function(){\n            var $parent = $(this).parents(\"div.contact-card\");\n            //$parent.fadeOut('slow');\n            params.contacts.push( {id:$parent.attr(\"contact-id\"),type:$parent.attr(\"type\") });\n        });\n        closeSimpleModal();\n        $.post(\"/contacts/removeBulk\",params,function(response){\n            $(\"#sub-util-actions\").hide();          \n            searchContacts();\n            \n        });\n    });\n    $(\"#bulk-message\").click(function(event){\n        var emails = [];\n        $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").each(function(){\n            var email = $.trim($(this).parents(\"div.contact-card\").find(\"li.email\").text());\n            if(email!=''){\n                emails.push(email);             \n            }\n        }); \n        window.open(\"mailto:\"+emails.join(','));\n    });\n    $(document).on('click','#checkAll,#uncheckAll',function(){\n        if($(this).prop(\"id\")=='checkAll'){\n            $(this).parent().addClass('activeCheck');\n            var $all_contacts = $(\"#all-contacts\").find(\"input.contact-checkbox\");\n            $all_contacts.prop(\"checked\",true).parents(\"div.contact-card\").addClass('selected');\n            $(\"#sub-util-actions\").show();          \n            if($(\"#upper-nav\").hasClass('advanced')){\n                $(\"#alphabet-list\").hide();             \n            }\n            $(\"#current-selected-count\").text($all_contacts.length);\n        } else{\n            $(this).parent().removeClass('activeCheck');\n\n            $(\"#all-contacts\").find(\"input.contact-checkbox\").prop(\"checked\",false).parents(\"div.contact-card\").removeClass('selected');\n            $(\"#sub-util-actions\").hide();          \n            $(\"#current-selected-count\").text(0);\n            if($(\"#upper-nav\").hasClass('advanced')){\n                $(\"#alphabet-list\").show();             \n            }\n        }\n    });\n\n    //contact notes section start\n    /*$(document).on('click',\"#submit-note\",function(){\n        var $note = $(\"#contact-note-input\");\n        var value = $note.val();\n        var $spinner = $(\"#note-spinner\");\n        var $this = $(this);\n        var params = { id: $(\"#contact-check\").val(), model: $(\"#contact-check\").attr(\"m\"), body:value };\n\n        if(value!='' && value!=$note.attr('title')){\n            $this.hide();\n            $spinner.show();\n            $.post(\"/contacts/addNote\",params,function(response){\n                $(\"#all_notes\").prepend(response).hide().fadeIn(2000);\n                $spinner.hide();\n                $this.show();\n                $note.val('').focus();\n                //$(\"#note_submit_div\").hide();\n            });\n        \n        }\n        else{\n            alert('Fill out a note first.');\n            $note.focus();\n        }   \n    });*/\n    $(document).on({\n        focusout:function(){\n            var $this = $(this);\n            if($.trim($this.val())==''){\n                $this.addClass('empty');\n            } else{\n                $this.removeClass('empty');\n            }\n        },\n        keyup:function(){\n            if(!$(\"#add-another-note\").is(\":visible\")){\n                $(\"#add-another-note\").show();\n            }\n        }   \n    });\n\n    //contact notes section end\n    $(document).on('click',\"#add-another-note\",function(){\n        var $container = $(\"#contactNotesAccordion\");\n        var $textarea = $container.find(\"div.note:first\").clone();\n        $textarea.appendTo($(\"#all-notes\")).find(\"textarea\").val('').focus().end().find(\"a.remove-note\").show();\n    });\n    $(document).on('click',\"a.remove-note\",function(){\n        $(this).parents(\"div.note\").fadeOut('fast',function(){ //check for saved for new notes.\n         var $this = $(this);\n         if($this.find(\"input.delete-input\").length){\n            $this.find(\"input.delete-input\").val(1);\n         } else{\n            $this.remove();\n         }\n\n        });\n    });\n    $(\"#contact-sort-belt\").find(\"a.contact-type\").click(function(){\n        var $parent = $(\"#contact-sort-belt\");\n        var $this = $(this);\n        if($(\"#upper-nav\").hasClass('advanced')){ //fix for edge UI case.  needed.\n            $(\"#alphabet-list\").show();\n        }\n        $(\"#sub-util-actions\").hide();//fix for edge UI case.  needed.\n        if($this.hasClass('active')){\n            //if it's already active. let it act as a clear search function.\n            clearSearch();\n        } else{\n            $parent.find(\"a.active\").removeClass('active');\n            $this.addClass('active');\n            searchContacts();           \n        }\n    });\n    \n});\nvar typingTimer;\nvar doneTypingInterval = 1000;\nvar current_search;\n\n    function contactChange(){\n        clearTimeout(typingTimer);\n        typingTimer = setTimeout(searchContacts, doneTypingInterval);\n    }\n        \n    function searchContacts(params,only_search,page_number){\n        \n        var name = $.trim($(\"#search_contacts\").val());     \n        var event_id=$(\"#event-select\").val();      \n        var params = { data: {} };\n\n        var $alphabet_list = $(\"#alphabet-list\");\n        var $tag_list = $(\"#tag-list\"); \n\n        if(name!='' && name.length >= 2){\n            params.data.search = name;\n            $alphabet_list.find(\"li.selected\").removeClass('selected');\n            $tag_list.find(\"a.selected\").removeClass('selected');\n        } else if(only_search!=null){\n            return;\n        }\n        $(\"#profile-content\").hide();\n        \n        params.data.contact_type = $(\"#contact-sort-belt\").find(\"a.active\").attr(\"type\");\n        params.data.event_id = $(\"#event-select\").val();\n        params.data.filter_type = $(\"#filter-select\").val();\n        var $social_filter = $(\"#social-filter\");\n        if($.inArray(params.data.filter_type,['social','instagram','twitter'])>-1){\n            $social_filter.show();\n            params.data.social_sort = $social_filter.val();\n        } else{\n            $social_filter.hide();\n        }\n        var $letter = $alphabet_list.find(\"li.selected\");\n        if($letter.length>0){\n            params.data.sl = $letter.find(\"a\").text();  \n        }\n        var $tag = $tag_list.find(\"a.selected\");\n        if($tag.length){\n            params.data.tag = $tag.text();\n        }\n        var $city = $(\"#city-list\").find(\"a.selected\");\n        if($city.length){\n            params.data.city_event_ids = $city.attr(\"event-list\").split(',');\n        }\n\n        var str = '';\n        if(page_number!=null){\n            str='?page='+page_number;\n            params.data.page = page_number;\n        } else{\n            var page_number = $(\"div.paginate-links\").find(\"span.current\").text()*1;\n            if(!isNaN(page_number)&&page_number>1){\n                str = '?page='+page_number;\n            }\n            params.data.page = page_number;\n\n        }\n        params.data.limit = $(\"#page-limit\").val();\n        if(typeof constants.by_user!=='undefined'){\n            params.data.by_user = constants.by_user;\n        }\n        $(\"#contact-spinner\").show();\n        $(\"#all-contacts\").hide()\n            .load(\"/contacts/search\"+str, params, function(a,b){ \n                $(\"#contact-spinner\").hide();\n                $(this).fadeIn('slow');         \n                $('body,html').animate({\n                    scrollTop: $(\"#all-events\").offset().top - 50\n                }, 0);\n                if(typeof params.data.sl!=='undefined'){\n                    var term = params.data.sl.toLowerCase();\n                    $(\"div.contact-card\").each(function(){\n                        var $this=$(this);\n                        var $n = $this.find(\"li.name\");\n                        highlightMatches($n,term);                                  \n                    }); \n                } else if(typeof params.data.search!=='undefined'){\n                    var term = params.data.search.toLowerCase();\n                    $(\"div.contact-card\").each(function(){\n                        var $this=$(this);\n                        var $n = $this.find(\"li.name\");\n                        highlightMatches($n,term,true);                                 \n                    }); \n                }\n        });\n        // $(\"#all-contacts\").hide()\n        //  .load(\"/contacts/listing_ajax?\"+params, {}, function(a,b){ \n        //      $(\"#contact-spinner\").hide();\n        //      $(this).fadeIn('slow');                 \n        //      $(\"#pagination a\").live('click',function() {\n  //                var thisHref = $(this).attr(\"href\");\n        //          thisHref = thisHref+\"&\"+params;\n        //          return false;\n  //            });                 \n  //    });\n            \n    }\n\n    function closeSimpleModal(){\n        $(\"#simple-modal-wrap\").removeClass('persistent').fadeOut(100).find(\".simple-modal\").hide();\n        $(\"#simple-modal-ajax\").empty();\n        if(!$(\"#planning-tools\").hasClass('expanded')){\n            $(\"body\").removeClass('lockItUp');\n        }\n        $(\"#finetune-block\").removeClass('persistent first-view');\n    }\n    $.fn.fireSimpleModal = function(args){\n        var $obj = $(this);\n        $(\"body\").addClass('lockItUp');\n        var $wrap = $(\"#simple-modal-wrap\");\n        if(args!=null){\n            if(args.persistent!=='undefined' && args.persistent){\n                $wrap.addClass('persistent');\n            }\n        }\n        else{\n            $wrap.removeClass('persistent');\n        }\n\n        $wrap.show().find(\".simple-modal\").hide();\n        $obj.show().css('display','inline-block');\n        return $obj;\n    }\n\n\n    function check_venue_fields(){\n        if($(\"#venue_name\").val()==''){\n            alert('Please give this venue a valid name.');\n            $(\"#venue_name\").focus();\n            return false;\n        }\n        return true;\n    }\n    function check_fields(){\n        // if($(\"#first_name\").val()=='' && $(\"#last_name\").val()==''){\n        //  alert('Please give this contact a valid name.');\n        //  $(\"#first_name\").focus();\n        //  return false;\n        // }\n        return true;\n    }\n\n   function createTagList(){ //for creating an array of autocomplete options on the fly.\n        tag_list = [];\n        $(\"#tag-list\").find(\"a.tag\").each(function(){\n            tag_list.push($.trim($(this).text()));\n        });\n        return tag_list;\n   }\n\n   function loadProfile(type,type_id){\n        var $spinner = $(\"#contact-spinner\").show();        \n        $('body,html').animate({\n            scrollTop: $(\"#all-events\").offset().top - 50\n        }, 500);\n        $(\"#all-contacts,#upper-nav,#sub-util-actions\").hide();     \n        $(\"#all-contacts\").find(\"input.contact-checkbox:checked\").prop('checked',false).parents(\"div.contact-card\").removeClass('selected');\n        var params = { data: { type: type, id: type_id } };\n        if(typeof constants.by_user!=='undefined'){\n            params.data.by_user = constants.by_user;\n        }\n        var $profile = $(\"#profile-content\");\n        $profile.load(\"/contacts/profile\", params, function(a,b){ \n           contact_changes_made = false;\n            $(\"#contact-spinner\").hide();\n            $profile.fadeIn('slow').checkProfileFields();                   \n            //$block.fadeIn('slow');                    \n           loadingContact = false;\n\n        });\n   }\n\n   $.fn.checkProfileFields = function(){\n        $(\"#contact-action-form\").find(\"table.contact-form\").find(\"tr\").each(function(){\n            var $this = $(this);\n            var $parent = $this.find(\"div.text:first\");\n            var $input = $parent.find(\"input,textarea\");\n            $input.each(function(){\n                if($.trim($(this).val())==''){\n                    $(this).addClass('empty');\n                    if($parent.hasClass('add-another')){\n                        $this.find(\"a.add_link\").hide();\n                    }\n                }\n                else{\n                    $(this).removeClass('empty');\n                    if($parent.hasClass('add-another')){\n                        $this.find(\"a.add_link\").show();\n                    }\n                }                   \n            });\n\n        });\n   }\n\n   var ajaxFileUploaders = [];\n   function createUploader(index,mode,_onCompleteCallback){\n        // these are the defaults for the header image uploader\n        var action = \"/events/upload_photo\";\n        var multiple=false;\n        var cropToSquare = false;\n        var template = '';  \n        var filetemplate = $('#ajaxFileUpload_header .fileTemplate').html();\n\n        var afe = ['png','jpg','jpeg','gif'];\n        var noResize = false;\n        // these are the settings for the logo image upload!    \n            //action = \"/events/upload_logo\";\n            // if(mode=='speakerLogo' || mode=='presenterLogo'){\n            //  var template = '<div class=\"qq-uploader\">' +\n            //      '<div class=\"qq-upload-drop-area\"><span><img src=\"/images/ui/folder-open-green.png\" /> Drop files here to upload</span></div>' +\n            //      '<div class=\"addSpeakerPhoto qq-upload-button\">+Photo</div>' +\n            //      '<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n            //      '</div>';\n            // }\n            // else{\n                var template = '<div class=\"qq-uploader\">' +\n                    '<div class=\"qq-upload-drop-area\" style=\"display:none;\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n                    '<div class=\"gray btn qq-upload-button icon-picture\">Choose Image</div>' +\n                    '<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n                    '</div>';\n            //}\n\n            // if(mode=='bgImage' || mode=='presenterLogo'){\n            //  cropToSquare=false;\n            //  noResize = true;\n            // } else if(mode=='bgImageCustom'){\n            //  var setWidth = 500;\n            //  cropToSquare=false;\n            // }\n\n            var filetemplate =  '<li class=\"indented\"><div class=\"new-uploaded-file\">'+\n                '<img class=\"event-image hide\" src=\"\">'+\n                '<span class=\"qq-upload-file hide\">datadump.txt</span>'+\n                '<span class=\"qq-upload-size\"></span>'+\n                '<a class=\"qq-upload-cancel\" href=\"#\">Cancel</a> '+\n                '<span class=\"qq-upload-failed-text\">Failed</span>'+\n                '<div id=\"\" class=\"upload-file-form\">'+\n                    '<div class=\"qq-upload-spinner\">'+\n                        '<img alt=\"loading...\" style=\"width:16px;height:16px;\" src=\"/img/ajax-loader2.gif\">'+\n                        '<div class=\"progress-bar-holder\"><div class=\"progress-bar\"></div></div>'+\n                    '</div>'+\n                '</div>'+\n                '</div></li>';\n                console.log(filetemplate);\n    //}\n    // if ( mode == 'hostLogo' ) { cropToSquare = true;\n    //  var template = '<div class=\"qq-uploader\">' +\n    //          '<div class=\"qq-upload-drop-area\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n    //          '<div class=\"gray btn qq-upload-button\">Upload host image</div>' +\n    //          '<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n    //          '</div>';\n    // }\n    var params = { event_id: 0, ajaxUpload: true, saveEventImageToDB: false, cropToSquare: cropToSquare};\n    if(noResize){\n        params.noResize=true;\n    }\n    params.contactImageUpload=true;\n    params.user_id = constants.user_id;\n    \n\n    if(typeof setWidth!=='undefined'){\n        params.setWidth = setWidth;\n    }\n    var totalSizeToUpload = 0;\n    var totalCountToUpload = 0;\n    var totalSizeUploaded = 0;\n    var totalCountUploaded = 0;\n\n    ajaxFileUploaders[index] = new qq.FileUploader({\n        element: document.getElementById(index),\n        action: action,\n        params: params,\n        multiple: multiple,\n        //debug: true,\n        onProgress: function(id,filename,loaded,total){\n            var item = ajaxFileUploaders[index]._getItemByFileId(id);\n            var percent = (loaded/total);\n            var width = $(item).find(\".progress-bar-holder\").width();\n            var offset = width - ( width * percent );\n            console.log(\"p id:\"+id+\" %\"+offset);\n            $(item).find(\".progress-bar\").css('right',offset+'px');\n        },\n        sizeLimit: 9 * 1024 * 1024,\n        allowedExtensions: afe,\n        onCancel: function(){\n            console.log(\"onCancel\");\n            return false;\n        },\n        messages: {\n            //typeError: \"{file} has invalid extension. Only {extensions} are allowed.\",\n            typeError: \"Freeze!  It looks like you tried to upload a file type outside our jurisdiction. \\n\\nWe're currently accepting the following file types:\\n{extensions}\",\n            sizeError: \"Whoa, looks like the file you're trying to upload is too large.\\nPlease keep it to files under {sizeLimit}.\",\n            minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n            emptyError: \"{file} is empty, please select files again without it.\",\n            onLeave: \"The files are being uploaded, if you leave now the upload will be cancelled.\"\n        },\n        onComplete: function(id, fileName, result){\n            console.log('complete');\n            var item = ajaxFileUploaders[index]._getItemByFileId(id);\n\n            if (typeof result.success != 'undefined' && result.success){\n                $(\".qq-upload-drop-area\").hide();\n        \n                /*if ( mode == 'event_photos' ){\n                    // need to show the image thumbnail\n                    totalSizeUploaded += ajaxFileUploaders[index]._handler.getSize(id);\n                    totalCountUploaded++;\n                    $('#bulkUploadStatus').find('.textStatus .completed').html(totalCountUploaded)\n                    $('#bulkUploadStatus').find(\".latestPhoto img\").attr('src','/img/events/'+result.thumbnail);\n                    $(item).attr('src','/img/events/'+result.thumbnail).attr('full-image','/img/events/'+result.filename);\n                    $(item).attr('event_photo_id',result.event_photo_id);\n                    //$(item).find(\"span.image\").text('/img/events/'+result.filename);\n                    // set the id of the event_photo\n                    //$(item).addClass('event_photo unapproved');\n                    // update the image count\n                    //var newCount = $(item).parent().find(\"li.event_photo\").length;\n                    //$(\".photos .header-bar span.count\").html(newCount);\n                    //$('#db-photo-count').html(newCount);\n                    // update the filesize total(s)\n                    //formatEventPhotoBytes(result.size);\n                }\n                else {*/\n\n                    // since these only ever allow one image per button, remove any previously uploaded images\n                    $(item).siblings(\"li\").remove();\n\n                    //if ( result.logo_id ){\n                        //$(\"#contact-profile-img\").html('/img/events/'+result.filename);\n                        /*if ( mode == 'logo' ){\n                            var $item = $(item);\n                            // set this param logo_id to the returned one.. just in case this was an insert\n                            qq.extend(ajaxFileUploaders[index]._options.params,{logo_id:result.logo_id});\n                            var $parent = $item.parents(\".logo-box\");\n                            // set the hidden image (filename) field to the newly return filename\n                            $parent.addClass('has-image').find(\"input.logo-image\").val(result.filename);//.trigger('change');//change();\n                            /////$parent.find(\".logo-wrapper div.mask\").css('background-image','url(\"/img/events/'+result.filename+'\")');\n\n                            if(!$parent.find(\"input.sp-webite\").is(\":visible\")){ //if they don't have a website set, make sure hte add website link shows.\n                                $parent.find(\".addSponsorWebsite\").show();\n                            }\n                            // set the hidden input of the logo id to this new id also\n                            $parent.find(\"input.logo-id\").val(result.logo_id); //.trigger('change');\n                            $parent.find(\"input.logo-id,input.logo-image,input.logo-website\").trigger('change');\n                            //$parent.find(\"input.logo-sort\").val(100).trigger('change');\n                            //$parent.find(\"input.speaker-title,input.speaker-subtitle,textarea.speaker-body,input.image_url,input.delete-input\").addClass('changes-made');\n\n                            // update the onloaded image\n                            $item.parents(\".logo-upload\").find(\"img.logo-image\").attr('src','/img/events/'+result.filename).removeClass('hide');\n                            //$item.remove();\n                            order = getSponsorOrder();\n                            updateSplashField('sponsors',order,$(\"#sponsor-block\"));\n\n                        }else if ( mode == 'hostLogo' ){\n                            var $item = $(item);\n                            // set this param logo_id to the returned one.. just in case this was an insert\n                            qq.extend(ajaxFileUploaders[index]._options.params,{logo_id:result.logo_id});\n                            // set the hidden image (filename) field to the newly return filename\n                            $item.parents(\".logo-box\").find(\"input.logo-image\").val(result.filename).change();\n                            $item.parents(\".logo-box\").find(\".logo-wrapper div.mask\").css('background-image','url(\"/img/events/'+result.filename+'\")');\n                            // set the hidden input of the logo id to this new id also\n                            $item.parents(\".logo-box\").find(\"input.logo-id\").val(result.logo_id).change();\n                            $item.parents(\".logo-box\").addClass('has-image');\n                            // update the onloaded image\n                            $item.parents(\".logo-upload\").find(\"img.logo-image\").attr('src','/img/events/'+result.filename).show();\n                            $item.parents(\".logo-upload\").find(\"a.removeLogo\").hide();\n\n                            var params = { name: $(\"#manual-host-name\").val(), img: $(\"div.logo-upload\").find(\"input.logo-image\").val() };\n\n                            $item.remove();\n\n                            updateSplashField('host',params,$(\"#hosting-block\"));\n\n                        }\n                        else if(mode=='speakerLogo' || mode=='presenterLogo'){\n                            // set this param logo_id to the returned one.. just in case this was an insert\n                            var $item = $(item);\n                            qq.extend(ajaxFileUploaders[index]._options.params,{logo_id:result.logo_id});\n                            var $parent = $item.parents(\".speakerBlock\");\n\n                            // set the hidden input of the logo id to this new id also\n                            // update the onloaded image\n                            var setLogoId = (result.logo_id>0)?result.logo_id:$parent.find(\"input.logo-id\").val();\n\n                            $parent.addClass('has-image')\n                                .find(\"input.logo-id\").val(setLogoId).end()\n                                //.find(\"input.logo-sort\").val(100).end()\n                                .find(\"input.image_url\").val('/img/events/'+result.filename).end()\n                                .find(\"img.logo-image\").attr('src','/img/events/'+result.filename).show();\n                            $parent.find(\"input.speaker-title,input.speaker-subtitle,textarea.speaker-body,input.image_url,input.delete-input,input.logo-id\").addClass('changes-made');\n\n                            $item.remove();\n                            if($parent.hasClass('presenterBlock')){\n                                order = getPresenterOrder();\n                                updateSplashField('presenters',order,$(\"#presenter-block\"));\n                            } else{\n                                order = getSpeakerOrder();\n                                updateSplashField('speakers',order,$(\"#speaker-block\"));\n                            }\n\n                        }\n                        else if(mode=='bgImage'){\n                            var $item = $(item);\n                            // console.log($item);\n                            var $parent = $item.parents(\".logo-upload:first\");\n                            $parent.addClass('has-image')\n                                .find(\"img.logo-image:first\").prop(\"src\",'/img/events/'+result.filename).show().end()\n                                .find(\"input.image_url\").val('/img/events/'+result.filename).change();\n                            $(\"#bgImageCustom\").hide();\n                            $(\"#bgImageOptions\").show();\n                            $(\"#bg-image-preview\").addClass('selected');\n                            $(\"#custom-color-picker2\").removeClass('selected');\n                            updateThemeBackgroundSettings();\n                        }\n                //  }*/\n                //}\n\n            }else if (result.error){\n                $(item).find(\".qq-upload-failed-text\").html(\"Error: \"+result.error);\n                // if ( mode == 'event_photos' ){\n                //  //alert('Error: '+result.error);\n                //  totalSizeToUpload -= ajaxFileUploaders[index]._handler.getSize(id);\n                //  totalCountToUpload--;\n                //  $('#bulkUploadStatus').find('.textStatus .total').html(totalCountToUpload);\n                //  $('#bulkUploadStatus').find('.error').append('<p>Error: '+fileName+' -  '+result.error+'</p>');\n                // }\n            }\n            // else if ( mode == 'event_photos' ){\n            //  //alert('Error: '+result.error);\n            //  totalSizeToUpload -= ajaxFileUploaders[index]._handler.getSize(id);\n            //  totalCountToUpload--;\n            //  $('#bulkUploadStatus').find('.textStatus .total').html(totalCountToUpload);\n            //  $('#bulkUploadStatus').find('.error').append('<p>Error: '+fileName+' - There was an error uploading this file.</p>');\n            // }\n\n            if ( typeof _onCompleteCallback != 'undefined' && _onCompleteCallback != null ){\n                _onCompleteCallback(result);\n            }\n            // finished the bulk upload!\n            // if ( mode == 'event_photos' ){\n            //  if ( totalCountUploaded == totalCountToUpload ){\n            //  //  alert('done.');return false;\n      //                  var $bus = $('#bulkUploadStatus');\n            //      $bus.parent().addClass('finished');\n            //      $bus.find('.textStatus .completed').html(totalCountUploaded)\n            //      $bus.find('.textStatus .total').html(totalCountToUpload)\n            //      $bus.find('.cancel').hide();\n            //      $bus.find('.bigStatus').html('Complete');\n            //      $bus.addClass('open');\n            //      var m = totalCountUploaded + ' Photos';\n            //      if ( totalCountUploaded == 1 ){\n      //                      m = 'a Photo';\n      //                      $bus.find(\"textarea\").attr(\"placeholder\",'Add Caption').end().find(\"input[type='text']\").attr(\"placeholder\",'Add Credit');\n      //                  }\n            //      $bus.find('.formTray .message span').html(m);\n            //      totalSizeToUpload = 0;\n            //      totalSizeUploaded = 0;\n            //      totalCountToUpload = 0;\n            //      totalCountUploaded = 0;\n            //  }\n            // }\n        },\n        onSubmit: function(id,filename){\n            // if (mode=='header'){\n            //  $('#ajaxFileUpload_header .qq-upload-button').hide();\n            // }\n            // else if ( mode == 'event_photos' ){\n            //  $('#'+index+' .no-photos').hide();\n            //  //$('.photo-status').show();\n            //  //$('#publishPhotos').show();\n            //  //$('.unapproved-photo-block').show().find('h4:first').text('There are Unapproved Photos').end().find('ul').html();\n            //  var $bus = $('#bulkUploadStatus');\n            //  // initialize the BUS\n            //  if ( !$bus.is(':visible') ){\n            //      $bus.parent().removeClass('finished');\n            //      $('#upload_photo_block').fireSimpleModal({persistent:true});\n            //      $bus.find('.textStatus .completed').html('0');\n            //      $bus.find('.latestPhoto img').attr('src','');\n            //      $bus.find('.progress-bar').css('right','900px');\n            //      $bus.find('.cancel').show();\n            //      $bus.find('.error').html('');\n            //      $bus.find('.qq-upload-list').html('');\n            //      $bus.find('.bigStatus').html('Transferring...');\n            //      $bus.show();\n            //  }\n            //  totalSizeToUpload += ajaxFileUploaders[index]._handler.getSize(id);\n            //  totalCountToUpload++;\n            //  $bus.find('.textStatus .total').html(totalCountToUpload);\n            // }\n        },\n        template: template,\n        // template for one item in file list\n        fileTemplate: filetemplate\n    });\n   }\n\n   function clearSearch(){\n        $(\"#search_contacts,#event-select\").val('');\n        $(\"#alphabet-list\").find(\"li.selected\").removeClass('selected');\n        $(\"#filter-select\").val('all');\n        $(\"#social-filter,#clear-contact-search\").hide();\n        $(\"#tag-list,#city-list\").find(\"a.selected\").removeClass('selected');\n        searchContacts();\n   }\n   function createNewTag(tag,only_name){\n        if(only_name==null){\n            var tag = '<a href=\"#'+tag.slug+'\" class=\"tag\" tag-id=\"'+tag.id+'\">'+tag.name+'</a>';\n        } else{\n            var tag = '<li tag-id=\"0\" class=\"category\" parent-tag-id=\"0\">'+\n                        '<a href=\"#\" class=\"remote-tag\" tag-id=\"0\">'+tag+'</a>'+\n                        '<a href=\"#\" class=\"icons3-x remove-tag\"></a>'+\n                      '</li>';          \n        }\n        return tag;\n            \n   }\n   function isNewContactPage($profile){\n        if($profile==null){\n            var $profile = $(\"#profile-content\");       \n        } \n        if($profile.hasClass('new-contact')){ //NEW CONTACT ADDING.\n            return true;\n        } else{\n            return false;\n        }\n   }\n\n   function highlightMatches($obj,term,full_search,search_email){\n        //var contact_name = $.trim($obj.text()).toLowerCase();\n        var contact_name = $.trim($obj.text());\n        var match_found = false;\n        if (contact_name!='') {\n            if (full_search==null) {\n                var contact_array = contact_name.split(' ');\n                for (var x in contact_array) {\n                    if(!match_found && typeof contact_array[x][0]!=='undefined' && contact_array[x][0].toLowerCase()==term) {\n                        contact_array[x] = '<b class=\"highlight\">'+contact_array[x][0]+'</b>'+contact_array[x].substr(1);\n                        match_found = true;\n                    }\n                }\n                $obj.html(contact_array.join(' '));\n            } else {\n                var regex = new RegExp( '(' + term + ')', 'gi' );\n                if (contact_name.match(regex)) {\n                    var updated_name = contact_name.replace( regex, \"<b class='highlight'>$1</b>\" );\n                    $obj.html(updated_name);\n                    match_found=true;\n                }\n            }\n\n        }\n        if (!match_found && search_email==null) {\n            highlightMatches($obj.parents(\"ul.details\").find(\"li.email\"),term,full_search,1);\n        }\n   }\n\nvar $action_nav = $(\"#sub-util-actions\");\nvar actionOffset = $action_nav.offset();\nvar $upper_nav = $(\"#upper-nav\");\n\nif ($upper_nav.length) {\n    var upperNavOffset = $upper_nav.offset();\n}\n\nvar header_height = $(\"div.global-header\").outerHeight();\nvar loadingContact = false;\nvar autoCompleteSearchOpen = false;\nvar contact_changes_made = false;\n\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/contacts-index.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 53745,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "\n//var allFields = ['id','parent_event_rsvp_id','event_id','event_rsvp_list_id','first_name','last_name','email','company','plus_one','guest_name','created','date_rsvped','message','ip_address','invited','has_rsvped','linkedin_url','attending','custom_field_1','custom_field_2','custom_field_3','custom_field_4','custom_field_5','custom_field_6','custom_field_7','custom_field_8','custom_field_9','custom_field_10','custom_field_11','custom_field_12','custom_field_13','custom_field_14','custom_field_15','custom_field_16','custom_field_17','custom_field_18','custom_field_19','custom_field_20','deleted','checked_in','plus_one_checked_in','alt_checked_in','alt_plus_one_checked_in','unsubscribed','unsub_tag','ticket_sale_id','ticket_number'];\n\n// only the ones that can't be underscore-to-space-ucworded\n////////////////////////////////////////var $attendeeTable = $('#attendeeTable');\nvar attendeeColumnNames = {\n	attendee_checkbox:'',\n	first_name:'First',\n	last_name:'Last',\n	plus_one:'# of Guests',\n	attending_count:'# Guests',\n	created:'Date of RSVP',\n	message:'Notes',\n	'TicketType.name':'Ticket Type',\n	'TicketOrderDiscount.code':'Discount Code',\n	'TicketOrder.status':'Order Status',\n	'TicketOrder.order_number':'Order Number',\n	'TicketOrder.total':'Order Total',\n	'TicketOrder.discount':'Discounted Amount',\n	'TicketOrder.amount_refunded':'Refunded Amount',\n	'TicketSale.price':'Price per Ticket',\n	'EventRsvp.guest_names':'Guests',\n	'parent.name':'Guest of'\n};\nvar search_val;\nif ( typeof EventSetting != 'undefined' && typeof EventSetting.rsvp_method !== 'undefined' && EventSetting.rsvp_method == 'tickets' ){\n	attendeeColumnNames.created = 'Date of Purchase';\n}\n\nvar attendeeColumnTypes = {};\nfunction getFieldName(field){\n	if ( typeof attendeeColumnNames[field] != 'undefined' ){\n		return attendeeColumnNames[field];\n	}\n	return ucwords((field+'').replace(/_/g,' '));\n}\n\nvar isSelAllChecked = false;\n\n\n////////////////////////////////////////////////////////////////////////////\n// BOM\n// the var BOM must be prepended to every csv data so that Excel interprets it correctly\n// Otherwise, accents and other special characters aren't displayed well\n// from Guillermo (2014 Jun)\n\nvar BOM_CHAR_CODE = 65279;\nvar BOM = String.fromCharCode(BOM_CHAR_CODE);\n\n////////////////////////////////////////////////////////////////////////////\n// Attendee Table setup {{{\n// this uses currentColumns and currentEventRsvpIds to fill the table\nvar currentGrouping; // none | response/order | order-tickettype\nvar currentColumns;\nvar currentEventRsvpIds;\nvar selectedAttendees = [];\n\nfunction attendeeBindings(){\n	attendeePagingBind();\n	attendeeTableSortBind();\n	attendeeTableDetailBind();\n	attendeeTableSearchBind();\n	attendeeTableFilterBind();\n	captureDeferredBind();\n}\n\nfunction populateAttendeeTable(sortField,sortDirection){\n	var sortField = sortField || false;\n	var sortDirection = sortDirection || 'asc';\n\n	// set the count\n	$attendeeTable.parents('.tabBlock:first').find('.table-count').text(currentEventRsvpIds.length);\n\n	setTimeout(function(){ // fork\n		// set the height whilst we work.. so no scroll jump\n		$attendeeTable.parent().css('height',$attendeeTable.parent().height()+'px');\n		// clean up\n		$attendeeTable.html('');\n\n		// put in the headers\n		var headers = {};\n		var strings = {wrap:'<thead></thead>',row:'<tr></tr>',cell:'<th></th>'};\n		var $row = $(strings.wrap);\n		var $dRow = $(strings.row);\n		//console.log(currentColumns);\n		for ( var i in currentColumns ){\n			var $cell = $(strings.cell);\n			$cell.attr('field',currentColumns[i]);\n			if ( currentColumns[i] == sortField ){\n				$cell.attr('direction',sortDirection);\n				if ( sortDirection == 'asc' ) $cell.addClass('headerSortUp');\n				else if ( sortDirection == 'desc' ) $cell.addClass('headerSortDown');\n			}\n\n\n			//console.log(currentColumns[i]);\n			// var field = fields.custom_rsvp_fields[i];\n			// f = 'custom_field_'+field.number;\n			// var v = getAttendeeFieldData(id,f,true);\n			// if ( v === false ) v = '';\n			// if ( field.type == 'file' ){\n			// 	v = '<a href=\"/img/events/'+constants.event_id+'/files/'+v+'\" target=\"blank\">'+v.replace(/^rsvp\\.[a-z0-9]{3}\\./i,'')+'</a>';\n			// }\n\n			$cell.html(getFieldName(currentColumns[i]));\n			$dRow.append($cell);\n		}\n		$dRow.append($(strings.cell)); // to cover the detail edit cell\n		$row.append($dRow);\n		$attendeeTable.append($row);\n\n		// stick in the data for this page... (that's what she said)\n\n		\n\n		var limits = attendeePagingLimits();\n\n		for ( var i = limits.start; i <= limits.end; i++ ){\n			var $row = attendeeRowFromId(currentEventRsvpIds[i]);\n			if ( $row !== false ){\n				$attendeeTable.append($row);\n				var event_rsvp_id = $row.attr(\"event-rsvp-id\");\n				if($.inArray(event_rsvp_id,selectedAttendees)>-1){\n					$row.find(\"tr:first\").addClass('selected')\n				}\n				if(getAttendeeFieldData(event_rsvp_id,'vip',false)==1){\n					$row.find(\".vip-star\").addClass('icon-f-star-empty').remove('selected icon-f-star');\n				}\n			}\n		}\n\n\n		$('#attendeeTable thead tr th:first-child').addClass('noSort');\n\n\n		var thisLen = $('#attendeeTable').find('tbody').length\n\n		// setTimeout(function(){\n		// 	console.log(\"here..\");\n		// 	$attendeeTable.find(\"thead\").find(\"th:first\").click();//html());\n		// },1);\n\n		$attendeeTable.parent().css('height','auto');\n\n		if(isSelAllChecked == false){\n			$('#planning-tools .guests-block table thead tr th:first-child').html('<label id=\"selectAllAttendees\" class=\"nu-checkbox select-attends-nu\"><input type=\"hidden\" class=\"abs mass-select\"></label>');\n 		} else {\n	 		$('#planning-tools .guests-block table thead tr th:first-child').html('<label id=\"selectAllAttendees\" class=\"nu-checkbox select-attends-nu checked\"><input type=\"hidden\" class=\"abs mass-select\" value=\"1\"></label>');\n		}\n\n	},1);\n}\n\n/////////////////////////////////////////////////////\n// Table Pagination {{{\n// current attendee page number for pagination\nvar currentAttendeePage = 1;\nvar currentAttendeeMaxPage = 1;\n\nfunction hideShowEmpty( action ){\n\n	var isEmpty = false;\n	var isNew = false;\n\n	if( eventType == 'collect' ){\n\n		if( totalRsvps > 0  &&  currentEventRsvpIds.length<1 ){\n			isEmpty = true;\n		}\n\n		if( totalRsvps <= 0 ){\n			isNew = true;\n		}\n\n	} else if (eventType == 'tickets') {\n\n		if( tixSold > 0  &&  currentEventRsvpIds.length<1 ){\n			isEmpty = true;\n		}\n\n		if( tixSold <= 0 ){\n			isNew = true;\n		}\n\n	}\n\n\n	if( isEmpty == true || isNew == true ){\n\n		$attendeePaging.hide();\n\n		if( ( $('#rsvp-list-contain').hasClass('searching') || tixSold > 0 || totalRsvps > 0 ) && isNew == false ){\n\n			if( ! $('#rsvp-list-contain').hasClass('searching') ){\n				$('#rsvp-list-contain').addClass('searching')\n			}\n\n			$(\"div.empty-search\").show();\n		} else if ($('#rsvp-list-contain').hasClass('searching') && isNew == true ) {\n			$(\"div.empty-search\").show();\n		} else {\n			$(\"div.empty-rsvps\").show();\n		}\n\n	} else{\n		$attendeePaging.show();\n		$(\"div.empty-rsvps\").hide();\n		$(\"div.empty-search\").hide();\n	}\n\n\n}\n\n\nfunction attendeePagingLimits(){\n	var limits = { start: 0, end: 199 }; // default to 200 per page.... same as the on-page selector\n	var perPage = parseInt($attendeePaging.find('select.perPage').val());\n\n	// calc the limits\n	limits.end = (currentAttendeePage * perPage) -1;\n	limits.start = limits.end - perPage + 1;\n\n	// stop at the end of list\n	if ( limits.end > (currentEventRsvpIds.length-1) ){\n		limits.end = currentEventRsvpIds.length - 1;\n		if ( limits.start > (currentEventRsvpIds.length-1) ){\n			limits.start = limits.end - perPage + 1;\n			if ( limits.start < 1 ){\n				limits.start = 0;\n				currentAttendeePage = 1;\n			}\n		}\n	}\n\n	hideShowEmpty()\n\n	// limit display... and page link setup .. and prev/next show/hide\n	$attendeePaging.find('.text,.pages').empty();\n	var pageCount = Math.ceil(currentEventRsvpIds.length/perPage);\n	currentAttendeeMaxPage = pageCount;\n	for ( var i=1; i<=pageCount; i++){\n		var $l = $('<span>'+i+'</span>');\n		if ( i == currentAttendeePage )\n			$l.addClass('current');\n		else $l.attr('page',i);\n		$attendeePaging.find('.pages').append($l);\n	}\n\n	var showPaging = true\n\n	if ( ( limits.start+1 == 1 ) && ( limits.end+1 == currentEventRsvpIds.length ) ){\n		showPaging = false\n	}\n\n	var text = 'Showing <strong>'+(limits.start+1)+'</strong> to <strong>'+(limits.end+1)+'</strong> of <strong>'+currentEventRsvpIds.length+'</strong>';\n	$attendeePaging.find('.text').html(text);\n\n	if( showPaging == false ){\n		$('#attendeePaging').hide()\n	} else {\n		$('#attendeePaging').show()\n	}\n\n	$('#attendeeTableTotal').text(currentEventRsvpIds.length);\n\n	return limits;\n}\n\nfunction attendeePagingBind(){\n\n	$attendeePaging.on('click','.pages span',function(){\n		var $this = $(this);\n		if ( $this.hasClass('current') ) return;\n		var newPageNumber = $this.attr('page');\n		currentAttendeePage = newPageNumber;\n		populateAttendeeTable();\n	});\n\n	$attendeePaging.on('click','.prev',function(){\n		var $this = $(this);\n		if ( $this.hasClass('current') ) return;\n		var newPageNumber = currentAttendeePage - 1;\n		if ( newPageNumber < 1 ) newPageNumber = 1;\n		currentAttendeePage = newPageNumber;\n		populateAttendeeTable();\n\n		setTimeout(function(){ // keep page scrolled to bottom on click of paging btns\n			$(document).scrollTop($(document).height()-$(window).height())\n		}, 1)\n\n	});\n\n	$attendeePaging.on('click','.next',function(){\n		var $this = $(this);\n		var newPageNumber = currentAttendeePage + 1;\n		if ( newPageNumber > currentAttendeeMaxPage ) newPageNumber = currentAttendeeMaxPage;\n		currentAttendeePage = newPageNumber;\n		populateAttendeeTable();\n		setTimeout(function(){  // keep page scrolled to bottom on click of paging btns\n			$(document).scrollTop($(document).height()-$(window).height())\n		}, 1)\n	});\n\n	$attendeePaging.on('change','select.perPage',function(){\n		populateAttendeeTable();\n	});\n\n}\n\n// End Table Pagination }}}\n/////////////////////////////////////////////////////\n\nfunction attendeeRowFromId(id,columns){\n	var myColumns = (typeof columns != 'undefined') ? columns : $.extend([],currentColumns);\n	//if ( getAttendeeFieldData(id,'deleted') !== false ) return '';\n	//if ( getAttendeeFieldData(id,'parent_event_rsvp_id') !== false ) return '';\n	var strings = {wrap:'<tbody></tbody>',row:'<tr></tr>',cell:'<td></td>'};\n	var $row = $(strings.wrap);\n	if ( getAttendeeFieldData(id,'deleted',false,true) == '2' ){\n		//if ( !attendeeShowRefunded ) return false; // this is to not show refunded tickets\n		$row.addClass('refunded').attr('title','Refunded');\n	}\n	$row.attr('event-rsvp-id',id);\n	var $dRow = $(strings.row);\n	$dRow.addClass('data');\n	for ( var i in myColumns ){\n		var field = myColumns[i];\n		var $cell = $(strings.cell);\n		$cell.attr('field',field);\n		var data = getAttendeeFieldData(id,field,true);\n		if ( data == false ) data = '';\n		if ( data == 'false' ) data = '';\n		$cell.html(data);\n		$dRow.append($cell);\n	}\n	var w = getAttendeeFieldData(id,'waitlist',true);\n	if(w=='1'){\n		$dRow.addClass('waitlist');\n	} else {\n		$dRow.removeClass('waitlist');\n	}\n	var $cell = $(strings.cell);\n	$cell.addClass('open-details').html('<span class=\"vip-star icon-f-star-empty right\"></span><a href=\"#\" class=\"attendee-edit icon-f-pencil right\"></a>').hide();\n\n	$dRow.append($cell);\n	$row.append($dRow);\n\n	// another row in the tbody? for a more in-depth data display that is hidden?\n\n	return $row;\n}\n\nfunction getAttendeeFieldData(id,field,formatted,treatAsNormal){\n	formatted = formatted || false;\n	treatAsNormal = treatAsNormal || false;\n	var origField = field;\n	var fieldParts = field.split(';');\n	field = fieldParts[0];\n	// this is for ticket type custom question number overlap !\n	if ( fieldParts.length == 2 && fieldParts[1] != '' && fieldParts[1] != '.*') {\n		var ticket_type_ids = fieldParts[1].split(',');\n		var pid = getAttendeeFieldRawData(id,'ticket_type_id');\n		if ( !pid ) pid = '0';\n		if ( $.inArray(pid,ticket_type_ids) < 0 && !(pid == '0' && $.inArray('.*',ticket_type_ids) > -1)){\n			return false;\n		}\n	}\n\n	// this is to return the grouped data\n	if ( attendeeGrouping == 'order' && !treatAsNormal ){\n		// simple field translations - change the field name and let the rest of the function go as normal\n		if ( field == 'first_name' ) field = 'TicketOrder.first_name';\n		if ( field == 'last_name' ) field = 'TicketOrder.last_name';\n		if ( field == 'email' ) field = 'TicketOrder.email';\n		// looping through the TicketSale or looping through the TicketSale.EventRsvpIds\n		if ( field == 'attending_count' || field == 'TicketType.name') {// || field == 'ticket_number' || field == 'TicketSale.price' || field == 'company' ){\n			var tOid = getAttendeeFieldData(id,'ticket_order_id',false,true);\n			if ( tOid && typeof TicketOrder[tOid] != 'undefined' ){\n				var tO = TicketOrder[tOid];\n				var data = false;\n				if ( field == 'attending_count' ){\n					data = 0;\n					for ( var tsid in tO.TicketSale ){\n						data += parseInt(tO.TicketSale[tsid]['quantity']);\n					}\n				}\n				else if ( field == 'TicketType.name' ){\n					data = [];\n					for ( var tsid in tO.TicketSale ){\n						data.push(tO.TicketSale[tsid]['ticket_type_name']+' x'+tO.TicketSale[tsid]['quantity']);\n					}\n					data = data.join('<br>');\n				}\n				/* // this is to show multiple entries per row where applicable //\n				else if ( field == 'TicketSale.price' ){\n					data = [];\n					for ( var tsid in tO.TicketSale ){\n						data.push(tO.TicketSale[tsid]['ticket_type_name']+': $'+(tO.TicketSale[tsid]['price']/100).toFixed(2));\n					}\n					data = data.join('<br>');\n				}\n				else if ( field == 'ticket_number' ){\n					data = [];\n					for ( var tsid in tO.TicketSale ){\n						for ( var erid in tO.TicketSale[tsid].EventRsvpIds ){\n							data.push(getAttendeeFieldData(tO.TicketSale[tsid].EventRsvpIds[erid],'ticket_number',true,true));\n						}\n					}\n					data = data.join('<br>');\n				}\n				else if ( field == 'company' ){\n					data = [];\n					for ( var tsid in tO.TicketSale ){\n						for ( var erid in tO.TicketSale[tsid].EventRsvpIds ){\n							data.push(getAttendeeFieldData(tO.TicketSale[tsid].EventRsvpIds[erid],'company',true,true));\n						}\n					}\n					data = data.join('<br>');\n				}\n				*/\n\n				return data;\n			}\n		}\n	}\n\n	if ( attendeeGrouping == 'every' && !treatAsNormal ){\n		// simple field translations - change the field name and let the rest of the function go as normal\n		if ( field == 'attending_count' && getAttendeeFieldData(id,'deleted',false,true) == '2' ) return 0;\n		else if ( field == 'attending_count' ) return 1;\n		if ( field == 'plus_one' ) return 0;\n	}\n\n	var data = getAttendeeFieldRawData(id,field,null,formatted);\n	if ( formatted ){\n		if( field == 'attendee_checkbox'){\n			if($.inArray(id,selectedAttendees)>-1){\n				data = '<input type=\"checkbox\" class=\"attendee-checkbox\" value=\"1\" checked=\"checked\" />';\n			} else{\n				data = '<input type=\"checkbox\" class=\"attendee-checkbox\" value=\"1\" />';\n			}\n		}\n		if ( field == 'attending' ){\n			data = ( data && data != '0' ) ? 'Yes' : 'No';\n		}\n		if ( field == 'created' || field == 'TicketOrder.placed' || (field=='checked_in'&&data&&data!='') ){\n			var dateObj = parseDatetime(data);\n			if ( dateObj !== false ) {\n				data = $.datepicker.formatDate('D M d, yy',dateObj); // date display\n				// time display\n				var h = dateObj.getHours();\n				var m = dateObj.getMinutes(); if ( m < 10 ) m = '0' + m;\n				var a = 'am';\n				if ( h > 12 ) { h -= 12; a = 'pm'; }\n				else if(h==12){ a = 'pm'; }\n				else if(h==0){ h = 12; a = 'am'; }\n				data += ' '+ h + ':' + m + a;\n			}\n		}\n		if(field == 'tags' && typeof data!=='undefined'){\n			if(data==false){\n				data = [];\n			}\n			var tag_names = [];\n			for (var i in data){\n				var s = ( typeof contact_tags[data[i]] !== 'undefined' ) ? contact_tags[data[i]]:'';\n				tag_names.push(s);\n			}\n			data = tag_names.join(', ');\n		}\n		if ( typeof attendeeColumnTypes[origField] != 'undefined' ){\n			if ( attendeeColumnTypes[origField] == 'checkbox' ){\n				data = ( data && data != '0' ) ? 'Yes' : 'No';\n			}\n		}\n		// money amounts\n		if ( data !== false && data != '' && field == 'TicketOrder.total' || field == 'TicketSale.price' || field == 'TicketOrder.discount' || field == 'TicketOrder.amount_refunded' ){\n			if ( field == 'TicketOrder.amount_refunded' && getAttendeeFieldData(id,'deleted',false,true) == '2' ){\n				data = '0.00';\n			}\n			else {\n				data *= 1;\n				data = (parseInt(data)/100).toFixed(2);\n			}\n		}\n		// check multi delim\n		if ( field.match(/^custom_field_/) ){\n			data = (''+data).replace(/\\|\\|/g,', ');\n		}\n\n	}\n	return data;\n}\n\nfunction setAttendeeFieldData(id,field,setTo){\n	var setTo = setTo || null;\n	return getAttendeeFieldRawData(id,field,setTo);\n}\n\nfunction getAttendeeFieldRawData(id,field,setTo,formatted){\n	var setTo = setTo || null;\n	field = field.split(/\\./g);\n\n	var eR = {id:id};\n	if ( typeof EventRsvp[id] != 'undefined' ){\n		//eR = $.extend({},EventRsvp[id]);\n		eR = EventRsvp[id]\n	} else {\n		var parent_child = (''+id).split(',');\n		if ( parent_child.length == 2 && typeof guestsByParentId[parent_child[0]] != 'undefined' ){\n			for ( var index in guestsByParentId[parent_child[0]] ){\n				if ( guestsByParentId[parent_child[0]][index].id == parent_child[1] ){\n					//eR = $.extend({},guestsByParentId[parent_child[0]][index]);\n					eR = guestsByParentId[parent_child[0]][index];\n				}\n			}\n		}\n	}\n	//console.log(field);\n	//console.log(\"set to ? \"+setTo);\n	// EventRsvp Field\n\n	if ( field.length == 1 ){\n\n		//custom_field_[question_num] fields will always hit here\n		//if the custom_field is in the answers array, return the `question_answer`!\n		var matches = field[0].match(/^custom_field_(\\d+)/),\n			questionNumber = matches && matches.length > 1 ? matches[1] : false;\n		if(eR[field[0]] !== null && questionNumber && eR && eR.answers && eR.answers[questionNumber]) {\n			return eR.answers[questionNumber].question_answer;\n		}\n\n	//	console.log(\"innny\");\n		if ( typeof eR !== 'undefined' && typeof eR[field[0]] !== 'undefined'){\n		//	console.log(\"outie\");\n\n			if ( setTo !== null ) eR[field[0]] = setTo;\n			return eR[field[0]];\n		}\n		else if ( field[0] == 'attending_count' ) {  //psuedo-field attending_count - plus_one+1 if attending == 1\n			if ( typeof eR['attending'] != 'undefined' && eR['attending'] == '1' ){\n				var ac = 1;\n				if ( typeof eR['plus_one'] != 'undefined' ){\n					ac += parseInt(eR['plus_one']);\n				}\n				return ac;\n			}\n			else return '0';\n		} else if(field[0]=='attendee_checkbox'){\n		//	console.log(eR);\n		} else if(setTo!=null){\n			eR[field[0]] = setTo;\n		}\n\n	}\n	// joined fields {{{\n	else if ( field.length == 2 ){\n\n		// Parent pseudo fields {{{\n		if ( field[0] == 'parent' && typeof eR['parent_event_rsvp_id'] != 'undefined' && typeof EventRsvp[eR['parent_event_rsvp_id']] != 'undefined' ){\n			if ( field[1] == 'name' ){\n				var name = [];\n				name.push(getAttendeeFieldData(eR['parent_event_rsvp_id'],'first_name',true));\n				name.push(getAttendeeFieldData(eR['parent_event_rsvp_id'],'last_name',true));\n				var s = 'Guest';\n				if ( name.length > 0 ) s += ' of '+name.join(' ');\n				return s;\n			}\n		}\n\n		// Guest Names field {{{\n		if ( field[0] == 'EventRsvp'\n			&& typeof guestsByParentId[eR.id] != 'undefined'\n		){\n			if ( field[1] == 'guest_names' ){\n				var guest_names = [];\n				for ( var i in guestsByParentId[eR.id] ){\n					var guest = guestsByParentId[eR.id][i];\n					var s = ( typeof guest['first_name'] != 'undefined' ) ? guest['first_name']+' ' : '';\n					s += ( typeof guest['last_name'] != 'undefined' ) ? guest['last_name'] : '';\n\n					if ( formatted ){\n						var line = '<span class=\"edit_guest guest-edit\" event-rsvp-id=\"'+eR.id+','+guest['id']+'\">';\n						if ( typeof guest.deleted != 'undefined' && guest.deleted != 0 )\n							line += '<strike>'+s+'</strike>';\n						else line += s;\n						line += '</span>';\n						guest_names.push(line);\n					}else guest_names.push(s);\n\n				}\n				return guest_names.join(', ');\n			}\n		}\n\n\n		// TicketOrder fields {{{\n		if ( field[0] == 'TicketOrder'\n			&& typeof eR['ticket_order_id'] != 'undefined'\n			&& typeof TicketOrder[eR['ticket_order_id']] != 'undefined'\n		){\n			var order = TicketOrder[eR['ticket_order_id']].TicketOrder;\n			if ( typeof order[field[1]] != 'undefined' ){\n				if ( setTo !== null ) order[field[1]] = setTo;\n				return order[field[1]];\n			}\n		}\n\n		// TicketSale fields {{{\n		if ( field[0] == 'TicketSale'\n			&& typeof eR['ticket_sale_id'] != 'undefined'\n			&& typeof eR['ticket_order_id'] != 'undefined'\n			&& typeof TicketOrder[eR['ticket_order_id']] != 'undefined'\n		){\n			var sales = TicketOrder[eR['ticket_order_id']].TicketSale;\n			var sid = eR['ticket_sale_id'];\n			if ( typeof sales[sid] != 'undefined' && typeof sales[sid][field[1]] != 'undefined' ){\n				if ( setTo !== null ) sales[sid][field[1]] = setTo;\n				return sales[sid][field[1]];\n			}\n		}\n\n		// TicketOrderDiscount fields {{{\n		if ( field[0] == 'TicketOrderDiscount'\n			&& typeof eR['ticket_order_id'] != 'undefined'\n			&& typeof eR['ticket_type_id'] != 'undefined'\n			&& typeof TicketOrder[eR['ticket_order_id']] != 'undefined'\n		){\n			var order = TicketOrder[eR['ticket_order_id']].TicketOrder;\n			var ticket = false;\n			var did = order['ticket_order_discount_id'];\n			if ( typeof ticketOrderDiscounts.active[did] != 'undefined'\n				&& typeof ticketOrderDiscounts.active[did].TicketOrderDiscount != 'undefined'\n			){ ticket = ticketOrderDiscounts.active[did].TicketOrderDiscount; }\n			else if ( typeof ticketOrderDiscounts.inactive[did] != 'undefined'\n				&& typeof ticketOrderDiscounts.inactive[did].TicketOrderDiscount != 'undefined'\n			){ ticket = ticketOrderDiscounts.inactive[did].TicketOrderDiscount; }\n\n			if ( ticket !== false && typeof ticket[field[1]] != 'undefined' ){\n				if ( setTo !== null ) ticket[field[1]] = setTo;\n				return ticket[field[1]];\n			}\n		}\n\n		// TicketType fields {{{\n		if ( field[0] == 'TicketType'\n			&& eR['ticket_type_id'] != 'undefined'\n			&& typeof ticketTypes != 'undefined'\n		){\n			var ticket = false;\n			if ( typeof ticketTypes.active[eR['ticket_type_id']] != 'undefined'\n				&& typeof ticketTypes.active[eR['ticket_type_id']].TicketType != 'undefined'\n			){ ticket = ticketTypes.active[eR['ticket_type_id']].TicketType; }\n			else if ( typeof ticketTypes.inactive[eR['ticket_type_id']] != 'undefined'\n				&& typeof ticketTypes.inactive[eR['ticket_type_id']].TicketType != 'undefined'\n			){ ticket = ticketTypes.inactive[eR['ticket_type_id']].TicketType; }\n\n			if ( ticket !== false && typeof ticket[field[1]] != 'undefined' ){\n				if ( setTo !== null ) ticket[field[1]] = setTo;\n				return ticket[field[1]];\n			}\n		}\n\n	}\n	return false;\n}\n\nfunction getCSVExportOfAttendeeTable(){\n	var data = \"\";\n	// put in header row\n	var skipCols = [];\n	for ( var i in currentColumns ){\n		var colName = RegExp.escQ(getFieldName(currentColumns[i]));\n		if(colName!=\"\"){\n			data += '\"'+colName+'\",';\n		} else{\n			skipCols[i] = true;\n		}\n	}\n	data += \"\\n\";\n	// put in data for every id\n	for ( var i in currentEventRsvpIds ){\n		var row = \"\";\n		for ( var c in currentColumns ){\n			if(typeof skipCols[c]!=='undefined'){\n				//skip me. blank column.\n			} else{\n				var fff = getAttendeeFieldData(currentEventRsvpIds[i],currentColumns[c],false);\n\n				// money amounts\n				if ( currentColumns[c] == 'TicketOrder.total' || currentColumns[c] == 'TicketSale.price' || currentColumns[c] == 'TicketOrder.discount' || currentColumns[c] == 'TicketOrder.amount_refunded' ){\n					if ( currentColumns[c] == 'TicketOrder.amount_refunded' && getAttendeeFieldData(id,'deleted',false,true) == '2' ){\n						fff = '0.00';\n					}\n					else {\n						fff *= 1;\n						fff = (parseInt(fff)/100).toFixed(2);\n					}\n				}\n\n				if ( fff === false ) fff = '';\n				row += '\"'+RegExp.escQ(''+fff)+'\",';\n			}\n		}\n		row += \"\\n\";\n		data += row;\n	}\n\n	//data = String.fromCharCode(0xef) + String.fromCharCode(0xbb) +String.fromCharCode(0xbf) + data;\n\n	// BOM prepended so that programs like Excel interpred UTF8+BOM instead of UTF8\n	return BOM + data;\n}\n\n\n\nfunction getCSVExportOfAwaitingReplyTable(){\n	var data = \"\",\n		$table = $(\"#awaitingReplyTable\");\n	// put in header row\n	$table.find(\"thead\").find(\"th\").each(function(){\n		if(typeof $(this).attr(\"field\")!=='undefined'){\n			data+= '\"'+RegExp.escQ($(this).text())+'\",';\n		}\n	});\n	data += \"\\n\";\n	// put in data for every id\n	$table.find(\"tbody\").find(\"tr\").each(function(){\n		var row = \"\";\n		$(this).find(\"td.search-td\").each(function(){\n			row += '\"'+RegExp.escQ(''+$(this).text())+'\",';\n		});\n		row += \"\\n\";\n		data += row;\n\n	});\n	return BOM + data;\n}\n\nfunction populateAwaitingReply(){\n\n	console.log('pop awaiting reply')\n	var $art = $('#awaitingReplyTable');\n\n	var columns = [];\n	$art.find('thead:first th').each(function(){ columns.push($(this).attr('field')); });\n\n	var $tbody = $art.find('tbody:first');\n	$tbody.empty();\n	if(attendeeAwaitingReply.length>0){\n\n		var thisCount = 0;\n\n		for ( var i in attendeeAwaitingReply ){\n			if ( attendeeAwaitingReply[i] !== false ){\n				var row = '<tr i=\"'+i+'\">';\n\n				thisCount = thisCount + 1;\n\n				for ( var c in columns ){\n					if ( columns[c] ){\n						var cs=(c==0||c==1||c==2)?'search-td':'';\n						row += '<td class=\"'+cs+'\">';\n						if ( typeof attendeeAwaitingReply[i][columns[c]] != 'undefined' ){\n\n							// if( columns[c] == 'invited_on'){\n\n							// 	var splitString = attendeeAwaitingReply[i][columns[c]].split(' ')\n\n							// 	row += splitString[0]+' '+splitString[1]+' '\n							// 	//console.log(splitString)\n							// } else {\n								row += attendeeAwaitingReply[i][columns[c]];\n							//}\n\n						}\n						row += '</td>';\n					}\n				}\n				row += '<td><span class=\"nu-btn xs clean add\">Add</span>';\n				row += '<span class=\"nu-btn xs clean delete\">Delete</span></td>';\n				row += '</tr>';\n				$tbody.append(row);\n			}\n		}\n\n		$('#attendeeAwaitingReply-viewer h3').append('<span class=\"awaitingCount\">('+thisCount+')</span>')\n\n		$('#attendeeAwaitingReply-viewer').fireSimpleModal();\n\n	}\n	return false;\n}\n\nfunction newAttendeeFromAwaitingReply(){\n	var i = $(this).parents('tr:first').attr('i') || false;\n	newAttendeeForm();\n	if ( typeof attendeeAwaitingReply[i] != 'undefined' ){\n		var a = attendeeAwaitingReply[i];\n		var $form = $('#rsvp-adder #attendee-form form:first');\n		$form.find('input.email').val(a.email);\n		var name = a.name.split(' ');\n		if ( name.length >= 2 ){\n			$form.find('input.first_name').val(name[0]);\n			$form.find('input.last_name').val(name[1]);\n		}\n		$form.append('<input type=\"hidden\" name=\"event_invite_id\" value=\"'+a.id+'\" />');\n		$form.append('<input type=\"hidden\" name=\"awaiting_reply_i\" value=\"'+i+'\" />');\n	}\n}\nfunction removeFromAwaitingReply(){\n	var i = $(this).parents('tr:first').attr('i') || false;\n	//newAttendeeForm();\n	if ( typeof attendeeAwaitingReply[i] != 'undefined' ){\n		var a = attendeeAwaitingReply[i];\n		var $table = $(\"#awaitingReplyTable\").find(\"tbody\");\n		$(this).parents(\"tr:first\").remove();\n		//remove the key.\n		var emi_id = attendeeAwaitingReply[i]['emi_id'];\n		delete(attendeeAwaitingReply[i]);\n		$.ajax({\n			url: constants.finetune_formBase+\"/events/deleteAwaitingReply/\"+constants.slug,\n			type: 'post',\n			data: { emi_id: emi_id },\n			success: function(response){\n				//update the awaiting reply count where applicable.\n				var new_count = $table.find(\"tr\").length;\n				if(new_count < 0){ new_count = 0; }\n\n				//first, in responses tab.\n				$(\"#awaiting-reply-count\").text(new_count);\n\n				$('#attendeeAwaitingReply-viewer .awaitingCount').html('('+new_count+')')\n\n				//then, in the email send list, if it's rendered already.\n				var $send_list = $(\"#email-send-list\");\n				if($send_list.length > 0){\n					$send_list.find(\"div[value='haveNotRsvped']\").find(\"span:last\").text('('+new_count+')');\n				}\n			},\n			error:function(){\n				alert('There was an error removing this person from the awaiting reply list.');\n			}\n		});\n	}\n	return false;\n}\n// End Attendee Table setup }}}\n////////////////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////////////////\n// Attendee Details View {{{\n\n //this function binds all the click/mousenter/mouseleave actions for showing attendee details\nfunction attendeeTableDetailBind(){\n	$attendeeTable.on('click','.edit_guest', attendeeDetailView);\n	$attendeeTable.parents('#wrap').on('click', '#attendee-utils .attendee-edit', attendeeDetailView);\n\n	$attendeeTable.parents('#wrap').on('click', '#attendee-utils .vip-star', function(){\n		toggleVIP( $(this) );\n	});\n\n	$('#add-to-rsvp-list').click(function(e){\n		return newAttendeeForm();\n	});\n\n	$('#awaitingBtn').click(populateAwaitingReply);\n	$('#attendeeAwaitingReply-viewer').on('click','span.add',newAttendeeFromAwaitingReply);\n	$('#attendeeAwaitingReply-viewer').on('click','span.delete',removeFromAwaitingReply);\n	$attendeeTable.on('click','tr.data td',attendeeToggleSelectedRow);\n	$attendeeTable.on('click','input.attendee-checkbox',attendeeToggleSelected);\n	$('#exportFilesLink').click(exportFiles);\n\n	//on hover of each row (or in this case, tbody):\n	//1.  absolute position attendee utils based on current row's position.\n	//2.  assign the current row's RSVP ID to attendee-utils.\n	$attendeeTable.on('mouseenter', 'tbody', function(){\n		var rsvpid = $(this).attr('event-rsvp-id');\n		var top = $(this).position().top,\n			height = $(this).height(),\n			offset = height/2,\n			total = top + offset;\n\n		if (getAttendeeFieldData(rsvpid,'vip') == 0){\n			$('.vip-star').addClass('selected icon-f-star').removeClass('icon-f-star-empty');\n		} else {\n			$('.vip-star').removeClass('selected icon-f-star').addClass('icon-f-star-empty');\n		}\n\n		$(\"#attendee-utils\")\n			.data( 'event-rsvp-id', rsvpid ) //assign the event rsvp id so we can reference on click of attendee edit, or vip button.\n			.css('top', total);\n	});\n}\n\nfunction newAttendeeForm(e){\n	var id = 0;\n	var $view = $('#rsvp-adder');\n	$view.attr('rsvp-id',id);\n\n	// decide which set of rsvp fields to use\n	// if we are a ticketed event.. need to show a different set of fields\n	var fields = false;\n	if ( typeof EventSetting != 'undefined' && typeof EventSetting.rsvp_method != 'undefined' && EventSetting.rsvp_method == 'tickets' ){\n		fields = { rsvp_fields: ['new_order','ticket_types'], custom_rsvp_fields: [] };\n	}else {\n		fields = getAttendeeRsvpFields(id);\n	}\n	//console.log(fields);\n	$view.find('#attendee-data').empty();\n	$view.find('#attendee-order-data').empty();\n	$view.find('.quick-nav li[type=order]').css('display','none');\n	$view.find('.quick-nav li[type=edit]').addClass('active').siblings().removeClass('active');\n\n	// get a blank form\n	var $form = $view.find('#attendee-form-blank').clone();\n	$form.attr('id','attendee-form').removeClass('hide');\n	$form.find('form').attr('id','manualRsvpForm');\n	// populate the form\n	attendeePopulateAttendeeForm($form,id,fields);\n	// replace the visible form with the populated one\n	$view.find('#attendee-form').replaceWith($form);\n\n	//needs to happen.  too many things overwriting this value.\n	$form.find(\"#adder-attending\").val(1);\n\n	// Hide edit attendee button if order details button hidden\n	if ( $('#rsvp-adder .quick-nav li[type=\"order\"]').css('display') == 'none' ) {\n		$('#rsvp-adder .quick-nav li[type=\"edit\"]').css('display', 'none');\n	}\n\n	// open simple modal\n	$view.fireSimpleModal();\n\n	return false; // stop the click action from bubbling uppp\n}\n\nfunction getTrackingLinkById(tracking_link_id){\n	if(typeof trackingLinks!=='undefined'){\n		for (var i in trackingLinks){\n			if(typeof trackingLinks[i][tracking_link_id]!=='undefined'){\n				return trackingLinks[i][tracking_link_id];\n			}\n		}\n	}\n	return false;\n}\n\nfunction attendeeDetailView(){\n	/*\n\n	<table>\n	<tbody event-rsvp-id=\"x\">\n		<tr>\n		</tr></tbody>\n	</table>\n	<div id=\"attendee-utils\" data-event-rsvp-id=\"x\"><a href=\"#\" class=\"edit\">edit</a></div>\n	<a href=\"#\" claass=\"attendee-edit\">edit</a>\n	*/\n	var $this = $(this);\n	if ( $this.hasClass('guest-edit') ){\n		var id = $this.attr('event-rsvp-id');\n	} else {\n		var id = $(\"#attendee-utils\").data('event-rsvp-id');\n		// var id = $this.parents('tbody:first').attr('event-rsvp-id'); // the td.details triggers this\n	}\n\n	var $view = $('#rsvp-adder');\n	//split in case there's more than one rsvp row associated with it.\n	var rsvp_id = id.split(',').pop();\n\n	$view.attr('rsvp-id',rsvp_id);\n\n	var tracking_link = false;\n	//check for tracking link.\n	if(typeof EventRsvp[rsvp_id]!=='undefined'){\n		if(typeof EventRsvp[rsvp_id].tracking_link_id!=='undefined' && EventRsvp[rsvp_id].tracking_link_id>0){\n			tracking_link = getTrackingLinkById(EventRsvp[rsvp_id].tracking_link_id);\n		}\n	}\n\n	// decide which set of rsvp fields to use\n	var fields = getAttendeeRsvpFields( getAttendeeFieldData(id,'ticket_type_id') );\n	// get a blank data block\n	$view.find('#attendee-data').html('');\n	$display = $view.find('#attendee-data-blank').clone();\n	$display.attr('id','attendee-data').removeClass('hide');\n	// populate the data\n	attendeePopulateAttendeeData($display,id,fields);\n	// replace the visible data with the populated one\n	$view.find('#attendee-data').replaceWith($display);\n\n	// get a blank form\n	$view.find('#attendee-form').html('');\n	var $form = $view.find('#attendee-form-blank').clone();\n	$form.attr('id','attendee-form').removeClass('hide');\n	$form.find('form').attr('id','manualRsvpForm').find(\"h3:first\").text('Edit Attendee');\n	// populate the form\n\n	attendeePopulateAttendeeForm($form,id,fields);\n	// replace the visible form with the populated one\n	$view.find('#attendee-form').replaceWith($form);\n\n	//if($this.hasClass('attendee-edit')){ //check for edit vs view.\n		$view.find(\"#attendee-data\").hide();\n	//} else{\n		$view.find(\"#attendee-form\").show();\n	//}\n	$view.find('.quick-nav li[type=edit]').click(function(){\n		$(this).addClass('active').siblings().removeClass('active');\n		$view.find('#attendee-data,#attendee-order-data').hide();\n		$view.find('#attendee-form').show();\n	}).show().addClass('active').siblings().removeClass('active');\n\n	// if there's an order associated with it.. populate some order deeets...\n	$view.find('#attendee-order-data').html('');\n	$view.find('.quick-nav li[type=order]').css('display','none');\n	if ( getAttendeeFieldData(id,'ticket_order_id') ){\n		// get a blank order info block\n		var $display = $view.find('#attendee-order-blank').clone();\n		$display.attr('id','attendee-order-data').removeClass('hide');\n		// populate the data\n		attendeePopulateOrderData($display,id,fields);\n		// replace the visible data with the populated one\n		$view.find('#attendee-order-data').replaceWith($display);\n		$view.find('.quick-nav li[type=order]').click(function(){\n			$(this).addClass('active').siblings().removeClass('active');\n			$view.find('#attendee-data,#attendee-form').hide();\n			$view.find('#attendee-order-data').show();\n		}).show().addClass('active').siblings().removeClass('active');\n		$view.find('#attendee-data,#attendee-form').hide();\n		$view.find('#attendee-order-data').show();\n		$view.find('.delete').hide();\n	} else {\n		$view.find('.delete').show();\n	}\n\n	$view.find(\".tracking-link-row\").remove();//clear out any previous tracking data.\n	if(tracking_link!==false){\n\n\n		if ( getAttendeeFieldData(id,'ticket_order_id') ){ //tickets vs. rsvps\n			$view.find(\"ul.lined-list:last\").find(\"li:last\").after('<li class=\"tracking-link-row\">Tracking Link: '+tracking_link.code+'</li>');\n		} else{\n			console.log(tracking_link);\n			$view.find(\".actions\").before('<div class=\"tracking-link-row clear\"><b>Tracking Link:</b> '+tracking_link.code+'</div><br>');\n		}\n	}\n\n	// Hide edit attendee button if order details button hidden\n	if ( $('#rsvp-adder .quick-nav li[type=\"order\"]').css('display') == 'none' ) {\n		$('#rsvp-adder .quick-nav li[type=\"edit\"]').css('display', 'none');\n	}\n\n	// open simple modal\n	$view.fireSimpleModal();\n\n	return false; // stop the click action from bubbling uppp\n}\n\nfunction attendeePopulateAttendeeData($display,id,fields){\n	var straightFields = ['first_name','last_name','email','company','created','guest_name','message'];\n	for ( var i in straightFields ){\n		var f = straightFields[i];\n		$display.find('.'+f).text( getAttendeeFieldData(id,f,true) );\n	}\n\n	if ( typeof guestsByParentId[id] != 'undefined' ){\n		var guest_names = [];\n		for ( var i in guestsByParentId[id] ){\n			var guest = guestsByParentId[id][i];\n			var s = ( typeof guest['first_name'] != 'undefined' ) ? guest['first_name']+' ' : '';\n			s += ( typeof guest['last_name'] != 'undefined' ) ? guest['last_name'] : '';\n			var line = '<span>';\n			if ( typeof guest.deleted != 'undefined' && guest.deleted != 0 )\n				line += '<strike>'+s+'</strike>';\n			else line += s;\n			line += '</span>';\n			guest_names.push(line);\n		}\n		$display.find('.guest_name').text( guest_names.join(', ') );\n	}\n\n	f = 'plus_one';\n	var v = getAttendeeFieldData(id,f,true);\n	if ( v != '0' ) $display.find('.'+f).text( '+'+v );\n	else $display.find('.'+f).text( 'No Guest' );\n\n	f = 'attending';\n	var v = getAttendeeFieldData(id,f,true);\n//	console.log(v);\n	if ( v != undefined && v != '0' && $.trim(v)!='No'){\n		$display.find('.'+f).text( 'Attending');\n	} else{\n		$display.find('.'+f).text( 'Not Attending' );\n	}\n	// custom fields\n	if ( typeof fields != 'undefined' && typeof fields.custom_rsvp_fields != 'undefined' ){\n		for ( var i in fields.custom_rsvp_fields ){\n			var field = fields.custom_rsvp_fields[i];\n			f = 'custom_field_'+field.number;\n			var v = getAttendeeFieldData(id,f,true);\n			if ( v === false ) v = '';\n			if ( field.type == 'file' ){\n				v = '<a href=\"'+v+'\" target=\"blank\">'+v.replace(/^rsvp\\.[a-z0-9]{3}\\./i,'')+'</a>';\n			}\n			$display.find('.'+f).html('<span class=\"question\">'+field.name+'</span><span class=\"answer\">'+v+'</span><br>').show();\n		}\n	}\n\n	// hiding fields that don't apply\n	var hideFields = ['company','attending','allow_guests'];\n	if ( typeof fields != 'undefined' && typeof fields.rsvp_fields != 'undefined' ){\n		for ( var i in hideFields ){\n			if ( $.inArray(hideFields[i],fields.rsvp_fields) == -1 ){\n				$display.find('.'+hideFields[i]).hide();\n			}\n		}\n	}\n	// removing the guest names display\n	if ( $.inArray('guest_name_required',fields.rsvp_fields) == -1 ){\n		$display.find('.guest_name').remove();\n	}\n\n}\n\nfunction attendeePopulateOrderData($display,id,fields){\n	var straightFields = ['TicketOrder.first_name','TicketOrder.last_name','TicketOrder.email','TicketOrder.placed','TicketOrder.order_number','TicketOrder.zipcode','TicketOrder.card_type'];\n	for ( var i in straightFields ){\n		var f = straightFields[i];\n		var c = f.split('.').pop();\n		$display.find('.'+c).text( getAttendeeFieldData(id,f,true) );\n	}\n\n	var f = 'TicketOrder.total';\n	var total = getAttendeeFieldData(id,f,false);\n	$display.find('.'+f.split('.').pop()).text( '$' + (total/100).toFixed(2) );\n\n	var f = 'TicketOrder.amount_refunded';\n	var amount_refunded = getAttendeeFieldData(id,f,false);\n	$display.find('.'+f.split('.').pop()).text( '$' + (amount_refunded/100).toFixed(2) );\n	if ( amount_refunded*1 == 0 ){\n		$display.find('.'+f.split('.').pop()).parent().hide();\n	}\n\n	var ticket_order_id = getAttendeeFieldData(id,'ticket_order_id',false);\n	var ticketSales = ( typeof TicketOrder[ticket_order_id] != 'undefined' && typeof TicketOrder[ticket_order_id].TicketSale != 'undefined' ) ? TicketOrder[ticket_order_id].TicketSale : [];\n	var $refundTixRows = $('<tbody class=\"tickets\"></tbody>');\n	var unrevokedTickets = 0;\n	for ( tsid in ticketSales ){\n		var $row = $('<div class=\"ticket_sale\"></div>');\n		$row.append('<div class=\"name\">'+ticketSales[tsid].ticket_type_name+'</div>');\n		$row.append('<div class=\"quantity\">'+ticketSales[tsid].quantity+'</div>');\n		$row.append('<div class=\"total\">'+(ticketSales[tsid].total/100).toFixed(2)+'</div>');\n\n		var $tix = $('<div class=\"tickets hide\"></div>');\n		if ( typeof ticketSales[tsid].EventRsvpIds != 'undefined' ){\n			for ( var i in ticketSales[tsid].EventRsvpIds ){\n				var tid = ticketSales[tsid].EventRsvpIds[i];\n				$tix.append('<div class=\"ticket\"><span class=\"number\">'+getAttendeeFieldData(tid,'ticket_number',true)+'</span> <span class=\"name\">'+getAttendeeFieldData(tid,'first_name',true)+' '+getAttendeeFieldData(tid,'last_name',true)+'</span></div>');\n\n				var value = (ticketSales[tsid].total) / ticketSales[tsid].quantity;\n				var row = '<tr>'\n				var deleted = getAttendeeFieldData(tid,'deleted');\n				if ( deleted ){\n					var cls = ( deleted == '1' ) ? 'deleted' : 'revoked'; // 1 == deleted; 2 == revoked\n					row += '<td class=\"'+cls+'\"><input type=\"checkbox\" d=\"'+deleted+'\" disabled=\"disabled\" value=\"'+value+'\" eRId=\"'+tid+'\" class=\"refCheck\">';\n				} else {\n					row += '<td><input type=\"checkbox\" d=\"0\" checked=\"checked\" value=\"'+value+'\" eRId=\"'+tid+'\" class=\"refCheck\">';\n					unrevokedTickets++;\n				}\n				row += '</td><td>$'+(value/100).toFixed(2)+'</td><td>'+ ticketSales[tsid].ticket_type_name +'</td><td>'+getAttendeeFieldData(tid,'ticket_number',true,true)+'</td><td class=\"name\">'+getAttendeeFieldData(tid,'first_name',true)+' '+getAttendeeFieldData(tid,'last_name',true)+'</td></tr>';\n				$refundTixRows.append(row);\n			}\n		}\n		$row.append($tix);\n		$row.append('<a href=\"#\" class=\"resend-ticket icons3-refresh\">Resend</a>');\n		$display.find('.ticket-sales').append($row);\n	}\n\n	var refundable = total - amount_refunded;\n	var status = getAttendeeFieldData(id,'TicketOrder.status');\n	var bt_status = getAttendeeFieldData(id,'TicketOrder.bt_status');\n	var bt_escrow_status = getAttendeeFieldData(id,'TicketOrder.bt_escrow_status');\n	var paid = getAttendeeFieldData(id,'TicketOrder.paid');\n\n	if ( status == 'refunded' && refundable > 0 ) status = 'Partially Refunded';\n	$display.find('.status').text( status );\n	var $refund = $display.find('.refund-contain')\n	if ((refundable > 0 || unrevokedTickets > 0) && paid !== '1'){\n		$refund.attr('refundable',refundable).removeClass('hide');\n		$refund.find('input.refund_amount').val( (refundable/100).toFixed(2) );\n		$refund.find('table tbody.tickets').replaceWith($refundTixRows);\n		// if the transaction is in or bound for escrow.. only a full refund is allowed :(\n		if (bt_escrow_status != '' && bt_escrow_status != null) {\n			$refund.find('.refund-options > h4:first').text('Select which tickets to revoke.');\n			$refund.find('.refund-options > p:first').html('');\n			$refund.find('input.refund_amount').hide();\n			$refund.find('.processRefund').text('Process Refund for $'+(refundable/100).toFixed(2));\n		}\n		$refund.find('.refund').unbind('click').click(function(e){\n			e.preventDefault();\n			$(this).hide();\n			$refund.find('.refund-options').removeClass('hide');\n		});\n		$refund.find('input[type=checkbox]').unbind('change').change(function(){\n			var newTotal = 0;\n			$refund.find('input.refCheck:checked').each(function(){\n				var $c = $(this);\n				newTotal += parseInt($c.val());\n			});\n			$refund.find('input.refund_amount').val( (newTotal/100).toFixed(2) );\n		});\n		$refund.find('.processRefund').unbind('click').click(function(e){\n			e.preventDefault();\n			var $this = $(this);\n			if ( $this.hasClass('disabled') ) return false;\n			$this.addClass('disabled');\n			eRidsToRevoke = [];\n			$refund.find('input.refCheck:checked').each(function(){\n				var $c = $(this);\n				eRidsToRevoke.push((''+$c.attr('erid')).split(',').pop());\n			});\n			var amountToRefund = Math.round($refund.find('.refund_amount').val()*100);\n			if ( amountToRefund > refundable ){\n				alert(\"You cannot refund more than the remaining total of $\"+(refundable/100).toFixed(2));\n				$this.removeClass('disabled');\n				return false;\n			}\n			var params = { ticketOrderId: ticket_order_id, event_rsvp_ids_to_revoke: eRidsToRevoke, refunded_amount: amountToRefund };\n			$.ajax({\n				url: constants.finetune_formBase+\"/events/refundTicketOrder/\"+constants.slug,\n				type: 'post',\n				dataType: 'json',\n				data: params,\n				success: function(response){\n					if ( typeof response.status != 'undefined' && response.status == 'success' ){\n						$this.text('Processed');\n						updateCurrentAttendeesFromResponse(response,params);\n						setTimeout(function(){\n							closeSimpleModal();\n						},1500);\n					}else{\n						$this.removeClass('disabled');\n						alert('There was a problem processing your request. If this issue persists, please contact support@splashthat.com');\n					}\n\n				},\n				error: function(){\n					$this.removeClass('disabled');\n					alert('There was a problem processing your request.  If this issue persists, please contact support@splashthat.com');\n				}\n			});\n		});\n	}\n	else if(paid === '1') {\n		$refund.attr('refundable',refundable).removeClass('hide');\n		// can't refund since this order was paid out already\n		if ( total == 0 ){\n			$refund.find('.refund-contain').hide();\n		}else {\n			$refund.find('.refund')\n				.addClass('disabled')\n				.html('Order has been paid');\n			$(\".refund-contain\").removeClass(\"hide\");\n		}\n	}\n	// can't refund any more.. or total was 0\n	else {\n		if ( total == 0 ){\n			$refund.find('.refund').hide();\n		}else {\n			$refund.find('.refund')\n				.addClass('disabled')\n				.html('Completely Refunded');\n		}\n	}\n\n	$display.find(\"a.resend-ticket\").click(function(){\n		var $this = $(this);\n		var order_number = $display.find(\".order_number\").text();\n		if(order_number!=''){\n			if($this.hasClass('in-progress')){ return false; }\n			$this.addClass('in-progress').text('Sending...');\n			$.ajax({\n				url: '/events/resendTicket/'+constants.event_id,\n				type:'post',\n				dataType: 'json',\n				data: { order_number: order_number },\n				success:function(response){\n				if(typeof response.error!=='undefined'){\n						alert(response.error);\n						$this.removeClass('in-progress').text('Resend Ticket');\n					} else{\n						$this.text('Ticket Sent.');\n					}\n				},\n				error:function(){\n					alert('There was an error resending the ticket.  Please try again.');\n					$this.removeClass('in-progress').text('Resend Ticket');\n				}\n		 	});\n\n		}\n\n\n	})\n\n\n}\n\nfunction attendeePopulateAttendeeForm($form,id,fields){\n	var straightFields = ['first_name','last_name','email','company','guest_name','message'];\n	for ( var i in straightFields ){\n		var f = straightFields[i];\n		var v = getAttendeeFieldData(id,f,false,true);\n		if ( v === false ) v = '';\n		$form.find('input.'+f+',textarea.'+f).val( ''+v );\n	}\n\n	var new_order = false;\n	var ticket_types = false;\n\n	var allow_guests = false;\n	var allow_guests_text = false;\n	var guest_limit = 1;\n	var guest_name_required = false;\n	var plus_one = false;\n	if ( typeof fields != 'undefined' && typeof fields.rsvp_fields != 'undefined' ){\n		for ( var z in fields.rsvp_fields ){\n			if ( fields.rsvp_fields[z] == 'allow_guests' ) allow_guests = true;\n			else if ( fields.rsvp_fields[z] == 'plus_one' ) plus_one = true;\n			else if ( (''+fields.rsvp_fields[z]).match(/attendee_count_/) ) guest_limit = parseInt((''+fields.rsvp_fields[z]).replace(/attendee_count_/,''));\n			else if ( (''+fields.rsvp_fields[z]).match(/guest_count_/) ) guest_limit = parseInt((''+fields.rsvp_fields[z]).replace(/guest_count_/,''))+1;\n			else if ( (''+fields.rsvp_fields[z]).match(/allow_guests_text_/) ) allow_guests_text = (''+fields.rsvp_fields[z]).replace(/allow_guests_text_/,'').replace(/\\^comma\\^/g,',');\n			else if ( fields.rsvp_fields[z] == 'guest_name_required' ) guest_name_required = true;\n			else if ( fields.rsvp_fields[z] == 'new_order' ) new_order = true;\n			else if ( fields.rsvp_fields[z] == 'ticket_types' ) ticket_types = true;\n		}\n	}\n	f = 'attending';\n	//var v = getAttendeeFieldData(id,f,false,true);\n	var v = getAttendeeFieldData(id,f,true);\n	if ( !v ) v = '1';\n	if(v=='No'){ v = '0'; }\n	$form.find('select.'+f).find('option[value='+v+']').prop('selected','selected');\n\n	f = 'waitlist';\n	var v = getAttendeeFieldData(id,f,true);\n	if(v=='1'){\n		$form.find(\".waitlist_field\").removeClass('on-guestlist').addClass(\"on-waitlist\").find(\"input.waitlisted\").val(1);\n		//setCheck($form.find(\"input.waitlisted\"),1);\n	} else {\n		$form.find(\".waitlist_field\").removeClass('on-waitlist').addClass(\"on-guestlist\").find(\"input.waitlisted\").val(0);\n\n	}\n\n	if ( new_order ){ // --------------- For new orders - when selling tickets -------------- {{{\n		// remove the crap that doesn't apply\n		$form.find('.attending_field,.allow_guests_field').remove();\n		$form.find('form:first').addClass('validate new_order').append('<input type=\"hidden\" name=\"data[createNewOrder]\" value=\"1\" />');\n		// add in the ticket type chooser table!\n		var $typeHolder = $form.find('.ticket_type_wrap');\n		var $types = $typeHolder.find('table:first tbody:first');\n		var indexes = ['active','inactive'];\n		for ( i in indexes ) { // active, inactive\n			for ( id in ticketTypes[indexes[i]] ){\n				var t = '<tr><td><input class=\"ttq nu-input\" type=\"text\" name=\"data[EventSetting][ticket_type_quantities]['+id+']\" value=\"0\" /></td><td>'+ticketTypes[indexes[i]][id].TicketType.name+'</td></tr>';\n				$types.append(t);\n			}\n		}\n		$typeHolder.removeClass('hide');\n\n\n	}\n\n	else { // -------------- normal action ------------ {{{\n		// f = 'attending';\n		// //var v = getAttendeeFieldData(id,f,false,true);\n		// var v = getAttendeeFieldData(id,f,true);\n		// if ( !v ) v = '1';\n		// if(v=='No'){ v = '0'; }\n		// $form.find('select.'+f).find('option[value='+v+']').prop('selected','selected');\n\n		var pid = getAttendeeFieldData(id,'parent_event_rsvp_id',false,true);\n		if ( pid == \"0\" || pid == 0 ) pid = false;\n\n		if ( allow_guests && !pid ){\n			if ( allow_guests_text !== false ){\n				$form.find('.allow_guests_field .desc').text(allow_guests_text);\n			}\n			$form.find('.simple_plus_one_label').remove();\n			f = 'plus_one';\n			var $guestSelect = $form.find('select.'+f);\n			for ( var x=1; x<=(guest_limit); x++){\n				$guestSelect.append('<option value=\"'+x+'\">'+x+'</option>');\n			}\n			var v = parseInt(getAttendeeFieldData(id,f,false,true));\n			if ( !v ) v = 0;\n			$guestSelect.find('option[value='+(v+1)+']').prop('selected','selected');\n			$guestSelect.change(function(){\n				var val = $guestSelect.val();\n				var index = 0;\n				$guestSelect.siblings('input.guest_name').each(function(){\n					var $this = $(this);\n					if ( index >= (val-1) ) $this.addClass('hide');\n					else $this.removeClass('hide');\n					index++;\n				});\n			});\n\n			var $blankGuest = $form.find('.guest_names_field input.guest_name').detach();\n			var filledGuests = 0;\n			if ( typeof guestsByParentId[id] != 'undefined' ){\n				var guest_names = [];\n				for ( var i in guestsByParentId[id] ){\n					var guest = guestsByParentId[id][i];\n					var s = ( typeof guest['first_name'] != 'undefined' ) ? guest['first_name']+' ' : '';\n					s += ( typeof guest['last_name'] != 'undefined' ) ? guest['last_name'] : '';\n					var $input = $blankGuest.clone();\n					if ( $input.length == 1 ){\n						$input.attr('name',$input.attr('name').replace('[]','['+guest.id+']')).val(s);\n					}\n					filledGuests++;\n					$form.find('.guest_names_field').append($input);\n				}\n			}\n			for ( var z=filledGuests; z<guest_limit; z++ ){\n				var $input = $blankGuest.clone();\n				$input.attr('name',$input.attr('name').replace('[]','[new_'+z+']'));\n				if ( z >= v-1 ) $input.addClass('hide');\n				$form.find('.guest_names_field').append($input);\n			}\n		}\n		else if ( plus_one && !pid ){\n			$form.find('select.plus_one').remove();\n			var f = 'plus_one';\n			var v = parseInt(getAttendeeFieldData(id,f,false,true));\n			$form.find('.allow_guests_field .desc').text('Bringing a guest?');\n			var $checkLabel = $form.find('.simple_plus_one_label');\n			var $check = $checkLabel.find('input');\n			if ( v ){\n				$check.attr('checked','checked');\n			}else v=0;\n			$check.change(function(){\n				var val = 2;\n				if ( !$(this).is(':checked') ) val = 1;\n				var index = 0;\n				$checkLabel.siblings('input.guest_name').each(function(){\n					var $this = $(this);\n					if ( index >= (val-1) ) $this.addClass('hide');\n					else $this.removeClass('hide');\n					index++;\n				});\n			});\n			var $blankGuest = $form.find('.guest_names_field input.guest_name').detach();\n			guest_limit = 1;\n			var filledGuests = 0;\n			if ( typeof guestsByParentId[id] != 'undefined' ){\n				var guest_names = [];\n				for ( var i in guestsByParentId[id] ){\n					var guest = guestsByParentId[id][i];\n					var s = ( typeof guest['first_name'] != 'undefined' ) ? guest['first_name']+' ' : '';\n					s += ( typeof guest['last_name'] != 'undefined' ) ? guest['last_name'] : '';\n					var $input = $blankGuest.clone();\n					if ( $input.length == 1 ){\n						$input.attr('name',$input.attr('name').replace('[]','['+guest.id+']')).val(s);\n					}\n					filledGuests++;\n					$form.find('.guest_names_field').append($input);\n				}\n			}\n			for ( var z=filledGuests; z<guest_limit; z++ ){\n				var $input = $blankGuest.clone();\n				if ( z >= v-1 ) $input.addClass('hide');\n				$form.find('.guest_names_field').append($input);\n			}\n		}\n		else {\n			$form.find('.allow_guests_field').remove();\n		}\n		if ( pid ){\n			$form.find('.attending_field').remove();\n		}\n\n		// custom fields {{{\n		if ( typeof fields != 'undefined' && typeof fields.custom_rsvp_fields != 'undefined' ){\n			for ( var i in fields.custom_rsvp_fields ){\n				var field = fields.custom_rsvp_fields[i];\n				f = 'custom_field_'+field.number;\n				var v = getAttendeeFieldData(id,f,false,true);\n				if ( v === false ) v = '';\n				if(field['type']=='date'){\n					field['type'] = 'text';//on backend birthday can be edited via text input.\n				}\n				var $field = $form.find('.custom_field_blanks .'+field.type+'_field').clone();\n				$field.find('.name').append(field.name);\n				var name = $field.find('[name]:first').attr('name');\n				if (name) $field.find('[name]').attr('name',name.replace('NUMBER',field.number));\n\n				if ( field.type == 'checkbox' ){\n					if ( v == \"1\" ) $field.find('input[type=checkbox]').prop('checked','checked');\n				}\n				else if ( field.type == 'check_multi' ){\n					var $value = $field.find('label').detach();\n					v = (v) ? v.split('||') : [];\n					if ( typeof field.values != 'undefined' ){\n						for ( var j in field.values ){\n							var $valueLabel = $value.clone();\n							$valueLabel.find('input').val(field.values[j]);\n							$valueLabel.append(field.values[j]);\n							if ( $.inArray(field.values[j],v) != -1 ){\n								$valueLabel.find('input').attr('checked','checked');\n							}\n							$field.append($valueLabel);\n						}\n					}\n				}\n				else if ( field.type == 'select' ){\n					var $value = $('<option></option>');\n					if ( typeof field.values != 'undefined' ){\n						for ( var j in field.values ){\n							var $valueLabel = $value.clone();\n							$valueLabel.val(field.values[j]);\n							$valueLabel.append(field.values[j]);\n							if ( field.values[j] == v ){\n								$valueLabel.attr('selected','selected');\n							}\n							$field.find('select').append($valueLabel);\n						}\n					}\n				}\n				else if ( field.type == 'radio' ){\n					var $value = $field.find('label').detach();\n					if ( typeof field.values != 'undefined' ){\n						for ( var j in field.values ){\n							var $valueLabel = $value.clone();\n							$valueLabel.find('input').val(field.values[j]);\n							$valueLabel.append(field.values[j]);\n							if ( field.values[j] == v ){\n								$valueLabel.find('input').attr('checked','checked');\n							}\n							$field.append($valueLabel);\n						}\n					}\n				}\n				else if ( field.type == 'file' ){\n					v = '<a href=\"'+v+'\" target=\"blank\">'+(v.split('/').pop()).replace(/^rsvp\\.[a-z0-9]{3}\\./i,'')+'</a>';\n					$field.append(v);\n				}\n				else if ( field.type == 'textarea' ){ // textarea {{{\n					$field.find('textarea:first').val(v);\n				}\n				else { // text {{{\n					$field.find('input[type=text]').val(v).placeholder(field.name);\n				}\n\n				$form.find('.custom_fields').append($field);\n			}\n		}\n	}\n	$form.find('.custom_field_blanks').remove();\n\n	// hiding fields that don't apply\n	var hideFields = ['company','attending'];\n	if ( typeof fields != 'undefined' && typeof fields.rsvp_fields != 'undefined' ){\n		for ( var i in hideFields ){\n			if ( $.inArray(hideFields[i],fields.rsvp_fields) == -1 ){\n				$form.find('.'+hideFields[i]+'_field').hide();\n			}\n		}\n	}\n	$form.find('.actions .delete').unbind('click').click(function(){\n		var answer = confirm('Are you sure you want to delete this attendee?');\n		if(answer){\n			var $form = $(this).parents('form:first');\n			$form.append('<input type=\"hidden\" name=\"data[EventSetting][deleted]\" value=\"1\" />');\n			$form.find('.actions .save').click();\n		}\n	});\n\n	$form.find('.actions .save').unbind('click').click(saveAttendeeForm);\n	$form.find('.actions .cancel').click(function(){ closeSimpleModal(); });\n\n	$form.find(\".waitlist-toggle\").unbind('click').click(function(){\n		var $p = $(this).parents(\".waitlist_field:first\");\n		if($p.hasClass('on-waitlist')){ //move to guest list.\n			$p.removeClass('on-waitlist').addClass('on-guestlist').find(\"input.waitlisted\").val(0);\n		} else {\n			$p.removeClass('on-guestlist').addClass('on-waitlist').find(\"input.waitlisted\").val(1);\n		}\n	});\n\n}\n\nfunction saveAttendeeForm() {\n	var $this = $(this);\n	if($this.hasClass('in-progress')){ return false; }\n	$this.text('Saving..').addClass('in-progress');\n\n	var $form = $this.parents('form:first');\n\n	var params = { event_id:constants.event_id, rsvp_id: $('#rsvp-adder').attr(\"rsvp-id\") };\n\n	params.order_id = getAttendeeFieldData(params.rsvp_id,'TicketOrder.id');\n\n	// validateeee\n	if ( $form.hasClass('validate') ){\n		var error = false;\n		var errors = [];\n		if ( $form.hasClass('new_order') ){\n			// need first last email and at least 1 ticket type!\n			$form.find('input.first_name,input.last_name,input.email').each(function(){\n				var $this = $(this);\n				if ( $this.val() == '' ){\n					$this.addClass('error-border');\n					error = true;\n				} else $this.removeClass('error-border');\n			});\n			if ( error ) errors.push('Please fill out required fields.');\n			var tix = 0;\n			$form.find('input.ttq').each(function(){\n				var $this = $(this);\n				var val = parseInt($(this).val());\n				if ( val ) tix += val;\n			});\n			if ( tix == 0 ){\n				$form.find('.ticket_type_wrap table').addClass('error-border');\n				error = true;\n				errors.push('Please fill in a ticket quantity.');\n			} else $form.find('.ticket_type_wrap table').removeClass('error-border');\n		}\n		if ( error ) {\n			$form.find('.errors').html(errors.join('<br>'));\n			$this.text('Save').removeClass('in-progress');\n			return false;\n		}else{\n			$form.find('.errors').html('');\n		}\n\n	}\n\n	$form.ajaxSubmit({\n		url: constants.finetune_formBase+\"/events/editRsvpRow/\"+constants.slug,\n		type: 'POST',\n		dataType: 'json',\n		data: params,\n		//clearForm:true,\n		success: function(response, statusText, xhr, $form){\n			$this.text('Saved.').removeClass('in-progress');\n			setTimeout(function(){\n				$this.text('Save');\n			},2000);\n			if ( typeof response.status != 'undefined' && response.status == 'success' ){\n				$(\"div.rsvps\").find(\".empty-rsvps\").remove();\n				// add or update our in-browser memory of the event rsvp rows\n				updateCurrentAttendeesFromResponse(response,params);\n				populateAttendeeTable();\n				setTimeout(function(){\n					closeSimpleModal();\n					$form.find(\"input[type='text'],textarea\").val('');\n				},500);\n\n				if ( typeof response.awaiting_reply_i != 'undefined' && attendeeAwaitingReply[response.awaiting_reply_i] != 'undefined' ){\n					attendeeAwaitingReply.splice(response.awaiting_reply_i,1);\n					$('#awaiting-reply-count').text(attendeeAwaitingReply.length);\n					if (attendeeAwaitingReply.length==0){\n						$('#awaitingBtn').hide();\n					}\n				}\n\n\n				triggerSectionReload('invite');\n			}else{\n				$this.text('Save').removeClass('in-progress');\n				alert('There was a problem saving your entry.  Please give it another try.');\n			}\n\n		},\n		error: function(){\n			$this.text('Save').removeClass('in-progress');\n			alert('There was a problem saving your entry.  Please give it another try.');\n			//$button.removeClass('in-progress has-changes').find(\"span\").text('Save');\n		}\n	});\n\n\n	//$form.find(\"select.adder-attending\").va\n	if(false && typeof add_another!=='undefined'){\n		setTimeout(function(){\n			$form.find(\"input[type='text']:first\").focus();\n			$(\"#addAnotherRsvpEntry\").prop(\"checked\",true)\n			//$add_another.prop(\"checked\",true);\n		},50);\n	}\n\n}\n\nfunction updateCurrentAttendeesFromResponse(response,params){\n	// check for TicketOrder\n	if ( typeof response.TicketOrder != 'undefined' ){\n		for ( var i in response.TicketOrder ){\n			TicketOrder[i] = response.TicketOrder[i];\n		}\n	}\n	// check for EventRsvp\n	if ( typeof response.EventRsvp != 'undefined' ){\n		for ( var i in response.EventRsvp ){\n			if ( typeof params != 'undefined' && typeof params.rsvp_id != 'undefined' && params.rsvp_id == 0 ){\n				EventRsvpIds.push(i);\n				currentEventRsvpIds.push(i);\n			}\n			if ( typeof EventRsvp[i] != 'undefined' ){\n				if ( typeof response.EventRsvp[i].deleted != 'undefined' && response.EventRsvp[i].deleted == 1 ){\n					delete EventRsvp[i];\n					var index = $.inArray(i,currentEventRsvpIds);\n					if ( index >= 0 ){\n						currentEventRsvpIds.splice(index,1);\n					}\n				}\n				else EventRsvp[i] = $.extend(EventRsvp[i],response.EventRsvp[i]);\n			}else EventRsvp[i] = response.EventRsvp[i];\n		}\n	}\n	// check for guestsByParentId\n	if ( typeof response.guestsByParentId != 'undefined' ){\n		for ( var i in response.guestsByParentId ){\n			for ( c in response.guestsByParentId[i] ){\n				if(typeof guestsByParentId[i] !== 'undefined' && typeof guestsByParentId[i][c] != 'undefined' ){\n					if ( typeof response.guestsByParentId[i][c].deleted != 'undefined' && response.guestsByParentId[i][c].deleted == 1 ){\n						delete guestsByParentId[i][c];\n						var index = $.inArray(i+','+c,currentEventRsvpIds);\n						if ( index >= 0 ){\n							currentEventRsvpIds.splice(index,1);\n						}\n					}\n					else guestsByParentId[i][c] = $.extend(guestsByParentId[i][c],response.guestsByParentId[i][c]);\n				} else if ( typeof guestsByParentId[i] == 'undefined' ){\n					guestsByParentId[i] = {};\n					guestsByParentId[i][c] = response.guestsByParentId[i][c];\n				} else{\n					guestsByParentId[i][c] = response.guestsByParentId[i][c];\n				}\n			}\n		}\n	}\n}\n\nfunction getAttendeeRsvpFields(tTid){\n	var fields = { rsvp_fields: [], custom_rsvp_fields: {}, custom_rsvp_field_numbers: false };\n\n	// default to the event's main rsvp fields\n	if ( typeof EventSetting != 'undefined' && typeof EventSetting.rsvp_fields != 'undefined' ){\n		fields.rsvp_fields = $.extend([],EventSetting.rsvp_fields);\n	}\n	if ( typeof EventSetting != 'undefined' && typeof EventSetting.custom_rsvp_fields != 'undefined' ){\n		fields.custom_rsvp_fields = $.extend({},EventSetting.custom_rsvp_fields);\n	}\n\n	// if there's a ticket type\n	if ( typeof tTid != 'undefined' ){\n	//if ( typeof EventRsvp[id] != 'undefined' && typeof EventRsvp[id].ticket_type_id != 'undefined' ){\n		//var tTid = EventRsvp[id].ticket_type_id;\n		var tT = false;\n		if(typeof ticketTypes!=='undefined'){\n			if ( typeof ticketTypes['active'][tTid] != 'undefined' ) tT = ticketTypes['active'][tTid].TicketType;\n			else if ( typeof ticketTypes['inactive'][tTid] != 'undefined' ) tT = ticketTypes['inactive'][tTid].TicketType;\n		}\n\n		if ( tT !== false ){\n			fields.rsvp_fields = tT.rsvp_fields;\n			if ( typeof tT.custom_rsvp_fields.fields != 'undefined' && tT.custom_rsvp_fields.fields != {} ){\n				fields.custom_rsvp_fields = tT.custom_rsvp_fields.fields;\n			}\n			if ( typeof tT.custom_rsvp_fields.numbers != 'undefined' ){\n				fields.custom_rsvp_field_numbers = tT.custom_rsvp_fields.numbers;\n			}\n		}\n	}\n\n	if ( fields.custom_rsvp_field_numbers !== false && fields.custom_rsvp_field_numbers.length > 0 ) {\n		var custom_fields = [];\n		for ( i in fields.custom_rsvp_field_numbers ){\n			var number = fields.custom_rsvp_field_numbers[i];\n			if ( number != '' && typeof fields.custom_rsvp_fields[number] != 'undefined' ){\n				custom_fields.push(fields.custom_rsvp_fields[number]);\n			}\n		}\n		fields.custom_rsvp_fields = custom_fields;\n	}\n\n	return fields;\n}\n\n// End Attendee Details View }}}\n////////////////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////////////////\n// Filtering and Searching functionality {{{\n\n////////////////////////////////////////////////////////////////\n// Filter Definitions {{{\nvar attendeeFilters = {\n	fake: { conditions: [ { field: 'id', match: '[0-9]+' } ] }\n}\n	/* Possible filter attributes\n	var filter = {\n		displayName: '',\n		filteringByString: 'Discount Code = code',\n		conditions: [\n			{\n				[field: 'fieldname',] | [fields: [], type:'AND'|'OR',]\n				match: 'regexpattern'\n			},..\n		]\n	};/**/\n// End Filter Definitions }}}\n////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////\n// Filter Setup {{{\n\nfunction processAttendeeFilterColumns(){\n	checkAllFilterCheckbox();\n\n	// need to read the filter columns and update the table accordingly\n	var newColumns = [];\n	newColumns.push('attendee_checkbox');\n	$('#attendeeFilters').find('.displayColumns label:not(.hide) input:checked').each(function(){\n		newColumns.push($(this).parents('label:first').attr('value'));\n	});\n	currentColumns = newColumns;\n	populateAttendeeTable();\n	saveAttendeeFilters();\n\n	//console.log('new filters');\n}\n\nfunction processAttendeeFilterLimits(){\n	// need to read the filter limits and update the table accordingly\n	var filterTypes = [];\n	var $filters = $('#attendeeFilters');\n	$filters.find('.attendeeLimits .limitWrap.open').removeClass('open');\n	$filters.find('.attendeeLimits .limitWrap:not(.hide) > label input:checked').each(function(){\n		var $this = $(this);\n		var $limit = $this.parents('.limitWrap:first');\n		$limit.addClass('open');\n		var $label = $limit.find('> label');\n		var field = $label.attr('field');\n		var matchSelector = $label.attr('options').split(';');\n		var match = false;\n		var conditions = false;\n		if ( matchSelector.length == 1 ){\n			match = $limit.find('.limitOptions').find(matchSelector[0]).val();\n			if ( match == 0 ) match = '';\n			if(	match == 'not_empty'){\n				match = '..*';//not NULL and not == ''.  Any datetime will match here.;\n			} else{\n				match = '^('+match+')$';\n			}\n		} else if ( matchSelector.length == 2 && matchSelector[1] == 'multi' ){\n			match = [];\n			$limit.find('.limitOptions').find(matchSelector[0]).each(function(){\n				match.push($(this).val());\n			});\n			match = '('+match.join('|')+')';\n		} else if ( matchSelector.length == 2 && matchSelector[1] == 'multifield' ){\n			conditions = [];\n			$limit.find('.limitOptions').find(matchSelector[0]).each(function(){\n				conditions.push([$(this).parent().attr(\"field\"),$(this).val()]);\n			});\n			//console.log(conditions);\n			//conditions = '('+conditions.join('|')+')';\n		}\n\n		if ( field && match !== false ){\n			var filter = {\n				conditions: [\n					{\n						field: field,\n						match: match\n					}\n				]\n			};\n			attendeeFilters[field] = filter;\n			filterTypes.push(field);\n		} else if(field && conditions!==false){\n			var filter = { conditions: [] };\n			for(var x in conditions){\n				filter.conditions.push({\n					field:conditions[x][0],\n					match: '(1)'\n				});\n			}\n			attendeeFilters.tag = filter;\n			filterTypes.push('tag');\n		}\n	});\n\n	// update the attendee grouping setting too! - if it applies\n	var ticket_type_sort = false;\n	var $groupSetting = $filters.find('.attendeeGrouping input:checked');\n	if ( $groupSetting.length == 1 ){\n		attendeeGrouping = $filters.find('.attendeeGrouping input:checked').val();\n\n		// Show the ticket type as a filter option if the group is clicked\n		if(attendeeGrouping === 'normal' && $('#ticket-type-radio').length > 0) {\n			ticket_type_sort = true;\n			var $ticket_type_checkbox = $('.displayColumns').find('label[value=\"TicketType.name\"] input');\n			if(!$ticket_type_checkbox.is(':checked')) {\n				$ticket_type_checkbox.click();\n			}\n		}\n	}\n\n	setTimeout(function(){ // fork\n		resetAttendeeIds();\n		for ( var i in filterTypes ){\n			runAttendeeFilterOnCurrent(filterTypes[i]);\n		}\n		if ( filterTypes.length == 0 ){\n			runAttendeeFilterOnCurrent('fake');\n		}\n		if(!ticket_type_sort) {\n			populateAttendeeTable();\n		} else {\n			runSortOnCurrentAttendees('TicketType.name', 'asc');\n			populateAttendeeTable('TicketType.name', 'asc');\n		}\n	},1);\n	saveAttendeeFilters();\n}\n\nfunction updateAttendeeFilters(){\n	setTimeout(function(){ // fork\n	var $filters = $('#attendeeFilters');\n\n	/////////////////////////\n	// ticket types {{{\n	var aTicketHasCompany = false; // this is to decide (in method == tickets) to show/hide the company stuff\n	var aTicketHasGuestNames = false; // ditto for guest names\n	var $types = $filters.find('.ticketTypeOptions');\n	$types.html('');\n	var indexes = ['active','inactive'];\n	if(typeof ticketTypes!=='undefined'){\n		for ( i in indexes ) { // active, inactive\n			if(typeof ticketTypes[indexes[i]] !== 'undefined'){\n				for ( id in ticketTypes[indexes[i]] ){\n					var option = '<label><input type=\"checkbox\" value=\"'+id+'\" /> <span>'+ticketTypes[indexes[i]][id].TicketType.name+'</span></label>';\n					$types.append(option);\n					if ( $.inArray('company',ticketTypes[indexes[i]][id].TicketType.rsvp_fields) > 0 ){\n						aTicketHasCompany = true;\n					}\n					if ( ticketTypes[indexes[i]][id].TicketType.collect_rsvp_fields == \"1\" && $.inArray('name',ticketTypes[indexes[i]][id].TicketType.rsvp_fields) > -1 ){\n						aTicketHasGuestNames = true;\n					}\n				}\n			}\n		}\n	}\n	// end ticket types }}}\n	/////////////////////////\n\n	/////////////////////////\n	// discount codes {{{\n	var $discountCodes = $filters.find('.discountCodeOptions');\n	var thereAreDiscountCodes = false;\n	$discountCodes.html('');\n\n	if(typeof ticketOrderDiscounts!=='undefined'){\n		for ( i in ticketOrderDiscounts ) { // active, inactive\n			for ( id in ticketOrderDiscounts[i] ){\n				if ( i == 'active' ) thereAreDiscountCodes = true;\n				//console.log(\"Wtf \",ticketOrderDiscounts[i]);\n				var option = '<label><input type=\"checkbox\" value=\"'+ticketOrderDiscounts[i][id]['TicketOrderDiscount']['code']+'\" /> <span>'+ticketOrderDiscounts[i][id]['TicketOrderDiscount']['code'];\n				if ( ticketOrderDiscounts[i][id]['TicketOrderDiscount'].flat_discount_amount ){\n					option += ' ($'+(parseInt(ticketOrderDiscounts[i][id]['TicketOrderDiscount'].flat_discount_amount/100).toFixed(2))+' off)';\n				}else if ( ticketOrderDiscounts[i][id]['TicketOrderDiscount'].percent_discount ){\n					option += ' ('+((ticketOrderDiscounts[i][id]['TicketOrderDiscount'].percentDiscount*100).toFixed(1))+'% off)';\n				}\n				option += '</span></label>';\n				$discountCodes.append(option);\n			}\n		}\n	}\n	// end discount codes }}}\n	/////////////////////////\n\n	/////Tracking Links {{{\n	var $trackingLinks = $filters.find('.trackingLinks');\n	var thereAreTrackingLinks = false;\n	$trackingLinks.html('');\n	if(typeof trackingLinks!=='undefined'){\n		for ( i in trackingLinks ) { // active, inactive\n			for ( id in trackingLinks[i] ){\n				if ( i == 'active' ){ //only append tracking links that are active.\n					thereAreTrackingLinks = true;\n					var option = '<label><input type=\"checkbox\" value=\"'+trackingLinks[i][id].id+'\" /> <span>'+trackingLinks[i][id].code;\n					option += '</span></label>';\n					$trackingLinks.append(option);\n				}\n			}\n		}\n	}\n	////END Tracking Links }}}\n\n\n	////////////////////////////\n	// custom questions {{{\n	// need to put in the questions/answers for event and each ticket type\n	// collect all of the questions...\n	var questions = [];\n	// event\n	if ( typeof EventSetting.custom_rsvp_fields != 'undefined' ){\n		for ( i in EventSetting.custom_rsvp_fields ){\n			if (typeof EventSetting != 'undefined' && EventSetting.rsvp_method != 'undefined' && EventSetting.rsvp_method == 'tickets') {\n				EventSetting.custom_rsvp_fields[i].ticket_type_id = \".*\";\n			} else {\n				EventSetting.custom_rsvp_fields[i].ticket_type_id = \"0\";\n			}\n			questions.push(EventSetting.custom_rsvp_fields[i]);\n		}\n	}\n	// tickets\n	var indexes = ['active','inactive'];\n	if(typeof ticketTypes!=='undefined'){\n		for ( i in indexes ){ // active, inactive\n			for ( ii in ticketTypes[indexes[i]] ){ // ticket type ids\n				for ( iii in ticketTypes[indexes[i]][ii].TicketType.custom_rsvp_fields.fields ){\n					ticketTypes[indexes[i]][ii].TicketType.custom_rsvp_fields.fields[iii].ticket_type_id = ii;\n					questions.push(ticketTypes[indexes[i]][ii].TicketType.custom_rsvp_fields.fields[iii]);\n				}\n			}\n		}\n	}\n	// consolidate the questions based on number and name\n	var consolidatedQuestions = {};\n	for ( var i in questions ){\n		if ( typeof consolidatedQuestions[questions[i].number] == 'undefined' ){\n			consolidatedQuestions[questions[i].number] = questions[i];\n		} else {\n			// uh oh.. does the name match?\n			if ( questions[i].name == consolidatedQuestions[questions[i].number].name ){\n				// same question!\n				consolidatedQuestions[questions[i].number].ticket_type_id += ','+questions[i].ticket_type_id;\n			} else {\n				var x = 0;\n				var matchFound = false;\n				while (matchFound == false && typeof consolidatedQuestions[questions[i].number+'-'+x] != 'undefined') {\n					if (questions[i].name == consolidatedQuestions[questions[i].number+'-'+x].name) {\n						matchFound = true;\n					} else {\n						x++;\n					}\n				}\n				if (matchFound) {\n					// same question!\n					consolidatedQuestions[questions[i].number+'-'+x].ticket_type_id += ','+questions[i].ticket_type_id;\n				} else {\n					consolidatedQuestions[questions[i].number+'-'+x] = questions[i];\n				}\n			}\n		}\n	}\n	// put together the filters\n	var questionFilters = [];\n	for ( var i in consolidatedQuestions ){\n		var q = consolidatedQuestions[i];\n		if(q.type=='label'){ continue; }\n		if(q.type=='file' && typeof hasUploadedFiles!=='undefined' && !hasUploadedFiles){\n			hasUploadedFiles = true;\n		}\n\n		displayFields = $.extend([],defaultColumns); // this is to clone it\n		displayFields.unshift('custom_field_'+q.number);\n		attendeeColumnNames['custom_field_'+q.number+';'+q.ticket_type_id] = q.name;\n		attendeeColumnTypes['custom_field_'+q.number+';'+q.ticket_type_id] = q.type;\n		var filter = {\n			displayName: q.name,\n			displayFields: displayFields,\n			column: 'custom_field_'+q.number+';'+q.ticket_type_id,\n			conditions: [\n				{\n					field: 'TicketType.id',\n					match: '('+q.ticket_type_id.split(/,/).join('|')+')'\n				}\n			]\n		};\n		questionFilters.push(filter);\n	}\n	// put the questions in the thing\n	var num = 0;\n	var $questions = $filters.find('.displayColumns');\n	$questions.find('label.custom').remove();\n	for ( var i in questionFilters ){\n		num++;\n		var type = 'custom-question-'+num;\n		attendeeFilters[type] = questionFilters[i];\n		if(questionFilters[i].displayName.length > 30){\n			var question = '<label class=\"custom tip-trig\" tip=\"'+questionFilters[i].displayName+'\" value=\"'+questionFilters[i].column+'\" type=\"'+type+'\">'+\n				'<input type=\"checkbox\" checked=\"checked\" /><span class=\"truncated-q\">'+questionFilters[i].displayName.substr(0,30)+\n				//' <span class=\"full\"><span class=\"the-rest\">'+questionFilters[i].displayName+'</span></span>'+\n				'</span> <span class=\"drag-ns-handle\"></span></label>';\n		} else {\n			var question = '<label class=\"custom\" value=\"'+questionFilters[i].column+'\" type=\"'+type+'\">'+\n				'<input type=\"checkbox\" checked=\"checked\" /><span>'+questionFilters[i].displayName+'</span>'+\n				'<span class=\"drag-ns-handle\"></span></label>';\n		}\n\n		// add the values\n		$questions.append(question);\n	}\n\n	// end custom questions }}}\n	///////////////////////////\n\n	$filters.find('.hide').removeClass('hide');\n	/////////////////////////\n	// method == rsvp {{{\n	if ( typeof EventSetting != 'undefined' && EventSetting.rsvp_method == 'collect' ){\n		// if ( $.inArray('company',EventSetting.rsvp_fields) < 0 ){\n		// 	$filters.find('.displayColumns').find('label[value=company]:not(.legacy)').addClass('hide');\n		// }\n		// if ( $.inArray('message',EventSetting.rsvp_fields) < 0 ){\n		// 	$filters.find('.displayColumns').find('label[value=message]:not(.legacy)').addClass('hide');\n		// }\n\n		if ( $.inArray('attending',EventSetting.rsvp_fields) < 0 ){\n			$filters.find('.displayColumns').find('label[value=attending]').addClass('hide');\n			$filters.find('.limits').find('label[field=attending]').parents('.limitWrap:first').addClass('hide');\n		}\n\n		//no guests allowed.  hide grouping options.  NEW. Added check on guestsByParentId.  This will make it so\n		//if any guests were ever added, the option will be preserved.\n		if ( guestsByParentId.length < 1 && $.inArray('allow_guests',EventSetting.rsvp_fields) < 0 && $.inArray('plus_one',EventSetting.rsvp_fields) < 0 ){\n			$filters.find('.displayColumns').find('label[value=plus_one],label[value=\"EventRsvp.guest_names\"],label[value=guest_name],label[value=attending_count]').addClass('hide');\n			$filters.find('.limits').find('label[field=plus_one]').parents('.limitWrap:first').addClass('hide');\n			$filters.find('.grouping').hide();\n\n		//}else if ( $.inArray('guest_name_required',EventSetting.rsvp_fields) < 0 ){\n			////$filters.find('.displayColumns').find('label[value=\"EventRsvp.guest_names\"]').addClass('hide');\n			//$filters.find('.grouping').hide();\n		}\n		/*else {\n			var $order = $filters.find('.grouping').find('.attendeeGrouping').find('input[value=\"order\"]');\n			$order.parent().addClass('hide');\n\n			$filters.find('.grouping .attendeeGrouping input[value=\"normal\"]').siblings('span').html('Response');\n			$filters.find('.grouping .attendeeGrouping input[value=\"every\"]').siblings('span').html('Every Name');\n\n		}*/\n\n		// hide the ticket only stuff\n		$filters.find('.displayColumns').find('label[value=\"TicketType.name\"],label[value=\"TicketOrder.order_number\"],label[value=\"ticket_number\"],label[value=\"TicketOrderDiscount.code\"],label[value=\"TicketOrder.total\"],label[value=\"TicketSale.price\"],label[value=\"TicketOrder.amount_refunded\"],label[value=\"TicketOrder.discount\"]').addClass('hide');\n\n		$filters.find('.limits').find('label[field=ticket_type_id]').parents('.limitWrap:first').addClass('hide');\n		$filters.find('.limits').find('label[field=\"TicketOrderDiscount.code\"]').parents('.limitWrap:first').addClass('hide');\n		$filters.find('.limits').find('label[field=\"deleted\"]').parents('.limitWrap:first').addClass('hide');\n\n	}\n	// end method == rsvp }}}\n	/////////////////////////\n\n	/////////////////////////\n	// method == tickets {{{\n	if ( typeof EventSetting != 'undefined' && EventSetting.rsvp_method == 'tickets' ){\n		// hide the rsvp only stuff\n		$filters.find('.displayColumns').find('label[value=attending],label[value=guest_name],label[value=plus_one]').addClass('hide');\n		$filters.find('.limits').find('label[field=attending]').parents('.limitWrap:first').addClass('hide');\n		// change the display name of # attending\n		attendeeColumnNames.attending_count = '# Tickets';\n		$filters.find('.displayColumns').find('label[value=attending_count] span:first').text(attendeeColumnNames.attending_count);\n		if ( !aTicketHasCompany ){\n			$filters.find('.displayColumns').find('label[value=company]').addClass('hide');\n		}\n		if ( !aTicketHasGuestNames ){\n			$filters.find('.displayColumns').find('label[value=\"EventRsvp.guest_names\"]').addClass('hide');\n		}\n		if ( ticketTypes.count < 2 ){\n			$filters.find('.limits').find('label[field=ticket_type_id]').parents('.limitWrap:first').addClass('hide');\n			//$filters.find('.grouping .attendeeGrouping input[value=order]').parent().addClass('hide');\n		}\n		if ( !thereAreDiscountCodes ){\n			$filters.find('.displayColumns').find('label[value=\"TicketOrderDiscount.code\"],label[value=\"TicketOrder.discount\"]').addClass('hide');\n			$filters.find('.limits').find('label[field=\"TicketOrderDiscount.code\"]').parents('.limitWrap:first').addClass('hide');\n		}\n	}\n	// end method == tickets }}}\n	/////////////////////////\n\n	if ( $filters.find('.limits .attendeeLimits .limitWrap:not(.hide)').length == 0 ) $filters.find('.limits').addClass('hide');\n	processAttendeeFilterColumns();\n	processAttendeeFilterLimits();\n\n	},1);\n}\n\nfunction restoreDefaultAttendeeFilters(){\n	var $filters = $('#attendeeFilters');\n\n	$filters.find('.displayColumns input').removeAttr('checked');\n	var s = 'label[value=attending_count]';\n	s += ',label[value=\"TicketType.name\"]';\n	s += ',label[value=first_name]';\n	s += ',label[value=last_name]';\n	s += ',label[value=email]';\n	s += ',label[value=created]';\n	$filters.find('.displayColumns').find(s).find('input').attr('checked','checked');\n	$filters.find('.limits input[type=checkbox]').removeAttr('checked');\n	$filters.find('.limits input[type=text]').val('1');\n	$filters.find('.grouping input[value=normal]').click();\n\n	processAttendeeFilterColumns();\n	processAttendeeFilterLimits();\n}\n\nRegExp.escape = function(text) { return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"); }\nRegExp.escQ = function(text) { return text.replace(/[\"]/g, \"'\"); }\n// End Filter Setup }}}\n////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////\n// Filter Helper Functions {{{\n// this will start with all EventRsvpIds and limit it by the filter defined by type\nfunction runAttendeeFilterOnCurrent(type){\n	var myFilter = ( typeof attendeeFilters[type] != 'undefined' ) ? attendeeFilters[type] : {};\n	var newCurrent = [];\n	var ticket_order_ids = {};\n	if ( typeof myFilter.conditions != 'undefined' && myFilter.conditions.length > 0 ){\n		for ( var i in myFilter.conditions ){\n			for ( var idi in currentEventRsvpIds ){\n				if ( attendeeGrouping == 'every' ){\n					if ( typeof guestsByParentId[currentEventRsvpIds[idi]] != 'undefined' ){\n						for ( var gi in guestsByParentId[currentEventRsvpIds[idi]] ){\n							if ( runConditionOnId(currentEventRsvpIds[idi]+','+gi,myFilter.conditions[i]) ){\n								newCurrent.push(currentEventRsvpIds[idi]+','+gi);\n							}\n						}\n					}\n				}\n				if ( runConditionOnId(currentEventRsvpIds[idi],myFilter.conditions[i]) ){\n					if ( attendeeGrouping == 'order' ){\n						var toid = getAttendeeFieldData(currentEventRsvpIds[idi],'ticket_order_id');\n						if ( toid !== false && typeof ticket_order_ids[toid] == 'undefined' ){\n							ticket_order_ids[toid] = 1;\n							newCurrent.push(currentEventRsvpIds[idi]);\n						}\n					} else {\n						// this means normal\n\n						newCurrent.push(currentEventRsvpIds[idi]);\n					}\n				}\n			}\n		}\n		currentEventRsvpIds = newCurrent;\n	}\n}\n\nfunction getAttendeeColumnsForType(type){\n	var myFilter = ( typeof attendeeFilters[type] != 'undefined' ) ? attendeeFilters[type] : {};\n	if ( typeof myFilter.displayFields != 'undefined' && myFilter.displayFields.length > 0 ){\n		return $.extend([],myFilter.displayFields); // clone the filter's fields\n	} else {\n		return $.extend([],defaultColumns); // clone the defaults\n	}\n}\n\nfunction runConditionOnId(id,conditions){\n	if ( typeof conditions.field != 'undefined' ){\n		var data = getAttendeeFieldData(id,conditions.field);\n		if ( data === false ) data = '';\n		data = ''+data;\n		if ( typeof conditions.match != 'undefined' ){\n			return ( data.match(RegExp(conditions.match,'gi')) !== null );\n		}\n		else {\n			return ( data != '' );\n		}\n	}\n	if ( typeof conditions.fields != 'undefined' && conditions.fields.length > 0 ){\n		var type = ( typeof conditions.type != 'undefined' ) ? conditions.type : 'AND';\n		var matches = 0;\n		for ( var i in conditions.fields ){\n			var field = conditions.fields[i];\n			var data = ''+getAttendeeFieldData(id,field);\n			if ( typeof conditions.match != 'undefined' ){\n				if ( data.match(RegExp(conditions.match,'gi')) !== null ){\n					matches++;\n					if ( type == 'OR' ) return true;\n				}\n			}\n			else {\n				if ( data != '' ){\n					matches++;\n					if ( type == 'OR' ) return true;\n				}\n			}\n		}\n		return ( matches >= conditions.fields.length );\n	}\n	return true;\n}\n\nfunction resetAttendeeIds(){\n	currentEventRsvpIds = $.extend([],EventRsvpIds); // this is to clone it\n}\n\n// gets the filters and limits that are currently set by the user\nfunction getFilterSettings() {\n	var $filters = $('#attendeeFilters');\n	var columns = [];\n	$filters.find('.displayColumns label:not(.hide) input:checked').each(function(){\n		columns.push($(this).parents('label:first').attr('value'));\n	});\n\n	// check for if there are no columns, if so append defaults\n	if(columns.length === 0) {\n		columns = ['first_name', 'last_name', 'email', 'attending_count', 'created'];\n	}\n\n	var limits = [];\n	$filters.find('.attendeeLimits .limitWrap:not(.hide) > label input:checked').each(function(){\n		var $limit = $(this).parents('.limitWrap:first');\n		$limit.addClass('open');\n		var $label = $limit.find('> label');\n		var field = $label.attr('field');\n		limits.push(field);\n	});\n	return {c:columns,l:limits};\n}\n\n// saves the filters and limits to the user's event settings\nvar filterSaver;\nfunction saveAttendeeFilters() {\n	clearTimeout(filterSaver);\n	filterSaver = setTimeout(function(){\n		var settings = getFilterSettings();\n		$.ajax({ url:'/events/saveAttendeeFilters/'+constants.event_id, type:'post', data: { settings: settings }, complete:function(response){} });\n	},1500);\n}\n\nfunction loadSavedAttendeeFilters(user_id) {\n	var settingsToLoad = false;\n	if (typeof EventSetting != 'undefined'\n		&& typeof EventSetting.attendee_filters != 'undefined'\n		&& EventSetting.attendee_filters != null\n		&& typeof EventSetting.attendee_filters[user_id] != 'undefined'\n	) {\n		settingsToLoad = $.extend({},EventSetting.attendee_filters[user_id]);\n	} else if (typeof EventSetting != 'undefined'\n		&& typeof EventSetting.attendee_filters != 'undefined'\n		&& EventSetting.attendee_filters != null\n		&& typeof EventSetting.attendee_filters.first != 'undefined'\n		&& typeof EventSetting.attendee_filters[EventSetting.attendee_filters.first] != 'undefined'\n	) {\n		settingsToLoad = $.extend({},EventSetting.attendee_filters[EventSetting.attendee_filters.first]);\n	}\n\n	var $filters = $('#attendeeFilters');\n	var $displayColumns = $filters.find('.displayColumns');\n	if (settingsToLoad !== false) {\n		if (typeof settingsToLoad.c != 'undefined') {\n			//don't uncheck custom field answers.\n			$displayColumns.find('label:not([value^=\"custom_field_\"]) input').removeAttr('checked');\n			settingsToLoad.c.reverse();\n			for (var i in settingsToLoad.c) {\n				var $label = $displayColumns.find('label[value=\"'+settingsToLoad.c[i]+'\"]');\n				if ($label.length == 1) {\n					$displayColumns.prepend($label); // move it to top\n					$label.find('input').attr('checked','checked'); // check it\n				}\n			}\n			processAttendeeFilterColumns();\n		}\n		if (typeof settingsToLoad.l != 'undefined') {\n		}\n	}\n}\n// End Filter Helper Functions }}}\n////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////\n// Search Filter {{{\nfunction attendeeTableSearchBind(){\n	$('#search-rsvp-list').keyup(attendeeSearchKeyup).click(function(e){\n		e.stopPropagation(); // this stops the filter responses from opening!\n	});\n}\n\nvar attendeeSearchTimer;\nfunction attendeeSearchKeyup(e){\n	var key = ( e ) ? e.which : false;\n	clearTimeout(attendeeSearchTimer);\n	var $this = $(this);\n	$(\"#attendeeTable\").addClass('loading');\n	attendeeSearchTimer = setTimeout(function(){\n		searchAttendeeTable($this.val());\n	},1500);\n}\n// End Search Filter }}}\n////////////////////////////////////////////////////////////////\nfunction searchAttendeeTable(val){\n	// update the search filter..\n	var filter = {\n		displayName: 'Search',\n		filteringByString: 'Search for '+val,\n		conditions: [\n			{\n				fields: ['first_name','last_name','email','company','EventRsvp.guest_names','message','unsub_tag','ticket_number','TicketOrder.first_name','TicketOrder.last_name','TicketOrder.email'],\n				type: 'OR',\n				match: '('+RegExp.escape(val)+')'\n			},\n		]\n	};\n	for ( var i=1; i<=20; i++ ){\n		filter.conditions[0].fields.push('custom_field_'+i);\n	}\n	attendeeFilters['search'] = filter;\n	// reset to all ids\n	resetAttendeeIds();\n	// run the search filter\n	runAttendeeFilterOnCurrent('search');\n\n	if( val == '' ){ // IF SEARCH STRING IS EMPTY, CLEAR SEARCH / REMOVE SEARCHING CLASS\n		$('#rsvp-list-contain').removeClass('searching')\n	} else {\n		$('#rsvp-list-contain').addClass('searching')\n	}\n\n	// populate the table\n	populateAttendeeTable();\n	$(\"#attendeeTable\").removeClass('loading');\n}\n////////////////////////////////////////////////////////////////\n// Filter Click actions {{{\nfunction checkAllFilterCheckbox() {\n	// need to have select / deselect all checkbox checked accordingly\n	var column_count = $('#attendeeFilters').find('.displayColumns label:visible input').length;\n	var checked_filter_count = $('#attendeeFilters').find('.displayColumns label:visible input:checked').length;\n\n	// checks if all filters have been selected \n	if(column_count === checked_filter_count) {\n		$('#displayColumnsCheckAll').prop('checked', true);\n	} else { // if any filter is unselected\n		$('#displayColumnsCheckAll').prop('checked', false);\n	}\n}\n\nfunction attendeeTableFilterBind(){\n\n	$('#attendeeFilters').find('.displayColumns').on('change','input',function(){\n		processAttendeeFilterColumns();\n	});\n\n	$('#attendeeFilters').find('.displayColumns').sortable({axis: 'y', stop: processAttendeeFilterColumns});\n\n	$('#attendeeFilters').find('.attendeeLimits').on('change','input',function(){\n		processAttendeeFilterLimits();\n	});\n\n	$('#attendeeFilters').find('.attendeeGrouping').on('change','input',function(){\n		processAttendeeFilterLimits();\n	});\n\n	$('#rsvpQuickStats .utilities').click(function(){\n		var $wrap = $('#rsvpQuickStats');\n		if ( $wrap.hasClass('filtersOpen') ) {\n			$wrap.removeClass('filtersOpen');\n		} else {\n			$wrap.addClass('filtersOpen');\n			checkAllFilterCheckbox();\n		}\n	});\n	$('#bulkAttendeeActions').find('.makeVip').click(function(){\n		var $table = $(\"#attendeeTable\");\n		var params = {\n			id: [],\n			field: 'vip',\n			value: 1,\n			event_id: constants.event_id\n		};\n		for(var x in selectedAttendees){\n			setAttendeeFieldData(id,'vip',1);\n			$table.find(\"tbody[event-rsvp-id=\"+selectedAttendees[x]+\"]:first\").find(\".vip-star\").addClass('selected icon-f-star').removeClass('icon-f-star-empty');\n			params.id.push(selectedAttendees[x]);\n		}\n		$.post(\"/events/editRsvpRow/\"+constants.event_id, params, function(){});\n	});\n	$('#bulkAttendeeActions').find('.deleteSelected').click(function(){\n		var noun = (selectedAttendees.length>1)?'entries':'entry';\n		SplashUI.confirm(function(answer) {\n			if(answer){\n				var params = { event_id: constants.event_id, event_rsvps: selectedAttendees, count: selectedAttendees.length };\n				$.post(\"/events/deleteRsvpRows/\"+constants.event_id,params,function(){\n					selectedAttendees = [];\n\n					$(\"a.refresh-responses:first\").click();\n				});\n			}\n		}, 'Are you sure you want to delete '+selectedAttendees.length+' '+noun+' from your guest list?');\n	});\n	$('#bulkAttendeeActions').find('.addTag').click(function(){\n		$(\"#add-tag\").fireSimpleModal();\n		$(\"#tag-search\").focus();\n		return false;\n	});\n	$(\"#rsvp-search-icon\").unbind('click').click(function(){\n		$(\"#search-rsvp-list\").focus();\n	});\n\n	$(\"#tag-search\").unbind('keyup').keyup(function(e){\n		if(e.keyCode==13){\n			$(\"#save-tag\").click();\n		}\n	});\n	$(\"#save-tag\").unbind('click').click(function(){\n		if(selectedAttendees.length < 1){\n			alert('Can\\'t add a tag to nobody.  Please select at least one contact.');\n			return false;\n		}\n		var $search = $(\"#tag-search\");\n		var params = { abc_id: [], tags: $search.val(), event_id: constants.event_id, return_tags: true };\n		if($.trim(params.tags)==''){\n			alert('Fill out a tag.');\n			$search.focus();\n			return false;\n		}\n\n		$search.val('');\n		closeSimpleModal();\n\n		for(var i in selectedAttendees){\n			params.abc_id.push(getAttendeeFieldRawData(selectedAttendees[i],'abc_id'));\n		}\n\n		$.ajax({\n			url: \"/events/editRsvpRow/\"+constants.event_id\n			,type: 'post',dataType: 'json', data: params\n			,success: function(returnTags) {\n\n				for(var x in selectedAttendees){\n					var taglist = getAttendeeFieldRawData(selectedAttendees[x],'tags');\n					if(taglist===false){\n						taglist = [];\n					}\n					for(var z in returnTags){\n						taglist.push(returnTags[z]['id']);\n						setAttendeeFieldData(selectedAttendees[x],'t-'+returnTags[z]['id'],1);\n					}\n					setAttendeeFieldData(selectedAttendees[x],'tags',taglist);\n\n				}\n				for(var y in returnTags){\n					contact_tags[returnTags[y]['id']]=returnTags[y]['name'];\n				}\n				populateContactTags();\n				$(\"#tagFilter\").find('input').prop(\"checked\",false).end().click();\n\n				//$(\"a.refresh-responses:first\").click();\n			},\n			error: function(){\n				alert('There was an error saving your tags.  Please refresh the page and try again.');\n			}\n		});\n	});\n\n	$(\"#bulkAddFromWaitList\").unbind('click').click(function(){\n		var $obj = $(\"#bulkWaitlistActions\");\n		$obj.fireSimpleModal();\n		var count = selectedAttendees.length;\n		var c = (count!='1')?count+' People':count+' Person';\n		$obj.find(\".count\").text(c);\n		return false;\n	});\n\n	$(\"#saveBulkWaitList\").unbind('click').click(function(){\n		var params = { event_rsvps: [], event_id: constants.event_id };\n		params.waitlist = 0;\n		params.send_email = $(\"#bulk-waitlist-email\").val();\n		closeSimpleModal();\n\n		for(var i in selectedAttendees){\n			params.event_rsvps.push(getAttendeeFieldRawData(selectedAttendees[i],'id'));\n		}\n\n\n\n		$.ajax({\n			url: \"/splash/bulkWaitListEdit/\"+constants.event_id\n			,type: 'post',\n			dataType: 'json',\n			data: params,\n			success: function(returnTags) {\n				$(\"#planning-tools\").find(\"a.refresh-responses\").click();//reload the section.\n			},\n			error: function(){\n				alert('#119a: There was an error saving your changes.  Please refresh the page and try again.');\n			}\n		});\n\n	});\n\n\n	$(\"#planning-tools\").on('change',\".select-attends-nu\",function(event){//massselect\n 		var $this = $(this);\n\n		if( $(this).hasClass(\"checked\") ){\n\n			isSelAllChecked = true;\n\n			$(\"#attendeeTable\").find(\"input.attendee-checkbox\").prop(\"checked\",true).parents(\"tr\").addClass('selected');\n			$(\"#bulkAttendeeActions\").show();\n			selectedAttendees=[];\n			for(var x in EventRsvpIds){\n				selectedAttendees.push(EventRsvpIds[x]);\n			}\n		} else{\n\n			isSelAllChecked = false;\n\n			$(\"#attendeeTable\").find(\"input.attendee-checkbox\").prop(\"checked\",false).parents(\"tr\").removeClass('selected');\n			$(\"#bulkAttendeeActions\").hide();\n			selectedAttendees = [];\n		}\n\n	});\n\n	$('#send-sms-message').on('click', function() {\n		var $me = $(this),\n			eventId = $me.data('event'),\n			sendSMS = function() {\n				$.post('/events/sendSMS/' + eventId);\n				$me.remove();\n			}\n		SplashUI.confirm(function(answer) {\n			if(answer) sendSMS();\n		}, 'This will send a text message to each attendee containing their ticket.<br /><b>This action can only be performed once.</b><br />Continue?');\n		return false;\n	});\n\n	$(\"#exportAttendeeTable\").click(function(){\n		var $obj = $(\"#exportAttendeesList\");\n		$(\"#rsvpQuickStats\").removeClass('filtersOpen');\n		// $(\"#search-rsvp-list\").val('');\n		// setTimeout(function(){//clear the search field.\n		// 	searchAttendeeTable('');\n		// 	processAttendeeFilterColumns();\n		// 	processAttendeeFilterLimits();\n		// },10);\n		$obj.find(\".content\").append($(\"#attendeeFilters\"));\n		$obj.fireSimpleModal({\n			persistent: true\n		});\n	});\n\n	$(\"#cancelAttendeeExport,#exportAttendeesList .close-modal\").click(function(){\n		$(\"#bulkAttendeeActions\").after($(\"#attendeeFilters\"));\n		closeSimpleModal();\n	});\n\n\n	$('#saveAttendeeExport').downloadify({\n		filename: function(){\n			//var filename = (''+$('#finetune-title').val()).toLowerCase().replace(/[^a-z0-9]/gi,'-').replace(/-[-]+/g,'-')+'-export.csv.csv';\n			var filename = 'attendee-export.csv';\n			if ( $.browser.msie ) filename += '.csv';\n			return filename;\n		},\n		data: getCSVExportOfAttendeeTable,\n		onComplete: function(){\n			$(\"#bulkAttendeeActions\").after($(\"#attendeeFilters\"));\n			closeSimpleModal();\n		},\n		onCancel: function(){ },\n		onError: function(){ },\n		swf: '/js/downloadify/media/downloadify.swf',\n		downloadImage: '/js/downloadify/images/download.png',\n		width: 60,\n		height: 33,\n		transparent: true,\n		append: true,\n	});\n\n	$('#exportAwaitingReply').downloadify({\n		filename: function(){\n			//var filename = (''+$('#finetune-title').val()).toLowerCase().replace(/[^a-z0-9]/gi,'-').replace(/-[-]+/g,'-')+'-export.csv.csv';\n			var filename = 'awaiting-reply-export.csv';\n			if ( $.browser.msie ) filename += '.csv';\n			return filename;\n		},\n		data: getCSVExportOfAwaitingReplyTable,\n		onComplete: function(){ },\n		onCancel: function(){ },\n		onError: function(){ },\n		swf: '/js/downloadify/media/downloadify.swf',\n		downloadImage: '/js/downloadify/images/download.png',\n		width: 66,\n		height: 26,\n		transparent: true,\n		append: true,\n	});\n\n	$(\"#searchAwaitingReply\").focus(function(){\n		search_val = $(this).val();\n	}).keyup(function(){\n		if(search_val!=$(this).val()){\n			clearTimeout(typingTimer);\n			typingTimer = setTimeout(awaitingReplySearch, 600);\n		}\n	});\n	$(\"#clearAwaitingSearch, #clearSearchBtn\").click(function(){\n		$('#clearAwaitingSearch').hide();\n		$('#attendeeAwaitingReply-viewer').find('.awaitingSearch').removeClass('hideMag');\n		search_val='';\n		$(\"#searchAwaitingReply\").val('');\n		$(\"#attendeeAwaitingReply-viewer\").find(\".replyWrap\").removeClass('no-results').find(\"#awaitingReplyTable\").find(\"tr\").show();\n	});\n\n	$('#attendeeResetFilters').click(restoreDefaultAttendeeFilters);\n\n	// Select / Deselect all in RSVP filtering\n	$('#displayColumnsCheckAll').click(function() {\n		// setup such that this can be reused using the data-column field\n		// indicate which list of checkboxes should be targeted\n		var $filters = $('.displayColumns');\n		var checked_count = 0;\n		$checkboxes = $filters.find('label:visible input[type=checkbox]');\n\n		// Go through all the checkboxes and check them if they are not checked\n		$checkboxes.each(function() {\n			var $that = $(this);\n			if(!$that.is(':checked')) {\n				checked_count++;\n				$that.click();\n			}\n		});\n\n		// If they are all checked, uncheck all of them\n		if(checked_count === 0) {\n			$checkboxes.click();\n		}\n	});\n\n}\n\n// End Filter Click actions }}}\n////////////////////////////////////////////////////////////////\n\n// End Filtering functionality }}}\n////////////////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////////////////\n// Attendee Table Sorting {{{\n\nfunction attendeeTableSortBind(){\n	$attendeeTable.on('click','th[field]',function(){\n\n		var $this = $(this);\n		if( ! $this.hasClass('noSort') ){\n			console.log('sorting');\n			// take the sort display off of other column headers\n			$this.siblings().removeAttr('direction');\n			var field = $this.attr('field');\n			// determine our direction and change it if keep clicking\n			var direction = $this.attr('direction');\n			if ( !direction || direction == 'desc' ){\n				direction = 'asc';\n			}else direction = 'desc';\n			$this.attr('direction',direction);\n			setTimeout(function(){ // fork\n				// sort the current ids\n				runSortOnCurrentAttendees(field,direction);\n				// -clear and populate the table\n				populateAttendeeTable(field,direction);\n\n			},1);\n		}\n	});\n\n	$(\"#view-voting-results\").on('click',function(){\n\n		var $table = $(\"#voting-data-table\");\n		var trs = '';\n		$table.find(\"tbody\").empty();\n\n		//loop through each response for each custom rsvp field.\n		var results = {};\n		for (var i in EventSetting.custom_rsvp_fields){\n			var field = EventSetting.custom_rsvp_fields[i].column_name;\n			results[field] = { 'like': 0, 'dislike':0, 'total_votes':0 };\n\n			for (var x in EventRsvp){\n				if(typeof EventRsvp[x][field]!=='undefined' && EventRsvp[x][field]!=''){\n					var answer = EventRsvp[x][field];\n					if(typeof results[field][answer]!=='undefined'){\n						results[field][answer]++;\n						results[field]['total_votes']++;\n					}\n				}\n			}\n		}\n\n		for (var i in EventSetting.custom_rsvp_fields){\n			var field = EventSetting.custom_rsvp_fields[i].column_name;\n			trs+='<tr><td>'+EventSetting.custom_rsvp_fields[i].name+'</td>'+\n			'<td>'+results[field]['like']+'</td>'+\n			'<td>'+results[field]['dislike']+'</td>'+\n			'<td>'+results[field]['total_votes']+'</td></tr>';\n		}\n\n\n		$table.append(trs);\n		$(\"#voting-results\").fireSimpleModal();\n\n		$table.trigger('update');\n\n		return false;\n		// for ( var i in fields ){\n		// 	var field = fields[i];\n		// 	if ( field.type == 'file' ){\n		// 		f = 'custom_field_'+field.number;\n		// 		file_fields.push(f);\n		// 		//var v = getAttendeeFieldData(id,f,true);\n		// 		//if ( v === false ) v = '';\n		// 		//rows.push({ name:  })\n		// 		//v = '<a href=\"/img/events/'+constants.event_id+'/files/'+v+'\" target=\"blank\">'+v.replace(/^rsvp\\.[a-z0-9]{3}\\./i,'')+'</a>';\n		// 	}\n		// 	//$display.find('.'+f).html('<span class=\"question\">'+field.name+'</span><span class=\"answer\">'+v+'</span><br>').show();\n		// }\n\n	});\n}\n\nfunction runSortOnCurrentAttendees(field,direction){\n	// should we do numeric?\n	var isNum = false;\n	if ( field == 'TicketOrder.price' || field == 'TicketOrder.amount_refunded' || field == 'TicketOrder.discount' || field == 'TicketSale.price'\n		|| field == 'attendee_count' || field == 'plus_one'\n		){\n		isNum = true;\n	}\n	currentEventRsvpIds.sort(function(a,b){\n		var aa = (''+getAttendeeFieldData(a,field,false)).toLowerCase();\n		var bb = (''+getAttendeeFieldData(b,field,false)).toLowerCase();\n		if ( isNum ){\n			aa = Number(aa);\n			bb = Number(bb);\n		}\n		var r = 0;\n		if ( aa < bb ) r = -1;\n		else if ( aa > bb ) r = 1;\n		if ( direction == 'desc' )\n			return r*-1;\n		return r;\n	});\n}\n\n// End Attendee Table Sorting }}}\n////////////////////////////////////////////////////////////////////////////\n\n////////////////////////////////////////////////////////////////////////////\n// Capturing Deferred Orders {{{\n\nfunction captureDeferredBind() {\n\n	$('#captureDeferredOrders').click(function(e){\n		e.preventDefault();\n		// populate this table with all of the TicketOrder.status == 'deferred' orders\n		var allEventRsvpIds = $.extend([],EventRsvpIds); // this is to clone it\n		var condition = { field: 'TicketOrder.status', match: 'deferred' };\n		var deferredIds = [];\n		for (var i in allEventRsvpIds) {\n			if (runConditionOnId(allEventRsvpIds[i],condition)) {\n				deferredIds.push(allEventRsvpIds[i]);\n			}\n		}\n		if (deferredIds.length > 0) {\n\n			var $deferredTable = $('#deferred-orders-table');\n			$deferredTable.html('<thead><tr><th>First</th><th>Last</th><th>Email</th><th>Total</th><th>Accept</th><th>Reject</th></tr></thead>');\n			// custom column set\n			var columns = [\n				'TicketOrder.first_name'\n				,'TicketOrder.last_name'\n				,'TicketOrder.email'\n				//,'TicketOrder.status'\n				,'TicketOrder.total'\n			];\n			for (var d in deferredIds) {\n				var $row = attendeeRowFromId(deferredIds[d],columns); // pass custom column set if desired..\n				var orderId = getAttendeeFieldData(deferredIds[d],'TicketOrder.id');\n				$row.find('td.open-details').remove();\n				$row.find('td[field=\"TicketOrder.total\"]').prepend('$');\n				$row.find('.data').append('<td class=\"accept\"><label><input type=\"radio\" value=\"accept\" name=\"order['+orderId+']\"></label></td>');\n				$row.find('.data').append('<td class=\"reject\"><label><input type=\"radio\" value=\"reject\" name=\"order['+orderId+']\"></label></td>');\n				$deferredTable.append($row);\n			}\n\n			$('#capture-deferred-orders-tool').fireSimpleModal({persistent:true});\n		} else {\n			alert('No Deferred Orders to Capture.');\n		}\n		return false;\n	});\n\n	$('#capture-deferred-orders-tool').find('.acceptAll').click(function(){\n		var $defTable = $('#deferred-orders-table');\n		$defTable.find('.reject input').removeAttr('checked');\n		$defTable.find('.accept input').attr('checked','checked');\n	});\n\n	$('#capture-deferred-orders-tool').find('.rejectAll').click(function(){\n		var $defTable = $('#deferred-orders-table');\n		$defTable.find('.accept input').removeAttr('checked');\n		$defTable.find('.reject input').attr('checked','checked');\n	});\n\n	$('#capture-selected-deferred-button').click(function(e){\n		e.preventDefault();\n		var $this = $(this);\n		if ($this.hasClass('in-progress')) { return; }\n		$this.addClass('in-progress');\n		$('#capture-deferred-orders-tool').addClass('in-progress').find('.closeModal').hide();\n		saveDeferredOrders();\n	});\n\n	$('#capture-deferred-orders-tool .close').click(function(e){\n		populateAttendeeTable();\n		closeSimpleModal();\n	});\n\n\n}\n\nfunction saveDeferredOrders() {\n	var $defTable = $('#deferred-orders-table');\n	var params = { approve:[], reject:[] };\n	$defTable.find('input[type=radio]:checked').each(function(){\n		var $i = $(this);\n		var id = (''+$i.attr('name')).replace(/\\D/g,'');\n		if ($i.val() == 'accept') {\n			params.approve.push(id);\n		} else if ($i.val() == 'reject') {\n			params.reject.push(id);\n		}\n	});\n	$.ajax({\n		url: '/events/captureDeferredTicketOrder/'+constants.event_id\n		,type: 'post' ,dataType: 'json', data: params\n		,success: function(response) {\n			if (typeof response != 'undefined' && typeof response.status != 'undefined' && response.status == 'success') {\n				$('#ticketTotals').find('.refresh-responses').click();\n\n				$('#capture-deferred-orders-tool').removeClass('in-progress').find('.closeModal').show();\n				$('#capture-selected-deferred-button').removeClass('in-progress');\n				closeSimpleModal();\n\n			} else {\n				$('#ticketTotals').find('.refresh-responses').click();\n\n				$('#capture-deferred-orders-tool').removeClass('in-progress').find('.closeModal').show();\n				$('#capture-selected-deferred-button').removeClass('in-progress');\n				closeSimpleModal();\n				alert('There was an error saving. Please try again.');\n			}\n		}\n		,error: function() {\n			$('#ticketTotals').find('.refresh-responses').click();\n\n			$('#capture-deferred-orders-tool').removeClass('in-progress').find('.closeModal').show();\n			$('#capture-selected-deferred-button').removeClass('in-progress');\n			closeSimpleModal();\n			alert('There was an error saving. Please try again.');\n		},timeout:120000\n	});\n\n}\n\n// End Capturing Deferred Orders }}}\n////////////////////////////////////////////////////////////////////////////\n\n// END Filtering and Searching functionality }}}\n////////////////////////////////////////////////////////////////////////////\n\nfunction attendeeToggleSelected(){\n	var $this = $(this);\n	var $parent = $this.parents(\"tr\");\n	var id = $this.parents(\"tbody\").attr(\"event-rsvp-id\");\n\n	if($this.prop(\"checked\")){\n		$parent.addClass('selected');\n		if($.inArray(id,selectedAttendees)<0){\n			selectedAttendees.push(id);\n			setAttendeeFieldData(id,'attendee_checkbox',1);\n		}\n\n		$(\"#bulkAttendeeActions\").show();\n\n		if(getAttendeeFieldData(id,'waitlist',false)!='1'){\n			$(\"#bulkAddFromWaitList\").hide();\n		}\n	} else{\n		$parent.removeClass('selected');\n		specialBulkCheck();\n		if($.inArray(id,selectedAttendees)>-1){\n			var index = selectedAttendees.indexOf(id);\n			selectedAttendees.splice(index, 1);\n		}\n		setAttendeeFieldData(id,'attendee_checkbox',0);\n\n		if(selectedAttendees.length < 1){\n			$(\"#bulkAttendeeActions\").hide();\n		}\n\n	}\n	if(selectedAttendees.length < 1){\n		//$(\"#bulkAddFromWaitList\").hide();\n	} else {\n		var match = false;\n		for(var x in selectedAttendees){\n			if(!match && getAttendeeFieldData(selectedAttendees[x],'waitlist',false)!='1'){//if anyone is NOT on waitlist, don't show this option.\n				match = true;\n			}\n		}\n		if(match){\n			$(\"#bulkAddFromWaitList\").hide();\n		} else {\n			$(\"#bulkAddFromWaitList\").show();\n		}\n	}\n}\nfunction attendeeToggleSelectedRow(){\n	var $this = $(this);\n	var $parent = $this.parents(\"tr\");\n	if($this.hasClass('open-details') || $this.attr(\"field\")=='attendee_checkbox'){\n		//return false;\n	} else{\n		var id = $this.parents(\"tbody\").attr(\"event-rsvp-id\");\n		var id_parts = (''+id).split(',');\n\n		$this = $parent.find(\"input.attendee-checkbox\");\n		if($this.prop(\"checked\")){\n			$this.prop(\"checked\",false);\n			$parent.removeClass('selected');\n			specialBulkCheck();\n\n			if($.inArray(id,selectedAttendees)>-1){\n				var index = selectedAttendees.indexOf(id);\n				selectedAttendees.splice(index, 1);\n			}\n			setAttendeeFieldData(id,'attendee_checkbox',0);\n\n			if(selectedAttendees.length < 1){\n				$(\"#bulkAttendeeActions\").hide();\n			}\n		} else{\n			$this.prop(\"checked\",true);\n			$parent.addClass('selected');\n			if($.inArray(id,selectedAttendees)<0){\n				selectedAttendees.push(id);\n			}\n			EventRsvp[id].attendee_checkbox = 1;\n			$(\"#bulkAttendeeActions\").show();\n		}\n	}\n\n	if(selectedAttendees.length > 0){\n		var match = false;\n		for(var x in selectedAttendees){\n			if(!match && getAttendeeFieldData(selectedAttendees[x],'waitlist',false)!='1'){//if anyone is NOT on waitlist, don't show this option.\n				match = true;\n			}\n		}\n		if(match){\n			$(\"#bulkAddFromWaitList\").hide();\n		} else {\n			$(\"#bulkAddFromWaitList\").show();\n		}\n	}\n\n}\nfunction specialBulkCheck(){\n	var $bulkCheck = $(\"#selectAllAttendees\");\n	if($bulkCheck.hasClass(\"checked\")){\n		//tricky scenario here.  arises when selectAll WAS checked and then one individual has been UNCHECKED.\n		//now, we have to rebuild the selected attendee array. yeesh!\n		//var list_id = $(\"#list-name\").attr(\"list-id\");\n		$bulkCheck.removeClass('checked');\n		selectedAttendees=[];\n		for(x in currentEventRsvpIds){\n			selectedAttendees.push(currentEventRsvpIds[x]);\n			setAttendeeFieldData(currentEventRsvpIds[x],'attendee_checkbox',1);\n\n		}\n	}\n}\n\nfunction toggleVIP( $vip_star ){\n	//console.log($vip_star);\n	//console.log($vip_star.attr('class'));\n	//var id = $this.parents(\"tbody\").attr(\"event-rsvp-id\");\n\n	var id = $(\"#attendee-utils\").data('event-rsvp-id');\n	\n	if($vip_star.hasClass('selected')){\n		$vip_star.removeClass('selected icon-f-star').addClass('icon-f-star-empty');\n		setAttendeeFieldData(id,'vip',\"0\");\n	} else{\n		$vip_star.addClass('selected icon-f-star').removeClass('icon-f-star-empty');\n		setAttendeeFieldData(id,'vip',\"1\");\n	}\n\n	var params = {\n		id: id,\n		field: 'vip',\n		value: getAttendeeFieldData(id,'vip',false),\n		event_id: constants.event_id\n	};\n	$.post(\"/events/editRsvpRow/\"+constants.event_id, params, function(){});\n}\n\nfunction populateContactTags(){\n	var $block = $(\"#attendeeFilters\").find(\".tagOptions\");\n	$block.empty();\n	for(var x in contact_tags){\n		$block.append('<label field=\"t-'+x+'\"><input type=\"radio\" name=\"radio-tags\" value=\"'+x+'\"><span>'+contact_tags[x]+'</span></label>');\n	}\n}\n\nfunction exportFiles(){\n	var rows = [];\n	// custom fields\n//	var fields = getAttendeeRsvpFields( getAttendeeFieldData(id,'ticket_type_id') );\n\n	var file_fields = [];\n	var fields = [];\n	if ( typeof EventSetting !== 'undefined') {\n		if (EventSetting.rsvp_method == 'tickets' && ticketTypes) {\n			if (ticketTypes.activeIds) {\n				for (var x in ticketTypes.activeIds) {\n					var myFields = getAttendeeRsvpFields(ticketTypes.activeIds[x]);\n					if (myFields && myFields.custom_rsvp_fields) {\n						fields = $.extend(true,{},fields,myFields.custom_rsvp_fields);\n					}\n				}\n			}\n			if (ticketTypes.inactiveIds) {\n				for (var x in ticketTypes.inactiveIds) {\n					var myFields = $.extend(true,{},fields,getAttendeeRsvpFields(ticketTypes.inactiveIds[x]));\n					if (myFields && myFields.custom_rsvp_fields) {\n						fields = $.extend(true,{},fields,myFields.custom_rsvp_fields);\n					}\n				}\n			}\n		}\n		if ( typeof EventSetting.custom_rsvp_fields !== 'undefined'){\n			fields = $.extend(true,{},fields,EventSetting.custom_rsvp_fields);\n		}\n	}\n\n\n	for ( var i in fields ){\n		var field = fields[i];\n			if ( field.type == 'file' ){\n				f = 'custom_field_'+field.number;\n				file_fields.push(f);\n				//var v = getAttendeeFieldData(id,f,true);\n				//if ( v === false ) v = '';\n				//rows.push({ name:  })\n				//v = '<a href=\"/img/events/'+constants.event_id+'/files/'+v+'\" target=\"blank\">'+v.replace(/^rsvp\\.[a-z0-9]{3}\\./i,'')+'</a>';\n			}\n			//$display.find('.'+f).html('<span class=\"question\">'+field.name+'</span><span class=\"answer\">'+v+'</span><br>').show();\n		}\n\n	//console.log(file_fields);\n	if(file_fields.length > 0){\n		for (var x in EventRsvp){\n			for(var y in file_fields){\n				if(getAttendeeFieldData(x,file_fields[y])){\n					rows.push({\n						first_name: getAttendeeFieldData(x,'first_name'),\n						last_name:getAttendeeFieldData(x,'last_name'),\n						files: getAttendeeFieldData(x,file_fields[y])\n					});\n				}\n			}\n		}\n	}\n\n	var request = {\n		url: constants.finetune_formBase+'/events/exportFiles/'+constants.event_id\n		,data: {\"type\":\"files\",'rows':rows}, type:'post'\n		,dataType: 'json', timeout: 240000\n	};\n	var $link = $(\"#exportFilesLink\");\n	if($link.hasClass('loading')){\n		return false;\n	}\n\n	$link.addClass('loading').html('<i class=\"icon-download\"></i>Loading..');\n\n	$.ajax(request)\n		.done(function(response){\n			if (typeof response != 'undefined' && typeof response.status != 'undefined' && response.status == 'success' && typeof response.exported != 'undefined') {\n				window.location = response.exported; // HA\n				$link.removeClass('loading').html('<i class=\"icon-download\"></i>Export Files');//.prop(\"href\",response.exported).attr(\"target\",\"_blank\");\n			} else {\n				alert('There was an error exporting your files.');\n				$link.removeClass('loading').html('<i class=\"icon-download\"></i>Try again.');\n			}\n		})\n		.fail(function(){\n			$link.removeClass('loading').html('<i class=\"icon-download\"></i>Failed - Try again.');\n		})\n}\n\nfunction checkForUploadedFiles(){\n	if(typeof hasUploadedFiles!=='undefined'){\n		if(!hasUploadedFiles){\n			var fields = [];\n			if (typeof EventSetting != 'undefined') {\n				if (EventSetting.rsvp_method == 'tickets' && ticketTypes) {\n					if (ticketTypes.activeIds) {\n						for (var x in ticketTypes.activeIds) {\n							var myFields = getAttendeeRsvpFields(ticketTypes.activeIds[x]);\n							if (myFields && myFields.custom_rsvp_fields) {\n								fields = $.extend(true,{},fields,myFields.custom_rsvp_fields);\n							}\n						}\n					}\n					if (ticketTypes.inactiveIds) {\n						for (var x in ticketTypes.inactiveIds) {\n							var myFields = getAttendeeRsvpFields(ticketTypes.inactiveIds[x]);\n							if (myFields && myFields.custom_rsvp_fields) {\n								fields = $.extend(true,{},fields,myFields.custom_rsvp_fields);\n							}\n						}\n					}\n				}\n				if (typeof EventSetting.custom_rsvp_fields !== 'undefined'){\n					fields = $.extend(true,{},fields,EventSetting.custom_rsvp_fields);\n				}\n				for ( var i in fields ){\n					var field = fields[i];\n					if ( field.type == 'file' ){\n						hasUploadedFiles = true;\n						return;\n					}\n				}\n			}\n		}\n		if(hasUploadedFiles){\n			$(\"#exportFilesLi\").show();\n			$(\"#mobile-checkin-link\").css('font-size', '12px');\n			$(\"#mobile-checkin-link\").parent().addClass('w1-2').css('border-left', '1px dotted #e0e0e0');\n			$(\"#add-to-rsvp-list\").parents(\".add-guest-wrap\").removeClass('clear left').addClass('right withBorder');\n		}\n	}\n}\n\n\n\nfunction getResponsesDataPages(startPage,opt) {\n	var startPage = startPage || 1;\n	var opt = opt || {}\n	var defaultOpt = {\n		noTO: 0, // no TicketOrders\n		noER: 0, // no EventRsvps\n		noEMI: 0 // no EventMessageInvites\n	};\n	opt = $.extend(true,{},defaultOpt,opt);\n	opt['page'] = startPage;\n	var loadStart = new Date(); loadStart = loadStart.getTime();\n	$.ajax(constants.finetune_formBase+'/events/rsvpData/'+constants.event_id,{type:'post',data:opt,dataType:'json'})\n		.done(function(response){\n			if (response && response.status && response.status == 'success') {\n				var nextOpt = {};\n				var nextPage = 0;\n				var largestPagesCount = 1;\n\n				// TicketOrder\n				if (response.data.TicketOrder) {\n					var data = response.data.TicketOrder;\n					if (data.rows) {\n						// update the global collection\n						// id indexed\n						$.extend(true,TicketOrder,data.rows);\n					}\n					if (data.next_page && data.next_page != '0') {\n						nextPage = data.next_page;\n					} else {\n						nextOpt['noTO'] = 1;\n					}\n					if (data.pages && data.pages > largestPagesCount) {\n						largestPagesCount = data.pages;\n					}\n				}\n\n				// EventRsvp\n				if (response.data.EventRsvp) {\n					var data = response.data.EventRsvp;\n					if (data.rows) {\n						// update the global collection // id indexed\n						$.extend(true,EventRsvp,data.rows);\n					}\n					if (data.ids) {\n						EventRsvpIds = EventRsvpIds.concat(data.ids);\n					}\n					if (data.byPid) {\n						// update the global collection // id indexed\n						$.extend(true,guestsByParentId,data.byPid);\n					}\n					if (data.tags) {\n						// update the global collection // id indexed\n						$.extend(true,contact_tags,data.tags);\n					}\n					if (data.next_page && data.next_page != '0') {\n						nextPage = data.next_page;\n					} else {\n						nextOpt['noER'] = 1;\n					}\n					if (data.pages && data.pages > largestPagesCount) {\n						largestPagesCount = data.pages;\n					}\n				}\n\n				// EventMessageInvite\n				if (response.data.EventMessageInvite) {\n					var data = response.data.EventMessageInvite;\n					if (data.rows) {\n						// update the global collection // id indexed\n						$.extend(true,attendeeAwaitingReply,data.rows);\n					}\n					if (data.next_page && data.next_page != '0') {\n						nextPage = data.next_page;\n					} else {\n						nextOpt['noEMI'] = 1;\n					}\n					if (data.pages && data.pages > largestPagesCount) {\n						largestPagesCount = data.pages;\n					}\n				}\n\n				// if we have more data to load... load it\n				if (nextPage > 0) {\n					if (opt && opt.per_page) {\n						nextOpt.per_page = opt.per_page;\n					}\n\n					// percentage completed\n					if (largestPagesCount > 0) {\n						var percentage = Math.floor((opt.page/(largestPagesCount+1))*100);\n						$(\"#rsvp-list-loading\").find('.percent-complete').html('Loading<br>'+percentage+'%');\n						var loadEnd = new Date(); loadEnd = loadEnd.getTime();\n						responsesIncrementP(loadEnd-loadStart,opt.page,largestPagesCount);\n					}\n\n					getResponsesDataPages(nextPage,nextOpt);\n				} else {\n					// run the finish work\n					responsesDataFinishWork();\n				}\n			}\n		})\n		.error(function(){\n		});\n}\n\nvar responsesIncrementPI;\nfunction responsesIncrementP(pageInterval,page,pages) {\n	var updateInterval = 500;\n	clearInterval(responsesIncrementPI);\n	var currentP = Math.floor((page/(pages+1))*100);\n	var nextP = Math.floor(((page+1)/(pages+1))*100);\n	var incrementBy = (nextP-currentP)/(pageInterval/updateInterval);\n	var $target = $(\"#rsvp-list-loading\").find('.percent-complete');\n	//console.log(currentP);\n	responsesIncrementPI = setInterval(function(){\n		currentP += incrementBy;\n		//console.log(currentP);\n		var myP = currentP.toFixed(1);\n		if (myP < nextP) { // don't go over\n			$target.html('Loading<br>'+myP+'%');\n		}\n	},updateInterval);\n}\n\nfunction responsesDataFinishWork() {\n	// loop through EventRsvps\n	for (var id in EventRsvp) {\n		var $eR = EventRsvp[id];\n		//// set ticket_type_id, TicketOrder->TicketSale->EventRsvpIds[] = erid\n		if ($eR['ticket_number'] && $eR['ticket_number'] != '' ){\n			if ($eR['ticket_order_id'] && TicketOrder[$eR['ticket_order_id']]['TicketSale'][$eR['ticket_sale_id']]) {\n				$eR['ticket_type_id'] = TicketOrder[$eR['ticket_order_id']]['TicketSale'][$eR['ticket_sale_id']]['ticket_type_id'];\n				if (typeof TicketOrder[$eR['ticket_order_id']]['TicketSale'][$eR['ticket_sale_id']]['EventRsvpIds'] == 'undefined') {\n					TicketOrder[$eR['ticket_order_id']]['TicketSale'][$eR['ticket_sale_id']]['EventRsvpIds'] = [];\n				}\n				var $fuid = $eR['id'];\n				if ($eR['parent_event_rsvp_id'] && $eR['parent_event_rsvp_id'] != 0) $fuid = $eR['parent_event_rsvp_id']+','+$fuid;\n				TicketOrder[$eR['ticket_order_id']]['TicketSale'][$eR['ticket_sale_id']]['EventRsvpIds'].push($fuid);\n				if (guestsByParentId && guestsByParentId[$fuid]) {\n					for (var childid in guestsByParentId[$fuid]) {\n						if (guestsByParentId[$fuid][childid]) {\n							var $ceR = guestsByParentId[$fuid][childid];\n							var $cfuid = $ceR['id'];\n							if ($ceR['parent_event_rsvp_id'] && $ceR['parent_event_rsvp_id'] != 0) $cfuid = $ceR['parent_event_rsvp_id']+','+$cfuid;\n							TicketOrder[$ceR['ticket_order_id']]['TicketSale'][$ceR['ticket_sale_id']]['EventRsvpIds'].push($cfuid);\n							$ceR['ticket_type_id'] = TicketOrder[$ceR['ticket_order_id']]['TicketSale'][$ceR['ticket_sale_id']]['ticket_type_id'];\n						}\n					}\n				}\n			}\n		}\n\n		//// unset attendeeAwaitingReply[er.email] if isset\n		var email = (''+$eR.email).toLowerCase();\n		if (attendeeAwaitingReply && typeof attendeeAwaitingReply[email] != 'undefined') {\n			delete(attendeeAwaitingReply[email]);\n		}\n	}\n\n	$('#rsvp-list-loading').hide().removeClass('loading');\n	$('#rsvp-list-contain').show();\n	currentEventRsvpIds = $.extend([],EventRsvpIds); // this is to clone it\n	populateAttendeeTable();\n\n	var awaitArray = [];\n	for (var i in attendeeAwaitingReply) {\n		awaitArray.push(attendeeAwaitingReply[i]);\n	}\n	attendeeAwaitingReply = awaitArray;\n	$('#awaiting-reply-count').text(attendeeAwaitingReply.length);\n	if (attendeeAwaitingReply.length > 0) {\n		$('#awaitingBtn,#messageAwaitingReply').show();\n		$('#rsvp-block').find('.ticketTotals.rsvp-collect').addClass('hasAwaiting')\n	}\n\n}\n\nfunction awaitingReplySearch(){\n    var search = $.trim($(\"#searchAwaitingReply\").val()).toLowerCase();\n	gmail_search_val=search;\n\n	var $table = $(\"#awaitingReplyTable\");\n	$table.addClass('loading').find(\"tr\").hide();\n	$(\"#attendeeAwaitingReply-viewer .replyWrap\").removeClass('no-results')\n	if(search!=''){\n		$(\"#clearAwaitingSearch\").show();\n		$('#attendeeAwaitingReply-viewer .awaitingSearch').addClass('hideMag')\n		show_rows = [];\n		$table.find(\"td.search-td\").each(function(){\n			if($(this).html().match(new RegExp(search))){\n				show_rows.push($(this).parents(\"tr\").attr(\"i\"));\n			}\n		});\n\n		$table.removeClass('loading');\n		if ( show_rows.length > 0 ){\n			for ( key in show_rows ){\n				$table.find(\"tr[i=\"+show_rows[key]+\"]\").show();\n			}\n		} else{\n			$(\"#attendeeAwaitingReply-viewer .replyWrap\").addClass('no-results').find('.noResultsText').text('No results found for \"'+ search +'\"');\n		}\n	} else{\n		$table.removeClass('loading').find(\"tr\").show();\n		$(\"#attendeeAwaitingReply-viewer .replyWrap\").removeClass('no-results');\n	}\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/attendees.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 121111,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "function closeSimpleModal(){\n	$(\"#simple-modal-wrap\").removeClass('persistent').fadeOut(100).find(\".simple-modal\").hide();\n	$(\"#simple-modal-ajax\").empty();\n	if(!$(\"#planning-tools\").hasClass('expanded')){\n		$(\"body\").removeClass('lockItUp');\n	}\n	$(\"#finetune-block\").removeClass('persistent first-view');\n}\n$.fn.fireSimpleModal = function(args){\n	var $obj = $(this);\n	$(\"body\").addClass('lockItUp');\n	var $wrap = $(\"#simple-modal-wrap\");\n	if(args!=null){\n		if(args.persistent!=='undefined' && args.persistent){\n			$wrap.addClass('persistent');\n		}\n	}\n	else{\n		$wrap.removeClass('persistent');\n	}\n\n	$wrap.show().find(\".simple-modal\").hide();\n	$obj.show().css('display','inline-block');\n	return $obj;\n}\nfunction loadBigPicture(val){\n	var params = { value: val };\n	$(\"#main-stats\").addClass('loading').load(\"/admin/loadBigStats\", params, function(){\n		$(\"#main-stats\").removeClass('loading');\n	});\n}\nfunction fireSearch(other_params){\n	if(other_params!=null){\n		var params = other_params;\n	} else{\n		var params = {};			\n	}\n\n	var search = $.trim($(\"#search-input\").val());\n	if(search!=''){\n		params.search = search;\n	}\n	params.sort_type = $(\"#splash-sort\").val();\n\n	if(params.sort_type!='all'){\n		params.start_date = $(\"#p-date-start\").val();\n		params.end_date = $(\"#p-date-end\").val();\n	}\n\n	$(\"#splash-pages\").find(\"tbody\").html(spinner).load(\"/admin/loadSplashPages\", params, function(){\n		\n		$(\"#splash-pages\").trigger('update');\n		$(\"#splash-count\").text($(\"#ajax-splash-count\").val());\n		$(\"#rsvp-count\").text($(\"#ajax-rsvp-count\").val());\n		$(\"#page-views\").text($(\"#ajax-page-views\").val());\n		$(\"#active-event-count\").text($(\"#ajax-active-event-count\").val());\n		$('input.fields-to-display').each().trigger('change');\n\n	});\n\n}\n$(document).ready(function(){\n	$(\"#filterAction\").click(function(e){\n		e.preventDefault();\n		$(\"#filter-options\").fireSimpleModal();\n		return false;\n	});\n	$(\"html\").keyup(function(e){\n		if(e.which==27){ //escape\n			closeSimpleModal();\n		}\n	}).click(function(e){\n		var $target = $(e.target);\n		if($(\"#simple-modal-wrap\").is(\":visible\")){\n			if($target.parents(\".simple-modal\").length<1 && !$target.hasClass('simple-modal')){\n				closeSimpleModal();\n			}\n		}\n	});\n	$(\"a.close-modal\").click(function(){\n		closeSimpleModal();\n	});\n	$(\"#submitFilter\").click(function(){\n		var params = { fields: [] };\n		$(\"#filter-options\").find(\"input.field:checked\").each(function(){\n			params.fields.push($(this).val());\n		});\n		if(params.fields.length<1){\n			alert('Pick at least one field..');\n			return false;\n		}\n		params.range = $(\"#range\").val();\n		params.range_type = $(\"#range_type\").val();\n\n		closeSimpleModal();\n\n		var $dash = $(\"#dynamoDash\");\n			\n		$dash.addClass('loading').load(\"/admin/charts\",{ data: params },function(){\n			$dash.removeClass('loading');\n		});\n	});\n\n	$(\"#search-input\").keyup(function(e){\n		if(e.keyCode==13){\n			fireSearch();\n		}\n	});\n\n	$(\"#send-button\").click(function(){\n		fireSearch();\n	});\n\n	$(\"#splash-sort\").change(function(){\n		\n\n		if($(this).val()=='all'){\n			$(\"#splash-date-sort\").hide();\n		}\n		else {\n			$(\"#splash-date-sort\").show();\n		\n		}\n	});\n	\n	$(\"#big-picture\").change(function(){\n		loadBigPicture($(this).val());\n	});\n\n	$(\"#conversion-range-select\").change(function(){\n		var params = { value: $(this).val(), conversions: true };\n		$(\"#conversion-table\").addClass('loading').load(\"/admin/loadBigStats\", params,function(){\n			$(\"#conversion-table\").removeClass('loading');	\n		});\n	});\n	$(\"select.quick-compare-select\").change(function(){\n		var params  = { value: $(this).val(), quick_compare: true };\n		var $block = $(this).parents(\"table.quick-compare\").find(\"tbody\");\n		$block.addClass('loading').load(\"/admin/loadBigStats\",params,function(){\n			$block.removeClass('loading');\n		})\n	});\n	$(\"th.refresh\").click(function(){\n		var $table = $(this).parents(\"table.quick-compare\");\n		var params = { value: $table.find(\"select.quick-compare-select\").val(), quick_compare:true };\n		var $block = $table.find(\"tbody\");\n		$block.addClass('loading').load(\"/admin/loadBigStats\",params,function(){\n			$block.removeClass('loading');\n		})\n\n	});\n\n	$(document).on('click',\"a.by-user\",function(event){\n		event.preventDefault();\n		fireSearch({user_id: $(this).attr(\"user-id\") });\n	});\n	$(\"#refresh-main-stats\").click(function(){\n		loadBigPicture($(\"#big-picture\").val());\n	});\n\n	$(\"#p-date-start\").datepicker({\n		dateFormat: 'mm/dd/y',\n	 	onSelect: function(dateText, inst) {\n	 		//when you change the event start date, also change the end date.\n	 		//we want to filter both the date and the range of the end date, making all days earlier\n	 		//than the event start unselectable.\n	 		$(\"#p-date-end\").datepicker('option','minDate', dateText)//.val(dateText);\n			//$(\"#p-date-start\").change();\n\n		},\n		onClose:function(dateText,inst){\n		}\n\n	});\n	$(\"#p-date-end\").datepicker({\n		dateFormat:'mm/dd/y',\n		minDate: $(\"#p-date-start\").val(),\n		onSelect: function(dateText, inst){\n			//$(this).trigger('change');\n		},\n		onClose:function(dateText,inst){\n		}\n\n	});\n	\n	$(\"#premium-search\").click(function(event){\n		event.preventDefault();\n		var params = { start: $(\"#p-date-start\").val(), end: $(\"#p-date-end\").val() };\n		$(\"#premium-results\").addClass('loading').find(\"tbody\").load(\"/admin/premiumSearch\", params, function(){\n			$(\"#premium-results\").removeClass('loading');\n			$(\"#premium-results\").trigger(\"update\");\n			$(\"#p-amt\").text($(\"#premiumTotal\").html());\n\n		});\n	});	\n\n	$(\"#splash-pages\").on('click','.delete-event',function(){\n		var $t = $(this);\n		var $tr = $t.parents(\"tr:first\");\n		var event_id = $tr.attr(\"event-id\")*1;\n		if(event_id > 0 && confirm('Are you SURE you want to delete this event?')){\n			//window.location = '/events/delete/'+event_id;\n			$.post(\"/events/delete/\"+event_id,{ postCall: true}, function(){\n				$tr.css('background-color','#FF8E8E');\n				$t.removeClass('delete-event').addClass('revive-event').text('Revive');\n				$tr.find(\".duplicate-event\").hide();\n			});	\n		}	\n	});\n	$(\"#splash-pages\").on('click','.revive-event',function(){\n		var $t = $(this);\n		var $tr = $(this).parents(\"tr:first\");\n		var event_id = $tr.attr(\"event-id\")*1;\n		if(event_id > 0 && confirm('Are you SURE you want to revive this event?  Event CPR is no joke.')){\n			//window.location = '/events/delete/'+event_id;\n			$.post(\"/events/revive/\"+event_id,{ postCall: true}, function(){\n				$tr.css('background-color','#fff');\n				$tr.find(\".duplicate-event\").show();\n				$t.removeClass('revive-event').addClass('delete-event').text('Delete');\n			});	\n		}	\n	});\n\n	$(\"#user-email-input\").keydown(function(e){\n		if(e.keyCode==13){\n			$(\"#add-user-to-org\").click();\n			e.preventDefault();\n			return false;\n		}\n	});\n\n	$(\"#users-to-add\").on('click','a.delete-row',function(){\n		$(this).parents(\"li:first\").fadeOut('fast',function(){ $(this).remove(); });\n	});\n\n	$(\"#add-user-to-org\").click(function(){\n		var val = $(\"#user-email-input\").val();\n		if(!isValidEmail(val)){\n			alert('Please enter a valid email address.');\n			$(\"#user-email-input\").focus();\n			return false;\n		}\n\n		var li = '<li><input type=\"text\" value=\"'+val+'\" name=\"data[users][]\" /><a href=\"#\" class=\"delete-row\">x</a></li>';\n		$(\"#users-to-add\").append(li);\n		$(\"#user-email-input\").val('').focus();\n	\n	});\n\n	$(\"a.show-fields-to-display\").click(function(){\n		$(\"#fields-to-display-list\").toggle();\n	})\n	$('input.fields-to-display').change(function(){\n		var index = $(this).parents(\"li:first\").index();\n		if($(this).prop('checked')){\n			$(\"#splash-pages\").find(\"th:eq(\"+index+\")\").show();\n			$(\"#splash-pages td:nth-child(\"+(index+1)+\")\").show();\n			// .find(\"tr\").each(function(){\n			// 	$(this).find(\"td:eq(\"+index+\")\").show();\n			// });\n		} else {\n			$(\"#splash-pages\").find(\"th:eq(\"+index+\")\").hide();\n			$(\"#splash-pages td:nth-child(\"+(index+1)+\")\").hide();\n		\n		}\n	\n\n	});\n});\n\nvar adminFunctions = {\n\n	//function takes an event id or event domain and finds the corresponding event message rows.\n	searchForTemplate: function(){\n		var val = $(\"#event-id-input\").val();\n		if(val.trim()==''){\n			alert('Please enter valid event id or domain');\n			return false;\n		}\n		$(\"#template-results\").addClass('loading');\n		$.ajax({\n			url: \"/admin/cloneEmailTemplate\",\n			type: 'POST',\n			data: { 'event': val },\n			dataType: 'json',\n			success:function(data){\n				var markup ='';\n				if(data && data.emails && data.emails['all']){\n					for(var x in data.emails['all']){\n						markup += '<tr data-event-message-id=\"'+data.emails['all'][x]['EventMessage']['id']+'\">'+\n						'<td>'+data.emails['all'][x]['EventMessage']['subject']+'</td>'+\n						'<td>'+data.emails['all'][x]['EventMessage']['status']+'</td>'+\n						'<td>'+data.emails['all'][x]['EventMessage']['is_template']+'</td>'+\n						'<td><a href=\"#\" class=\"clone-template\">clone</a></td>'+\n						'</tr>';\n					}\n				}\n				$(\"#template-results\").removeClass('loading').find(\"tbody\").html(markup);\n\n			},\n			error:function(){\n				alert('There was an error on this lookup.  No event found');\n				$(\"#template-results\").removeClass('loading');\n			}\n		})\n	},\n\n	//clones an event message from an existing event into a new one. \n	cloneTemplate: function(params){\n		$.ajax({\n			url: \"/admin/cloneEmailTemplate\",\n			type: 'POST',\n			data: params,\n			dataType: 'json',\n			success:function(data){\n				if(data.success){\n					alert('Message cloned!');\n				} else {\n					alert('err #345: No message cloned :(');\n				}\n			},\n			error:function(){\n				alert('There was an error on this save. Please try again.');\n			}\n		})\n	}\n}",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/admin.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 9464,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/admin/event_types.ctp",
			"settings":
			{
				"buffer_size": 7414,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/blank-group.ctp",
			"settings":
			{
				"buffer_size": 1118,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/legacy/splash/blank-group.ctp",
			"settings":
			{
				"buffer_size": 1118,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block.ctp",
			"settings":
			{
				"buffer_size": 2798,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/add-new-section.ctp",
			"settings":
			{
				"buffer_size": 9296,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-countdown.ctp",
			"settings":
			{
				"buffer_size": 2176,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/settings-modal.css",
			"settings":
			{
				"buffer_size": 23463,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/venue-search.ctp",
			"settings":
			{
				"buffer_size": 4740,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/map-embed.ctp",
			"settings":
			{
				"buffer_size": 3836,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/address_book_controller.php",
			"settings":
			{
				"buffer_size": 99263,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/api_controller.php",
			"settings":
			{
				"buffer_size": 129553,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/photos_controller.php",
			"settings":
			{
				"buffer_size": 11576,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/event-datepicker.ctp",
			"settings":
			{
				"buffer_size": 4167,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "// This script holds the controls and actions for\n// Elements in Splash pages\n// If need help to know how this file is organized, ask\n\n// - Countdowm\n// - Comments\n// - Nav\n// - Hubs ( partial )\n\n$(function() {\n\n	/*\n	countdown is a simple jquery plugin for countdowns\n	minified by http://jscompress.com/\n	Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\n	and GPL-3.0 (http://opensource.org/licenses/GPL-3.0) licenses.\n	@source: http://github.com/rendro/countdown/\n	@autor: Robert Fleischmann\n	@version: 1.0.1\n	*/\n	(function(){(function(e){e.countdown=function(t,n){var r,i=this;this.el=t;this.$el=e(t);this.$el.data(\"countdown\",this);this.init=function(){i.options=e.extend({},e.countdown.defaultOptions,n);if(i.options.refresh){i.interval=setInterval(function(){return i.render()},i.options.refresh)}i.render();return i};r=function(t){var n,r;t=Date.parse(e.isPlainObject(i.options.date)?i.options.date:new Date(i.options.date));r=(t-Date.parse(new Date))/1e3;if(r<=0){r=0;if(i.interval){i.stop()}i.options.onEnd.apply(i)}n={years:0,days:0,hours:0,min:0,sec:0,millisec:0};if(r>=365.25*86400){n.years=Math.floor(r/(365.25*86400));r-=n.years*365.25*86400}if(r>=86400){n.days=Math.floor(r/86400);r-=n.days*86400}if(r>=3600){n.hours=Math.floor(r/3600);r-=n.hours*3600}if(r>=60){n.min=Math.floor(r/60);r-=n.min*60}n.sec=r;return n};this.leadingZeros=function(e,t){if(t==null){t=2}e=String(e);while(e.length<t){e=\"0\"+e}return e};this.update=function(e){i.options.date=e;return i};this.render=function(){i.options.render.apply(i,[r(i.options.date)]);return i};this.stop=function(){if(i.interval){clearInterval(i.interval)}i.interval=null;return i};this.start=function(t){if(t==null){t=i.options.refresh||e.countdown.defaultOptions.refresh}if(i.interval){clearInterval(i.interval)}i.render();i.options.refresh=t;i.interval=setInterval(function(){return i.render()},i.options.refresh);return i};return this.init()};e.countdown.defaultOptions={date:\"June 7, 2087 15:03:25\",refresh:1e3,onEnd:e.noop,render:function(t){return e(this.el).html(\"\"+t.years+\" years, \"+t.days+\" days, \"+this.leadingZeros(t.hours)+\" hours, \"+this.leadingZeros(t.min)+\" min and \"+this.leadingZeros(t.sec)+\" sec\")}};e.fn.countdown=function(t){return e.each(this,function(n,r){var i;i=e(r);if(!i.data(\"countdown\")){return i.data(\"countdown\",new e.countdown(r,t))}})};return void 0})(jQuery)}).call(this)\n\n\n	// DATE FORMATTING\n	// Simulates PHP's date function\n	// http://jacwright.com/projects/javascript/date_format/\n	Date.prototype.format=function(e){var t=\"\";var n=Date.replaceChars;for(var r=0;r<e.length;r++){var i=e.charAt(r);if(r-1>=0&&e.charAt(r-1)==\"\\\\\"){t+=i}else if(n[i]){t+=n[i].call(this)}else if(i!=\"\\\\\"){t+=i}}return t};Date.replaceChars={shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],longMonths:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],longDays:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],d:function(){return(this.getDate()<10?\"0\":\"\")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&this.getDate()!=11?\"st\":this.getDate()%10==2&&this.getDate()!=12?\"nd\":this.getDate()%10==3&&this.getDate()!=13?\"rd\":\"th\"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?\"0\":\"\")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return(new Date(e.getFullYear(),e.getMonth(),0)).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());e.setDate(e.getDate()-(this.getDay()+6)%7+3);return e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(\"\"+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?\"am\":\"pm\"},A:function(){return this.getHours()<12?\"AM\":\"PM\"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?\"0\":\"\")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?\"0\":\"\")+this.getHours()},i:function(){return(this.getMinutes()<10?\"0\":\"\")+this.getMinutes()},s:function(){return(this.getSeconds()<10?\"0\":\"\")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?\"00\":e<100?\"0\":\"\")+e},e:function(){return\"Not Yet Supported\"},I:function(){var e=null;for(var t=0;t<12;++t){var n=new Date(this.getFullYear(),t,1);var r=n.getTimezoneOffset();if(e===null)e=r;else if(r<e){e=r;break}else if(r>e)break}return this.getTimezoneOffset()==e|0},O:function(){return(-this.getTimezoneOffset()<0?\"-\":\"+\")+(Math.abs(this.getTimezoneOffset()/60)<10?\"0\":\"\")+Math.abs(this.getTimezoneOffset()/60)+\"00\"},P:function(){return(-this.getTimezoneOffset()<0?\"-\":\"+\")+(Math.abs(this.getTimezoneOffset()/60)<10?\"0\":\"\")+Math.abs(this.getTimezoneOffset()/60)+\":00\"},T:function(){var e=this.getMonth();this.setMonth(0);var t=this.toTimeString().replace(/^.+ \\(?([^\\)]+)\\)?$/,\"$1\");this.setMonth(e);return t},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format(\"Y-m-d\\\\TH:i:sP\")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}}\n\n\n\n\n	// ########################################################################\n	//\n	// COUNTDOWN element\n	//\n	// ########################################################################\n	\n	if ( typeof CountdownElement == 'undefined' )\n		CountdownElement = {};\n\n	jQuery.extend( CountdownElement, {\n\n		// initializes all splash feed countdown elements in the splash page\n		initAll: function() {\n			$.each( $('#splash-container .sf.countdown'), function() {\n				CountdownElement.init( $(this) );\n			});\n		},\n\n		// initializes the given splash feed countdown element\n		init: function( $sf ) {\n\n			if ( !_event.date.tbd ) {\n\n				$sf.countdown({\n					date: _event.date.start,\n					refresh: 1000,\n					render: function(data) {\n						CountdownElement.render(data, $(this.el));\n					},\n					onEnd: function() {\n					}\n				})\n\n			}\n			else {\n				$sf.find('.countdown-date-tbd').show().end()\n					.find('.countdown-body').hide();\n			}\n\n		},\n\n		render: function ( data, $sf ) {\n			$sf.find('.countdown-plain .days').text( data.days );\n			$sf.find('.countdown-plain .hours').text( data.hours );\n			$sf.find('.countdown-plain .minutes').text( data.min );\n			$sf.find('.countdown-plain .seconds').text( data.sec );\n		},\n\n		updateAll: function () {\n\n			if ( _event.date.tbd ) {\n				$('#splash-container .sf.countdown .countdown-date-tbd').show();\n				$('#splash-container .sf.countdown .countdown-body').hide();\n				$.each( $('#splash-container .sf.countdown'), function() {\n					$(this).data('countdown').stop();\n				});\n			}\n			else {\n				new_time = new Date(_event.date.start);\n				$.each( $('#splash-container .sf.countdown'), function() {\n\n					// maybe the countdown hasnt been initiated due to date tbd at the beginning\n					if ( typeof $(this).data('countdown') == 'undefined') {\n						CountdownElement.init($(this));\n					} else {\n						$(this).data('countdown').update(new_time).start();\n					}\n				});\n				$('#splash-container .sf.countdown .countdown-date-tbd').hide();\n				$('#splash-container .sf.countdown .countdown-body').show();\n			}\n		}\n	});\n\n	CountdownElement.initAll();\n\n\n	// ########################################################################\n	//\n	// COMMENTS element\n	//\n	// ########################################################################\n\n	if ( typeof CommentsElement == 'undefined' ){\n		CommentsElement = {};\n	}\n\n	// CommentsElement object, encapsulates all logic and UI operations related with this element\n	jQuery.extend( CommentsElement, {\n\n		show_more_increment : 500,\n\n		// for each sfid, holds info about if deleting is allowed at UI level, and comment count\n		data : {},\n\n		getSorting: function ( $sf ) {\n			return $sf.hasClass('oldestToNewest') ? 'oldestToNewest' : 'newestToOldest';\n		},\n\n		// Show the option to delete comments if this is the event owner\n		showDeleteButtons: function( $sf ) {\n			var deleting_allowed = typeof CommentsElement.data[ $sf.attr('id') ]['deleting_allowed'] != 'undefined' ? CommentsElement.data[ $sf.attr('id') ]['deleting_allowed'] : false;\n\n			if ( deleting_allowed )\n				$sf.find('.comment-wrapper .comment-action-reply').after(\n					CommentsElement.getDeleteButton()\n				);\n		},\n\n\n		getDeleteButton: function () {\n			return '<span class=\"divider\"> · </span> <a class=\"comment-action-delete\">Delete</a>';\n		},\n\n\n		// Validation of fields in the comment post form\n		commentFormValidation: function ( $form, name, email, body ) {\n\n			var validates = true;\n\n			if ( typeof(name) == \"undefined\" || name === '' ) {\n				$form.find('.new-comment-name').addClass('error');\n				validates = false;\n			} else\n				$form.find('.new-comment-name').removeClass('error');\n\n			if ( typeof(email) == \"undefined\" || ! isValidEmail(email) ) {\n				$form.find('.new-comment-email').addClass('error');\n				validates = false;\n			} else\n				$form.find('.new-comment-email').removeClass('error');\n\n			if ( typeof(body) == \"undefined\" || body === '' ) {\n				$form.find('.new-comment-body').addClass('error');\n				validates = false;\n			} else\n				$form.find('.new-comment-body').removeClass('error');\n\n			return validates;\n		},\n\n\n		// returns true if any child of this comment_data is not deleted\n		hasActiveChildren: function ( comment_data ) {\n\n			var hasChildren = (typeof(comment_data['children']) != 'undefined' && comment_data['children'].length > 0);\n\n			if ( !hasChildren ) return false;\n\n			// first, iterate through first level of children looking for any undeleted child. In that case, we return true directly\n			var i;\n			for ( i = 0; i < comment_data['children'].length; i++ )\n				if ( comment_data['children'][i]['SplashComment']['deleted'] == 0 )\n					return true;\n\n			// if all direct children were deleted, we must go inside them and do the same\n			for ( i = 0; i < comment_data['children'].length; i++ )\n				if ( CommentsElement.hasActiveChildren (comment_data['children'][i]['SplashComment']['deleted']) )\n					return true;\n\n			// if no children at any level where found to be active, then we return that there are no active children\n			return false;\n		},\n\n\n		// Returns the HTML with the comments that were passed in the parameter\n		populateCommentTemplate: function ( comment_data, sfid ) {\n\n			var $new_comment;\n\n			// If the comment was deleted but it had children, we render the comment deleted template\n			if ( comment_data['deleted'] == 1 && CommentsElement.hasActiveChildren(comment_data) ) {\n				$new_comment = $('#splash-container .sf.comments:first').find('.template-deleted-comment').clone();\n				$new_comment.removeClass('template-deleted-comment');\n			}\n\n			// If comment wasnt deleted, load a blank comment and populate it with the received information\n			else if ( comment_data['deleted'] == 0 ) {\n			\n				$new_comment = $('#splash-container .sf.comments:first').find('.template-blank-comment').clone();\n				$new_comment.removeClass('template-blank-comment');\n				$new_comment.find('.comment-author').text( comment_data['name'] );\n				$new_comment.find('.comment-user-id').text( typeof comment_data['user_id'] != 'undefined' ? comment_data['user_id'] : '' );\n				$new_comment.find('.comment-body').text( comment_data['body'] );\n				var created = comment_data['created'].replace(/  /,\" \").split(\" \");\n				$new_comment.find('.comment-action-date .comment-date-month').text( created[1] );\n				$new_comment.find('.comment-action-date .comment-date-day').text( created[2] );\n				$new_comment.find('.comment-action-date .comment-date-time').text( created[3] );\n				$new_comment.find('.comment-form').attr('data-id',comment_data['id']);\n				$new_comment.find('.new-comment-name label') .attr('for','new-comment-name-'+comment_data['id']);\n				$new_comment.find('.new-comment-name input') .attr('id' ,'new-comment-name-'+comment_data['id']);\n				$new_comment.find('.new-comment-email label').attr('for','new-comment-email-'+comment_data['id']);\n				$new_comment.find('.new-comment-email input').attr('id' ,'new-comment-email-'+comment_data['id']);\n				$new_comment.find('.new-comment-body label') .attr('for','new-comment-body-'+comment_data['id']);\n				$new_comment.find('.new-comment-body textarea') .attr('id' ,'new-comment-body-'+comment_data['id']);\n\n				if ( typeof comment_data['avatar'] != 'undefined' && comment_data['avatar'] != null ) {\n					$new_comment.find('.comment-avatar')\n						.find('img').attr('src', comment_data['avatar'] ).show().end()\n						.find('.letter-icon').hide();\n				} else {\n					$new_comment.find('.comment-avatar')\n						.find('img').hide().end()\n						.find('.letter-icon').text( comment_data['name'].charAt(0) );\n				}\n				\n\n				CommentsElement.data[sfid]['count']++;\n			}\n\n			// If the comment was deleted and has no children, return an empty string\n			else\n				return '';\n\n			// Look for children and populate children elements\n			if ( typeof(comment_data['children']) != 'undefined' && comment_data['children'].length > 0 ) {\n				$.each( comment_data['children'], function(index, child) {\n					$new_comment.children('.comment-responses').append ( CommentsElement.populateCommentTemplate ( child['SplashComment'], sfid ) );\n				});\n			}\n			return $new_comment;\n		},\n\n\n		// Renders the comments inside the comments element. $sf is the splash feed jquery object\n		renderComments: function ( response, $sf ) {\n\n			// If response result is empty, put a no comments message\n			if ( typeof(response['result']) != 'undefined' ) {\n				var $comments_to_append = $();\n				$.each( response['result'], function( index, comment_data ) {\n					$comments_to_append = $comments_to_append.add(\n						CommentsElement.populateCommentTemplate ( comment_data['SplashComment'], $sf.attr('id') ) \n					);\n					\n				});\n				$sf.find('.comment-wrapper').append( $comments_to_append );\n\n				$sf.find('.comments-element-header span').text( CommentsElement.data[ $sf.attr('id') ]['count'] );\n				if ( typeof(response['deletePermission']) != 'undefined' && response['deletePermission'] == true ) {\n					CommentsElement.data[ $sf.attr('id') ]['deleting_allowed'] = true;\n					CommentsElement.showDeleteButtons( $sf );\n				}\n			}\n\n\n			if ( $sf.hasClass('newestToOldest') )\n				$sf.find('.comment-response-top-level.top-placed').show().end()\n				   .find('.comment-response-top-level.bottom-placed').hide();\n\n			else if ( $sf.hasClass('oldestToNewest') )\n				$sf.find('.comment-response-top-level.bottom-placed').show().end()\n				   .find('.comment-response-top-level.top-placed').hide();\n\n			// To show automatically the Show More button if needed\n			var heightOfComments = 0;\n			$wrapper = $sf.find('.comment-wrapper');\n			$.each( $sf.find('.comment-wrapper>.comment-item'), function() {\n				heightOfComments += $(this).height();\n			} )\n			if ( $wrapper.height() < heightOfComments ) {\n				$('.comment-show-more').show();\n			}\n			\n			$sf.find('.loader').hide();\n		},\n\n\n		// Requests the comments for the given splash feed element to the server via AJAX\n		loadCommentsElement: function ( $sf, reset ) {\n			if ( typeof($sf) == 'undefined' || $sf == null ) return;\n\n			var sfid = $sf.attr('id');\n\n			if ( typeof CommentsElement.data[$sf.attr('id')] == 'undefined' ) {\n				CommentsElement.data[sfid] = {};\n				CommentsElement.data[sfid]['deleting_allowed'] = false;\n				CommentsElement.data[sfid]['count'] = 0;\n			}\n\n			reset = typeof reset !== 'undefined' ? reset : true; // if reshesing, delete previous comments shown\n\n			var parameters = {};\n			parameters['action'] = 'comments';\n			parameters['method'] = 'get';\n			parameters['sorting'] = CommentsElement.getSorting($sf);\n			parameters['splash_feed_id'] = $sf.attr('id').match(/^sfid-([0-9]+)$/)[1];\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response.replace(/&amp;/g,'&') );\n\n				// if the response has errors, print them in console\n				if ( typeof(response['errors']) != 'undefined' ) {\n					console.log(\"Get Comments Response: errors\");\n					console.log(response['errors']);\n				}\n\n				// if the response is successful, populate the template and render the view\n				else {\n					if ( reset ) {\n						$sf.css( 'height', $sf.height() + 'px' ); // we force the height while repopulating so that the page height doesn't change\n						$sf.find('.comment-wrapper').html('');\n						CommentsElement.data[sfid]['count'] = 0;\n					}\n					CommentsElement.renderComments( response, $sf );\n					if ( reset )\n						$sf.css( 'height', 'auto' );\n				}\n\n\n				CommentsElement.showMore($sf,10); // arbitraty value\n\n				if ( typeof customAfterCommentsLoad == 'function' )\n					customAfterCommentsLoad(response);\n\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Get Comments Response: \"+ xhr.status+ \" - \"+error);\n			});\n		},\n\n\n		// Executed when the POST button of a new comment form is pressed\n		postButtonAction: function ( $post_button_element ) {\n			var $form = $post_button_element.closest('.comment-form');\n			var name = $form.find('.new-comment-name input').val();\n			var email = $form.find('.new-comment-email input').val();\n			var body = $form.find('.new-comment-body textarea').val();\n\n			if ( !CommentsElement.commentFormValidation($form, name, email, body) )\n				return false;\n			\n			var parameters = {};\n			parameters['action'] = 'comments';\n			parameters['method'] = 'new';\n			parameters['comment'] = {};\n			parameters['comment']['name'] = name;\n			parameters['comment']['email'] = email;\n			parameters['comment']['body'] = body;\n			parameters['comment']['parent_id'] = $form.attr('data-id');\n			parameters['comment']['splash_feed_id'] = $form.closest('.sf.comments').attr('id').match(/^sfid-([0-9]+)$/)[1];\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response );\n				$sf = $form.closest('#splash-container .sf.comments');\n\n				// if the response has errors, show each one of them\n				if ( typeof(response['errors']) != 'undefined' ) {\n					$error_div = $form.find('.new-comment-server-error');\n					$.each ( response['errors'], function(i, val) {\n						if ( val == 'event-id-doesnt-match' )\n							$error_div.append( $('<div>').text(\"Can't post a comment here\")).show();\n						else if ( val == 'empty-parameter' )\n							$error_div.append( $('<div>').text(\"Please fill out all fields\")).show();\n						else if ( val == 'email-wrong-format' )\n							$error_div.append( $('<div>').text(\"Please write a valid email address\")).show();\n						else\n							console.log(\"New Comment Response: error \"+val);\n					});\n				}\n\n				// if the response is successful\n				else if ( typeof(response['success']) != 'undefined' ) {\n\n					// Empty the form (unless the inputs are hidden because it is a logged in user)\n					$form.find('.new-comment-name:not(.hide) input').val('');\n					$form.find('.new-comment-email:not(.hide) input').val('');\n					$form.find('.new-comment-body textarea').val('');\n\n					comment_data = response['success'];\n\n					// Load a blank comment and populate it with the received information\n					$new_comment = $sf.find('.template-blank-comment').clone();\n					$new_comment.removeClass('template-blank-comment');\n					$new_comment.find('.comment-author').text( comment_data['name'] );\n					$new_comment.find('.comment-body').text( comment_data['body'] );\n					$new_comment.find('.comment-action-date').text( comment_data['created'] );\n					$new_comment.find('.comment-form').attr('data-id',comment_data['id']);\n					$new_comment.find('.new-comment-name label') .attr('for','new-comment-name-'+comment_data['id']);\n					$new_comment.find('.new-comment-name input') .attr('id' ,'new-comment-name-'+comment_data['id']);\n					$new_comment.find('.new-comment-email label').attr('for','new-comment-email-'+comment_data['id']);\n					$new_comment.find('.new-comment-email input').attr('id' ,'new-comment-email-'+comment_data['id']);\n					$new_comment.find('.new-comment-body label') .attr('for','new-comment-body-'+comment_data['id']);\n					$new_comment.find('.new-comment-body textarea') .attr('id' ,'new-comment-body-'+comment_data['id']);\n					\n					if ( typeof comment_data['avatar'] != 'undefined' && comment_data['avatar'] != null ) {\n						$new_comment.find('.comment-avatar')\n							.find('img').attr('src', comment_data['avatar'] ).show().end()\n							.find('.letter-icon').hide();\n					} else {\n						$new_comment.find('.comment-avatar')\n							.find('img').hide().end()\n							.find('.letter-icon').text( comment_data['name'].charAt(0) );\n					}\n\n					if ( CommentsElement.data[ $sf.attr('id') ]['deleting_allowed'] ) {\n						$new_comment.find('.comment-action-reply').after( CommentsElement.getDeleteButton() );\n					}\n\n					$form.hide();\n\n					if ( typeof(comment_data['parent_id']) == 'undefined' || comment_data['parent_id'] == 0 ) {\n\n						if ( $sf.hasClass('newestToOldest') )\n							$sf.find('.comment-wrapper').prepend( $new_comment );\n						else \n							$sf.find('.comment-wrapper').append( $new_comment );\n						\n						$sf.find('.comment-response-top-level .comment-form').hide().end()\n							.find('.dummy').show();\n					}\n					else {\n						if ( $sf.hasClass('newestToOldest') )\n							$form.closest('.comment-item').children('.comment-responses').prepend( $new_comment );\n						else\n							$form.closest('.comment-item').children('.comment-responses').append( $new_comment );\n						$form.closest('.comment-item').find('.comment-action-reply').text('Reply');\n					}\n					CommentsElement.data[ $sf.attr('id') ]['count']++;\n					$sf.find('.comments-element-header span').text( CommentsElement.data[ $sf.attr('id') ]['count'] );\n\n					if ( $sf.hasClass('newestToOldest') )\n						CommentsElement.showMore( $sf , 0 ); // to show or hide the show more button\n					else\n						CommentsElement.showMore( $sf , -1 ); // to show all\n					CommentsElement.publishAnimation($new_comment);\n				}\n\n				else\n					console.log(\"New Comment Response: response not recognized\");\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"New Comment Response: \"+ xhr.status+ \" - \"+error);\n				$form.find('.new-comment-server-error').append( $('<div>').text(\"Sorry, couldn't post a new comment\")).show();\n			});\n		},\n\n		// Executed when the DELETE link is clicked, to delete a comment\n		deleteCommentAction: function( $commentActionDelete ) {\n\n			$this = $commentActionDelete;\n			$sf = $this.closest('.sf.comments');\n			var parameters = {};\n			parameters['action'] = 'comments';\n			parameters['method'] = 'delete';\n			parameters['comment'] = {};\n			parameters['comment']['id'] = $this.closest('.comment-actions').find('.comment-form').attr('data-id');\n			parameters['comment']['splash_feed_id'] = $sf.attr('id').match(/^sfid-([0-9]+)$/)[1];\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response );\n\n				// if the response has errors, show each one of them\n				if ( typeof(response['errors']) != 'undefined' ) {\n					console.log(\"Delete Comment Response: errors\");\n					console.log(response['errors']);\n					$this.closest('.comment-actions').find('.comment-action-date').after(\n						'<span class=\"divider\"> · </span>'+\n						\"<a class='comment-server-error'>Couldn't delete</a>\"\n					);\n				}\n\n				// if the response is successful, remove the comment from the view\n				else if ( typeof(response['success']) != 'undefined' ) {\n\n					$deleted_comment = $sf.find('.template-deleted-comment').clone();\n					$deleted_comment.removeClass('template-deleted-comment');\n					$deleted_comment.find('.comment-responses').html( $this.closest('.comment-item').children('.comment-responses') );\n					$this.closest('.comment-item').html( $deleted_comment );\n\n					CommentsElement.data[ $sf.attr('id') ]['count']--;\n					$sf.find('.comments-element-header span').text( CommentsElement.data[ $sf.attr('id') ]['count'] );\n\n					CommentsElement.showMore( $sf , 0 ); // to show or hide the show more button\n				}\n\n				else\n					console.log(\"Delete Comment Response: response not recognized\");\n\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Delete Comment Response: \"+ xhr.status+ \" - \"+error);\n				$this.closest('.comment-actions').find('.comment-action-date').after(\n					'<span class=\"divider\"> · </span>'+\n					\"<a class='comment-server-error'>Couldn't delete</a>\"\n				);\n			});\n		},\n\n		// Executed when clicking on the REPLY link in a comment\n		replyCommentFormShow: function ( $comment_action_reply ) {\n\n			$this = $comment_action_reply;\n			var $form = $this.closest('.comment-actions').find('.comment-form');\n			var top_level_response = false;\n\n			// for top level response\n			if ( $form.length == 0 ) { \n				$form = $this.closest('.comment-form'); \n				top_level_response = true;\n			}\n\n			if ( $form.is(\":visible\") ) {\n				if(!top_level_response) {\n					$this.text('Reply');\n					$form.slideUp(400, function() {\n						CommentsElement.showMore( $form.closest('.sf.comments') , -$form.height() );\n					});\n				}				\n				else  {\n					$form.hide();\n					$this.closest('.comment-response-top-level').find('.dummy').show();\n				}\n					\n			}\n			else {\n				$form.slideDown(400, function() {\n					CommentsElement.showMore( $form.closest('.sf.comments') , $form.height() );\n				});\n				$this.text('Close').closest('.comment-actions').find('.new-comment-body textarea').focus();\n\n			}\n		},\n\n		// Executed to display the post comment form for top level\n		postCommentFormShow: function ( $response_textarea ) {\n			$this = $response_textarea;\n			$this.closest('.dummy').hide();\n			$this.closest('.comment-response-top-level').find('.comment-form').slideDown().find('.new-comment-body textarea').focus();\n		},\n\n		// Executed to refresh the comments inside the element, but not the whole element\n		refreshComments: function ( $sf ) {\n\n			//$loading_icon = $this.siblings('.loading-icon');\n			//$loading_icon.show();\n			$sf.find('.refresh-loader').show();\n			CommentsElement.loadCommentsElement( $sf, true );\n			setTimeout( function() {\n				$sf.find('.refresh-loader').hide();\n			}, 100)\n		},\n\n		// Animation executed when displaying a just posted comment\n		publishAnimation: function ( $comment_item ) {\n\n			var interval = 300;\n			var interval1 = interval;\n\n			var viewportcisi = isElementInViewport($comment_item);\n			if ( !isElementInViewport($comment_item) ) {\n				var intervalScroll = 500;\n				$('html, body').animate({\n			        scrollTop: $comment_item.offset().top + $comment_item.height() + $comment_item.height() - document.documentElement.clientHeight\n			    }, interval);\n			    interval1 += intervalScroll;\n			}\n\n			$comment_item.animate({\n				opacity: '.2',\n			}, interval1, function() {\n				$comment_item.animate({\n				opacity: '1',\n				}, interval, function() {\n					$comment_item.animate({\n					opacity: '.2',\n					}, interval, function() {\n						$comment_item.animate({\n						opacity: '1',\n						}, interval );\n					})\n				})\n			})\n		},\n\n		// to show more comments\n		showMore: function ( $sf , increment ) {\n\n			increment = typeof increment == 'undefined' ? CommentsElement.show_more_increment : increment;\n\n			$wrapper = $sf.find('.comment-wrapper');\n\n			var heightOfComments = 0;\n			$.each( $sf.find('.comment-wrapper>.comment-item'), function() {\n				heightOfComments += $(this).height();\n			} )\n\n			var wrapper_height = $wrapper.height();\n\n			// if increment is -1, then show all\n			if ( increment == -1 ) {\n				$wrapper.css('max-height', '' + heightOfComments +'px' );\n				$('.comment-show-more').hide();\n			}\n			else if ( wrapper_height+2 <= heightOfComments ) {\n				$wrapper.css('max-height', '' + ($wrapper.height() + increment ) +'px' );\n				wrapper_height = $wrapper.height();\n				if ( wrapper_height+2 >= heightOfComments )\n					$('.comment-show-more').hide();\n				else\n					$('.comment-show-more').show();\n			}\n			else \n				$('.comment-show-more').hide();\n\n		},\n\n		// when loading for the first time, especial considerations must be taken since there is no element in the DB yet\n		firstTimeLoad: function ( $sf ) {\n			$sf.find('.loader').hide();\n			$sf.find('.first-time-msg').show();\n		},\n\n	}); // End of CommentsElement object\n\n	// used for the automatic scroll when posting a comment that isn't in the viewport\n	// http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n	function isElementInViewport ($el) {\n\n		var viewportWidth = jQuery(window).width(),\n		viewportHeight = jQuery(window).height(),\n\n		documentScrollTop = jQuery(document).scrollTop(),\n		documentScrollLeft = jQuery(document).scrollLeft(),\n\n		minTop = documentScrollTop,\n		maxTop = documentScrollTop + viewportHeight,\n		minLeft = documentScrollLeft,\n		maxLeft = documentScrollLeft + viewportWidth,\n\n		elementOffset = $el.offset();\n\n        return (\n	        (elementOffset.top > minTop && elementOffset.top < maxTop) &&\n	        (elementOffset.left > minLeft &&elementOffset.left < maxLeft)\n	    )\n	}\n	\n\n	// Load comments through AJAX when the page is loaded\n	// Perform AJAX request for each comments element in the page\n	$.each( $('#splash-container .sf.comments'), function() {\n		CommentsElement.loadCommentsElement($(this));\n	});\n\n	// Refresh comments in the element\n	$('.refresh-comments').on('click', function() {\n		CommentsElement.refreshComments( $(this).closest('.sf.comments') );\n	});\n\n	// Show the hidden top level post comment form\n	$(document.body).on('click', '.comment-response-top-level .dummy textarea', function(e) {\n		CommentsElement.postCommentFormShow( $(e.target) );\n	});\n\n\n	// Show or hide the comment post form\n	$(document.body).on('click', '.comment-action-reply', function(e) {\n		CommentsElement.replyCommentFormShow( $(e.target) );\n	});\n\n	// Delete comment button\n	$(document.body).on('click', '.comment-action-delete', function(e) {\n		CommentsElement.deleteCommentAction( $(e.target) );\n	});\n\n	// Post comment button action\n	$(document.body).on('click', '.comment-form .post-button', function(e) {\n		CommentsElement.postButtonAction( $(e.target) );\n	});\n\n	// Show more button\n	$('.comment-show-more').on('click', function () {\n		CommentsElement.showMore( $(this).closest('.sf.comments') );\n	});\n\n\n	// ########################################################################\n	//\n	// NAV element\n	//\n	// ########################################################################\n\n	if ( typeof NavElement == 'undefined' ){\n		NavElement = {};\n	}\n\n	jQuery.extend( NavElement, {\n\n		// open or close the mobile menu\n		toggleMobileMenu: function( $sf, $a ) {\n			$children = $sf.find('.children');\n			$dropdown = $sf.find('.nav-dropdown-selected');\n\n			if ( $children.hasClass('open') ) {\n				$children.removeClass('open');\n				$dropdown.removeClass('open');\n			} else {\n				$children.addClass('open');\n				$dropdown.addClass('open');\n			}\n\n			if ( typeof $a != 'undefined' )\n				$sf.find('.nav-dropdown-selected>div').html( $a.html() );\n		}\n	});\n\n	$('.sf.nav.horizontal-hamburger .nav-hamburger, .sf.nav.horizontal-dropdown .nav-dropdown-selected').on('click', function() {\n		NavElement.toggleMobileMenu( $(this).closest('.nav.sf') );\n	});\n	$('.sf.nav.horizontal-dropdown .nav-item a').on('click', function() {\n		// if we are clicking on a link to an element in this page, close menu\n		if ( $(this).attr('href').indexOf('#') == 0 ) {\n			NavElement.toggleMobileMenu( $(this).closest('.nav.sf'), $(this) );\n		}\n	});\n\n	// initial value of dropdown\n	$.each( $('.sf.nav'), function() {\n		$(this).find('.nav-dropdown-selected>div').html( $(this).find('.nav-item:first a').html() );\n	});\n\n\n\n	// ########################################################################\n	//\n	// HUB element. Not everything here, only new logic\n	//\n	// ########################################################################\n\n	HubElement = typeof HubElement != 'undefined' ? HubElement : {};\n\n	jQuery.extend( HubElement, {\n\n		//opts:{},    // sf_event_hub_id => array ( option_key => option_value ). They are loaded in the block\n		events:{},   // sf_event_hub_id => array ( sf_event_hub_item_id => information_of_the_event )\n		sorting:{},  // sort_index => sf_event_hub_id\n\n		// initializes the hubs, to be executed after data is loaded\n		init: function () {\n			// for each event hub in the page, render\n			$.each( $('#splash-container .sf.event-hub'), function () {\n\n				var sfid = $(this).attr('id').replace('sfid-','');\n\n				if ( typeof HubElement.opts[sfid] != 'undefined' ){\n\n					if ( HubElement.opts[sfid] == null ) {\n						HubElement.opts[sfid] = {};\n					}\n\n					HubElement.events[sfid] = {};\n					HubElement.sorting[sfid] = [];\n\n					HubElement.getHubItems( sfid, function ( hub_id ){\n\n						$sf = $('#sfid-'+hub_id);\n\n						HubElement.renderHub($sf);\n\n						if ( !jQuery.isEmptyObject(HubElement.events[hub_id]) ) {\n\n							if ( $sf.hasClass('count-rsvps') ) {\n								HubElement.getRsvpCounts( $sf );\n							}\n							if ( $sf.hasClass('load-comments') ) {\n								HubElement.getComments( $sf );\n							}\n						}\n\n						// apply specific JS rules for this mode\n						var mode = $sf.parents(\".layoutGrp:first\").attr(\"mode\");\n						if(typeof mode !== 'undefined'){\n							HubElement.checkForModeJs($sf,mode);\n						}\n\n					});\n				}\n			});\n		},\n\n		// load the event ids in this hub, and put them in a map where:\n		//   key => event_id             eg: '123123129'\n		//   value => event_hub_item id  eg: 'sfid-9123331'\n		getEventHubItemIds: function ($sf) {\n\n			var event_ids = {};\n			$.each( $sf.find('.event-hub-item'), function() {\n				var hub_event_id = $(this).find('.event-id').val();\n				if ( hub_event_id !== '' ) {\n					//appends the sfid to the event_id array, so we can do a direct #id lookup in the response further down.\n					event_ids[ hub_event_id ] = $(this).attr('id');\n				}\n			});\n			return event_ids;\n		},\n\n\n		renderHub: function ($sf, eventData) {\n\n			var hub_id = $sf.attr('id').match(/^sfid-([0-9]+)$/)[1];\n			var opts = HubElement.opts[hub_id];\n\n			// Show all items on page load\n			if(typeof opts['show_all_events']!=='undefined' && opts['show_all_events']=='1'){\n				\n				$hub_items = $();\n\n				if(eventData != null){\n					\n					//in this case, we are being passed specific data...ie. atlassian profile hub populating.\n					$.each( eventData, function ( event_id, thisEventData ) {\n						var $layout = $sf.find('.template-hub-item').clone();\n						$hub_items = $hub_items.add( HubElement.populateTemplate($layout, thisEventData, event_id) );\n					});\n\n				} else {\n				\n					// load template here and populate it\n					$.each( HubElement.sorting[hub_id], function ( item_sorting, item_sfid ) {\n						var $layout = $sf.find('.template-hub-item').clone();\n						$hub_items = $hub_items.add( HubElement.populateTemplate($layout, HubElement.events[hub_id][item_sfid], item_sfid ) );\n						\n						// -- Flag as rendered -------------------\n						HubElement.events[hub_id][item_sfid]['rendered'] = true;\n					});\n				\n				}	\n				\n				if ( $hub_items.length > 0 ) {\n					$sf.find('.children').append( $hub_items );\n					$sf.removeClass('empty-hub');\n				} else {\n					$sf.addClass('empty-hub');\n				}\n			}\n\n			// hub division between PAST and FUTURE on client side. For Atlssn\n			if(typeof opts['hub_divide']!=='undefined' && opts['hub_divide']=='1'){\n				HubElement.dividePastUpcomingEvents($sf, true);\n			}\n\n			// hub geolocation and sorting on client side\n			if(typeof opts['geolocate']!=='undefined' && opts['geolocate']=='1'){\n\n				Geolocation.geolocateMe()\n				.success( function( response ) {\n\n					if(typeof response!=='undefined' && typeof response.zipcode!=='undefined'){\n						if(response.zipcode > 0){\n\n							//make it clear we're searching for a zip code to the user.\n							$sf.find(\"input.event-hub-search\").val( response.zipcode );\n							HubElement.searchEventHub( $sf, response.zipcode, function(results){\n\n								if(results.length < 1 && typeof opts['show_all_events']!=='undefined'\n								&& opts['show_all_events']=='1'){\n\n									//if there are no results and they are showing all events by default, show all events!\n									HubElement.searchEventHub($sf,'all');\n								}\n							});\n\n							if ( typeof customAfterHubRender == 'function' ) {\n								customAfterHubRender( $sf.attr('id') );\n							}\n						}\n					}\n				})\n				.fail ( function( response ) {\n					console.log(\"geolocation failed: \"+response);\n					if ( typeof customAfterHubRender == 'function' ) {\n						customAfterHubRender( $sf.attr('id') );\n					}\n				});\n			}\n			else {\n				// show hub items after everything has been processed\n				$sf.find('.children .event-hub-item, .past-events-subhub .event-hub-item').show();\n\n				if ( typeof customAfterHubRender == 'function' ) {\n					customAfterHubRender( $sf.attr('id') );\n				}\n			}\n		},\n\n		populateTemplate: function ( $layout, info, item_sfid ) {\n\n			$layout.removeClass('template-hub-item').addClass('event-hub-item').addClass('list-item');\n\n			var dateTBD = info.date_tbd;\n			var dateStart = info.date_start != '' ? new Date(info.date_start) : '';\n			var dateEnd = info.date_end != '' ? new Date(info.date_end) : '';\n			var dateNow = new Date();\n\n			// -- General Info -----------------------\n			$layout.attr('data-sfid', item_sfid).attr('id', 'sfid-'+item_sfid)\n				.find('.event-id').val( info.eid ).end()\n				.find('.event-hub-item-url').attr('href', 'http://'+info.domain)\n					.find('img').attr('src', info.image_url).end().end()\n\n				.find('.event-deets-wrap')\n					.find('.city-state-top .title').text( info.city.trim()+' '+info.state.trim() ).end()\n					.find('.event-title .title').text( info.title ).end()\n					.find('.event-domain').text( info.domain ).end()\n					.find('.description').html( info.description ).end()\n				.find('.learn-more.event-page').attr('href', 'http://' + info.domain );\n\n			// -- Date -----------------------\n			if ( dateTBD ) {\n				$layout.find('.date-start .date-tbd').removeClass('hide').end()\n					.find('.long-format, .short-format, .dow-long, .dow-short').addClass('hide');\n			}\n			else {\n				// display start date\n				$layout.find('.date-start .long-format')\n						.find('.month').text( dateStart.format('F') ).end()\n						.find('.day').text( dateStart.format('jS') ).end()\n						.find('.year').text( dateStart.format('Y') ).end().end()\n					.find('.date-start .short-format .date').text( dateStart.format('m/d/y') ).end()\n					.find('.date-start .dow-long').text( dateStart.format('l') ).end()\n					.find('.date-start .dow-short').text( dateStart.format('D') ).end()\n					.find('.time-value').text( dateStart.format('g:ia') ).end();\n				// display end date (if defined)\n				if ( dateEnd != '' ) {\n					$layout.find('.time-end-value').text( dateEnd.format('g:ia') );\n				}\n			}\n\n			// -- Venue -----------------------\n			if ( info.venue_tbd ) {\n				$layout.find('.where .venue-tbd').removeClass('hide').end()\n					.find('.venue, .address .city-zip').addClass('hide');\n				$layout.addClass('venue-tbd');\n			} else {\n				$layout.find('.where .venue').text( info.venue_name.trim() ).end()\n					.find('.where .address').text( info.address.trim() ).end()\n					.find('.where .city').text( info.city.trim() ).end()\n					.find('.where .state').text( info.state.trim() ).end()\n					.find('.where .zip').text( info.zip ).end()\n					.find('.where .lat').text( info.lat ).end()\n					.find('.where .lng').text( info.lng ).end().end();\n			}\n\n			// -- Google Maps URL ------------\n			if ( info.venue_name != '' || info.address != '' || info.city != '' || info.state != '' ) {\n				if ( info.address != '' ) {\n					var query = info.address +', '+ info.city +', '+ info.state +', '+info.zip;\n				} else {\n					var query = info.venue_name +', '+ info.city +', '+ info.state +', '+info.zip;\n				}\n				$layout.find('.learn-more.map-view').attr('href',\n					'https://maps.google.com/maps?ie=UTF-8&t=m&z=15&q='+encodeURI(query.replace('&',''))\n				);\n			}\n\n			// -- RSVP status ----------------\n			if ( info.rsvp != '' ) {\n				$layout.addClass( info.rsvp )\n			}\n\n			// -- MAP -------------------\n			if ( info.map != '' ) {\n				$layout.find('.map').html( info.map );\n			}\n\n			// -- Item class: future, during or past --------------\n			if ( dateTBD ) {\n				$layout.addClass('event-date-tbd');\n			} else if ( dateNow.getTime() < info.timestamp_start ) {\n				$layout.addClass('event-future');\n			} else {\n				if ( info.timestamp_end != '' && dateNow.getTime() < info.timestamp_end ) {\n					$layout.addClass('event-present');\n				} else {\n					$layout.addClass('event-past');\n				}\n			}\n			if ( info.completed ) {\n				$layout.attr('completed','1');\n			}\n			if ( info.featured ) {\n				$layout.addClass('featured');\n			}\n\n\n			return $layout;\n		},\n\n		// sort hub into past and upcoming sections\n		dividePastUpcomingEvents: function ( $sf, divide ) {\n\n			if( ! $sf.hasClass('event-hub') ){\n				//if the selector is too far out, find the first event-hub.\n				$sf = $sf.find(\".event-hub:first\");\n			}\n\n			var block_id = $sf.prop( \"id\" ).replace( \"sfid-\" , \"\" );\n\n			if (divide) { //DIVIDE == TRUE: divide the hub\n\n				//remove past events from hub & sort upcoming\n				var pastEventsLength = $sf.find(\".event-hub-item.event-past\").length;\n\n				if ( pastEventsLength == 0 ) {\n					$sf.find(\".past-events-subhub\").addClass('empty-hub');\n				} \n				// if there are vents, we display them in the past event subhub\n				else {\n					$sf.find(\".past-events-subhub\").removeClass('empty-hub');\n					$sf.find(\".past-events-subhub\").append( $sf.find(\".event-hub-item.event-past\") ).removeClass('hide');\n				}\n\n			} else { //DIVIDE == FALSE: recombine hub\n				if ( $sf.find('.past-events-subhub').hasClass('empty-hub') ) { //if subhub empty, just remove\n					$sf.find('.past-events-subhub').addClass('hide');\n\n				} else { //if not, put past-events back into hub\n					$sf.find('.past-events-subhub .event-hub-item.event-past').unwrap();\n					$sf.find(\"input.hub-sort\").val('timestamp').trigger('change');\n				}\n			}\n		},\n\n		sortHub : function ( $sf, sortField, $hub_items ) {\n\n			var hub_id = $sf.prop( \"id\" ).replace( \"sfid-\" , \"\" );\n			var str = true;\n			if(sortField=='distance' || sortField=='timestamp'){\n				str = false;\n			}\n			$hub_items.detach().sort(function(a,b){\n				var id1 = $(a).attr('id').replace('sfid-',''),\n					id2 = $(b).attr('id').replace('sfid-','');\n\n				// if any of them don't have any distance, we put them at the bottom\n				if ( sortField == 'distance' ) {\n					if ( HubElement.events[hub_id][id1][sortField] == '' ) {\n						return -1;\n					} else if ( HubElement.events[hub_id][id2][sortField] == '' ) {\n						return 1;\n					}\n				}\n\n				if(str){\n					v1 = HubElement.events[hub_id][id1][sortField].trim(),\n					v2 = HubElement.events[hub_id][id2][sortField].trim();\n				} else {//numeric\n					v1 = HubElement.events[hub_id][id1][sortField]*1,\n					v2 = HubElement.events[hub_id][id2][sortField]*1;\n				}	\n				return v2 > v1 ? -1 : (v1 > v2 ? 1 : 0);\n			});\n			// if distance sorting, display venue-tbd events always at the bottom\n			if ( sortField == 'distance' ) {\n				$sf.find(\"div.children:first\")\n					.append($hub_items.filter(':not(.venue-tbd)'))\n					.append($hub_items.filter('.venue-tbd'));\n			}\n			else {\n				$sf.find(\"div.children:first\").append($hub_items);\n			}\n		},\n\n		// retrieve event rsvps count for each event and show the elements that contain it\n		getRsvpCounts: function ($sf) {\n\n			// { event_id => event_hub_item.id }\n			var eventId_sfid = HubElement.getEventHubItemIds($sf);\n\n			if ( jQuery.isEmptyObject(eventId_sfid) ) {\n				return;\n			}\n\n			var parameters = {};\n			parameters['action'] = 'hub';\n			parameters['method'] = 'getRsvpCounts';\n			parameters['event_ids'] = Object.keys(eventId_sfid);\n			parameters['splash_feed_id'] = $sf.attr('id').match(/^sfid-([0-9]+)$/)[1];\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response );\n\n				// if the response has an error, print console warning\n				if ( typeof(response['result']) == 'undefined' ) {\n					console.log(\"Get RSVP counts for hub, Response: error\");\n				}\n\n				// if the response is successful, populate the view\n				else {\n					var result = response['result'];\n					for (var event_id in result){\n						if ( result[event_id] == \"0\" ) continue; // do not show count in case there are 0 rsvps\n						//if the count is > 0, populate and the RSVP count div.\n						$('#'+eventId_sfid[event_id] ).find('.hub-item-rsvp-count').removeClass('hide').find('.count').text(result[event_id]);\n					}\n				}\n				if ( typeof customAfterHubRsvpsLoad == 'function' ) {\n					customAfterHubRsvpsLoad( $sf.attr('id') );\n				}\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Get RSVP counts for hub, Response: \"+ xhr.status+ \" - \"+error);\n			});\n		},\n\n		// retrieve the last comments for each event in the event hub\n		getComments: function($sf, limit) {\n\n			if ( typeof $sf == 'undefined' ) {\n				$sf = $('.sf.event-hub:first');\n			}\n\n			// { event_id => event_hub_item.id }\n			var eventId_sfid = HubElement.getEventHubItemIds($sf);\n\n			if ( jQuery.isEmptyObject(eventId_sfid) ) {\n				return;\n			}\n\n			var parameters = {};\n			parameters['action'] = 'hub';\n			parameters['method'] = 'getComments';\n			parameters['event_ids'] = Object.keys(eventId_sfid);\n			parameters['splash_feed_id'] = $sf.attr('id').match(/^sfid-([0-9]+)$/)[1];\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response.replace(/&amp;/g,'&') );\n\n				// if the response has an error, print console warning\n				if ( typeof(response['result']) == 'undefined' ) {\n					console.log(\"Get Comments for hub, Response: error\");\n				}\n\n				// if the response is successful, populate the view\n				else {\n\n					// remove previous comment items in this hub, to prevent duplicates in case this function gets called multiple times\n					$sf.find('.hub-item-comments .comment-item').remove();\n\n					var result = response['result'];\n					for (var event_id in result){\n\n						var $comments_to_append = $();\n						for (var comment_index in result[event_id] ) {\n\n							// For each comment, get the data and generate an HTML element\n							var comment_data = result[event_id][comment_index]['SplashComment'];\n\n							var $new_comment = $sf.find('.template-hub-blank-comment:first').clone();\n							$new_comment.removeClass('template-hub-blank-comment').addClass('comment-item');\n							$new_comment.find('.comment-author').text( comment_data['name'] );\n							$new_comment.find('.comment-body').text( comment_data['body'] );\n							$new_comment.find('.comment-action-date').text( comment_data['created'] );\n\n							if ( typeof comment_data['avatar'] != 'undefined' && comment_data['avatar'] != null ) {\n								$new_comment.find('.comment-avatar')\n									.find('img').attr('src', comment_data['avatar'] ).show().end()\n									.find('.letter-icon').hide();\n							} else {\n								$new_comment.find('.comment-avatar')\n									.find('img').hide().end()\n									.find('.letter-icon').text( comment_data['name'].charAt(0) );\n							}\n							$comments_to_append = $comments_to_append.add($new_comment);\n\n						}\n						// Insert the comment HTLM layout in the view\n						$('#'+eventId_sfid[event_id] ).find('.hub-item-comments').removeClass('hide').append( $comments_to_append );\n					}\n				}\n\n				if ( typeof customAfterHubCommentsLoad == 'function' ) {\n					customAfterHubCommentsLoad( $sf.attr('id') );\n				}\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Get Comments for hub, Response: \"+ xhr.status+ \" - \"+error);\n			});\n\n		},\n\n		// this function comes from the old event-site, this logic will go to the server soon\n		searchEventHub: function ( $sf, term, _callback ) {\n\n			var hub_id = $sf.attr(\"id\").replace('sfid-','');\n\n			var opt_geolocation = (typeof HubElement.opts[hub_id]['geolocate']!=='undefined' && HubElement.opts[hub_id]['geolocate']=='1');\n\n			if(term!=null){\n				var search = term.toLowerCase().trim();\n			} else {\n				$sf.find(\".quick-links.active\").removeClass(\"active\");\n				var search = (''+$sf.find(\"input.event-hub-search\").val()).toLowerCase();\n			}\n\n			// add loading class and cancel previous states\n			$sf.addClass('loading').removeClass('no-results results invalid-zip');\n\n			// new behavior. If empty term, we search all\n			if ( search == '' ) {\n				search = 'all';\n			}\n\n			//if sorting by distance, always show all events, ordered by distance asc.\n			if( opt_geolocation ) {\n				search = 'all';\n			}\n\n			// boskoff is the secret master key that opens all doors to the Splash paradise\n			if(search=='boskoff'||search=='all'){//skeleton keys.\n				search = ' ';\n			}\n\n			// if we are searching by zipcode only, and the search doesn't match it, no results\n			if(typeof HubElement.opts[hub_id]['zip_code_only']!=='undefined' && HubElement.opts[hub_id]['zip_code_only']=='1'){\n				if( !term.match(/^[0-9]{5}$/) ){\n					console.log(\"Hub Element search, isn't a zipcode\");\n					$sf.removeClass('loading').addClass('no-results invalid-zip');\n					HubElement.afterSearchEventHub( _callback, {} ); // passing an empty array to callback function\n					return;\n				}\n			}\n\n			// Do the search\n			var matchingIds = [];\n			var priorityIds = [];\n			var re = new RegExp('('+RegExp.escape(search)+')');\n\n			// if the hub item has the search text in its search field, we add it to matching ids array\n			for (var i in HubElement.events[hub_id]) {\n				if ( (''+HubElement.events[hub_id][i].search).match(re) ) {\n					if ( !opt_geolocation \n						|| (opt_geolocation && HubElement.events[hub_id][i].lat != '' && HubElement.events[hub_id][i].lng != '' )\n						) {\n						matchingIds.push(i);\n					}\n				}\n			}\n\n			//if the hub has geolocation and they're searching for a zipcode, calculate distance matches from the current zip code.\n			if(term.match(/^[0-9]{5}$/) && opt_geolocation) {\n\n				$.ajax({\n					url: 'https://maps.googleapis.com/maps/api/geocode/json?address=' + term,\n					type: 'POST',\n					dataType: 'json',\n					success:function(response){\n\n						if ( typeof response.results == 'undefined' || typeof response.results[0] == 'undefined' || typeof response.results[0].geometry == 'undefined' || typeof response.results[0].geometry.location == 'undefined' ) {\n							console.log(\"Hub Element, searchEventHub error, couldn't locate\");\n						}\n						else {\n							var retrievedLat = response.results[0].geometry.location.lat;\n							var retrievedLng = response.results[0].geometry.location.lng;\n\n							for( var id in HubElement.events[hub_id] ){\n\n								if ( !HubElement.events[hub_id][id].venue_tbd && HubElement.events[hub_id][id].lat != '' && HubElement.events[hub_id][id].lng != '' ) {\n									HubElement.updateCoords(\n										id,\n										HubElement.events[hub_id][id],\n										retrievedLat,\n										retrievedLng,\n										hub_id\n									);\n								}\n							}\n\n							// if sorting by distance, always show all events, ordered by distance asc.\n							HubElement.sortHub ( $sf, 'distance', $sf.find('.children .event-hub-item') );\n\n							// display hub items that matched the search, now that they are sorted by distance\n							if (matchingIds.length > 0) {\n								$sf.removeClass('loading').addClass('results');\n							} else {\n								$sf.removeClass('loading').addClass('no-results');\n							}\n							HubElement.showHubItems ( $sf, matchingIds );\n							HubElement.afterSearchEventHub( _callback, matchingIds );\n						}\n					},\n					error:function(){\n						console.log ( \"Hub Element, searchEventHub error searching by zipcode\" );\n					}\n				});\n			}\n			// No geolocation, simply display those events that match the search\n			else {\n\n				if (matchingIds.length > 0) {\n					$sf.removeClass('loading').addClass('results');\n				} else {\n					$sf.removeClass('loading').addClass('no-results');\n				}\n				HubElement.showHubItems ( $sf, matchingIds );\n				HubElement.afterSearchEventHub( _callback, matchingIds );\n			}\n		},\n\n		// calls the callback passed and the customAfterHubSearch function, for using in Custom JS\n		afterSearchEventHub: function ( _callback, results ) {\n\n			if(typeof _callback!=='undefined' && typeof _callback=='function'){\n				setTimeout(function(){\n					_callback( results );\n				},0);\n			}\n			if (typeof customAfterHubSearch == 'function') {\n				setTimeout(function(){\n					customAfterHubSearch( results );\n				},0);\n			}\n		},\n\n		// displays only the hub items that their id is included in the passed array\n		showHubItems: function ( $sf, matchingIds ) {\n			$sf.find(\".children .event-hub-item\").hide();\n			var hub_id = $sf.attr('id').replace('sfid-','');\n			$hub_items = $();\n			for(var x in matchingIds){\n\n				if ( typeof HubElement.events[hub_id][ matchingIds[x] ]['rendered'] != 'undefined' && HubElement.events[hub_id][ matchingIds[x] ]['rendered'] == true ) {\n					$(\"#sfid-\"+matchingIds[x]).show();\n				} else {\n					var $layout = $sf.find('.template-hub-item').clone();\n					$hub_items = $hub_items.add( HubElement.populateTemplate( $layout, HubElement.events[hub_id][matchingIds[x]], matchingIds[x]) );\n				}\n			}\n			$sf.find('.children').append( $hub_items );\n		},\n\n		// updates distance for the given hub item, using the lat and long of the user passed\n		updateCoords: function ( hub_item_sfid, hub_item_info, my_lat, my_lng, hub_id ) {\n\n			if( typeof hub_item_info != 'undefined' ){\n\n				if ( hub_item_info['lat'] == '' || hub_item_info['lng'] == '' ) {\n					return;\n				}\n\n				// getDistanceFromLatLon stays at event-site, could be useful in another situation\n				var distance = getDistanceFromLatLon(my_lat, my_lng, hub_item_info['lat'], hub_item_info['lng']);\n				if(!isNaN(distance)){\n					var $sf_item = $(\"#sfid-\"+hub_item_sfid);\n					if( $sf_item.length > 0 ){\n						var $distance = $sf_item.find(\".distance\");\n						distance = distance.toFixed(2);\n\n						// update distance in the info of the item\n						if( hub_id!=null ){\n							HubElement.events[hub_id][hub_item_sfid]['distance'] = distance;\n						}\n\n						// update view\n						$distance.html( distance + ' Miles Away').removeClass('hide');\n					}\n				}\n			}\n		},\n\n		// applies JS specific properties to the mode to all hub items in the passed block\n		checkForModeJs: function ($block,modeVal){\n\n			$block.find('.event-hub-item').each(function(){\n				HubElement.applyMode( $(this), modeVal );\n			});\n		},\n\n		// applies JS properties to the hub item passed\n		applyMode: function ( $hub_item, modeVal ) {\n\n			if(modeVal=='collage-layout') {\n				// list undo\n				$hub_item.find('.event-title').insertBefore( $hub_item.find('.event-domain') );\n				// add collage background\n				$hub_item.css( 'background-image','url('+$hub_item.find('.image a img').attr('src')+')' );\n				// move learn-more\n				$hub_item.find('.learn-more.event-page').insertAfter( $hub_item.find('.event-deets-wrap') );\n			}\n\n			else if ( modeVal=='list-layout' ) {\n				// collage undo\n				$hub_item.css( 'background-image','none' );\n				$hub_item.find('.learn-more.event-page').insertBefore( $hub_item.find('.event-deets-wrap .social-opts') );\n				// move event title\n				$hub_item.find('.event-title').insertAfter( $hub_item.find('.event-deets-inner') );\n			}\n\n			else {\n				// list undo\n				$hub_item.find('.event-title').insertBefore( $hub_item.find('.event-domain') );\n			}\n		},\n\n		// Function to feature nearby events (developed for Atlassian)\n		// In the Event Hub element given, adds the given classname to events which are in less than [maxDistance] miles\n		// This function can be called in custom JS of a theme\n		classifyNearbyEvents: function ( $sf, className, maxDistance, _callback ) {\n\n			if ( typeof $sf == 'undefined' || !$sf.hasClass('event-hub') ) {\n				return false;\n			}\n\n			$hubItems = $sf.find('.children .event-hub-item');\n\n			Geolocation.featuredClass = typeof maxDistance != 'undefined' ? className : ''; // need to get the class name by reference in the success function, so we put it into an array\n			Geolocation.maxDistance = typeof maxDistance != 'undefined' ? maxDistance : 0; // same, need to pass by reference\n\n			Geolocation.geolocateMe()\n			.success( function( data ) {\n\n				if ( Geolocation.featuredClass != '' ) {\n					$hubItems.removeClass( Geolocation.featuredClass );\n					Geolocation.featuredClass = className;\n				}\n\n				$.each( $hubItems, function (){\n\n					var itemLat = $(this).find('.where .lat').text();\n					var itemLng = $(this).find('.where .lng').text();\n\n					if ( itemLat === '' || itemLng === '' ) {\n						return true; // empty coordinates, continue\n					}\n\n					var distance = getDistanceFromLatLon(data.latitude, data.longitude, itemLat, itemLng);\n\n					if ( distance < Geolocation.maxDistance && typeof Geolocation.featuredClass != 'undefined' && Geolocation.featuredClass != '' ) {\n						$(this).addClass( Geolocation.featuredClass );\n					}\n				});\n				if ( typeof _callback == 'function' ) {\n					_callback();\n				}\n			})\n			.fail ( function(errorMsg) {\n				console.log(errorMsg);\n			});\n		},\n\n		// ajax call to load event hub items\n		getHubItems: function ( hub_id, _callback ) {\n\n			var parameters = {};\n			parameters['action'] = 'hub';\n			parameters['method'] = 'getItems';\n			parameters['splash_feed_id'] = hub_id;\n\n			parameters['options'] = JSON.stringify( HubElement.opts[hub_id] );\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response.replace(/&amp;/g,'&') );\n\n				// if the response has an error, print console warning\n				if ( typeof(response['result']) == 'undefined' ) {\n					console.log(\"Get Hub Items for hub, Response: error\");\n				}\n\n				// if the response is successful, retrieve a JSON object with the results\n				else {\n					HubElement.events[hub_id] = response['result']['events'];\n					var sorting_tmp = {};\n\n					for ( var hub_item_id in HubElement.events[hub_id] ) {\n\n						// get the sort index and append the time of the event\n						var sort_index = HubElement.events[hub_id][hub_item_id]['sort_order'];\n						sort_index = ('0000' + sort_index).slice(-4);\n						if ( HubElement.events[hub_id][hub_item_id]['date_start'] != 'undefined' ) {\n							sort_index = sort_index +'-'+ new Date(HubElement.events[hub_id][hub_item_id]['date_start']).getTime();\n						}\n\n						// if there is already an event with that sort index, append a number to it\n						var i = 0;\n						var new_sort_index = sort_index;\n						while ( typeof sorting_tmp[new_sort_index] != 'undefined' ) {\n							new_sort_index = sort_index + '-' + i;\n							i++;\n						}\n						sort_index = new_sort_index == '' ? sort_index : new_sort_index;\n\n						sorting_tmp[sort_index] = hub_item_id;\n					}\n\n					// get the sorted array\n					Object.keys( sorting_tmp ).sort().forEach(function (k) {\n						HubElement.sorting[hub_id].push(sorting_tmp[k]);\n					});\n\n					// what do we want to do with the retrieved data?\n					if ( typeof _callback == 'function' ) {\n						_callback(hub_id);\n					}\n				}\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Get Hub Items for hub, Response: \"+ xhr.status+ \" - \"+error);\n			});\n\n		}\n\n	}); // end of HubElement object\n\n	$(\"#main-canvas\").on('click','.hubSearch .search-btn',function(){//clicking the search button.\n		var $search = $(this).parents(\".hubSearch:first\").find(\"input.event-hub-search:first\");//find the search input for this block.\n		if($search.length < 1){//fallback in case search has been moved around on page.\n			var $search = $(\"#main-canvas\").find(\"input.event-hub-search:first\");\n		}\n		var term = $search.val();\n		var $block = $search.getHubBlock();\n		$search.parents(\"div.layoutGrp:first\").find(\".quick-links\").removeClass(\"active\");//remove any active links at this point.\n		HubElement.searchEventHub($block,term);\n	});\n\n	$(\"#main-canvas\").on('click','.hubSearch .search-all-btn',function(){\n		var $search = $(\"#main-canvas\").find(\"input.event-hub-search:first\");\n		var term = 'all';\n		var $block = $search.getHubBlock();\n		$search.parents(\"div.layoutGrp:first\").find(\".quick-links\").removeClass(\"active\");//remove any active links at this point.\n		HubElement.searchEventHub($block,term);\n	});\n\n	// quick-links are buttons that perform a seach on the hub upon clicking on them\n	$(\".quick-links\").on('click',function(){\n		var $t = $(this),\n			$block = $t.getHubBlock();\n	\n		if($t.hasClass('active')){ //clear search results.\n			$t.removeClass('active');\n			var term = '';//show all.				\n		} else {\n			$(\".quick-links\").removeClass('active');\n			$t.addClass('active').siblings();\n			var term = (''+$t.find(\".term:first\").text()).trim();\n		}\n		//clear out.\n		$(\"#main-canvas\").find(\"input.event-hub-search\").val('');\n		HubElement.searchEventHub($block,term);\n	});\n\n	HubElement.init();\n\n\n\n\n	// ########################################################################\n	//\n	// ATTENDEES element\n	//\n	// ########################################################################\n\n	if ( typeof AttendeesElement == 'undefined' ){\n		AttendeesElement = {};\n	}\n\n	jQuery.extend( AttendeesElement, {\n\n		attendees:{},\n\n		// initializes all attendees elements\n		initAll: function () {\n			$.each( $('#splash-container .sf.attendees'), function() {\n				AttendeesElement.init( $(this) );\n			});\n			$('window').resize(function() {\n				debounce( function() {\n					$.each( $('#splash-container .sf.attendees'), function() {\n						AttendeesElement.responsive( $(this) );\n					})\n				}, 250 )\n			});\n		},\n\n		// initializes the given attendees element\n		init: function($sf) {\n\n			if ( typeof _event.id == 'undefined' ) {\n				return false;\n			}\n\n			var parameters = {};\n			parameters['action'] = 'attendees';\n			parameters['method'] = 'getAttendees';\n			parameters['splash_feed_id'] = $sf.attr('id').replace('sfid-','');\n\n			if ( $sf.hasClass('modal') && typeof constants.finetune == 'undefined' ) {\n				parameters['count'] = true;\n			}\n\n			$.ajax({\n				type: \"POST\",\n				url: window.location.pathname,\n				data: parameters\n			})\n			.done(function(response, status) {\n\n				response = $.parseJSON ( response.replace(/&amp;/g,'&') );\n\n				if ( typeof(response['errors']) != 'undefined' ) {\n\n					// first time loading the rsvps, the events doesn't permit loading them yet\n					if ( response['errors'] == 'unauthorized' ) {\n						AttendeesElement.render( $sf, {attendees: {}, count: 0} );\n					} else {\n						console.log(\"Get Attendees Response: errors\");\n						console.log(response['errors']);\n					}\n				}\n				// if we have results, render the element\n				else if ( typeof(response['attendees']) != 'undefined' ) {\n					AttendeesElement.attendees = response['attendees'];\n					AttendeesElement.render( $sf, response );\n				}\n				else if ( typeof(response['count']) != 'undefined' ) {\n					$sf.find('.attendee-count-value').text( response['count'] == 0 ? 'No' : response['count'] );\n					$sf.find('.attendee-title').removeClass('hide').addClass('title');\n				}\n				else {\n					console.log(\"Get Attendees Response: no results\");\n				}\n\n				if ( typeof customAfterRenderAttendees == 'function' )\n					customAfterRenderAttendees(response, $sf.attr('id').replace('sfid-',''));\n\n			})\n			.fail(function(xhr, options, error ) {\n				console.log(\"Get Attendees Response: \"+ xhr.status+ \" - \"+error);\n			});\n\n		},\n\n		// renders the attendees element with the information passed from the ajax response\n		render: function($sf, response) {\n\n			// reset the items\n			var attendees = response['attendees'];\n			var count = response['count'];\n\n			// if no attendees, do not render anything\n			if ( count == 0 && constants.finetune ) {\n				$sf.find('.attendee-wrapper').removeClass('hide');\n			}\n\n			$template = $sf.find('.attendee-template');\n			$attendee_items = $();\n\n			// populate template for each attendee\n			$.each( attendees, function( attendee_sfid, attendee ) {\n				$attendee_items = $attendee_items.add( AttendeesElement.populateTemplate( $template, attendee, attendee_sfid ) );\n			});\n			$sf.find('.attendee-list').append( $attendee_items );\n\n			AttendeesElement.responsive($sf);\n\n			// show the element\n			$sf.find('.attendee-count-value').text( count == 0 ? 'No' : count  );\n			$sf.find('.attendee-count-text').text( AttendeesElement.singularOrPlural( count, $sf.find('.attendee-count-text').text() ) );\n			$sf.find('.attendee-wrapper').removeClass('hide');\n			$sf.find('.attendee-title').removeClass('hide').addClass('title');\n\n		},\n\n		// gets a template HTML and attendee info, and returns a populated copy of it\n		populateTemplate: function( $template, attendee_data, attendee_id ) {\n\n			$attendee = $template.clone().removeClass('attendee-template').addClass('attendee-item');\n\n			if ( attendee_id != null ) {\n				$attendee.attr('id', 'attendee-'+attendee_id);\n			}\n\n			// for each property of the attendee, we will populate the corresponding element in the view\n			$.each( attendee_data, function( key, value ) {\n\n				if ( key == 'avatar' ) {\n					return true; // continue, will process these later\n				}\n				if ( key == 'linkedin' ) {\n					$attendee.find('.attendee-'+key).text( 'LinkedIn' ).removeClass('hide');\n					return true;\n				}\n\n				if ( value != '' ) {\n					if ( key == 'id' ) {\n						$attendee.find('.attendee-'+key).text( attendee_data[key] );\n					} else {\n						$attendee.find('.attendee-'+key).text( attendee_data[key] ).removeClass('hide');\n					}\n\n					if ( key =='twitter' ) $attendee.find('.attendee-'+key).attr('href','https://twitter.com/'+attendee_data[key].replace('@','') );\n					if ( key =='instagram' ) $attendee.find('.attendee-'+key).attr('href','https://instagram.com/'+attendee_data[key].replace('@','') );\n					if ( key =='linkedin' ) $attendee.find('.attendee-'+key).attr('href', attendee_data[key] );\n\n				} else {\n					$attendee.find('.attendee-'+key).removeClass('hide');\n				}\n			});\n\n\n			// load avatar or letter icon\n			if ( typeof attendee_data.avatar != 'undefined' && attendee_data.avatar != null ) {\n				$attendee.find('.attendee-avatar img').attr('src', attendee_data.avatar ).parent().removeClass('hide');\n			}\n			return $attendee;\n		},\n\n\n		// adds the appropiate class to the element so that it is responsive\n		responsive: function ( $sf ) {\n\n			var sf_width = $sf.width();\n			$sf[0].className = $sf[0].className.replace(/cols[0-9]/g, '');\n\n			if ( sf_width >= 320 && sf_width < 480 ) {\n				$sf.addClass('cols2').removeClass;\n			} else if ( sf_width >= 480 && sf_width < 760 ) {\n				$sf.addClass('cols3');\n			} else if ( sf_width >= 768 && sf_width < 1000 ) {\n				$sf.addClass('cols4');\n			} else if ( sf_width >= 1000 ) {\n				$sf.addClass('cols5');\n			}\n\n		},\n\n		// plural to singular\n		singularOrPlural: function ( count, text ) {\n			if ( count == 1 ) {\n				return text.replace('ttendees','ttendee').replace('embers','ember').replace('are ','is ').replace('were', 'was ');\n			} else {\n				return text.replace('ttendee ','ttendees ').replace('ember ','embers ').replace('is ','are ').replace('was', 'were ');\n			}\n		},\n\n		//Removes elements from DOM, sorts by sortField, appends back to DOM.\n		sortAttendees: function ($sf, $attendees, sortField) {\n		    $attendees.detach().sort(function (a,b){\n		        var a_id = $(a).attr('id').replace('attendee-',''),\n		            b_id = $(b).attr('id').replace('attendee-','');\n		        \n		        var v1 = AttendeesElement.attendees[a_id][sortField].trim(),\n		            v2 = AttendeesElement.attendees[b_id][sortField].trim();\n		        \n		        return v2 > v1 ? -1 : (v1 > v2 ? 1 : 0);\n		    });\n\n		    $sf.append($attendees);\n		}\n	});\n\n	AttendeesElement.initAll();\n\n\n\n	// -----------------------------------------------------\n	// Social Links. VERSION v2\n\n	if ( typeof SocialLinksElement == 'undefined' ){\n		SocialLinksElement = {};\n	}\n\n	jQuery.extend( SocialLinksElement, {\n\n		// data holds info of the children of every social links element\n		data: SocialLinksElement.data ? SocialLinksElement.data : {},\n\n	});\n\n\n	$('body').on('click', '.sf.social-links-v2 .social-btn', function() {\n\n		var csfid = $(this).closest('.sf.social-links-item').attr('id').replace('sfid-','');\n		var sfid = $(this).closest('.sf.social-links-v2').attr('id').replace('sfid-','');\n		var options = SocialLinksElement.data[sfid][csfid];\n\n		if ( options.type == 'twitter-tweet' ) {\n			var body = typeof options != 'undefined' && typeof options.body != 'undefined' ? options.body : null;\n			SocialBtns.fireTweet(body);\n		}\n		else if ( options.type == 'facebook-share' ) {\n			var name = typeof options != 'undefined' && typeof options.name != 'undefined' ? options.name : null;\n			var description = typeof options != 'undefined' && typeof options.description != 'undefined' ? options.description : null;\n			SocialBtns.fireFacebookShare();\n		}\n\n	});\n});",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/splash-elements.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 69290,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/legacy/splash/finetune.ctp",
			"settings":
			{
				"buffer_size": 56751,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/event-form.ctp",
			"settings":
			{
				"buffer_size": 6717,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/create-form-nu.ctp",
			"settings":
			{
				"buffer_size": 7014,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "////\n/// SPLASH BASE LAYOUT\n//	main structure & flow\n//\\\n//\\\\\n\n@import 'global-mixins'\n\n@import 'fontello-lib'\n\n.element-social-links .social-main li a\n	color inherit !important\n\n.element-social-links .social-main .icon-email:before\n.element-social-links .social-main .ico-fb-large:before\n.element-social-links .social-main .ico-linkedin:before\n.element-social-links .social-main .ico-twitter:before\n	font-family 'fontello'\n	font-style normal\n	font-weight normal\n	speak none\n\n	display inline-block\n	text-decoration inherit\n	width 1em\n	margin-right .2em\n	text-align center\n\n	font-variant normal\n	text-transform none\n	line-height 1em\n\n	margin-left .2em\n\n.element-social-links .social-main .icon-email:after\n.element-social-links .social-main .ico-fb-large:after\n.element-social-links .social-main .ico-linkedin:after\n.element-social-links .social-main .ico-twitter:after\n	display none\n\n// Linkedin icon is smaller than the others, we make it a little bigger\n.ico-linkedin:before\n	font-size 1.2em\n	margin-top .1em\n\n///\n// 2.OH remove hardcoded social colors\n\n// .element-social-links .social-main .icon-email:before\n// .element-social-links .social-main .ico-fb-large:before\n// .element-social-links .social-main .ico-twitter:before\n// 	color #fff !important\n\n// .element-social-links .social-main.light .icon-email:before\n// .element-social-links .social-main.light .ico-fb-large:before\n// .element-social-links .social-main.light .ico-twitter:before\n// 	color #fff !important\n\n// .element-social-links .social-main.light .icon-email:hover:before\n// .element-social-links .social-main.light .ico-fb-large:hover:before\n// .element-social-links .social-main.light .ico-twitter:hover:before\n// 	color #ccc !important\n\n// .element-social-links .social-main.dark .icon-email:before\n// .element-social-links .social-main.dark .ico-fb-large:before\n// .element-social-links .social-main.dark .ico-twitter:before\n// 	color #000 !important\n\n// .element-social-links .social-main.dark .icon-email:hover:before\n// .element-social-links .social-main.dark .ico-fb-large:hover:before\n// .element-social-links .social-main.dark .ico-twitter:hover:before\n// 	color #404040 !important\n\n.element-social-links .social-main .icon-email\n.element-social-links .social-main .ico-fb-large\n.element-social-links .social-main .ico-linkedin\n.element-social-links .social-main .ico-twitter\n	position relative\n\n.social-btn\n	cursor pointer\n\n// .element-social-links .social-main .icon-email:hover\n// .element-social-links .social-main .ico-fb-large:hover\n// .element-social-links .social-main .ico-twitter:hover\n// 	transform scale(1.15)\n\n// .element-social-links .social-main .icon-email:active\n// .element-social-links .social-main .ico-fb-large:active\n// .element-social-links .social-main .ico-twitter:active\n// 	transform scale(.95)\n\n////\n/// RESET\n//\n*\n	box-sizing border-box\n	-webkit-box-sizing border-box\n	-moz-box-sizing border-box\n\nbody\n	margin 0\n	padding 0\nimg\n	max-width 100%\n\n////\n/// TYPOGRAPHY\n//\n\nbody\n	font normal 1em/1.5 'GibsonRegular', arial, sans-serif\nh1\n	font-size 2.18em\n	line-height 1.3\nh2\n	font-size 1.64em\nh3\n	font-size 1.45em\nh4\n	font-size 1.18em\n\nsmall\n	font-size .75em\n\na\n	color blue\n	text-decoration none\n\n//\n// Flatten type scale for 2.OH\n\nbody:not(.isLegacy)\n	#element-title h1\n	#element-subtitle h2\n	#splash-container #main-canvas\n		h1\n		h2\n		h3\n		h4\n			font-size 1em\n\n//\n// LEGACY FONT SIZES\n\n\nbody.isLegacy\n	.comma-before:before\n		display none !important\n	#splash-container #main-canvas\n		//h1\n		//	font-size 1.98em\n		//	line-height 1.3\n		h2\n			font-size 1.64em\n		h4\n			font-size 1.06em\n		small\n			font-size 0.75em\n		.element-title\n		.element-subtitle\n			h1\n			h2\n			h3\n			h4\n				font-size 1em\n\n\n	#splash-container\n		.host-name\n			font-size 1.5em\n			line-height 1.3\n\n////\n/// CANVAS\n//\n\n#container\n	padding 0\n	animation big-fade 1.8s\n	animation big-fade 1.8s\n	animation big-fade 1.8s\n\n\n\n@keyframes big-fade\n	0%\n		opacity 0\n	70%\n		opacity 0\n	100%\n		opacity 100\n\n\n@keyframes loaderBG\n	0%\n		background rgba(6, 222, 239, 0.7)\n	50%\n		background rgba(6, 222, 239, 0.3)\n	100%\n		background rgba(6, 222, 239, 0.7)\n\n// This is the parent container\n// for all groups.\n\nbody:not(.isLegacy) .canvas\n	width 100%\n	margin 0 auto\n	padding 0 !important\n	min-width 0 !important\n	margin-top 0 !important\n	// overflow hidden\n\n	// Clear after the canvas\n	&:after\n		content ''\n		clear both\n		display block\n\nbody:not(.isLegacy)\n	max-width none !important\n\n// 2.OH\n#main-canvas\n	text-align center\n	overflow hidden\n\n////\n/// GROUP\n//\n\n// This is the parent container\n// for all content types.\n//\n// Add .grp to an HTML element along\n// with it's column base and size.\n//\n// Column bases are 3 & 4 (c3, c4).\n//\n// Sizes are small (s), medium (m),\n// and large (l).\n//\n// <div class=\"grp w1-2\"> </div>\n\n.grp\n	margin 0 auto\n	padding 1em\n	width 100%\n	float left\n	padding .5em\n	&.trans\n		transition all .1s linear\n	&.ptSM\n		padding .3em 0\n	&.nopad\n		padding 0\n\n	//\n	// Column base-reference\n\n	// .[1]-2 for two column\n	&.w1-2\n		width 50%\n\n	// .[1,2]-3 for three column\n	&.c3.s\n	&.w1-3\n		width 33.33%\n	&.c3.m\n	&.w2-3\n		width 66.66%\n\n	// .[1,2,3]-4 for four column\n	&.c4.s\n	&.w1-4\n		width 25%\n	&.c4.m\n	&.w2-4\n		width 50%\n	&.w3-4\n		width 75%\n\n	// .[1,2,3,4]-5 ALIVE five column\n	&.c5.s\n	&.w1-5\n		width 20%\n	&.w2-5\n		width 40%\n	&.c5.m\n	&.w3-5\n		width 60%\n	&.w4-5\n		width 80%\n\n	// .[1,2,3,4,5]-6 for six column\n	&.w1-6\n		width 16.66%\n	&.w2-6\n		width 33.32%\n	&.w3-6\n		width 49.98%\n	&.w4-6\n		width 66.56%\n	&.w5-6\n		width 83.33%\n\n	// .[1,2,3,4,5,6]-7 minutes in heaven\n	&.w1-7\n		width 14.28%\n	&.w2-7\n		width 28.57%\n	&.w3-7\n		width 42.85%\n	&.w4-7\n		width 57.14%\n	&.w5-7\n		width 71.42%\n	&.w6-7\n		width 85.71%\n\n	// .[1,2,3,4,5,6,7]-8 for eight column\n	&.w1-8\n		width 12.5%\n	&.w2-8\n		width 24.9%\n	&.w3-8\n		width 37.4%\n	&.w4-8\n		width 49.9%\n	&.w5-8\n		width 62.4%\n	&.w6-8\n		width 74.9%\n	&.w7-8\n		width 87.4%\n	//\n	// Play nice as a table\n	&.tCell\n	&.tRow\n		float none\n		width auto\n\n	//\n	// Controlling content vertical align\n\n	// If content inside a group needs to\n	// be vertically aligned, wrap the inner\n	// content in an element with align class\n	//\n	// Ghost element for centering\n	&.align:before\n		content ''\n		display inline-block\n		height 100%\n		margin-right -0.02em\n		vertical-align middle\n\n	// The alignment options\n	&.align\n		// > .layoutGrp\n		.bottom\n		.middle\n		.top\n		.align-left\n		.align-right\n		.top-left\n		.top-right\n		.bottom-left\n		.bottom-right\n			display inline-block\n			max-width 98% !important\n			float none\n			// padding 0px !important\n			.element-title\n			.element-subtitle\n				padding 10px !important\n			.element-title\n				padding 0px !important\n			.element-subtitle\n				font-size inherit\n		.bottom\n		.bottom-left\n		.bottom-right\n			vertical-align bottom\n		.middle\n			vertical-align middle\n		.top\n		.middle\n		.bottom\n			//.element-title\n			//.element-subtitle\n			.element-social-links\n				text-align center !important\n		.top\n		.top-left\n		.top-right\n			vertical-align top\n		.align-left\n		.align-right\n			vertical-align middle\n		.align-left\n		.top-left\n		.bottom-left\n			//.element-title\n			//.element-subtitle\n			.element-social-links\n				text-align left !important\n			.element-rsvp\n				float left\n		.align-right\n		.top-right\n		.bottom-right\n			//.element-title\n			//.element-subtitle\n			.element-social-links\n				text-align right !important\n			.element-rsvp\n				float right\n\n	// Grp Inline\n	// Over-ride grp width to be inline\n	&.inline\n		width auto\n\nbody\n	&.isMobile\n		.purchase-button\n			-webkit-appearance none\n	&[theme=\"st-revel\"]\n	&[theme=\"st-revel-v2\"]\n		.grp.align\n			.bottom\n				padding-bottom 40px !important\n\n\n////\n/// IMAGES\n//\n\n// The div shows the image as a background.\n// Cropping info is represented inline by:\n//		background-size\n//		background-position\n//\n// The div can display text top, middle,\n// or bottom aligned\n\n.img\n	position relative\n	background no-repeat\n	background-position left top\n	background-size 100% auto\n	// .img.inline\n	// 	float none\n.event-bg-url\n	// The image is inline to preserve width & height\n	// JS reads the height and places it inline on the\n	// parent element\n	img.bg\n		display none\n		opacity 0\n		position absolute\n		top 0\n		left 0\n		z-index -1\n		max-width none\n\n//\n// If no header or subtitle, show the inline image\n.noHeaderText\n.noHeaderText:not(theme=\"Cirque\")\n.noHeaderText:not(theme=\"Crest\")\n	.event-bg-url\n		padding 0 !important\n		height auto !important\n		&.align\n			> .grp.top\n			> .grp.middle\n			> .grp.bottom\n				display none\n		&:before\n			display none\n		img.bg\n			position relative\n			opacity 1\n			display block\n			z-index 1\n			width 100%\n\n\n\n////\n/// BREAKPOINTS\n//\n\n// Minnnnn\n@media (min-width: 1em)\n	body\n		font normal .6em/1.3 'GibsonRegular', arial, sans-serif\n\n	// .canvas\n	// 	min-width 25em\n\n// Small\n@media (min-width: 29.938em)\n	body\n		font normal .9em/1.4 'GibsonRegular', arial, sans-serif\n\n	// .canvas\n	// 	max-width 48em\n	// 	min-width 25em\n\n// Medium\n@media (min-width: 47.938em)\n	body\n		font normal .9em/1.4 'GibsonRegular', arial, sans-serif\n\n	// .canvas\n	// 	max-width 48em\n\n// Large\n@media (min-width: 59.938em)\n	body\n		font normal 1em/1.5 'GibsonRegular', arial, sans-serif\n\n	// Cap the .canvas at ~960px\n	// .canvas\n	// 	max-width 60em\n\n////\n/// DEFAULT ELEMENT STYLES\n//\n.element\n	// General list items\n	.list-item\n		position relative\n		.image\n		.time\n			float left\n			padding-right 10px\n			position relative\n\n////\n/// Containers & Columns\n//\n\n.container-ele\n	.drop-area\n		&.not-edited\n			.add-placeholder\n				border 1px dashed #C0C0C0\n				min-height 120px\n				display block !important\n				position relative\n			.edit-tools\n				display none\n\n// baked in responsiveness for cols\n@media (max-width: 47.938em)\n	.container-ele\n		> .drop-area\n			width 100%\n\n\n//PRIVATE BG\nbody.private{\n	background: #1A1A1A !important;\n	background-size:auto auto !important;\n	position: absolute;\n	width: 100%;\n}\nbody.private #main-canvas{\n	background:none !important;\n	color:#ffffff;\n	font-family:'gibsonSemiBoldItalic', arial, sans-serif;\n}\n\n\n////\n/// BLOCK STYLES\n//	Layout styles for content blocks\n//\\\n//\\\\\n\n////\n/// Core Styles\n//\n\n// Styles are applied as s1, s2...\n// read them as 1-up 2-up unless\n// furthur defined.\n\n///\n// Some page defaults\n//\n\nbody:not(.isLegacy)\n	.element-title\n	.element-subtitle\n	.element-rsvp\n		word-break normal\n\n.layoutGrp\n	> .element\n		//@2.0H\n		//margin 0 auto\n		//padding 0\n		//width 100%\n		//float none\n		//display inline-block\n\n///\n// Button interactions\n.element-rsvp\n	cursor pointer\n	line-height 1em\n	transform scale(1)\n	transition all .1s linear\n	&:before\n		content ''\n		background rgba(255, 255, 255, 0.1)\n		position absolute\n		top 0\n		left 0\n		width 100%\n		height 100%\n		opacity 0\n		pointer-events none\n		transition opacity .1s\n	&:hover\n		transform scale(1.015)\n		&:before\n			opacity 1\n\n\niframe\n	max-width 100%\n\n//\n// Default margins for custom blocks\n// 2.OH\n// .master_group\n// 	> .layoutGrp\n// 		margin-bottom 3em\n\n//\n// Base for the Social Gallery\n.element-gallery\n	padding 0 !important\n	z-index 1\n//\n// For dragging the title & subtitle\n.element-title\n.element-subtitle\n	&.abs\n		position absolute !important\n		width auto\n\n// p\n// 	margin-bottom 1em\n// 	font-size 1.2em\n// 	line-height 1.2em\n\n///\n// Handy utils\n//\n.children\n	.hide-body\n		.body\n			display none\n\n	.list-item\n		.media\n		.body\n			padding 0\n\n	.list-item.schedule-item\n		.media\n		.body\n			padding .5em\n		&.s1\n			clear both\n\n// Vertical riddem\n.master_group\n	> .layoutGrp\n		// margin-bottom 4.37em\n		&.element-spacer\n		&.element-gallery\n			margin-bottom 0\n\n.sf .title h1\n	// equals ~ 2.18em\n	// margin-bottom 1em\n\n// #event-description-text h1\n// .sf .body h1\n// 	margin-bottom .5em\n\n// Some title spacing\n[block-type=\"sponsors\"]\n[block-type=\"speakers\"]\n[block-type=\"images\"]\n	.title\n		margin-bottom 1em\n\n///\n// Get rid of max width\n// on custom section images\n// so they fill their layout\n.sf\n	.media\n		img\n			max-width none\n			// 2.OH\n			display block\n\n			// trying this to fix p-center centering issues\n			// with images\n			width auto\n			max-width 100%\n			float none\n\n			// trying this for new image as BG technique\n			width 100%\n			// 2.OH margin-bottom -0.4em\n			&.updating\n				transition all .25s\n				opacity 0.5\n		&.image\n			background-position center center\n			background-size 100% auto\n			background-repeat no-repeat\n			text-align center\n			&.img-portrait\n				background-size auto 100%\n	&.square\n	&.circle\n	&.portrait\n	&.landscape\n	&.nu-square\n	&.nu-circle\n	&.nu-landscape\n	&.nu-portrait\n		.media.image\n			background-size cover\n	&.none\n		.media.image\n			background none !important\n\n.sfBADDDD\n	&.no-shape\n		.media\n			img\n				width auto\n				max-width 100%\n				float none\n\n.sf.image.hero\n	width auto\n	float none\n	max-width 100%\n\n.sf.iframe .media img\n	max-width 100%\n	width auto\n	display block\n\n.sf.speaker-item\n	&.s2\n		float left\n	&.s3\n		display inline-block\n		float none\n		// width 32%\n		text-align center\n		// New row\n		&:nth-child(3n+1)\n			clear left\n\n\n@media only screen and (max-width: 650px)\n	.sf.speaker-item\n		&.s3\n			width 49.7%\n		&.s2\n			width 99.7%\n			padding .5em 0\n\n\n///\n// s1\n// one-up The default style\n.s1\n	// If the block has an image child\n	// For now, this is a list with images\n	// Also assuming the img will be the first element\n	&.media\n		> .grp.media\n			width 25%\n			padding-left 0\n		// Alternate block\n		&.alt\n			&:nth-child(even)\n				> .grp.media\n					float right\n				> .grp.body\n					text-align right\n					padding-right .5em\n		> .grp.body\n			width 75%\n			padding-left .5em\n\n		// embeds\n		&.audio\n		&.map\n			.media\n				width 50%\n			.body\n				width 50%\n\n		&.map\n			.media\n				width 66%\n			.body\n				width 33%\n			&.alt\n				.media\n					width 100%\n					img\n						width 100%\n						max-width none\n		&.video\n			.media\n				width 50%\n			.body\n				width 50%\n\n	&.alt\n		&.headline\n			letter-spacing 0.8em\n			text-transform uppercase\n\n		&.video\n		&.audio\n			.media\n				width 50%\n				float right\n			.body\n				width 50%\n\n////\n/// Custom block Layouts\n//\n\n// Headlines\n[block-type=\"headline\"]\n	// .headline-default\n	&.headline-upr-ls\n		text-transform uppercase\n		letter-spacing 0.3em\n\n// Image gallery\n[block-type=\"images\"]\n	.children\n		.s3\n			&.list-item\n				padding .5em\n			&.sf\n				&:nth-child(3n+1)\n					padding-left 0\n				&:nth-child(3n-1)\n					padding-right .25em\n					padding-left .25em\n				// Last in row\n				&:nth-child(3n+0)\n					padding-right 0\n\n\n	// Quotes\n[block-type=\"quote\"]\n	// .no-border is default\n	text-align center\n	&.bxs-t\n		text-align center\n		&:before\n			content ''\n			position absolute\n			bottom 100%\n			left 50%\n			width 140px\n			height 4px\n			border-radius 2px\n			box-shadow 0 4px 0 inset\n			transform translateX(-50%)\n	&.bxs-l\n	&.bxs-r\n		&:before\n			content ''\n			position absolute\n			top 0\n			width 4px\n			height 100%\n			border-radius 2px\n	&.bxs-l\n		text-align left\n		&:before\n			left 0\n			box-shadow 4px 0 0\n	&.bxs-r\n		text-align right\n		&:before\n			right 0\n			box-shadow 4px 0 0 inset\n\n\n// List style styles\n[block-type=\"list\"]\n	> .title\n		text-align left\n\n	> .body\n		margin-bottom 2.8em\n		margin-bottom 0\n	&.s1\n		ul\n			list-style disc\n			margin-left 2em\n	&.s1.alt\n		> .title\n			text-align center\n		ul\n			list-style none\n			margin-left 0\n		&.three\n			.list-item\n				width 32.83%\n				position relative\n				display inline-block\n				float none !important\n	.list-item\n		position relative\n		&.s1\n			.title\n			&.alt\n				.title\n				.body\n					width 100%\n					text-align center\n				&:before\n					display none\n\n// Schedule List styles\n[block-type=\"schedule-list\"]\n\n	.list-item\n		position relative\n\n		&.dots-left\n			padding-left 2.5em\n\n			> .title\n				font-size 24px\n\n			&:before\n			&:after\n				content ''\n				position absolute\n				top 1.2em\n\n			&:before\n				left 0.45em\n				width 3px\n				height calc(100% \\- 1.35em)\n				box-shadow 0 0 0 3px inset\n				top 2.35em\n				border-radius 2px\n			&:after\n				left 0\n				width 1em\n				height 1em\n				box-shadow 0 0 0 1em inset\n				border-radius 100%\n\n			&:last-of-type\n				&:before\n					display none\n\n		&.dots-center\n			width 50%\n			clear both\n\n			> .title\n				font-size 24px\n\n			&:before\n			&:after\n				content ''\n				position absolute\n				top 1.2em\n\n			&:before\n				width 3px\n				height calc(100% \\- 1.35em)\n				box-shadow 0 0 0 3px inset\n				top 2.35em\n				border-radius 2px\n\n			&:after\n				width 1em\n				height 1em\n				box-shadow 0 0 0 1em inset\n				border-radius 100%\n\n			&:last-of-type\n				&:before\n					display none\n\n			// setup the rows\n			&:nth-child(odd)\n				float left\n				padding-right 2.5em\n				text-align right\n				&:before\n				&:after\n					left 100%\n					transform translateX(-50%)\n\n\n			&:nth-child(even)\n				float right\n				padding-left 2.5em\n				text-align left\n				&:before\n				&:after\n					right 100%\n					transform translateX(50%)\n\n		&.clean-rows\n			display table-row\n			width 100%\n			float none\n			.title\n			.body\n				display table-cell\n				width auto\n				vertical-align top\n				font-size 18px\n				padding-bottom .4em\n				word-break initial\n			.title\n				padding-right 3em\n\n\n			&:hover\n				.edit-tools\n					left 0 !important\n					bottom auto !important\n					top auto !important\n					margin-top -2em !important\n\n			&.ui-sortable-placeholder\n				min-height 2em !important\n				display block\n\n// Maps\nbody:not(.isLegacy) [block-type=\"map\"]\n	&.s1\n		.media\n		.body\n			padding 0\n			// text-align left\n		.body\n			padding 1em\n		&.map-top\n			.media\n			.body\n				width 100%\n			.media\n				img\n					border-radius 4px 4px 0 0\n\n		&.map-right\n			.body\n				float left\n				width 34%\n				padding 1em\n			.media\n				float right\n				width 66%\n\n		&.map-bottom\n			display table\n			width 100%\n			.media\n			.body\n				width 100%\n			.body\n				padding 1em\n			.media\n				display table-footer-group\n				padding 0\n				float none\n\n		&.map-left\n			.body\n				float right\n				width 34%\n			.media\n				float left\n				width 66%\n\nbody.isLegacy\n	[block-type=\"map\"]\n		&.s1\n			.media\n			.body\n				text-align inherit\n\n\n.media[block-type=\"image\"]\n	float none\n	&.s3\n		width 100%\n		float none\n		margin 0 auto\n		padding 30% 0 0 0\n		height 0\n		overflow hidden\n		.media\n			position absolute !important\n			top 0\n			left 0\n			width 100%\n			height 100%\n			overflow hidden\n			img\n				transform translateY(-28%)\n\n// Carousel Gallery styles\n[block-type=\"img_gal\"]\n	h1\n		font-size 2em !important\n		margin 0 0 0.5em 0\n	.progress\n		text-align center\n		padding-top 20px\n		> div\n			display inline\n			margin 0 auto\n		.total\n			&:before\n				content ' of '\n	.img-gal-item\n		padding 0\n		width 768px\n		.media\n			padding 0\n			.delete-carousel-img\n				color #FFF\n				cursor pointer\n				padding 0.5em 1em\n				text-align center\n				text-transform uppercase\n				letter-spacing 0.1em\n				margin-top 10px\n				font-family 'gibsonSemibold'\n				background #d10101\n				font-size 11px\n				color #fff\n				border None\n				border-radius 2px\n			img\n				height 500px !important\n				width auto\n				max-width none\n				display inline-block\n	// .scrollLeftContain\n	// .scrollRightContain\n	// 	transition left .15s linear\n	.scrollLeftContain\n		position absolute\n		bottom 250px\n		left 5px\n		height 60px\n		width 60px\n		background rgba(0,0,0,0.2)\n		border-radius 3px\n		cursor pointer\n		transition left .15s linear, background .15s linear .1s\n		&:hover\n			left 0px\n			background rgba(0,0,0,0.4)\n		&:active\n			transition none\n			transform scale(0.9)\n	.scrollRightContain\n		position absolute\n		bottom 250px\n		right 5px\n		height 60px\n		width 60px\n		background rgba(0,0,0,0.2)\n		border-radius 3px\n		cursor pointer\n		transition right .15s linear, background .15s linear .1s\n		&:hover\n			right 0px\n			background rgba(0,0,0,0.4)\n		&:active\n			transition none\n			transform scale(0.9)\n	.scrollLeft\n		&:after\n			content ''\n			display inline-block\n			height 25px\n			width 25px\n			border-top 6px solid #fff\n			border-left 6px solid #fff\n			transform rotate(-45deg)\n			margin-left 10px\n			margin-top 14px\n	.scrollRight\n		&:after\n			content ''\n			display inline-block\n			height 25px\n			width 25px\n			border-top 6px solid #fff\n			border-right 6px solid #fff\n			transform rotate(45deg)\n			margin-right 10px\n			margin-top 14px\n\n// List style styles\n[block-type=\"list\"]\n	> .title\n		h1\n			margin-bottom 0\n	> .body\n		margin-bottom 2.8em\n		margin-bottom 0\n	&.s1\n		ul\n			list-style disc\n			margin-left 2em\n	&.s1.alt\n		text-align center\n		ul\n			list-style none\n			margin-left 0\n		&.three\n			.list-item\n				width 32.83%\n				position relative\n				display inline-block\n				float none !important\n	.list-item\n		position relative\n		display list-item\n		&.s1\n			.title\n			&.alt\n				.title\n				.body\n					text-align center\n				&:before\n					display none\n\n// Countdown Element\n.sf.countdown\n\n	&.styled\n		.countdown-plain\n			display none\n	&.plain\n	&.plain-only-days\n		.countdown-styled\n			display none\n\n	&.plain-only-days\n		.countdown-minutes\n		.countdown-hours\n		.countdown-seconds\n			display none\n\n	.countdown-styled\n		max-width 620px\n		margin 1em auto\n\n	.title\n		font-size 34px\n\n	.countdown-body\n		float none\n	.countdown-date-tbd\n		display none\n		float none\n\n\n// Nav element styles\n// Defaut styles, all fallbacks to support s1 and s2 modes\n.sf.nav\n	.nav-hamburger\n	.nav-dropdown-selected\n		display none\n\n\n// MOBILE view ( mobile first )\nhamburger_size = 50px\n.horizontal-hamburger[block-type=\"nav\"]\n	width 100%\n	overflow hidden\n	.children\n		width 100%\n		display none\n		font-size 2.18em\n		&.open\n			display inline-block\n	.nav-item\n		padding 0\n		a\n			padding .5em\n			display block\n			&:hover\n				background-color rgba(0,0,0,.1)\n	.nav-hamburger\n		display block\n		width auto\n		float right\n		&:before\n			font-size hamburger_size\n			cursor pointer\n	.nav-dropdown-selected\n		display none\n\n// DESKTOP view\n@media screen and (min-width: 767px)\n	.horizontal-hamburger[block-type=\"nav\"]\n		width auto\n		display inline-block\n		.children\n			width auto\n			display block\n			font-size 1.8em\n		.nav-item\n			width auto\n		.nav-hamburger\n			display none\n\n\n\n\n// MOBILE view ( mobile first )\n.horizontal-dropdown[block-type=\"nav\"]\n	width 100%\n	overflow hidden\n	.children\n		width 100%\n		display none\n		font-size 2.18em\n		&.open\n			display inline-block\n	.nav-item\n		padding 0\n		a\n			padding .5em\n			display block\n			&:hover\n				background-color rgba(0,0,0,.1)\n	.nav-dropdown-selected\n		display block\n		font-size 2.18em\n		cursor pointer\n		&:after // problem of this approach: border color isn't linked to font color. we will switch to fontello\n			content ''\n			width 0\n			height 0\n			border-left .4em solid transparent\n			border-right .4em solid transparent\n			border-top .6em solid black\n			position absolute\n			top .7em\n			right .5em\n		&.open:after // problem of this approach: border color isn't linked to font color. we will switch to fontello\n			border-top .6em solid transparent\n			border-bottom .6em solid black\n			top .2em\n\n	.nav-hamburger\n		display none\n\n// DESKTOP view\n@media screen and (min-width: 767px)\n	.horizontal-dropdown[block-type=\"nav\"]\n		width auto\n		display inline-block\n		.children\n			width auto\n			display block\n			font-size 1.8em\n		.nav-item\n			width auto\n		.nav-dropdown-selected\n			display none\n\n\n.letter-icon\n	font-family 'GibsonRegular'\n	background-color #aaa\n	text-align center\n	text-transform capitalize\n	color #fff\n	border-radius 5px\n\n// Comments Element\ncomment-avatar-size = 30px\n.comment-avatar\n	width comment-avatar-size\n	float left\n	border-radius 5px\n	margin-top 5px\n.comment-item\n	overflow hidden\n	.letter-icon\n		height comment-avatar-size\n		width comment-avatar-size\n		line-height comment-avatar-size\n		font-size 1.5em\n\n	.comment-content\n		margin 0 0 1.3em comment-avatar-size\n		padding-left 10px\n		.comment-author\n			margin-bottom .2em\n			span\n			a\n				font-size: 1.1em\n		.comment-actions\n			font-size .9em\n			margin-top .4em\n			.comment-action-date\n				opacity 0.6\n\n.template-blank-comment\n.template-deleted-comment\n	display none\n\n.sf.comments\n	*\n		font-size 1em\n	a\n		cursor pointer\n	.comments-element-header\n		border-bottom solid 1px #eee\n		padding-bottom 15px\n		margin-bottom 15px\n		text-align left\n	.comment-wrapper\n		text-align left\n		max-height 1000px\n		overflow hidden\n	.comment-responses\n		margin-left 5px\n		padding-left 5px\n\n	.comment-responses>.comment-responses // Important for when deleting comments with children\n		margin-left 0\n		padding-left 0\n\n\n\n	.comment-responses\n			margin-left 8px\n	.comment-item .comment-responses\n		.comment-item .comment-responses\n			.comment-item .comment-responses\n				.comment-item .comment-responses\n					margin-left 4px\n					.comment-item .comment-responses\n						.comment-item .comment-responses\n							margin-left 0\n\n	.comment-form\n		display none\n		padding .5em .8em\n		margin-top .4em\n		border solid 1px #ddd\n\n		label\n			display block\n			float left\n			clear left\n			width 5em\n			text-align right\n		>div\n			margin-bottom .6em\n		>div>div\n			display block\n			margin-left 85px\n\n		div input\n			outline 0\n			border solid 1px #333\n			width 15em\n			max-width 100%\n		div textarea\n			outline 0\n			border solid 1px #333\n			width 45em\n			max-width 100%\n		.post-button\n			margin-left 85px\n			display inline-block\n			clear left\n			background-color: #bbb;\n			border none\n			color #fff\n			font-size 1.3em\n			font-weight bold\n			padding .2em 2em\n			cursor pointer\n		.error-msg\n		.comment-server-error\n			display none\n			color #f99\n		.error input\n		.error textarea\n			border-color #f99\n		.error .error-msg\n			display inline\n\n	.comment-deleted\n		border solid 1px #ddd\n		padding 1em\n		margin-bottom 1.3em\n		text-align left\n\n	.comment-response-top-level\n		display none\n		text-align left\n		clear both\n		overflow hidden\n		margin 15px 0\n\n		.comment-form\n			margin 0 0 0 40px\n		.dummy\n			margin-left comment-avatar-size\n			padding-left 10px\n			textarea\n				width 45em\n				max-width 100%\n				float left\n		.comment-action-reply\n			float right\n\n	.loader\n	.refresh-loader\n		background url(\"/images/nu-loader/nu-loader-sprite.png\")\n	.loader\n		width 98px\n		height 98px\n		margin 10px auto\n		-webkit-animation full-rotation .7s infinite linear\n		animation full-rotation .7s infinite linear\n	.refresh-loader\n		width 1.5em\n		height 1.5em\n		float right\n		margin-right .5em\n		background-size 1.5em\n		-webkit-animation full-rotation .4s infinite linear\n		animation full-rotation .4s infinite linear\n		display none\n	.refresh-comments\n		float right\n	.loading-icon\n		display none\n	.comment-show-more\n		display none\n	.comments-element-header .loading-icon\n		float right\n	.first-time-msg\n		display none\n\n@-webkit-keyframes full-rotation {\n    from {-webkit-transform: rotate(0deg);}\n    to   {-webkit-transform: rotate(359deg);}\n}\n@keyframes full-rotation {\n    from {-webkit-transform: rotate(0deg);}\n    to   {-webkit-transform: rotate(359deg);}\n}\n\n// desktop view\n@media screen and (min-width: 767px)\n	.sf.comments\n		.comment-responses\n			margin-left comment-avatar-size\n			padding-left 10px\n			border-left solid 1px #eee\n		.comment-item .comment-responses\n			.comment-item .comment-responses\n				.comment-item .comment-responses\n					.comment-item .comment-responses\n						margin-left 25px\n						.comment-item .comment-responses\n							margin-left 15px\n							.comment-item .comment-responses\n								margin-left 5px\n								.comment-item .comment-responses\n									.comment-item .comment-responses\n										margin-left 0\n// Attendees Element\nattendee-avatar-size = 30px\n.sf.attendees\n	text-align center\n	overflow hidden\n	.attendee-template\n		display none\n	.attendee-avatar\n		width attendee-avatar-size\n		float left\n		border-radius 5px\n		margin-top 5px\n		img\n			width 100%\n	.attendee-wrapper\n		float none\n	.attendee-info\n		.attendee-name\n			div\n				font-size 1.2em\n				display inline-block\n\n	.title\n		font-size 34px\n		margin-bottom .8em\n\n	// attendees on page mode\n	&.on-page\n		.attendee-count>div\n			display inline-block\n\n	// attendees not directly on page mode\n	&.modal\n		.attendee-view-all\n		.attendee-wrapper\n			display none\n		.attendee-count-value\n			font-size 1.8em\n			line-height 1em\n\n	// responsive design. these classes are added in js depending on width of container\n	.attendee-item\n		width 100%\n		margin-bottom 1em\n\n	&.cols2\n		.attendee-item\n			width 50%\n			float left\n	&.cols3\n		.attendee-item\n			width 33.3%\n			float left\n	&.cols4\n		.attendee-item\n			width 25%\n			float left\n	&.cols5\n		.attendee-item\n			width 20%\n			float left\n\n// Social Links v2 Element\n.sf.social-links-v2\n	.children\n		font-size 1.6em\n	&.horizontal\n		.social-links-item\n			display inline-block\n			float none\n			width auto\n	&.vertical\n		.social-links-item\n			float none\n			text-align center\n\n\n///\n// s2\n// two-up\n.s2\n	// width auto\n	width 49.7%\n	display inline-block\n	float none\n	vertical-align top\n	// New row\n	&.sf\n		&:nth-child(odd)\n			padding-left 0\n			clear left\n		&:nth-child(even)\n			padding-right 0\n\n	&.media\n		> .grp.media\n			width 25%\n		> .grp.body\n			width 75%\n			padding-left .5em\n		// Alternate block\n		&.alt\n			&.sf\n				&:nth-child(even)\n					> .grp.media\n						float right\n					> .grp.body\n						text-align right\n						padding-right .5em\n		&.alt2\n			&.sf\n				&:nth-child(odd)\n					> .grp.media\n						float right\n					> .grp.body\n						text-align right\n						padding-right .5em\n\n	// embeds\n	&.audio\n	&.map\n		width 100%\n		> .grp.media\n			width 50%\n			float right\n		> .grp.body\n			width 50%\n\n	&.video\n	&.audio\n		width 100%\n		text-align center\n		> .grp.media\n			width 100%\n		> .grp.body\n			width 100%\n\n	///\n	// For Schedules\n	&.schedule-item\n		float left\n		.timePicker\n			font-size 1.3em\n\n	///\n	// For image groups\n	&.list-item\n		&.image-item\n			> .grp.media\n			> .grp.body\n				width 100%\n				text-align center\n\n\n///\n// s3\n// three-up\n// All children stay as 100%\n\n//\n// TEMP\n// Protect spkrs from layout loss\n.s3\n	width 33.1%\n	vertical-align top\n	text-align center\n	// New row\n	&.sf\n		&:nth-child(3n+1)\n			// padding-left 0\n			clear left\n		// Middle item -- split the padding\n		&:nth-child(3n-1)\n			// padding-right .25em\n			// padding-left .25em\n		// Last in row\n		&:nth-child(3n+0)\n			// padding-right 0\n\n	> .grp.body\n		padding-top .6em\n\n	// embeds\n	&.audio\n	&.map\n		width 100%\n		> .grp.media\n			width 100%\n		> .grp.body\n			width 100%\n\n	&.video\n	&.audio\n		width 100%\n		display table\n		.body\n			margin-bottom 1em\n		.media\n			float none\n			display table-footer-group\n\n	///\n	// For Schedules\n	&.schedule-item\n		float left\n		.tCell\n			width 100%\n			clear both\n			float left\n		.timePicker\n			font-size 1.3em\n			text-align center\n			width 100%\n			input\n				text-align center\n				width 100%\n\n.children\n	text-align center\n	.s3\n		&.list-item\n			display inline-block\n			float none\n			margin-right -.2em\n			margin-bottom 2.18em\n			text-align center\n			padding 0 3em 1em 3em\n			// width 32%\n\n.sf\n	.title\n	.children\n		float none\n		display inline-block\n		position relative\n\n///\n// s5\n// five-up\n// All children stay as 100%\n.s5\n	width 20%\n	vertical-align top\n	text-align center\n	float none\n	margin-left -0.25em\n	display inline-block\n	// New row\n	&.sf\n		&:nth-child(5n+1)\n			// padding-left 0\n			clear left\n		// Last in row\n		// &:nth-child(5n+0)\n		// 	padding-right 0\n\n\n////\n/// SHAPES\n//\n\n// .list-item\n// 	.media.image\n// 		height 0\n// 		overflow hidden\n// 		padding-bottom 100%\n// 	&.square\n// 	&.circle\n// 		.media.image\n// 			padding-bottom 100%\n// 	&.landscape\n// 		.media.image\n// 			padding-bottom 75%\n// 	&.portrait\n// 		.media.image\n// 			padding-bottom 133%\n// 			img\n// 				width auto\n// 				height 100%\n// 	&.circle\n// 		.media.image\n// 			border-radius 100%\n.circle\n.nu-circle\n	.media.image\n		border-radius 100%\n		img\n			border-radius 100%\n\n\n////\n///\n//  Social button styles\n//  2.OH remove hardcoded colors\n// #social-main\n// 	#social-btn-email .icon-email:before\n// 		color #fff !important\n// 	&.dark\n// 		#twitter-link .ico-twitter:after\n// 			background-position -40px -663px !important\n// 		#fb-link .ico-fb-large:after\n// 			background-position 0 -657px !important\n// 		#social-btn-email .icon-email:before\n// 			color #000 !important\n\n\n////\n///\n//	Date & Time Layouts\n#element-when\n	.date:after\n		content ''\n		display block\n\n\n///////////////////////////////\n///////@Punctation logic///////\n///////////////////////////////\n///\n// month / day / year\n\n// day\n#element-when-day\n	.date\n		&.end\n			&:before\n				content '-'\n				margin 0 -0.2em 0 -0.1em\n\n#element-when-day\n	.date\n		&.start .day\n			&:after\n				content ', '\n\n#element-when-end-day\n	.date\n		&.end .day\n			&:after\n				content ', '\n\n.event_end\n	&:before\n		content '-'\n		left -.03em\n		position relative\n\n.no-comma\n	.date.start .day:after\n	.venue-address:after\n	.venue-city:after\n		content '' !important\n\n\n\n// multi-day, different month\n// e.g. June 27 - July 4, 2016\n.event-has-end-time.mult-day\n	.event_start\n		.element-when-year\n			display none !important\n	#element-when-day\n		.date\n			&.start .day\n				&:after\n					content ''\n			&.end .day\n				&:after\n					content ', '\n\n\n// multi-day, same month\n// e.g. June 27-29, 2016\n.event-has-end-time.mult-day.sesm\n	.event_start\n		.element-when-year\n			display inline-block !important\n	#element-when-day\n		.date\n			&.start .day\n				&:after\n					content ''\n			&.end .day\n				&:after\n					content ', '\n\n\n///\n// Time\n#element-when-time\n	.time\n		// Start time\n		&.start\n		&.end\n			.minute\n				&:before\n					content ':'\n					margin-left -0.15em\n\n		// End time\n		&.end\n			&:before\n				content '-'\n		// &.start\n		// &.end\n		// 	&[i=\"00\"]\n		// 		.minute\n		// 			display none\n		.meridian\n			margin-left -.2em\n// don't show time on multi-day events\n.mult-day\n	#element-when-time\n		display none\n\n///\n// Venue city, state\n#element-where-address\n	.venue-address\n		&:after\n			content ','\n#element-where-city\n	.venue-city\n		&:after\n			content ','\n// #element-where-state\n// 	.venue-state\n// 		&:after\n// 			content ','\n\n// when no state\n.noCity\n	#element-where-address\n		.venue-address\n			&:after\n				content ''\n\n// when no state\n.noState\n	#element-where-city\n		.venue-city\n			&:after\n				content ''\n\n// when no zipcode\n.noZip\n	#element-where-state\n		.venue-state\n			&:after\n				content ''\n\n\n// when no zipcode & no address\n.noZip.noAddress\n	#element-where-state\n		.venue-state\n			&:after\n				content ''\n\n// when no zipcode & no state\n.noZip.noState\n	#element-where-city\n		.venue-city\n			&:after\n				content ''\n\n////\n/// End DateTime Hiding/Showing\n//\n.layoutGrp\n	&.event_end\n	&.element-when-end-year\n	&.element-when-end-month\n	&.element-when-end-day\n	&.element-when-end-dow\n	&.element-when-end-time\n	&.element-when-day .date.end\n	&.element-when-dow .date.end\n	&.element-when-time .time.end\n		display none !important\n\n.event-has-end-time\n	.layoutGrp\n		&.element-when-time .end.time\n			display inline !important\n	&.mult-day .layoutGrp\n		&.event_end\n		&.element-when-end-year\n		&.element-when-end-month\n		&.element-when-end-day\n		&.element-when-end-dow\n			display inline-block !important\n		&.element-when-day .end.date\n		&.element-when-dow .end.date\n		&.element-when-time\n		&.element-when-end-time\n			display none !important\n	&.mult-day.sesm .layoutGrp\n		&.event_end\n		&.element-when-end-year\n		&.element-when-end-month\n		&.element-when-end-day\n		&.element-when-end-dow\n		&.element-when-end-time\n		&.element-when-time\n			display none !important\n		&.element-when-day .end.date\n		&.element-when-dow .end.date\n			display inline !important\n\n\n.layoutGrp.element-when-tbd\n	display none !important\n	.layoutGrp.event_start\n	.layoutGrp.event_end\n		display none !important\n.date-tbd\n	.layoutGrp\n		&.element-when-tbd\n			display inline !important\n		&.event_start\n		&.element-when-year\n		&.element-when-month\n		&.element-when-day\n		&.element-when-time\n		&.event_end\n		&.element-when-end-year\n		&.element-when-end-month\n		&.element-when-end-day\n		&.element-when-end-time\n			display none !important\n.hide-time\n	.layoutGrp\n		&.element-when-time\n		&.element-when-end-time\n			display none !important\n.layoutGrp\n	&.element-where-tbd\n		display none !important\n.venue-tbd\n	.layoutGrp\n		&.element-where-tbd\n			display inline !important\n\n		&.element-where-venue\n		&.element-where-address\n		&.element-where-city\n		&.element-where-state\n		&.element-where-zip\n			display none !important\n\n\n////////////////////////////////\n////// THIS IS FOR LEGACY //////\n////// Talk to Chris or clay////\n////////////////////////////////\nbody.isLegacy\n	///\n	// month / day / year\n\n	// day\n	#element-when-day\n		.date\n			&.end\n				.day\n					&:before\n						content '- '\n\n	#element-when-day\n		.date\n			&.start .day\n				&:after\n					content ', '\n\n	#element-when-end-day\n		.date\n			&.end .day\n				&:after\n					content ', '\n\n	.event_end\n		&:before\n			content '-'\n			left -.03em\n			position relative\n\n	// when multi-day, has an end time & same end month\n	&.event-has-end-time.mult-day.sesm\n		#element-when-day\n			.date\n				&.start .day\n					&:after\n						content '' !important\n				&.end .day\n					&:after\n						content ', '\n\n	///\n	// Time\n	#element-when-time\n		.time\n			// Start time\n			&.start\n				.minute\n					&:before\n						content ':'\n						position relative\n						left -0.05em\n\n			// End time\n			&.end\n				&:before\n					content '-'\n			// &.start\n			// &.end\n			// 	&[i=\"00\"]\n			// 		.minute\n			// 			display none\n	// don't show time on multi-day events\n	&.mult-day\n		#element-when-time\n			display none\n\n	///\n	// Venue city, state\n	#element-where-address\n		.venue-address\n			&:after\n				content ',' !important\n				display inline-block !important\n	#element-where-city\n		.venue-city\n			&:after\n				content ','\n				margin-right .25em\n	// #element-where-state\n	// 	.venue-state\n	// 		&:after\n	// 			content ','\n\n	// when no state\n	&.noCity\n		#element-where-address\n			.venue-address\n				&:after\n					content ''\n\n	// when no state\n	&.noState\n		#element-where-city\n			.venue-city\n				&:after\n					content ''\n\n	// when no zipcode\n	&.noZip\n		#element-where-state\n			.venue-state\n				&:after\n					content ''\n\n\n	// when no zipcode & no address\n	&.noZip.noAddress\n		#element-where-state\n			.venue-state\n				&:after\n					content ''\n\n	// when no zipcode & no state\n	&.noZip.noState\n		#element-where-city\n			.venue-city\n				&:after\n					content ''\n\n	////\n	/// End DateTime Hiding/Showing\n	//\n	.layoutGrp\n		&.event_end\n		&.element-when-end-year\n		&.element-when-end-month\n		&.element-when-end-day\n		&.element-when-end-dow\n		&.element-when-end-time\n		&.element-when-day .date.end\n		&.element-when-dow .date.end\n		&.element-when-time .time.end\n			display none !important\n\n	&.event-has-end-time\n		.layoutGrp\n			&.element-when-time .end.time\n				display inline !important\n		&.mult-day .layoutGrp\n			&.event_end\n			&.element-when-end-year\n			&.element-when-end-month\n			&.element-when-end-day\n			&.element-when-end-dow\n				display inline-block !important\n			&.element-when-day .end.date\n			&.element-when-dow .end.date\n			&.element-when-time\n			&.element-when-end-time\n				display none !important\n		&.mult-day.sesm .layoutGrp\n			&.event_end\n			&.element-when-end-year\n			&.element-when-end-month\n			&.element-when-end-day\n			&.element-when-end-dow\n			&.element-when-end-time\n			&.element-when-time\n				display none !important\n			&.element-when-day .end.date\n			&.element-when-dow .end.date\n				display inline !important\n\n\n	.layoutGrp.element-when-tbd\n		display none !important\n		.layoutGrp.event_start\n		.layoutGrp.event_end\n			display none !important\n\n	&.date-tbd\n		.layoutGrp\n			&.element-when-tbd\n				display inline !important\n			&.event_start\n			&.element-when-year\n			&.element-when-month\n			&.element-when-day\n			&.element-when-time\n			&.event_end\n			&.element-when-end-year\n			&.element-when-end-month\n			&.element-when-end-day\n			&.element-when-end-time\n				display none !important\n	&.hide-time\n		.layoutGrp\n			&.element-when-time\n			&.element-when-end-time\n				display none !important\n\n	.layoutGrp\n		&.element-where-tbd\n			display none !important\n\n	&.venue-tbd\n		.layoutGrp\n			&.element-where-tbd\n				display inline !important\n\n			&.element-where-venue\n			&.element-where-address\n			&.element-where-city\n			&.element-where-state\n			&.element-where-zip\n				display none !important\n///////////////////////////////////\n////// END LEGACY PUNCTUATION /////\n///////////////////////////////////\n\n\n////\n/// Legacy Patches\n//\n\n.mega-date-wrap.ofH\n	overflow visible !important\n\n\n////\n///\n//	Host & Intro Layouts\n\n// Left aligned\nbody:not(.isLegacy) #host-img-block-wrap\n	// img\n	// 	border-radius 100%\n	.img-utils\n		background none\n.host-left\n	#host-img-block-wrap\n		padding-right 0 !important\n		margin-right 0.5em !important\n		width calc( 12.5% \\- .5em ) !important\n	#element-host .w7-8\n		text-align left !important\n		padding-top 0\n\n// Centered\n.host-center\n	#host-img-block-wrap\n		width 100% !important\n		margin-right 0 !important\n		width 160px !important\n		float none !important\n		display inline-block !important\n	#element-host .w7-8\n		width 100% !important\n		text-align center !important\n\n// Centered, pic on top\n.host-top\n	#element-host\n		width auto\n		float none\n		display inline-block\n		> .wrap\n			display flex\n			flex-direction column-reverse\n			float none\n	#host-img-block-wrap\n		width 100% !important\n		margin 0 !important\n		> img\n			max-width 120px\n	#element-host .w7-8\n		width 100% !important\n		text-align center !important\n\n\n// .hosted-by\n// 	font-size .7em\n// .host-name\n// 	font-size 1.5em\n// 	line-height 1.3\n\n////\n/// UI Controls\n//	UI styles for content blocks\n\n//\n// Position controls\n.grp\n	&.p-left\n		float left\n	&.p-center\n		float none\n		clear both\n		// trying this\n		// text-align center\n		// .inline\n		// 	float none\n	&.p-right\n		float right\n\n////\n///\n// Inline RSVP Form\n// Overides the default RSVP modal styles\n.element-rsvp\n	#element-rsvp\n		padding 0\n		&.loading\n			opacity 0.3\n			transition all .15s\n		#rsvp-modal\n			max-width 100%\n			font-size 16px\n			line-height normal\n			text-align left\n			background none\n			padding-top 0\n			.bgGradient\n				display none\n			// Hide the close X\n			h3\n				padding 0\n			.close-form\n				display none\n			#rsvp-form-inner\n				padding 0\n\n////\n/// Ticket form styles\n.element-rsvp\n	#element-rsvp\n		.required-fields\n			font-size 13px;\n			text-align center\n			color rgb(189, 39, 39)\n			background rgb(255, 221, 221)\n			font-weight normal\n			border-radius 4px\n.tkt-wrap\n	background rgba(255,255,255,0.5)\n	box-shadow\n	border-radius 3px\n	min-height 6em\n	margin-bottom 1em !important\n	&:before\n	&:after\n		content ''\n		position absolute\n	&:before\n		top 0\n		left -1em\n		width 1em\n		height 100%\n		background #494949\n		margin-left auto\n		border-radius 3px 0 0 3px\n	&:after\n		top 50%\n		left -1.5em\n		margin-top -.5em\n		width 1em\n		height 1em\n		background #efefef\n		border-radius 100%\n	.tktTitle\n		font-family 'gibsonSemiBold'\n	.more-info\n		right 0\n		color #888\n		margin-top 0.5em\n		// &:after\n		// 	content ''\n		// 	border-top 3px solid #888\n		// 	border-right 3px solid transparent\n		// 	border-left 3px solid transparent\n		// 	display inline-block\n		// 	margin-left 3px\n		// 	border-radius 2px\n		&:hover\n			color black\n			&:after\n				border-top 3px solid black\n	input\n		outline none\n\n.addon-tickets\n	.tkt-wrap\n		&:before\n			background #ff005d\n\n///\n// Control the edit tools for images\n\n.finetuneOpen\n	.grp.media .media\n		position relative\n		&:hover\n			//background rgba(0,0,0,.1)\n			img\n				border-radius 0 6px 0 0\n			.edit-tools\n				top .45em\n				right 0.5em\n				opacity 1\n				> div\n					width 34px\n\n.grp.media .media\n	iframe\n		width 100%\n\n.inline-html-editor\n	background #000000\n	color #ffffff\n	font-size 14px\n\n.jcrop-holder\n	margin auto\n	text-align center\n\n#cropAnyPhoto\n	width auto\n	// min-width 35em\n	// max-width 90%\n	width 70%\n	height auto\n	.progress-bar\n		left 0\n		position absolute\n		border-radius 4px\n		background transparent\n		border none\n		box-shadow none\n		height 100%\n		transition all .15s\n		animation loaderBG 1s linear\n		width 100%\n		overflow hidden\n		.progress\n			height 100%\n			width 3%\n			background rgba(6, 222, 239, 0.7)\n			transition width .2s linear\n\n@keyframes loaderBG\n	0%\n		background rgba(6, 222, 239, 0.7)\n	50%\n		background rgba(6, 222, 239, 0.3)\n	100%\n		background rgba(6, 222, 239, 0.7)\n\n.on-page-fb-wrap .fb-comments\n	display block !important\n	> span\n		width 100% !important\n		iframe\n			width 100% !important\n\n#finetune-layout-content\n	.accordion[section-name=\"title\"]\n	.accordion[section-name=\"subtitle\"]\n	.accordion[section-name=\"description_text\"]\n	.accordion[section-name=\"hash\"]\n	.accordion[section-name=\"when\"]\n	.accordion[section-name=\"where\"]\n	.accordion[section-name=\"host\"]\n	.accordion[section-name=\"social-links\"]\n		.delete-section\n			pointer-events none\n			background rgba(255, 99, 71, 0.45)\n			opacity 0.4\n\n#whiteLabelSplug\n#whiteLabelSplug:visited\n	font-size 12px\n	color #eeeeee\n	font-family 'gibsonSemiBold', arial, sans-serif\n	position absolute\n	bottom 10px\n	left 10px\n\n#splash-container\n	overflow-x hidden\n\n//\n// TEMP TEMP TEMP\n//#host-img-block-wrap\n//	display none\n\n\n\n\n////\n///   TICKET RECEIPT\n//\n\n/*************\n * ticketReceipt\n *************/\n@css {\n#ticketReceipt {\n	/*display: none;*/\n	position: fixed;\n	top:0;\n	left:0;\n	background: rgba(0,0,0,.6);\n	width:100%;\n	height: 100%;\n	text-align: center;\n	overflow: auto;\n	z-index: 12;\n	line-height: 1em;\n}\n\n#ticketReceipt:before {\n	content: '';\n	display: inline-block;\n	height: 100%;\n	vertical-align: middle;\n	margin-right: -.25em;\n}\n\n#ticketReceipt .inline-splash-sell {\n\n}\n\n#ticketReceipt .extrasWrap {\ndisplay: none !important;\n}\n\n#ticketReceipt .content table {\n	width: 100%;\n	text-align: left;\n}\n\n#ticketReceipt .ticketReceiptInner {\n	width: 630px;\n	min-height: 200px;\n	padding: 20px;\n	box-sizing: border-box;\n	-moz-box-sizing: border-box;\n	-webkit-box-sizing: border-box;\n	background: white;\n	border-radius: 8px;\n	text-align: left;\n	margin: 40px auto;\n	display: inline-block;\n	vertical-align: middle;\n	box-shadow: 0 4px 12px rgba(0,0,0,0.8);\n	position: relative;\n}\n\n#ticketReceipt .ticketReceiptInner i.icon-close-2 {\n	position: absolute;\n	top: 0px;\n	right: 0px;\n	font-size: 34px;\n	color: #CCC;\n	cursor: pointer;\n	width: 30px; height: 30px;\n}\n\n#ticketReceipt .ticketReceiptInner i.icon-close-2:hover {\n	color: #111;\n}\n\n#ticketReceipt .ticketReceiptInner h5,\n#ticketReceipt .ticketReceiptInner h4,\n#ticketReceipt .ticketReceiptInner span,\n#ticketReceipt .ticketReceiptInner p {\n	padding: 20px 20px 0 20px;\n	font-weight: normal;\n	text-align:center;\n	text-shadow:none;\n}\n\n#ticketReceipt .ticketReceiptInner h2 {\n	font-size: .8em;\n	font-family: 'GibsonRegular', arial, sans-serif;\n	font-weight: normal;\n	text-shadow: none;\n	padding: 10px 0px 0 0;\n	margin-bottom: -5px;\n	text-transform: uppercase;\n	text-align: left;\n}\n\n#ticketReceipt .ticketReceiptInner p.eventTitle {\n	font-size: 32px;\n	color: black;\n	font-family: 'GibsonBoldItalic', arial, sans-serif;\n	margin: 4px 0 26px 0;\n	display: inline-block;\n	text-align: left;\n	display: block;\n}\n\ndiv.highlightedMessage {\n	color: black;\n	display: inline-block;\n	text-align: center;\n	font-size: 0.7em;\n	width: 100%;\n	text-transform: uppercase;\n	letter-spacing: .1em;\n	margin: 0 auto 20px auto;\n	background-color: #FFFFCF;\n	padding: 14px 12px;\n}\n\ndiv.highlightedMessage span {\n	padding: 0 !important;\n}\n\n#ticketReceipt .ticketReceiptInner div.content span.ordernumbers {\n	font-size: .8em;\n	display: block;\n	text-align: left;\n	margin-top: 0;\n	font-family: 'gibsonRegular', arial, sans-serif;\n	margin-bottom: 0;\n	margin-left: -14px;\n	letter-spacing: .05em;\n	text-transform: uppercase;\n	line-height: 1.2em;\n	color: black;\n}\n\n#ticketReceipt .ticketReceiptInner div.content {\n	background: none;\n	border-radius: 6px;\n	text-align: center;\n	position: relative;\n	z-index: 1;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg {\n	position: absolute;\n	top: 0;\n	right: 0;\n	border-radius: 0 6px 0 0;\n	z-index: 0;\n	height: 40%;\n	overflow: hidden;\n	opacity: 0.4;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg img {\n	border-radius: 0 6px 0 0;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg:before {\n	content: '';\n	position: absolute;\n	top: 0;\n	left: 0;\n	width:100%;\n	height: 100%;\n	border-radius: 0 6px 0 0;\n	box-shadow: 100px -120px 140px white inset;\n}\n\n#ticketReceipt .ticketReceiptInner h5 {\n	font-size: 24px;\n	color: #3D3D3D;\n	text-shadow: none;\n	padding: 10px 0;\n	margin-bottom: 20px;\n	border-bottom: 1px solid #DDD;\n}\n#ticketReceipt .ticketReceiptInner span,\n#ticketReceipt .ticketReceiptInner p {\n	padding: 0 20px;\n	font-weight: normal;\n}\n#ticketReceipt .ticketReceiptInner span.shareWithFriends{\n	display: block; text-align: center; padding-top: 35px;\n}\n#ticketReceipt ul.social{\n	margin-top:10px;\n}\n#ticketReceipt ul.social li a.add-cal:hover,\n#ticketReceipt ul.the-cals li a:hover { color:#AAA; }\n\n.inline-splash-sell {\n	background: #ffffff;\n	padding: 10px;\n	border-radius: 0 0 6px 6px;\n	margin-top: 10px;\n	text-align: center;\n}\n\ntable.inlineReceipt tbody tr:nth-child(even) td,\ntable.inlineReceipt tbody td table tr:nth-child(even) td {\n	border-bottom:none;\n}\n\n#ticketReceipt .ticketReceiptInner .inline-splash-sell h4 {\n	color: #444;\n	text-shadow: none;\n	font-size: 30px;\n	text-align: center;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .shareBoxHere {\n	height: 116px;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere {\n	position: absolute;\n	top: -20px;\n	right: 40px;\n	font-family: 'gibsonSemiBoldItalic', arial, sans-serif;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social li a.add-cal,\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals li a {\n	margin-right: 10px;\n	color: black;\n	font-size: 16px;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals {\n	margin: 0;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals li a:hover {\n	color: #fff;\n	background: #000;\n}\n\n.inline-splash-sell h4 i {\n	clear: both;\n	font-size: 18px;\n	font-weight: normal;\n}\n\n.inline-splash-sell ul {\n	display: inline-block;\n	font-family: Helmet, Freesans, sans-serif;\n	font-size: 16px;\n	margin-top: 5px;\n	margin-left: 10px;\n	color: #444;\n}\n\n.inline-splash-sell ul li ul {\n	/*list-style: decimal;*/\n	margin-top: none;\n}\n\n.inline-splash-sell ul li ul li {\n	margin-bottom: 3px;\n	background:none;\n	color: #444;\n	padding: 2px 6px 4px 6px;\n	border-radius: 0px;\n}\n\n.inline-splash-sell ul li ul li:before {\n	font-size: 24px;\n	display: inline-block;\n	position: relative;\n	top: 1px;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display {\n	padding: 20px 0 40px 20px;\n	margin-left: -20px;\n	border-top: 3px solid #EEE;\n	border-bottom: 3px solid #EEE;\n	width: 630px;\n	margin-bottom: 40px;\n	background: #F8F8F8;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display h4 {\n	text-align: left;\n	margin: 0;\n	padding: 0;\n	margin-bottom: 2em;\n	text-transform: uppercase;\n	letter-spacing: .05em;\n	font-size: 0.8em;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display table {\n	width:580px;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display table th {\n	font-family: 'gibsonRegular';\n	font-size: 0.6em;\n	text-transform: uppercase;\n	letter-spacing: .05em;\n	border-bottom: 3px solid #EEE;\n}\n\n#ticketReceipt .ticketReceiptInner form {\n	display: inline-block;\n	margin: 10px 0 30px 0;\n}\n\n#ticketReceipt .ticketReceiptInner form div.submit {\n	float: none;\n	display: inline-block;\n	margin: 20px 0 0 0;\n	font-size: 22px;\n	font-family: Helvetica, Arial, sans-serif;\n	cursor: pointer;\n	border-radius: 12px;\n	background: #05C2EA;\n	color: white;\n	padding: 14px;\n	border: none;\n	font-weight: bold;\n	transition:all .15s linear;\n	-webkit-transition:all .15s linear;\n	-moz-transition:all .15s linear;\n	-ms-transition:all .15s linear;\n	-o-transition:all .15s linear;\n}\n\n\n#ticketReceipt .ticketReceiptInner form div.submit:hover {\n	background:#3CD2F1;\n}\n\n\n#ticketReceipt .extrasWrap {\n	position: relative;\n}\n#ticketReceipt .shareBox {\n	display: none;\n}\n\n#ticketReceipt .shareBox,\n#ticketReceipt .shareBox .method {\n	width:320px;\n}\n\n#ticketReceipt .shareBox .method .icon {\n	width: 60px;\n	height: 60px;\n	margin: 15px 15px 0px 15px;\n	line-height: 51px;\n	font-size: 37px;\n	font-weight: normal;\n}\n\n\n#ticketReceipt .shareBox .method[n=\"two\"] {\n	left: 75px;\n}\n\n#ticketReceipt .shareBox .method[n=\"three\"] {\n	left: 151px;\n}\n\n#ticketReceipt .shareBox .method[n=\"four\"] {\n	left: 226px;\n}\n\n\n#ticketReceipt .shareBox.three .method .icon,\n#ticketReceipt .shareBox.four .method .icon { background:#03e1ff;color: #fff;}\n#ticketReceipt .shareBox.one .method[n=one]{ left: 0px; } #ticketReceipt .shareBox.one .method[n=two], #ticketReceipt .shareBox.one .method[n=three], #ticketReceipt .shareBox.one .method[n=four] { left: 320px; }\n#ticketReceipt .shareBox.two .method[n=one], #ticketReceipt .shareBox.two .method[n=two] { left: 0px; } .shareBox.two .method[n=three], #ticketReceipt .shareBox.two .method[n=four] { left: 320px; }\n#ticketReceipt .shareBox.three .method[n=one], #ticketReceipt .shareBox.three .method[n=two], #ticketReceipt .shareBox.three .method[n=three] { left: 0px; } #ticketReceipt .shareBox.three .method[n=four] { left: 320px; }\n#ticketReceipt .shareBox.four .method[n=one], #ticketReceipt .shareBox.four .method[n=two], #ticketReceipt .shareBox.four .method[n=three], #ticketReceipt .shareBox.four .method[n=four] { left: 0px; }\n\n#ticketReceipt .shareBox .method[method=\"link\"] input {\n	top:27px;\n	left:94px;\n	width:198px;\n}\n\n#ticketReceipt .shareBox .method[method=\"email\"]\n	input\n		position absolute\n		top 20px\n		left 94px\n		background white\n		color #111\n		width 200px\n		font-size 14px\n	a:visited\n	a\n		bottom 38px\n		right -38px\n		position absolute\n		color white\n		background #03E1FF\n		transition all .15s linear\n\n@media screen and (max-width:650px){\n\n	#ticketReceipt{\n		width:100% !important;\n		max-width: 630px !important\n	}\n\n	#ticketReceipt .ticketReceiptInner{\n		width: 100% !important;\n		max-width: 630px !important;\n	}\n\n	#ticketReceipt .ticketReceiptInner #cart-display{\n		width: 100% !important;\n	}\n\n}\n\n}\n/********************\n * end @css\n ********************/\n\n/********************\n * end ticketReceipt\n ********************/\n.grp.nav\n	//box-shadow 0px 3px 3px -2px #dcdcdc\n.grp.button\n	font-family 'GibsonRegular', arial, sans-serif\n	//box-shadow 0px 3px 3px -2px #dcdcdc\n	//padding 2em 0 2em 0\n	a\n		color #2c2c2c\n/*\n.nav-item\n	font-family 'GibsonRegular', arial, sans-serif\n	color #2c2c2c\n	//padding 2em 0 2em 0\n	margin 0 -0.2em 0px 0px !important\n	&:hover\n		color #ffffff\n		background #2c2c2c\n		a\n			color #ffffff\n	a\n		color #2c2c2c\n		font-family 'GibsonRegular', arial, sans-serif\n		//padding 2em\n		text-shadow 0px 0px 0px\n	.inner\n		.tip-trig\n			font-size 11px\n			width 30px !important\n*/\n\n.modal-error\n	margin-top 50px\n	padding 50px\n	text-align center\n\n.closeRTE\n	position absolute\n	right 5px\n	top 0px\n	font-size 14px\n	color #333\n	font-family gibsonSemiBold\n\n#splash-container .event-hub\n\n	// template used in JS to render event hub item objects\n	.template-hub-item\n	.template-hub-blank-comment\n		display none\n\n	.past-events-subhub\n		overflow hidden\n\n	>.map\n	>.image\n		position relative\n\n	.empty-hub-msg\n		display none\n	&.empty-hub\n		.empty-hub-msg\n			display block\n\n	&.s1\n		input.event-hub-search\n			background rgba(0,0,0,0.4)\n			border 1px solid #9f9990\n			color #FFFFFF\n			font-size 18px\n			height 43px\n			padding 0 20px\n			vertical-align middle\n			width 315px\n			font-family 'source_sans_proregular'\n			text-transform uppercase\n		.search-btn\n			border 0 none\n			color rgb(255, 255, 255)\n			cursor pointer\n			display inline-block\n			font-size 30px\n			height 43px\n			vertical-align middle\n			width 55px\n			left -6px\n			position relative\n			border-radius 0px\n			line-height: 18px;\n			background rgba(255, 255, 255, 0.4)\n			&:hover\n				color rgb(6, 134, 67)\n		.eventhub-plebians\n			max-width 750px\n			display block\n			margin 0 auto\n\n		.quick-link-contain\n			.choose\n				font-family 'source_sans_proextralight' !important\n				font-weight normal\n				margin-top 24px\n				margin-bottom 24px !important\n				font-size 2em\n				letter-spacing 0.1em\n				color rgb(255, 255, 255)\n		.quick-links\n			background url('http://splashthat.com/img/events/id/780/78062/assets/29d9.state-link.png') no-repeat 0 -59px\n			display inline-block\n			margin 0 15px\n			padding 15px 0\n			text-align center\n			width 151px\n			color rgb(25, 25, 25)\n			font-size 19px\n			line-height 22px\n			&:hover\n				background-position 0 0px\n				color rgb(255, 255, 255) !important\n		> .body\n		> .title\n			display none\n		> .children\n			margin-top 70px\n		.event-hub-item\n			width 50%\n			float left\n			&:nth-child(even)\n				clear left\n			h4\n				font-family 'source_sans_proregular' !important\n				font-size 1.5em !important\n				color rgb(57, 63, 60)\n				text-transform uppercase\n				line-height 1.2em\n			.event-deets-inner\n				.details\n					line-height 16px\n					color rgb(57, 63, 60)\n				.address\n				.zip\n					display none\n				.city-zip-wrap\n					display block\n				.date-start\n				.time\n				.city\n				.state\n				.timeDot\n				.cityComma\n					display inline-block\n				.city\n				.state\n					font-family 'source_sans_prosemibold'\n					font-style normal\n					letter-spacing 0\n					text-transform uppercase\n					font-size 1.2em\n					margin 8px 0\n				.time\n					float none !important\n				.time\n				.date-start\n					font-family 'Source-Sans-Pro-Light'\n					font-style italic\n					letter-spacing 0.06em\n					text-transform lowercase\n					font-size 1.23em\n			.learn-more\n				margin 0 auto -54px\n				background url('http://splashthat.com/img/events/id/780/78062/assets/29d9.state-link.png') no-repeat 0 -59px\n				margin 0 15px\n				padding 15px 0\n				text-align center\n				width 151px\n				margin-top 3px\n				margin-bottom 6px\n				text-transform uppercase\n				color rgb(76, 91, 82)\n				font-size 18px\n				&:hover\n					background-position 0 0px\n					color rgb(255, 255, 255) !important\n				&.event-page\n					display inline-block\n\n			.image\n				width 100%\n				img\n					width 70%\n					margin-bottom 0px\n			.event-domain\n				display none\n			&.featured\n				width 100% !important\n				margin-bottom 0 !important\n				h4\n					line-height 0.8em !important\n					padding-top 3px\n				.event-deets-wrap\n					background-color rgba(0, 0, 0, 0)\n					border 12px solid rgba(255, 255, 255, 0.6)\n					max-width 440px\n					position relative\n					float left\n					left 50%\n					transform translateX(-50%)\n					top -80px\n					width 400px\n					.event-deets-inner\n						background-color rgb(241, 241, 241)\n						width 100%\n						height 100%\n						min-height 180px\n						float left\n						padding 52px 20px 32px\n						.learn-more\n							position absolute\n							left 50%\n							transform translateX(-50%)\n							margin 0 !important\n							bottom -34px\n							margin-top 10px\n							font-size inherit\n						.event-title\n							font-size 16px\n							line-height 16px\n							margin 8px 0px 10px\n						.description\n							display block\n							font-family source_sans_prosemibold\n							font-size 15px\n							color rgb(57, 63, 60)\n						.address\n						.state\n						.zip\n						.date-start\n						.time\n						.timeDot\n						.cityComma\n							display none\n						.city\n							font-size 34px !important\n							line-height 34px\n							font-family 'SourceSansProBold' !important\n							position absolute\n							top 16px\n							width 100%\n							text-align center\n							left 0px\n							text-transform uppercase\n						.city\n						.zip\n							margin 5px 0\n				.image\n					width 100%\n					height 270px\n					overflow hidden\n					img\n						width 100%\n						height auto\n	&.s2\n		width 100%\n		&.results\n			.children\n				display block\n		&.no-results\n			.empty-msg\n				display block\n				width 100%\n				clear both\n				padding 60px 0px\n				margin-top 0px\n				position relative\n				top 20px\n				background #ccc\n				color #fff\n		.hubSearch\n			float right\n			width 42%\n		> .title\n		> .body\n			float left\n			width 50%\n			text-align left\n		> .title\n			font-size 25px\n		> .body\n			overflow hidden\n			text-overflow ellipsis\n			white-space nowrap\n			font-size 15px\n		.event-hub-search\n			background url(\"/img/search-red.png\") no-repeat scroll 93% center #FFF\n			border 1px solid #E9BAC1\n			box-shadow -1px 8px 14px -13px #B8152D inset\n			color #B8152D\n			float right\n			font-size 21px\n			padding 15px 0 15px 20px\n			width 95%\n			font-family deluxe_gothicregular,arial !important\n		.search-btn\n			display none\n		.children\n		.past-events-subhub\n			float left\n			background #BABABA\n			margin-top 22px\n			max-height 369px\n			overflow hidden\n			overflow-y scroll\n			display none\n			.hub-headers\n				display block\n				text-align left\n				float left\n				clear both\n				width 100%\n				color #fff\n				padding 20px 23px 8px\n				div\n					float left\n					font-weight bold\n				.title\n					width 25%\n				.date\n					width 12.5%\n				.time\n					width 12.5%\n				.location\n					width 50%\n			.event-hub-item\n				padding 14px 23px\n				width 100%\n				margin-bottom 0px !important\n				color #FFF\n				&.featured\n					background #A3A3A3\n				> .image\n					display none\n				.event-deets-wrap\n					.event-deets-inner\n						text-align left\n						line-height 16px\n						font-size 14px\n						.event-title\n							float left\n							width 25%\n						.event-domain\n							display none\n						.details\n							font-size 12px\n							.date-start\n								.long-format\n									display none\n								.short-format\n									display block\n									width 12.5%\n									float left\n							.timeDot\n								display none\n							.time\n								display block\n								width 12.5%\n								float left\n							.where\n								width 30%\n								float left\n								.address\n								.city\n								.cityComma\n								.state\n									float left\n								.state\n									margin 0px 4px\n						.learn-more\n							font-family deluxe_gothicregular,helveticaregular,arial\n							font-weight normal\n							border-radius 0\n							color #FFF !important\n							line-height 34px\n							display block\n							padding 1px 5px 1px 5px !important\n							text-align center\n							text-decoration none\n							font-size 12px\n							text-transform uppercase\n							box-shadow 2px 2px 0px 0px #FFF\n							background-color #921524\n							float right\n							width 20%\n							display block\n							max-width 140px\n							&:hover\n								background-color #F6C05B\n								color #FFF\n								opacity 1\n							.learnMoreText\n								background url(/img/learn-more-arrow.png) no-repeat 89% center\n								display block\n								padding-right 15px\n								font-weight bold\n\n	&.collage-layout\n		a:hover\n			transition all .2s linear\n		> .title\n			display none\n		.hubSearch\n			width 300px\n			margin 0 auto 30px\n			position relative\n			.search-btn\n				border none\n				background transparent\n				position absolute\n				right 0\n				top 0\n				padding 11px 20px !important\n				color transparent !important\n				&:before\n					content '\\e86c'\n					display block\n					border none\n					font-family fontello\n					opacity 1\n					color #9B9B9B\n					right 10px\n					top 2px\n			.event-hub-search\n				border-radius 4px\n				box-shadow none\n				padding 11px 20px\n				border 1px solid #F5F5F5\n				font-size 14px\n				text-transform uppercase\n				width 100%\n				color #9B9B9B\n				outline none\n				&:focus\n					box-shadow rgba(0, 0, 0, 0.4) 0 0 5px\n		.children\n		.past-events-subhub\n			.event-hub-item.featured\n				width 65.666667%\n				.event-title\n					&:before\n						content 'Featured'\n						text-transform uppercase\n						font-weight bold\n						font-size 0.85em\n						letter-spacing 3px\n			.event-hub-item\n				width 32.333333%\n				position relative\n				cursor pointer\n				margin 0 .5% 10px\n				padding 0\n				box-sizing inherit\n				background-size cover !important\n				background-position center !important\n				border-radius 4px\n				.image\n					background-size cover\n					background-position center\n					a\n						display block\n						background rgba(0, 0, 0, 0.35)\n						background-image none !important\n						box-shadow 0 -63px 60px rgba(0, 0, 0, 0) inset, 0 0 0 1000px rgba(0,0,0,0) inset\n						min-height 350px\n					img\n						display none\n				.event-deets-wrap\n					position absolute\n					width 100%\n					bottom 2em\n					color #fff\n					text-align left\n					.event-deets-inner\n						width 60%\n						min-width 140px\n						margin-left 25px\n						text-shadow #333 1px 1px\n						.event-title\n							margin-bottom 1em\n							font-size 1.05em\n						.event-domain\n						.timeDot\n							display none\n						.time\n							display inline-block\n							float none\n						.date-start\n						.venue\n						.address\n						.city\n						.cityComma\n						.state\n						.zip\n							display inline-block\n						.address\n						.zip\n						.no-address\n						.no-venue\n						.no-city\n						.no-state\n						.no-zip\n							display none\n				.learn-more\n					position absolute\n					top 0\n					left 0\n					bottom 0\n					width 100%\n					.learnMoreText\n						position absolute\n						opacity 0\n						color #fff\n						border 2px solid #fff\n						font-weight bold\n						padding .5em 1.5em\n						background rgba(0, 0, 0, 0.5)\n						border-radius 50px\n						text-transform uppercase\n						top 50%\n						left 50%\n						white-space nowrap\n						transform translateX(-50%) translateY(-50%)\n						transition all .2s linear\n\n				&:hover\n					.image\n						a\n							box-shadow 0 -63px 60px rgba(0, 0, 0, 0.45) inset, 0 0 0 1000px rgba(0,0,0,0.1) inset\n					.learn-more\n						background rgba(0,0,0,.5)\n						.learnMoreText\n							opacity 1\n\n	&.list-layout\n		> .title\n			text-align left\n			margin-bottom .5em\n			border-bottom 1px solid rgb(217, 217, 217)\n			padding-bottom .4em\n			font-size 1.4em\n			font-weight bold\n			color rgb(51, 51, 51)\n			float none\n		.hubSearch\n			display none\n		.pastEventsSubHub:before\n			content 'Past Events'\n			width  100%\n			float left\n			text-align left\n			color rgb(51, 51, 51)\n			border-bottom 1px solid rgb(217, 217, 217)\n			padding 5px 0\n			margin-bottom 0.5em\n			font-size 1.2em\n			font-weight bold\n		.children\n		.past-events-subhub\n			.event-hub-item\n				color #000\n				text-align left\n				padding 0\n				margin-bottom 0\n				padding-bottom 0.7em\n				.image\n					img\n						display none\n\n				.learn-more\n					position absolute\n					top 0\n					bottom 0\n					width 100%\n					.learnMoreText\n						display none\n\n				.event-deets-wrap\n					.event-domain\n					.timeDot\n					.zip\n						display none\n					.event-deets-inner\n					.date-start\n					.date-start .long-format\n					.date-start .dow-long\n					.time\n					.venue\n					.address\n					.city\n					.city-zip\n					.cityComma\n					.state\n						display inline-block\n						color #3B7FC4\n						line-height 1.4em\n					.venue:before\n						content 'at'\n\n					.date-start\n					.time\n						float none\n						font-weight bold\n\n					.date-start .long-format:after\n					.date-start .dow-long:after\n					.venue:after\n					.address:after\n						content '.'\n						display inline-block\n						position relative\n						top -4px\n						left 3px\n						margin-right 5px\n						font-weight normal\n					.no-address:after\n						display none\n\n					.event-deets-inner\n						position relative\n					.event-title .title\n						font-weight normal\n						font-size 1em\n						color rgb(51, 51, 51)\n	.ui-sortable-placeholder\n		display block\n		position relative\n\n.finetune\n	#splash-container .sf.event-hub\n		&.collage-layout .children .event-hub-item\n			.event-deets-wrap\n				pointer-events none\n			.learn-more\n				display none\n			.imgEditTools\n				z-index 1\n		&.empty-hub\n			display: block;\n			.children:before\n				content 'Add an event!'\n				display block\n				background rgba(196, 196, 196, 0.8)\n				line-height 180px\n				font-size 2.5em\n				text-transform uppercase\n				font-weight bold\n				color #fff\n				margin-top 20px\n\n// Guillermo. With AJAX loading, hiding it is not good.\n// It is better to display a message indicating that there are no event in the hub\n// #splash-container .sf.event-hub.empty-hub\n// 	display none\n\n#splash-container .sf.event-hub .body\n	display none\n\n/* collage-layout & list-layout mobile styles */\n@media only screen and (max-width: 1500px)\n	#splash-container .sf.event-hub.collage-layout .children .event-hub-item .image a\n		min-height 300px\n\n@media only screen and (max-width: 1200px)\n	#splash-container .sf.event-hub.collage-layout .children .event-hub-item .image a\n		min-height 260px\n\n@media only screen and (max-width: 958px)\n	#splash-container .sf.event-hub.list-layout .children .event-hub-item\n		font-size 1.1em\n		margin-bottom 9px\n	#splash-container .sf.event-hub.list-layout\n		> .title\n			font-size 1.5em\n\n@media only screen and (max-width: 930px)\n	#splash-container .sf.event-hub.collage-layout .children .event-hub-item .image a\n		min-height 230px\n\n@media only screen and (max-width: 830px)\n	#splash-container .sf.event-hub.collage-layout .children\n		.event-hub-item\n		.event-hub-item.featured\n			width 49%\n			margin-bottom 5px\n\n@media only screen and (max-width: 500px)\n	#splash-container .sf.event-hub.collage-layout .children\n		.event-hub-item\n		.event-hub-item.featured\n			width 100%\n			margin-bottom 7px\n\n@media only screen and (max-width: 478px)\n	#splash-container .sf.event-hub.collage-layout .children .event-hub-item .event-deets-wrap\n	#splash-container .sf.event-hub.collage-layout .hubSearch .search-btn:before\n	#splash-container .sf.event-hub.list-layout .children .event-hub-item\n		font-size 1.5em\n	#splash-container .sf.event-hub.list-layout\n		> .title\n			font-size 2em\n@media only screen and (min-device-width : 320px) and (max-device-width : 640px)\n	#splash-container .sf.event-hub.collage-layout\n		.hubSearch\n			.event-hub-search\n				font-size 1.4em\n			.search-btn:before\n				top 6px\n				right 15px\n				font-size 1.4em\n		.children\n			.event-hub-item.featured\n			.event-hub-item\n				width 100%\n				margin 6px 0\n				.event-deets-wrap\n				.learn-more .learnMoreText\n					font-size 1.4em\n				.image a\n					min-height 260px\n\n	#splash-container .sf.event-hub.list-layout\n		> .title\n			font-size 2.3em\n			border-bottom-width 2px\n			padding-bottom: 14px\n			margin-bottom 16px\n		.children .event-hub-item\n			margin-bottom 16px\n			.event-deets-wrap\n				font-size 1.6em\n\n\n\n#rsvp-list-loading\n	margin-top 40px\n	margin-bottom 70px\n	z-index 1\n	.percent-complete\n		padding-left 7px\n		padding-right 0px\n\n.modalify\n	position fixed !important\n	display block\n	z-index 999\n	background #fff\n	color #000\n	width 500px\n	height 500px\n	top 30px\n	left 25%\nbody.inModal\n	.modalify\n		display block\n		background #fff\n		color #000\n		width 500px\n		height 500px\n		top 30px\n		left 25%\n	.isModal.makeModal\n		display block !important\n		position fixed !important\n		z-index 1001\n		top 0px\n		left 0px\n		width 100%\n		height 100%\n	.isModalFront\n		overflow auto\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/splash-layout.styl",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 69821,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/legacy-splash-layout.css",
			"settings":
			{
				"buffer_size": 5537,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "\n* {\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n}\nbody {\n  margin: 0;\n  padding: 0;\n}\nimg {\n  max-width: 100%;\n}\nbody {\n  font: normal 1em/1.5 'GibsonRegular', arial, sans-serif;\n}\nh1 {\n  font-size: 2.18em;\n  line-height: 1.3;\n}\nh2 {\n  font-size: 1.64em;\n}\nh3 {\n  font-size: 1.45em;\n}\nh4 {\n  font-size: 1.18em;\n}\nsmall {\n  font-size: 0.75em;\n}\na {\n  color: #46c5e9;\n  text-decoration: none;\n}\n.canvas {\n  width: 100%;\n  padding: 1em 1em 2em 1em;\n  margin: 0 auto;\n}\n.canvas:after {\n  content: '';\n  clear: both;\n  display: block;\n}\n.grp {\n  margin: 0 auto;\n  padding: 1em;\n  width: 100%;\n  float: left;\n  padding: 0.5em;\n}\n.grp.trans {\n  transition: all 0.2s linear;\n  -webkit-transition: all 0.2s linear;\n  -moz-transition: all 0.2s linear;\n  -ms-transition: all 0.2s linear;\n  -o-transition: all 0.2s linear;\n}\n#main-canvas .grp.p1 {\n  padding: 1em;\n}\n#main-canvas .grp.p105 {\n  padding: 1.5em;\n}\n#main-canvas .grp.p2 {\n  padding: 2em;\n}\n#main-canvas .grp.p0-1 {\n  padding: 0 1em;\n}\n#main-canvas .grp.p1-0 {\n  padding: 1em 0;\n}\n#main-canvas .grp.p0-2 {\n  padding: 0 2em;\n}\n#main-canvas .grp.pr5 {\n  padding-right: 0.5em;\n}\n#main-canvas .grp.pl5 {\n  padding-left: 0.5em;\n}\n#main-canvas .grp.pt0 {\n  padding-top: 0;\n}\n#main-canvas .grp.pr0 {\n  padding-right: 0;\n}\n#main-canvas .grp.pb0 {\n  padding-bottom: 0;\n}\n#main-canvas .grp.pl0 {\n  padding-left: 0;\n}\n#main-canvas .grp.p0 {\n  padding: 0;\n}\n#main-canvas .grp.ptSM {\n  padding: 0.3em 0;\n}\n#main-canvas .grp.nopad {\n  padding: 0;\n}\n.grp.w1-2 {\n  width: 50%;\n}\n.grp.c3.s,\n.grp.w1-3 {\n  width: 33.33%;\n}\n.grp.c3.m,\n.grp.w2-3 {\n  width: 66.66%;\n}\n.grp.c4.s,\n.grp.w1-4 {\n  width: 25%;\n}\n.grp.c4.m,\n.grp.w2-4 {\n  width: 50%;\n}\n.grp.w3-4 {\n  width: 75%;\n}\n.grp.c5.s,\n.grp.w1-5 {\n  width: 20%;\n}\n.grp.w2-5 {\n  width: 40%;\n}\n.grp.c5.m,\n.grp.w3-5 {\n  width: 60%;\n}\n.grp.w4-5 {\n  width: 80%;\n}\n.grp.w1-6 {\n  width: 16.66%;\n}\n.grp.w2-6 {\n  width: 33.32%;\n}\n.grp.w3-6 {\n  width: 49.98%;\n}\n.grp.w4-6 {\n  width: 66.56%;\n}\n.grp.w5-6 {\n  width: 83.33%;\n}\n.grp.w1-7 {\n  width: 14.28%;\n}\n.grp.w2-7 {\n  width: 28.57%;\n}\n.grp.w3-7 {\n  width: 42.85%;\n}\n.grp.w4-7 {\n  width: 57.14%;\n}\n.grp.w5-7 {\n  width: 71.42%;\n}\n.grp.w6-7 {\n  width: 85.71%;\n}\n.grp.w1-8 {\n  width: 12.5%;\n}\n.grp.w2-8 {\n  width: 24.9%;\n}\n.grp.w3-8 {\n  width: 37.4%;\n}\n.grp.w4-8 {\n  width: 49.9%;\n}\n.grp.w5-8 {\n  width: 62.4%;\n}\n.grp.w6-8 {\n  width: 74.9%;\n}\n.grp.w7-8 {\n  width: 87.4%;\n}\n.grp.tCell,\n.grp.tRow {\n  float: none;\n  width: auto;\n}\n.grp.align:before {\n  content: '';\n  display: inline-block;\n  height: 100%;\n  margin-right: -0.02em;\n  vertical-align: middle;\n}\n.grp.align .bottom,\n.grp.align .middle,\n.grp.align .top,\n.grp.align .align-left,\n.grp.align .align-right,\n.grp.align .top-left,\n.grp.align .top-right,\n.grp.align .bottom-left,\n.grp.align .bottom-right {\n  display: inline-block;\n  max-width: 98% !important;\n  float: none;\n  padding: 0px !important;\n}\n.grp.align .bottom .element-title,\n.grp.align .middle .element-title,\n.grp.align .top .element-title,\n.grp.align .align-left .element-title,\n.grp.align .align-right .element-title,\n.grp.align .top-left .element-title,\n.grp.align .top-right .element-title,\n.grp.align .bottom-left .element-title,\n.grp.align .bottom-right .element-title,\n.grp.align .bottom .element-subtitle,\n.grp.align .middle .element-subtitle,\n.grp.align .top .element-subtitle,\n.grp.align .align-left .element-subtitle,\n.grp.align .align-right .element-subtitle,\n.grp.align .top-left .element-subtitle,\n.grp.align .top-right .element-subtitle,\n.grp.align .bottom-left .element-subtitle,\n.grp.align .bottom-right .element-subtitle {\n  padding: 10px !important;\n}\n.grp.align .bottom .element-title,\n.grp.align .middle .element-title,\n.grp.align .top .element-title,\n.grp.align .align-left .element-title,\n.grp.align .align-right .element-title,\n.grp.align .top-left .element-title,\n.grp.align .top-right .element-title,\n.grp.align .bottom-left .element-title,\n.grp.align .bottom-right .element-title {\n  padding: 0px !important;\n}\n.grp.align .bottom .element-subtitle,\n.grp.align .middle .element-subtitle,\n.grp.align .top .element-subtitle,\n.grp.align .align-left .element-subtitle,\n.grp.align .align-right .element-subtitle,\n.grp.align .top-left .element-subtitle,\n.grp.align .top-right .element-subtitle,\n.grp.align .bottom-left .element-subtitle,\n.grp.align .bottom-right .element-subtitle {\n  font-size: inherit;\n}\n.grp.align .bottom,\n.grp.align .bottom-left,\n.grp.align .bottom-right {\n  vertical-align: bottom;\n}\n.grp.align .middle {\n  vertical-align: middle;\n}\n.grp.align .top .element-social-links,\n.grp.align .middle .element-social-links,\n.grp.align .bottom .element-social-links {\n  text-align: center !important;\n}\n.grp.align .top,\n.grp.align .top-left,\n.grp.align .top-right {\n  vertical-align: top;\n}\n.grp.align .align-left,\n.grp.align .align-right {\n  vertical-align: middle;\n}\n.grp.align .align-left .element-social-links,\n.grp.align .top-left .element-social-links,\n.grp.align .bottom-left .element-social-links {\n  text-align: left !important;\n}\n.grp.align .align-left .element-rsvp,\n.grp.align .top-left .element-rsvp,\n.grp.align .bottom-left .element-rsvp {\n  float: left;\n}\n.grp.align .align-right .element-social-links,\n.grp.align .top-right .element-social-links,\n.grp.align .bottom-right .element-social-links {\n  text-align: right !important;\n}\n.grp.align .align-right .element-rsvp,\n.grp.align .top-right .element-rsvp,\n.grp.align .bottom-right .element-rsvp {\n  float: right;\n}\n.grp.inline {\n  width: auto;\n}\nbody.isMobile .purchase-button {\n  -webkit-appearance: none;\n}\nbody[theme=\"st-revel\"] .grp.align .bottom,\nbody[theme=\"st-revel-v2\"] .grp.align .bottom {\n  padding-bottom: 40px !important;\n}\n#flipTitleBtn {\n  padding: 6px 16px 5px !important;\n  line-height: 11px;\n  left: 50%;\n  position: relative;\n  transform: translateX(-50%);\n  -webkit-transform: translateX(-50%);\n  -moz-transform: translateX(-50%);\n  -ms-transform: translateX(-50%);\n  -o-transform: translateX(-50%);\n  border: 0px;\n  margin-bottom: 11px;\n  cursor: pointer;\n  float: left;\n}\n.img {\n  position: relative;\n  background: no-repeat;\n  background-position: left top;\n  background-size: 100% auto;\n}\n.event-bg-url img.bg {\n  display: none;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  max-width: none;\n}\n\n.element-rsvp {\n  -webkit-transition: all 0s linear !important;\n  -moz-transition: all 0s linear !important;\n  -ms-transition: all 0s linear !important;\n  -o-transition: 0s linear !important;\n  transition: all 0s linear !important;\n  transition: all 0s linear !important;\n}\n\n@media (min-width: 1em) {\n  body {\n    font: normal 0.6em/1.3 'GibsonRegular', arial, sans-serif;\n  }\n  .canvas {\n    min-width: 25em;\n  }\n}\n@media (min-width: 29.938em) {\n  body {\n    font: normal 0.9em/1.4 'GibsonRegular', arial, sans-serif;\n  }\n  .canvas {\n    max-width: 48em;\n    min-width: 25em;\n  }\n}\n@media (min-width: 47.938em) {\n  body {\n    font: normal 0.9em/1.4 'GibsonRegular', arial, sans-serif;\n  }\n  .canvas {\n    max-width: 48em;\n  }\n}\n@media (min-width: 59.938em) {\n  body {\n    font: normal 1em/1.5 'GibsonRegular', arial, sans-serif;\n  }\n  .canvas {\n    max-width: 60em;\n  }\n}\n.element .list-item {\n  margin-bottom: 1em;\n}\n.element .list-item .image,\n.element .list-item .time {\n  float: left;\n  padding-right: 10px;\n  position: relative;\n}\nbody.private {\n  background: #1a1a1a !important;\n  background-size: auto auto !important;\n  position: absolute;\n  width: 100%;\n}\nbody.private #main-canvas {\n  background: none !important;\n  color: #fff;\n  font-family: 'gibsonSemiBoldItalic', arial, sans-serif;\n}\n.layoutGrp > .element {\n  margin: 0 auto;\n  padding: 0;\n  width: 100%;\n  float: none;\n  display: inline-block;\n}\n.element-rsvp {\n  cursor: pointer;\n}\n#element-title h1,\n#element-subtitle h2 {\n  font-size: inherit;\n  font-weight: 800;\n}\niframe {\n  max-width: 100%;\n}\n.master_group > .layoutGrp {\n  margin-bottom: 3em;\n}\n.element-gallery {\n  padding: 0 !important;\n}\n.element-title.abs,\n.element-subtitle.abs {\n  position: absolute !important;\n  width: auto;\n}\n.children .hide-body .body {\n  display: none;\n}\n.children .list-item .media,\n.children .list-item .body {\n  padding: 0;\n}\n.children .list-item.schedule-item .media,\n.children .list-item.schedule-item .body {\n  padding: 0.5em;\n}\n.children .list-item.schedule-item.s1 {\n  clear: both;\n}\n.master_group > .layoutGrp.element-spacer,\n.master_group > .layoutGrp.element-gallery {\n  margin-bottom: 0;\n}\n[block-type=\"sponsors\"] .title,\n[block-type=\"speakers\"] .title,\n[block-type=\"images\"] .title {\n  margin-bottom: 0.5em;\n}\n.sf .media img {\n  max-width: none;\n  display: inline-block;\n  width: auto;\n  max-width: 100%;\n  float: none;\n  width: 100%;\n  margin-bottom: -0.4em;\n}\n.sf .media img.updating {\n  transition: all 0.25s;\n  -webkit-transition: all 0.25s;\n  -moz-transition: all 0.25s;\n  -ms-transition: all 0.25s;\n  -o-transition: all 0.25s;\n  opacity: 0.5;\n}\n.sf .media.image {\n  background-position: center center;\n  background-size: 100% auto;\n  background-repeat: no-repeat;\n  text-align: center;\n}\n.sf .media.image.img-portrait {\n  background-size: auto 100%;\n}\n.sf.square .media.image,\n.sf.circle .media.image,\n.sf.portrait .media.image,\n.sf.landscape .media.image,\n.sf.nu-square .media.image,\n.sf.nu-circle .media.image,\n.sf.nu-landscape .media.image,\n.sf.nu-portrait .media.image {\n  background-size: cover;\n}\n.sf.none .media.image {\n  background: none !important;\n}\n.sfBADDDD.no-shape .media img {\n  width: auto;\n  max-width: 100%;\n  float: none;\n}\n.sf.image.hero {\n  width: auto;\n  float: none;\n  max-width: 100%;\n}\n.sf.iframe .media img {\n  max-width: 100%;\n  width: auto;\n  display: block;\n}\n.sf.s3.speaker-item {\n  display: inline-block;\n  float: none;\n  text-align: center;\n}\n.sf.s3.speaker-item.sf:nth-child(3n+1) {\n  clear: left;\n}\n.s1.media > .grp.media {\n  width: 25%;\n  padding-left: 0;\n}\n.s1.media.alt:nth-child(even) > .grp.media {\n  float: right;\n}\n.s1.media.alt:nth-child(even) > .grp.body {\n  text-align: right;\n  padding-right: 0.5em;\n}\n.s1.media > .grp.body {\n  width: 75%;\n  padding-left: 0.5em;\n}\n.s1.media.audio .media,\n.s1.media.map .media {\n  width: 50%;\n}\n.s1.media.audio .body,\n.s1.media.map .body {\n  width: 50%;\n}\n.s1.media.map .media {\n  width: 66%;\n}\n.s1.media.map .body {\n  width: 33%;\n}\n.s1.media.map.alt .media {\n  width: 100%;\n}\n.s1.media.map.alt .media img {\n  width: 100%;\n  max-width: none;\n}\n.s1.media.video .media {\n  width: 50%;\n}\n.s1.media.video .body {\n  width: 50%;\n}\n.s1.alt.headline {\n  letter-spacing: 0.8em;\n  text-transform: uppercase;\n}\n.s1.alt.video .media,\n.s1.alt.audio .media {\n  width: 50%;\n  float: right;\n}\n.s1.alt.video .body,\n.s1.alt.audio .body {\n  width: 50%;\n}\n[block-type=\"map\"].s1 .media {\n  padding: 0;\n}\n[block-type=\"map\"].s1 .media img {\n  display: block;\n  margin-bottom: -0.35em;\n  border-radius: 4px 0 0 4px;\n}\n[block-type=\"map\"].s1.alt .media img {\n  border-radius: 4px;\n}\n[block-type=\"map\"].s1.alt .body {\n  position: absolute;\n  background: rgba(0,0,0,0.7);\n  color: #fff;\n  width: auto;\n  max-width: 90%;\n  max-width: calc(100% - 1em);\n  left: 0.5em;\n  bottom: 0.5em;\n  padding-right: 0.5em;\n  border-radius: 8px;\n}\n[block-type=\"map\"].s1.map-top .media,\n[block-type=\"map\"].s1.map-top .body {\n  width: 100%;\n}\n[block-type=\"map\"].s1.map-top .media img {\n  border-radius: 4px 4px 0 0;\n}\n.media[block-type=\"image\"] {\n  float: none;\n}\n.media[block-type=\"image\"].s3 {\n  width: 100%;\n  float: none;\n  margin: 0 auto;\n  padding: 30% 0 0 0;\n  height: 0;\n  overflow: hidden;\n}\n.media[block-type=\"image\"].s3 .media {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.media[block-type=\"image\"].s3 .media img {\n  transform: translateY(-28%);\n  -webkit-transform: translateY(-28%);\n  -moz-transform: translateY(-28%);\n  -ms-transform: translateY(-28%);\n  -o-transform: translateY(-28%);\n}\n[block-type=\"img_gal\"] .progress {\n  text-align: center;\n  padding-top: 20px;\n}\n[block-type=\"img_gal\"] .progress > div {\n  display: inline;\n  margin: 0 auto;\n}\n[block-type=\"img_gal\"] .progress .total:before {\n  content: ' of ';\n}\n[block-type=\"img_gal\"] .img-gal-item {\n  padding: 0;\n  width: 768px;\n}\n[block-type=\"img_gal\"] .img-gal-item .media {\n  padding: 0;\n}\n[block-type=\"img_gal\"] .img-gal-item .media img {\n  height: 500px !important;\n  width: auto;\n  max-width: none;\n}\n[block-type=\"img_gal\"] .scrollLeftContain {\n  position: absolute;\n  bottom: 250px;\n  left: 5px;\n  height: 60px;\n  width: 60px;\n  background: rgba(0,0,0,0.2);\n  border-radius: 3px;\n  cursor: pointer;\n  transition: left 0.15s linear, background 0.15s linear 0.1s;\n  -webkit-transition: left 0.15s linear, background 0.15s linear 0.1s;\n  -moz-transition: left 0.15s linear, background 0.15s linear 0.1s;\n  -ms-transition: left 0.15s linear, background 0.15s linear 0.1s;\n  -o-transition: left 0.15s linear, background 0.15s linear 0.1s;\n}\n[block-type=\"img_gal\"] .scrollLeftContain:hover {\n  left: 0px;\n  background: rgba(0,0,0,0.4);\n}\n[block-type=\"img_gal\"] .scrollLeftContain:active {\n  transition: none;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transform: scale(0.9);\n  -webkit-transform: scale(0.9);\n  -moz-transform: scale(0.9);\n  -ms-transform: scale(0.9);\n  -o-transform: scale(0.9);\n}\n[block-type=\"img_gal\"] .scrollRightContain {\n  position: absolute;\n  bottom: 250px;\n  right: 5px;\n  height: 60px;\n  width: 60px;\n  background: rgba(0,0,0,0.2);\n  border-radius: 3px;\n  cursor: pointer;\n  transition: right 0.15s linear, background 0.15s linear 0.1s;\n  -webkit-transition: right 0.15s linear, background 0.15s linear 0.1s;\n  -moz-transition: right 0.15s linear, background 0.15s linear 0.1s;\n  -ms-transition: right 0.15s linear, background 0.15s linear 0.1s;\n  -o-transition: right 0.15s linear, background 0.15s linear 0.1s;\n}\n[block-type=\"img_gal\"] .scrollRightContain:hover {\n  right: 0px;\n  background: rgba(0,0,0,0.4);\n}\n[block-type=\"img_gal\"] .scrollRightContain:active {\n  transition: none;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transform: scale(0.9);\n  -webkit-transform: scale(0.9);\n  -moz-transform: scale(0.9);\n  -ms-transform: scale(0.9);\n  -o-transform: scale(0.9);\n}\n[block-type=\"img_gal\"] .scrollLeft:after {\n  content: '';\n  display: inline-block;\n  height: 25px;\n  width: 25px;\n  border-top: 6px solid #fff;\n  border-left: 6px solid #fff;\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  margin-left: 10px;\n  margin-top: 14px;\n}\n[block-type=\"img_gal\"] .scrollRight:after {\n  content: '';\n  display: inline-block;\n  height: 25px;\n  width: 25px;\n  border-top: 6px solid #fff;\n  border-right: 6px solid #fff;\n  transform: rotate(45deg);\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  margin-right: 10px;\n  margin-top: 14px;\n}\n[block-type=\"list\"] > .title h1 {\n  margin-bottom: 0;\n}\n[block-type=\"list\"] > .body {\n  margin-bottom: 2.8em;\n  margin-bottom: 0;\n}\n[block-type=\"list\"].s1 ul {\n  list-style: disc;\n  margin-left: 2em;\n}\n[block-type=\"list\"].s1.alt {\n  text-align: center;\n}\n[block-type=\"list\"].s1.alt ul {\n  list-style: none;\n  margin-left: 0;\n}\n[block-type=\"list\"].s1.alt.three .list-item {\n  width: 32.83%;\n  position: relative;\n  display: inline-block;\n  float: none !important;\n}\n[block-type=\"list\"] .list-item {\n  position: relative;\n}\n[block-type=\"list\"] .list-item.s1 .title .title,\n[block-type=\"list\"] .list-item.s1.alt .title,\n[block-type=\"list\"] .list-item.s1 .title .body,\n[block-type=\"list\"] .list-item.s1.alt .body {\n  text-align: center;\n}\n[block-type=\"list\"] .list-item.s1 .title:before,\n[block-type=\"list\"] .list-item.s1.alt:before {\n  display: none;\n}\n.s2 {\n  width: 50%;\n  vertical-align: top;\n}\n.s2.sf:nth-child(odd) {\n  padding-left: 0;\n  clear: left;\n}\n.s2.sf:nth-child(even) {\n  padding-right: 0;\n}\n.s2.media > .grp.media {\n  width: 25%;\n}\n.s2.media > .grp.body {\n  width: 75%;\n  padding-left: 0.5em;\n}\n.s2.media.alt.sf:nth-child(even) > .grp.media {\n  float: right;\n}\n.s2.media.alt.sf:nth-child(even) > .grp.body {\n  text-align: right;\n  padding-right: 0.5em;\n}\n.s2.media.alt2.sf:nth-child(odd) > .grp.media {\n  float: right;\n}\n.s2.media.alt2.sf:nth-child(odd) > .grp.body {\n  text-align: right;\n  padding-right: 0.5em;\n}\n.s2.audio,\n.s2.map {\n  width: 100%;\n}\n.s2.audio > .grp.media,\n.s2.map > .grp.media {\n  width: 50%;\n  float: right;\n}\n.s2.audio > .grp.body,\n.s2.map > .grp.body {\n  width: 50%;\n}\n.s2.video,\n.s2.audio {\n  width: 100%;\n  text-align: center;\n}\n.s2.video > .grp.media,\n.s2.audio > .grp.media {\n  width: 100%;\n}\n.s2.video > .grp.body,\n.s2.audio > .grp.body {\n  width: 100%;\n}\n.s2.schedule-item {\n  float: left;\n}\n.s2.schedule-item .timePicker {\n  font-size: 1.3em;\n}\n.s2.list-item.image-item > .grp.media,\n.s2.list-item.image-item > .grp.body {\n  width: 100%;\n  text-align: center;\n}\n.s3 {\n  width: 33.33%;\n  vertical-align: top;\n  text-align: center;\n}\n.s3.sf:nth-child(3n+1) {\n  padding-left: 0;\n  clear: left;\n  padding-right: .5em;\n}\n.s3.sf:nth-child(3n-1) {\n  padding-right: 0.25em;\n  padding-left: 0.25em;\n}\n.s3.sf:nth-child(3n+0) {\n  padding-right: 0;\n  padding-left: .5em;m\n}\n.s3 > .grp.body {\n  padding-top: 0.6em;\n}\n.s3.audio,\n.s3.map {\n  width: 100%;\n}\n.s3.audio > .grp.media,\n.s3.map > .grp.media {\n  width: 100%;\n}\n.s3.audio > .grp.body,\n.s3.map > .grp.body {\n  width: 100%;\n}\n.s3.video,\n.s3.audio {\n  width: 100%;\n  display: table;\n}\n.s3.video .body,\n.s3.audio .body {\n  margin-bottom: 1em;\n}\n.s3.video .media,\n.s3.audio .media {\n  float: none;\n  display: table-footer-group !important;\n}\n\n.s3.video .media iframe,\n.s3.audio .media iframe {\n  position: relative;\n}\n\n.s3.schedule-item {\n  float: left;\n}\n.s3.schedule-item .tCell {\n  width: 100%;\n  clear: both;\n  float: left;\n}\n.s3.schedule-item .timePicker {\n  font-size: 1.3em;\n  text-align: center;\n  width: 100%;\n}\n.s3.schedule-item .timePicker input {\n  text-align: center;\n  width: 100%;\n}\n.children {\n  text-align: center;\n}\n.children .s3.list-item {\n  display: inline-block;\n  float: none;\n  margin-right: -0.25em;\n  margin-bottom: 2.18em;\n  text-align: center;\n  padding-top: 0;\n}\n.sf .children {\n  float: none;\n}\n.s5 {\n  width: 20%;\n  vertical-align: top;\n  text-align: center;\n  float: none;\n  margin-left: -0.25em;\n  display: inline-block;\n}\n.s5.sf:nth-child(5n+1) {\n  clear: left;\n}\n.circle .media.image,\n.nu-circle .media.image {\n  border-radius: 100%;\n}\n.circle .media.image img,\n.nu-circle .media.image img {\n  border-radius: 100%;\n}\n#social-main #social-btn-tw .ico-twitter:before,\n#social-main #social-btn-fb .ico-fb-large:before,\n#social-main #social-btn-email .icon-email:before {\n  color: #fff !important;\n}\n#social-main.dark #twitter-link .ico-twitter:after {\n  background-position: -40px -663px !important;\n}\n#social-main.dark #fb-link .ico-fb-large:after {\n  background-position: 0 -657px !important;\n}\n#social-main.dark #social-btn-tw .ico-twitter:before,\n#social-main.dark #social-btn-fb .ico-fb-large:before,\n#social-main.dark #social-btn-email .icon-email:before {\n  color: #000 !important;\n}\n#element-when .date:after {\n  content: '';\n  display: block;\n}\n.layoutGrp.event_end,\n.layoutGrp.element-when-end-year,\n.layoutGrp.element-when-end-month,\n.layoutGrp.element-when-end-day,\n.layoutGrp.element-when-end-dow,\n.layoutGrp.element-when-end-time,\n.layoutGrp.element-when-day .date.end,\n.layoutGrp.element-when-dow .date.end,\n.layoutGrp.element-when-time .time.end {\n  display: none;\n}\n\n/*Time*/\n#element-when-time .time.start[i=\"00\"] .minute, #element-when-time .time.end[i=\"00\"] .minute {\n  /*display: inline-block !important;*/\n}\n\n.event-has-end-time .layoutGrp.element-when-time .end.time {\n  display: inline-block;\n}\n.event-has-end-time.mult-day .layoutGrp.event_end,\n.event-has-end-time.mult-day .layoutGrp.element-when-end-year,\n.event-has-end-time.mult-day .layoutGrp.element-when-end-month,\n.event-has-end-time.mult-day .layoutGrp.element-when-end-day,\n.event-has-end-time.mult-day .layoutGrp.element-when-end-dow {\n  display: inline-block;\n}\n.event-has-end-time.mult-day .layoutGrp.element-when-day .end.date,\n.event-has-end-time.mult-day .layoutGrp.element-when-dow .end.date,\n.event-has-end-time.mult-day .layoutGrp.element-when-time,\n.event-has-end-time.mult-day .layoutGrp.element-when-end-time {\n  display: none;\n}\n.event-has-end-time.mult-day.sesm .layoutGrp.event_end,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-end-year,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-end-month,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-end-day,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-end-dow,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-end-time,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-time {\n  display: none;\n}\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-day .end.date,\n.event-has-end-time.mult-day.sesm .layoutGrp.element-when-dow .end.date {\n  display: inline-block !important;\n}\n.layoutGrp.element-when-tbd {\n  display: none;\n}\n.layoutGrp.element-when-tbd .layoutGrp.event_start,\n.layoutGrp.element-when-tbd .layoutGrp.event_end {\n  display: none;\n}\n.date-tbd .layoutGrp.element-when-tbd {\n  display: block;\n}\n.date-tbd .layoutGrp.event_start,\n.date-tbd .layoutGrp.element-when-year,\n.date-tbd .layoutGrp.element-when-month,\n.date-tbd .layoutGrp.element-when-day,\n.date-tbd .layoutGrp.element-when-time,\n.date-tbd .layoutGrp.event_end,\n.date-tbd .layoutGrp.element-when-end-year,\n.date-tbd .layoutGrp.element-when-end-month,\n.date-tbd .layoutGrp.element-when-end-day,\n.date-tbd .layoutGrp.element-when-end-time {\n  display: none;\n}\n.hide-time .layoutGrp.element-when-time,\n.hide-time .layoutGrp.element-when-end-time {\n  display: none;\n}\n.layoutGrp.element-where-tbd {\n  display: none;\n}\n.venue-tbd .layoutGrp.element-where-tbd {\n  display: block;\n}\n.venue-tbd .layoutGrp.element-where-venue,\n.venue-tbd .layoutGrp.element-where-address,\n.venue-tbd .layoutGrp.element-where-city,\n.venue-tbd .layoutGrp.element-where-state,\n.venue-tbd .layoutGrp.element-where-zip {\n  display: none;\n}\n.mega-date-wrap.ofH {\n  overflow: visible !important;\n}\n#element-where .venue_name:after,\n#element-where .address:after {\n  content: '';\n  display: block;\n}\n.hosted-by {\n  font-size: 0.7em;\n}\n.host-name {\n  font-size: 1.5em;\n  line-height: 1.3;\n}\n.grp.p-left {\n  float: left;\n}\n.grp.p-center {\n  float: none;\n  clear: both;\n}\n.grp.p-right {\n  float: right;\n}\n.element-rsvp #element-rsvp {\n  padding: 0;\n}\n.element-rsvp #element-rsvp.loading {\n  opacity: 0.3;\n  transition: all 0.15s;\n  -webkit-transition: all 0.15s;\n  -moz-transition: all 0.15s;\n  -ms-transition: all 0.15s;\n  -o-transition: all 0.15s;\n}\n.element-rsvp #element-rsvp #rsvp-modal {\n  max-width: 100%;\n  font-size: 16px;\n  line-height: normal;\n  text-align: left;\n  background: none;\n  padding-top: 0;\n}\n.element-rsvp #element-rsvp #rsvp-modal .bgGradient {\n  display: none;\n}\n.element-rsvp #element-rsvp #rsvp-modal h3 {\n  padding: 0;\n}\n.element-rsvp #element-rsvp #rsvp-modal .close-form {\n  display: none;\n}\n.element-rsvp #element-rsvp #rsvp-modal #rsvp-form-inner {\n  padding: 0;\n}\n.element-rsvp #element-rsvp .required-fields {\n  font-size: 13px;\n  text-align: center;\n  color: #bd2727;\n  background: #fdd;\n  font-weight: normal;\n  border-radius: 4px;\n}\n.tkt-wrap {\n  background: rgba(255,255,255,0.1);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.1) inset;\n  border-radius: 0 8px 8px 0;\n  min-height: 6em;\n  margin-bottom: 1em !important;\n}\n.tkt-wrap:before,\n.tkt-wrap:after {\n  content: '';\n  position: absolute;\n}\n.tkt-wrap:before {\n  top: 0;\n  left: -1em;\n  width: 1em;\n  height: 100%;\n  background: rgba(0,0,0,0.1);\n  margin-left: auto;\n  border-radius: 8px 0 0 8px;\n}\n.tkt-wrap:after {\n  top: 50%;\n  left: -1.5em;\n  margin-top: -0.5em;\n  width: 1em;\n  height: 1em;\n  background: #efefef;\n  border-radius: 100%;\n}\n.tkt-wrap .more-info {\n  right: 0;\n  color: #888;\n  margin-top: 0.5em;\n}\n.tkt-wrap .more-info:hover {\n  color: #000;\n}\n.tkt-wrap .more-info:hover:after {\n  border-top: 3px solid #000;\n}\n.tkt-wrap input {\n  outline: none;\n  -webkit-outline: none;\n  -moz-outline: none;\n  -ms-outline: none;\n  -o-outline: none;\n}\n.finetuneOpen .grp.media .media {\n  position: relative;\n}\n.finetuneOpen .grp.media .media:hover img {\n  border-radius: 0 6px 0 0;\n}\n.finetuneOpen .grp.media .media:hover .edit-tools {\n  top: 0.45em;\n  right: 0.5em;\n  opacity: 1;\n}\n.finetuneOpen .grp.media .media:hover .edit-tools > div {\n  width: 34px;\n}\n.grp.media .media iframe {\n  width: 100%;\n}\n.inline-html-editor {\n  background: #000;\n  color: #fff;\n  font-size: 14px;\n}\n.jcrop-holder {\n  margin: auto;\n  text-align: center;\n}\n#cropAnyPhoto {\n  width: auto;\n  width: 43em;\n  height: auto;\n}\n#cropAnyPhoto .progress-bar {\n  left: 0;\n  position: absolute;\n  border-radius: 4px;\n  background: transparent;\n  border: none;\n  box-shadow: none;\n  height: 100%;\n  transition: all 0.15s;\n  -webkit-transition: all 0.15s;\n  -moz-transition: all 0.15s;\n  -ms-transition: all 0.15s;\n  -o-transition: all 0.15s;\n  animation: loaderBG 1s linear;\n  -webkit-animation: loaderBG 1s linear;\n  -moz-animation: loaderBG 1s linear;\n  -ms-animation: loaderBG 1s linear;\n  -o-animation: loaderBG 1s linear;\n  width: 100%;\n  overflow: hidden;\n}\n#cropAnyPhoto .progress-bar .progress {\n  height: 100%;\n  width: 3%;\n  background: rgba(6,222,239,0.7);\n  transition: width 0.2s linear;\n  -webkit-transition: width 0.2s linear;\n  -moz-transition: width 0.2s linear;\n  -ms-transition: width 0.2s linear;\n  -o-transition: width 0.2s linear;\n}\n.on-page-fb-wrap .fb-comments {\n  display: block !important;\n}\n.on-page-fb-wrap .fb-comments > span {\n  width: 100% !important;\n}\n.on-page-fb-wrap .fb-comments > span iframe {\n  width: 100% !important;\n}\n#finetune-layout-content .accordion[section-name=\"title\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"subtitle\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"description_text\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"hash\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"when\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"where\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"host\"] .delete-section,\n#finetune-layout-content .accordion[section-name=\"social-links\"] .delete-section {\n  pointer-events: none;\n  background: rgba(255,99,71,0.45);\n  opacity: 0.4;\n}\n#whiteLabelSplug,\n#whiteLabelSplug:visited {\n  font-size: 12px;\n  color: #eee;\n  font-family: 'gibsonSemiBold', arial, sans-serif;\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n}\n#splash-container {\n  overflow-x: hidden;\n}\n/*************\n * ticketReceipt\n *************/\n#ticketReceipt {\n	/*display: none;*/\n	position: fixed;\n	top:0;\n	left:0;\n	background: rgba(0,0,0,.6);\n	width:100%;\n	height: 100%;\n	text-align: center;\n	overflow: auto;\n	z-index: 12;\n	line-height: 1em;\n}\n\n#ticketReceipt:before {\n	content: '';\n	display: inline-block;\n	height: 100%;\n	vertical-align: middle;\n	margin-right: -.25em;\n}\n\n#ticketReceipt .inline-splash-sell {\n\n}\n\n#ticketReceipt .extrasWrap {\ndisplay: none !important;\n}\n\n#ticketReceipt .content table {\n	width: 100%;\n	text-align: left;\n}\n\n#ticketReceipt .ticketReceiptInner {\n  width: 630px;\n  min-height: 200px;\n  padding: 20px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  background: white;\n  border-radius: 8px;\n  text-align: left;\n  margin: 40px auto;\n  display: inline-block;\n  vertical-align: middle;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.8);\n  position: relative;\n}\n\n#ticketReceipt .ticketReceiptInner i.icon-close-2 {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  font-size: 34px;\n  color: #CCC;\n  cursor: pointer;\n  width: 30px; height: 30px;\n}\n\n#ticketReceipt .ticketReceiptInner i.icon-close-2:hover {\n  color: #111;\n}\n\n#ticketReceipt .ticketReceiptInner h5,#ticketReceipt .ticketReceiptInner h4,#ticketReceipt .ticketReceiptInner span,#ticketReceipt .ticketReceiptInner p {\n	padding: 20px 20px 0 20px;\n	font-weight: normal;\n	text-align:center;\n	text-shadow:none;\n}\n\n#ticketReceipt .ticketReceiptInner h2 {\n	font-size: .8em;\n	font-family: 'GibsonRegular', arial, sans-serif;\n	font-weight: normal;\n	text-shadow: none;\n	padding: 10px 0px 0 0;\n	margin-bottom: -5px;\n	text-transform: uppercase;\n	text-align: left;\n}\n\n#ticketReceipt .ticketReceiptInner p.eventTitle {\n	font-size: 32px;\n	color: black;\n	font-family: 'GibsonBoldItalic', arial, sans-serif;\n	margin: 4px 0 26px 0;\n	display: inline-block;\n	text-align: left;\n	display: block;\n}\n\ndiv.highlightedMessage {\n	color: black;\n	display: inline-block;\n	text-align: center;\n	font-size: 0.7em;\n	width: 100%;\n	text-transform: uppercase;\n	letter-spacing: .1em;\n	margin: 0 auto 20px auto;\n	background-color: #FFFFCF;\n	padding: 14px 12px;\n}\n\ndiv.highlightedMessage span {\n	padding: 0 !important;\n}\n\n#ticketReceipt .ticketReceiptInner div.content span.ordernumbers {\n	font-size: .8em;\n	display: block;\n	text-align: left;\n	margin-top: 0;\n	font-family: 'gibsonRegular', arial, sans-serif;\n	margin-bottom: 0;\n	margin-left: -14px;\n	letter-spacing: .05em;\n	text-transform: uppercase;\n	line-height: 1.2em;\n	color: black;\n}\n\n#ticketReceipt .ticketReceiptInner div.content {\n	background: none;\n	border-radius: 6px;\n	text-align: center;\n	position: relative;\n	z-index: 1;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  border-radius: 0 6px 0 0;\n  z-index: 0;\n  height: 40%;\n  overflow: hidden;\n  opacity: 0.4;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg img {\n  border-radius: 0 6px 0 0;\n}\n\n#ticketReceipt .ticketReceiptInner div.receiptbg:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width:100%;\n  height: 100%;\n  border-radius: 0 6px 0 0;\n  box-shadow: 100px -120px 140px white inset;\n}\n\n#ticketReceipt .ticketReceiptInner h5 {\n	font-size: 24px;\n	color: #3D3D3D;\n	text-shadow: none;\n	padding: 10px 0;\n	margin-bottom: 20px;\n	border-bottom: 1px solid #DDD;\n}\n#ticketReceipt .ticketReceiptInner span,#ticketReceipt .ticketReceiptInner p {\n	padding: 0 20px;\n	font-weight: normal;\n}\n#ticketReceipt .ticketReceiptInner span.shareWithFriends{\n	display: block; text-align: center; padding-top: 35px;\n}\n#ticketReceipt ul.social{\n	margin-top:10px;\n}\n#ticketReceipt ul.social li a.add-cal:hover,#ticketReceipt ul.the-cals li a:hover { color:#AAA; }\n\n.inline-splash-sell {\n	background: #ffffff;\n	padding: 10px;\n	border-radius: 0 0 6px 6px;\n	margin-top: 10px;\n	text-align: center;\n}\n\ntable.inlineReceipt tbody tr:nth-child(even) td,table.inlineReceipt tbody td table tr:nth-child(even) td {\n	border-bottom:none;\n}\n\n#ticketReceipt .ticketReceiptInner .inline-splash-sell h4 {\n  color: #444;\n  text-shadow: none;\n  font-size: 30px;\n  text-align: center;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .shareBoxHere {\n	height: 116px;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere {\n	position: absolute;\n	top: -20px;\n	right: 40px;\n	font-family: 'gibsonSemiBoldItalic', arial, sans-serif;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social li a.add-cal,#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals li a {\n  margin-right: 10px;\n  color: black;\n  font-size: 16px;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals {\n  margin: 0;\n}\n\n#ticketReceipt .ticketReceiptInner div.content .addToCalendarHere ul.social ul.the-cals li a:hover {\n  color: #fff;\n  background: #000;\n}\n\n.inline-splash-sell h4 i {\n  clear: both;\n  font-size: 18px;\n  font-weight: normal;\n}\n\n.inline-splash-sell ul {\n  display: inline-block;\n  font-family: Helmet, Freesans, sans-serif;\n  font-size: 16px;\n  margin-top: 5px;\n  margin-left: 10px;\n  color: #444;\n}\n\n.inline-splash-sell ul li ul {\n  /*list-style: decimal;*/\n  margin-top: none;\n}\n\n.inline-splash-sell ul li ul li {\n  margin-bottom: 3px;\n  background:none;\n  color: #444;\n  padding: 2px 6px 4px 6px;\n  border-radius: 0px;\n}\n\n.inline-splash-sell ul li ul li:before {\n  font-size: 24px;\n  display: inline-block;\n  position: relative;\n  top: 1px;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display {\n  padding: 20px 0 40px 20px;\n  margin-left: -20px;\n  border-top: 3px solid #EEE;\n  border-bottom: 3px solid #EEE;\n  width: 630px;\n  margin-bottom: 40px;\n  background: #F8F8F8;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display h4 {\n  text-align: left;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 2em;\n  text-transform: uppercase;\n  letter-spacing: .05em;\n  font-size: 0.8em;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display table {\n  width:580px;\n}\n\n#ticketReceipt .ticketReceiptInner #cart-display table th {\n	font-family: 'gibsonRegular';\n	font-size: 0.6em;\n	text-transform: uppercase;\n	letter-spacing: .05em;\n	border-bottom: 3px solid #EEE;\n}\n\n#ticketReceipt .ticketReceiptInner form {\n  display: inline-block;\n  margin: 10px 0 30px 0;\n}\n\n#ticketReceipt .ticketReceiptInner form div.submit {\n  float: none;\n  display: inline-block;\n  margin: 20px 0 0 0;\n  font-size: 22px;\n  font-family: Helvetica, Arial, sans-serif;\n  cursor: pointer;\n  border-radius: 12px;\n  background: #05C2EA;\n  color: white;\n  padding: 14px;\n  border: none;\n  font-weight: bold;\n  transition:all .15s linear;\n  -webkit-transition:all .15s linear;\n  -moz-transition:all .15s linear;\n  -ms-transition:all .15s linear;\n  -o-transition:all .15s linear;\n}\n\n\n#ticketReceipt .ticketReceiptInner form div.submit:hover {\n  background:#3CD2F1;\n}\n\n\n#ticketReceipt .extrasWrap {\n  position: relative;\n}\n#ticketReceipt .shareBox {\ndisplay: none;\n}\n\n#ticketReceipt .shareBox,#ticketReceipt .shareBox .method {\n  width:320px;\n}\n\n#ticketReceipt .shareBox .method .icon {\n  width: 60px;\n  height: 60px;\n  margin: 15px 15px 0px 15px;\n  line-height: 51px;\n  font-size: 37px;\n  font-weight: normal;\n}\n\n\n  #ticketReceipt .shareBox .method[n=\"two\"] {\n      left: 75px;\n  }\n\n  #ticketReceipt .shareBox .method[n=\"three\"] {\n      left: 151px;\n  }\n\n  #ticketReceipt .shareBox .method[n=\"four\"] {\n      left: 226px;\n  }\n\n\n  #ticketReceipt .shareBox.three .method .icon,#ticketReceipt .shareBox.four .method .icon { background:#03e1ff;color: #fff;}\n  #ticketReceipt .shareBox.one .method[n=one]{ left: 0px; } #ticketReceipt .shareBox.one .method[n=two], #ticketReceipt .shareBox.one .method[n=three], #ticketReceipt .shareBox.one .method[n=four] { left: 320px; }\n  #ticketReceipt .shareBox.two .method[n=one], #ticketReceipt .shareBox.two .method[n=two] { left: 0px; } .shareBox.two .method[n=three], #ticketReceipt .shareBox.two .method[n=four] { left: 320px; }\n  #ticketReceipt .shareBox.three .method[n=one], #ticketReceipt .shareBox.three .method[n=two], #ticketReceipt .shareBox.three .method[n=three] { left: 0px; } #ticketReceipt .shareBox.three .method[n=four] { left: 320px; }\n  #ticketReceipt .shareBox.four .method[n=one], #ticketReceipt .shareBox.four .method[n=two], #ticketReceipt .shareBox.four .method[n=three], #ticketReceipt .shareBox.four .method[n=four] { left: 0px; }\n\n  #ticketReceipt .shareBox .method[method=\"link\"] input {\n      top:27px;\n      left:94px;\n      width:198px;\n  }\n\n  #ticketReceipt .shareBox .method[method=\"email\"] input {\n      position: absolute;\n      top: 20px;\n      left: 94px;\n      background: white;\n      color: #111;\n      width: 200px;\n      font-size: 14px;\n  }\n\n  #ticketReceipt .shareBox .method[method=\"email\"] a:visited,#ticketReceipt .shareBox .method[method=\"email\"] a {\n      bottom: 38px;\n      right: -38px;\n      position: absolute;\n      color: white;\n      background: #03E1FF;\n      transition: all .15s linear;\n      -webkit-transition: all .15s linear;\n      -moz-transition: all .15s linear;\n      -ms-transition: all .15s linear;\n      -o-transition: all .15s linear;\n  }\n\n\n  @media screen and (max-width:650px){\n\n  		#ticketReceipt{\n  			width:100% !important;\n  			max-width: 630px !important\n  		}\n\n  	    #ticketReceipt .ticketReceiptInner{\n  	    	width: 100% !important;\n  	    	max-width: 630px !important;\n  	    }\n\n  	    #ticketReceipt .ticketReceiptInner #cart-display{\n  	    	width: 100% !important;\n  	    }\n\n  }\n/********************\n * end @css\n ********************/\n/********************\n * end ticketReceipt\n ********************/\n.nav-item .inner .tip-trig {\n  font-size: 11px;\n  width: 30px !important;\n}\n.modal-error {\n  margin-top: 50px;\n  padding: 50px;\n  text-align: center;\n}\n.closeRTE {\n  position: absolute;\n  right: 5px;\n  top: 0px;\n  font-size: 14px;\n  color: #333;\n  font-family: gibsonSemiBold;\n}\n.sf.event-hub.s1 input.event-hub-search {\n  background: rgba(0,0,0,0.4);\n  border: 1px solid #9f9990;\n  color: #fff;\n  font-size: 18px;\n  height: 43px;\n  padding: 0 20px;\n  vertical-align: middle;\n  width: 315px;\n  font-family: 'source_sans_proregular';\n  text-transform: uppercase;\n}\n.sf.event-hub.s1 .search-btn {\n  border: 0 none;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 30px;\n  height: 43px;\n  vertical-align: middle;\n  width: 55px;\n  left: -6px;\n  position: relative;\n  border-radius: 0px;\n  line-height: 18px;\n  background: rgba(255,255,255,0.4);\n}\n.sf.event-hub.s1 .search-btn:hover {\n  color: #068643;\n}\n.sf.event-hub.s1 .eventhub-plebians {\n  max-width: 750px;\n  display: block;\n  margin: 0 auto;\n}\n.sf.event-hub.s1 .quick-link-contain .choose {\n  font-family: 'source_sans_proextralight' !important;\n  font-weight: normal;\n  margin-top: 24px;\n  margin-bottom: 24px !important;\n  font-size: 2em;\n  letter-spacing: 0.1em;\n  color: #fff;\n}\n.sf.event-hub.s1 .quick-links {\n  background: url(\"http://splashthat.com/img/events/id/780/78062/assets/29d9.state-link.png\") no-repeat 0 -59px;\n  display: inline-block;\n  margin: 0 15px;\n  padding: 15px 0;\n  text-align: center;\n  width: 151px;\n  color: #191919;\n  font-size: 19px;\n  line-height: 22px;\n}\n.sf.event-hub.s1 .quick-links:hover {\n  background-position: 0 0px;\n  color: #fff !important;\n}\n.sf.event-hub.s1 > .body,\n.sf.event-hub.s1 > .title {\n  display: none;\n}\n.sf.event-hub.s1 > .children {\n  margin-top: 70px;\n}\n.sf.event-hub.s1 .event-hub-item {\n  width: 50%;\n  float: left;\n}\n.sf.event-hub.s1 .event-hub-item:nth-child(even) {\n  clear: left;\n}\n.sf.event-hub.s1 .event-hub-item h4 {\n  font-family: 'source_sans_proregular' !important;\n  font-size: 1.5em !important;\n  color: #393f3c;\n  text-transform: uppercase;\n  line-height: 1.2em;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .details {\n  line-height: 16px;\n  color: #393f3c;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .address,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .zip {\n  display: none;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .city-zip-wrap {\n  display: block;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .date-start,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .time,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .city,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .state,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .timeDot,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .cityComma {\n  display: inline-block;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .city,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .state {\n  font-family: 'source_sans_prosemibold';\n  font-style: normal;\n  letter-spacing: 0;\n  text-transform: uppercase;\n  font-size: 1.2em;\n  margin: 8px 0;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .time {\n  float: none !important;\n}\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .time,\n.sf.event-hub.s1 .event-hub-item .event-deets-inner .date-start {\n  font-family: 'Source-Sans-Pro-Light';\n  font-style: italic;\n  letter-spacing: 0.06em;\n  text-transform: lowercase;\n  font-size: 1.23em;\n}\n.sf.event-hub.s1 .event-hub-item .learn-more {\n  margin: 0 auto -54px;\n  background: url(\"http://splashthat.com/img/events/id/780/78062/assets/29d9.state-link.png\") no-repeat 0 -59px;\n  display: inline-block;\n  margin: 0 15px;\n  padding: 15px 0;\n  text-align: center;\n  width: 151px;\n  margin-top: 3px;\n  margin-bottom: 6px;\n  text-transform: uppercase;\n  color: #4c5b52;\n  font-size: 18px;\n}\n.sf.event-hub.s1 .event-hub-item .learn-more:hover {\n  background-position: 0 0px;\n  color: #fff !important;\n}\n.sf.event-hub.s1 .event-hub-item .image {\n  width: 100%;\n}\n.sf.event-hub.s1 .event-hub-item .image img {\n  width: 70%;\n  margin-bottom: 0px;\n}\n.sf.event-hub.s1 .event-hub-item .event-domain {\n  display: none;\n}\n.sf.event-hub.s1 .event-hub-item.featured {\n  width: 100% !important;\n  margin-bottom: 0 !important;\n}\n.sf.event-hub.s1 .event-hub-item.featured h4 {\n  line-height: 0.8em !important;\n  padding-top: 3px;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap {\n  background-color: rgba(0,0,0,0);\n  border: 12px solid rgba(255,255,255,0.6);\n  max-width: 440px;\n  position: relative;\n  float: left;\n  left: 50%;\n  transform: translateX(-50%);\n  -webkit-transform: translateX(-50%);\n  -moz-transform: translateX(-50%);\n  -ms-transform: translateX(-50%);\n  -o-transform: translateX(-50%);\n  top: -80px;\n  width: 400px;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner {\n  background-color: #f1f1f1;\n  width: 100%;\n  height: 100%;\n  min-height: 180px;\n  float: left;\n  padding: 52px 20px 32px;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .learn-more {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  -webkit-transform: translateX(-50%);\n  -moz-transform: translateX(-50%);\n  -ms-transform: translateX(-50%);\n  -o-transform: translateX(-50%);\n  margin: 0 !important;\n  bottom: -34px;\n  margin-top: 10px;\n  font-size: inherit;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .event-title {\n  font-size: 16px;\n  line-height: 16px;\n  margin: 8px 0px 10px;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .description {\n  display: block;\n  font-family: source_sans_prosemibold;\n  font-size: 15px;\n  color: #393f3c;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .address,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .state,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .zip,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .date-start,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .time,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .timeDot,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .cityComma {\n  display: none;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .city {\n  font-size: 34px !important;\n  line-height: 34px;\n  font-family: 'SourceSansProBold' !important;\n  position: absolute;\n  top: 16px;\n  width: 100%;\n  text-align: center;\n  left: 0px;\n  text-transform: uppercase;\n}\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .city,\n.sf.event-hub.s1 .event-hub-item.featured .event-deets-wrap .event-deets-inner .zip {\n  margin: 5px 0;\n}\n.sf.event-hub.s1 .event-hub-item.featured .image {\n  width: 100%;\n  height: 270px;\n  overflow: hidden;\n}\n.sf.event-hub.s1 .event-hub-item.featured .image img {\n  width: 100%;\n  height: auto;\n}\n.sf.event-hub.s2 {\n  width: 100%;\n}\n.sf.event-hub.s2.results .children {\n  display: block;\n}\n.sf.event-hub.s2.no-results .empty-msg {\n  display: block;\n  width: 100%;\n  clear: both;\n  padding: 60px 0px;\n  margin-top: 0px;\n  position: relative;\n  top: 20px;\n  background: #ccc;\n  color: #fff;\n}\n.sf.event-hub.s2 .hubSearch {\n  float: right;\n  width: 42%;\n}\n.sf.event-hub.s2 > .title,\n.sf.event-hub.s2 > .body {\n  float: left;\n  width: 50%;\n  text-align: left;\n}\n.sf.event-hub.s2 > .title {\n  font-size: 25px;\n}\n.sf.event-hub.s2 > .body {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 15px;\n}\n.sf.event-hub.s2 .event-hub-search {\n  background: url(\"/img/search-red.png\") no-repeat scroll 93% center #fff;\n  border: 1px solid #e9bac1;\n  box-shadow: -1px 8px 14px -13px #b8152d inset;\n  color: #b8152d;\n  float: right;\n  font-size: 21px;\n  padding: 15px 0 15px 20px;\n  width: 95%;\n  font-family: deluxe_gothicregular, arial !important;\n}\n.sf.event-hub.s2 .search-btn {\n  display: none;\n}\n.sf.event-hub.s2 .children {\n  float: left;\n  background: #bababa;\n  margin-top: 22px;\n  max-height: 369px;\n  overflow: hidden;\n  overflow-y: scroll;\n  display: none;\n}\n.sf.event-hub.s2 .children .hub-headers {\n  display: block;\n  text-align: left;\n  float: left;\n  clear: both;\n  width: 100%;\n  color: #fff;\n  padding: 20px 23px 8px;\n}\n.sf.event-hub.s2 .children .hub-headers div {\n  float: left;\n  font-weight: bold;\n}\n.sf.event-hub.s2 .children .hub-headers .title {\n  width: 25%;\n}\n.sf.event-hub.s2 .children .hub-headers .date {\n  width: 12.5%;\n}\n.sf.event-hub.s2 .children .hub-headers .time {\n  width: 12.5%;\n}\n.sf.event-hub.s2 .children .hub-headers .location {\n  width: 50%;\n}\n.sf.event-hub.s2 .children .event-hub-item {\n  padding: 14px 23px;\n  width: 100%;\n  margin-bottom: 0px !important;\n  color: #fff;\n}\n.sf.event-hub.s2 .children .event-hub-item.featured {\n  background: #a3a3a3;\n}\n.sf.event-hub.s2 .children .event-hub-item > .image {\n  display: none;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner {\n  text-align: left;\n  line-height: 16px;\n  font-size: 14px;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .event-title {\n  float: left;\n  width: 25%;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .event-domain {\n  display: none;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details {\n  font-size: 12px;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .date-start .long-format {\n  display: none;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .date-start .short-format {\n  display: block;\n  width: 12.5%;\n  float: left;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .timeDot {\n  display: none;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .time {\n  display: block;\n  width: 12.5%;\n  float: left;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where {\n  width: 30%;\n  float: left;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where .address,\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where .city,\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where .cityComma,\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where .state {\n  float: left;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .details .where .state {\n  margin: 0px 4px;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .learn-more {\n  font-family: deluxe_gothicregular, helveticaregular, arial;\n  font-weight: normal;\n  border-radius: 0;\n  color: #fff !important;\n  line-height: 34px;\n  display: block;\n  padding: 1px 5px 1px 5px !important;\n  text-align: center;\n  text-decoration: none;\n  font-size: 12px;\n  text-transform: uppercase;\n  box-shadow: 2px 2px 0px 0px #fff;\n  background-color: #921524;\n  float: right;\n  width: 20%;\n  display: block;\n  max-width: 140px;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .learn-more:hover {\n  background-color: #f6c05b;\n  color: #fff;\n  opacity: 1;\n}\n.sf.event-hub.s2 .children .event-hub-item .event-deets-wrap .event-deets-inner .learn-more .learnMoreText {\n  background: url(\"/img/learn-more-arrow.png\") no-repeat 89% center;\n  display: block;\n  padding-right: 15px;\n  font-weight: bold;\n}\n#rsvp-list-loading {\n  margin-top: 40px;\n  margin-bottom: 70px;\n  z-index: 1;\n}\n#rsvp-list-loading .percent-complete {\n  padding-left: 7px;\n  padding-right: 0px;\n}\n\n#splash-container .element-when-time .end.time {\n  padding: 0 0 0 0.2em !important;\n  width: auto !important;\n}\n\n.element-when-time .time.end, .element-when-time .time.start {\n  float: left;\n}\n\n#element-when-day .date.start .day:after {  \n  content: ', ' !important;\n}\n\n.event-has-end-time.mult-day.sesm #element-when-day .date.start .day:after {  \n  content: '' !important;\n}\n\n.layoutGrp .media[block-type=\"image\"] {\n   display: inline-block;\n   width: auto;\n}\n\nbody[theme=\"st-spritely-v3\"] #main-canvas, body[theme=\"st-subtraction-v3\"] #main-canvas, body[theme=\"st-superhero-v2\"] #main-canvas, body[theme=\"st-superhero-v3\"] #main-canvas {\n  padding: 0.5em !important;\n  margin-top: 30px !important;\n}\n\n#main-canvas {\n  text-align: left;\n}\n\n.layoutGrp .nav .title{\n  display: inline !important;\n}\n\n.sf .title, .sf .children {\n  display: block;\n}\n\nbody{\n  font: normal 1em/1.5 'GibsonRegular', arial, sans-serif;\n}\n\nbody .time.end .hour:before{\n  content: '';\n}\n\n\n/* LEGACY THEME SPECIFIC STUFF */\n\n\nbody[theme=\"st-poster-v3\"].finetune .st-details-wrap {\n  right: 92px;\n}\n\nbody[theme=\"st-poster-v3\"].finetuneOpen .st-details-wrap {\n  right: calc( 18em + 92px );\n}\n\n@media only screen and (max-width: 960px){\n  body[theme=\"st-poster-v3\"].finetune .st-details-wrap {\n    width: calc(100% - 92px) !important;\n  }\n\n  body[theme=\"st-poster-v3\"].finetuneOpen .st-details-wrap {\n    width: calc(100% - 18em - 92px ) !important;\n  }\n\n}\n\n/*****************************\n** LEGACY THEME PUNCTUATION **\n******************************/\n\nbody.isLegacy[theme=\"st-slanty\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-slanty\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-slanty-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-slanty-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-slanty-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-slanty-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-slanty-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-pitch\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-pitch\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-pitch-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-pitch-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-pitch-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-superhero\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-superhero\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-superhero-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-superhero-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-superhero-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-superhero-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-superhero-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-spritely\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-spritely\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-spritely-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-spritely-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-spritely-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-spritely-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-spritely-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-subtraction\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-subtraction\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-subtraction-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-subtraction-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-subtraction-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-subtraction-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-subtraction-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-poster\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-poster\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-poster-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-poster-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-poster-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-poster-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-poster-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-flyer\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-flyer\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-flyer-v2\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-flyer-v2\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer-v2\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer-v2\"] #element-where-address .venue-address:after,\nbody.isLegacy[theme=\"st-flyer-v3\"] #element-when-day .date.start .day:after,\nbody.isLegacy[theme=\"st-flyer-v3\"] #element-when-end-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer-v3\"] #element-when-day .date.end .day:after,\nbody.isLegacy[theme=\"st-flyer-v3\"] #element-where-address .venue-address:after,\nbody.isLegacy .comma-before .element > div > div:before,\nbody.isLegacy #element-when-day .date.end:before {\n  display: none !important;\n}\n\nbody.isLegacy[theme=\"st-slanty\"] .element-when-time, body.isLegacy[theme=\"st-slanty-v2\"] .element-when-time, body.isLegacy[theme=\"st-slanty-v3\"] .element-when-time,\nbody.isLegacy[theme=\"st-pitch\"] .element-when-time, body.isLegacy[theme=\"st-pitch-v2\"] .element-when-time, body.isLegacy[theme=\"st-pitch-v3\"] .element-when-time,\nbody.isLegacy[theme=\"st-superhero\"] .element-when-time, body.isLegacy[theme=\"st-superhero-v2\"] .element-when-time, body.isLegacy[theme=\"st-superhero-v3\"] .element-when-time,\nbody.isLegacy[theme=\"st-spritely\"] .element-when-time, body.isLegacy[theme=\"st-spritely-v2\"] .element-when-time, body.isLegacy[theme=\"st-spritely-v3\"] .element-when-time,\nbody.isLegacy[theme=\"st-subtraction\"] .element-when-time, body.isLegacy[theme=\"st-subtraction-v2\"] .element-when-time, body.isLegacy[theme=\"st-subtraction-v3\"] .element-when-time{\n  font-size: .9em !important; \n}\n\nbody.isLegacy[theme=\"st-slanty\"] #element-host .w7-8, body.isLegacy[theme=\"st-slanty-v2\"] #element-host .w7-8, body.isLegacy[theme=\"st-slanty-v3\"] #element-host .w7-8,\nbody.isLegacy[theme=\"st-pitch\"] #element-host .w7-8, body.isLegacy[theme=\"st-pitch-v2\"] #element-host .w7-8, body.isLegacy[theme=\"st-pitch-v3\"] #element-host .w7-8,\nbody.isLegacy[theme=\"st-superhero\"] #element-host .w7-8, body.isLegacy[theme=\"st-superhero-v2\"] #element-host .w7-8, body.isLegacy[theme=\"st-superhero-v3\"] #element-host .w7-8,\nbody.isLegacy[theme=\"st-spritely\"] #element-host .w7-8, body.isLegacy[theme=\"st-spritely-v2\"] #element-host .w7-8, body.isLegacy[theme=\"st-spritely-v3\"] #element-host .w7-8,\nbody.isLegacy[theme=\"st-subtraction\"] #element-host .w7-8, body.isLegacy[theme=\"st-subtraction-v2\"] #element-host .w7-8, body.isLegacy[theme=\"st-subtraction-v3\"] #element-host .w7-8{\n  padding-left: .5em !important;\n}\n\n\n\nbody.isLegacy[theme=\"st-pitch\"] .element-rsvp .edit-tools-layout, \nbody.isLegacy[theme=\"st-pitch-v2\"] .element-rsvp .edit-tools-layout, \nbody.isLegacy[theme=\"st-pitch-v3\"] .element-rsvp .edit-tools-layout {\n  -webkit-transform: skewX(40deg);\n  -moz-transform: skewX(40deg);\n  -ms-transform: skewX(40deg);\n  -o-transform: skewX(40deg);\n  transform: skewX(40deg);\n}\n\nbody[theme=\"st-pitch\"].event-has-end-time .element-when-time .time {float: left; text-align: left !important; padding: 0 !important; }\nbody[theme=\"st-pitch\"] #splash-container .element-when-time .end.time {padding-left: 0 !important; clear: left; }\nbody[theme=\"st-pitch\"].event-has-end-time .element-when-time .time.end:before {content: 'UNTIL' !important; font-size: 0.5em !important; padding: 0.2em 0 0 0 !important; display: block !important; width: 100% !important; text-align: left !important; letter-spacing: 0.2em; line-height: 1.5em !important; padding-top: 0.6em !important; }\n\nbody[theme=\"st-pitch-v2\"].event-has-end-time .element-when-time .time {float: left; text-align: left !important; padding: 0 !important; }\nbody[theme=\"st-pitch-v2\"] #splash-container .element-when-time .end.time {padding-left: 0 !important; clear: left; }\nbody[theme=\"st-pitch-v2\"].event-has-end-time .element-when-time .time.end:before {content: 'UNTIL' !important; font-size: 0.5em !important; padding: 0.2em 0 0 0 !important; display: block !important; width: 100% !important; text-align: left !important; letter-spacing: 0.2em; line-height: 1.5em !important; padding-top: 0.6em !important; }\n\nbody[theme=\"st-pitch-v3\"].event-has-end-time .element-when-time .time {float: left; text-align: left !important; padding: 0 !important; }\nbody[theme=\"st-pitch-v3\"] #splash-container .element-when-time .end.time {padding-left: 0 !important; clear: left; }\nbody[theme=\"st-pitch-v3\"].event-has-end-time .element-when-time .time.end:before {content: 'UNTIL' !important; font-size: 0.5em !important; padding: 0.2em 0 0 0 !important; display: block !important; width: 100% !important; text-align: left !important; letter-spacing: 0.2em; line-height: 1.5em !important; padding-top: 0.6em !important; }\n\nbody.isLegacy .venue-state:before {\n  display: none !important;\n}\n\n@-moz-keyframes loaderBG {\n  0% {\n    background: rgba(6,222,239,0.7);\n  }\n\n  50% {\n    background: rgba(6,222,239,0.3);\n  }\n\n  100% {\n    background: rgba(6,222,239,0.7);\n  }\n}\n@-webkit-keyframes loaderBG {\n  0% {\n    background: rgba(6,222,239,0.7);\n  }\n\n  50% {\n    background: rgba(6,222,239,0.3);\n  }\n\n  100% {\n    background: rgba(6,222,239,0.7);\n  }\n}\n@-o-keyframes loaderBG {\n  0% {\n    background: rgba(6,222,239,0.7);\n  }\n\n  50% {\n    background: rgba(6,222,239,0.3);\n  }\n\n  100% {\n    background: rgba(6,222,239,0.7);\n  }\n}\n@-ms-keyframes loaderBG {\n  0% {\n    background: rgba(6,222,239,0.7);\n  }\n\n  50% {\n    background: rgba(6,222,239,0.3);\n  }\n\n  100% {\n    background: rgba(6,222,239,0.7);\n  }\n}\n@keyframes loaderBG {\n  0% {\n    background: rgba(6,222,239,0.7);\n  }\n\n  50% {\n    background: rgba(6,222,239,0.3);\n  }\n\n  100% {\n    background: rgba(6,222,239,0.7);\n  }\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/splash-layout-legacy-2.css",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 61401,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "@import 'global-mixins'\n\n////\n/// SPLASH UI ELEMENTS\n//\n//	@ICONS\n//	@BUTTONS\n//	@DROPDOWN\n//	@PILL\n//	@TOGGLE\n//	@TABLES\n//	@TIPTIP\n//	@UICHOOSER\n//	@NOTICES\n//	@UIPATTERNS\n//	@TIMEPICKER\n//	@COLUMNCHOOSER\n//	@LAYOUTCHOOSER\n//	@RTE\n//	@DATEPICKER\n//	@HELPERS\n//\n//\\\n//\\\\\n\n////\n/// @SPLICONS\n//  New icons webfont\n//\n\n@font-face {\n    font-family: 'splash';\n    src: url('/fonts/icons/splicons-v2c.eot');\n    src: url('/fonts/icons/splicons-v2c.eot?#iefix') format('embedded-opentype'),\n         url('/fonts/icons/splicons-v2c.woff') format('woff'),\n         url('/fonts/icons/splicons-v2c.ttf') format('truetype'),\n         url('/fonts/icons/splicons-v2c.svg#a4c80c836aaaa1d1c21c67e69dce4409') format('svg');\n    font-weight: normal;\n    font-style: normal;\n}\n\n///\n// Setup for our webfont\n//\n// Icons are set in the HTML by\n// applying the key-character\n// associated with your desired\n// icon in a data-icon attribute\n// e.g. <span data-icon=\"C\"></span>\n\n[data-icon]:before {\n	font-family: 'splash';\n	content: attr(data-icon);\n	-webkit-font-smoothing: antialiased;\n}\n\ni[data-icon]\n	font-style normal\n\n////\n/// @ICONS\n//	Sprite-base icon set\n//	Native: use on a nu-btn\n//	For inline icons use <i class=\"ico-foo\"></i>\n\n// Icons common\n[class^=\"ico-\"]:after\n[class*=\" ico-\"]:after\n	content ''\n	background spriteUI\n	width 40px\n	height 40px\n	position absolute\n	text-align center\n	top 50%\n	right 40px\n	margin-top -(@height/2)\n	margin-right -(@width/2)\n\n////\n//	These .ico-* go on a .nu-btn\n//	<div class=\"ico-import nu-btn\">Import Gallery</div>\n//\n.coachBlip\n	border #ff0000 3px solid\n	height 18px\n	width 18px\n	border-radus 100%\n	position absolute\n	z-index 9999\n	right 2px\n	bottom 2px\n	animation pulsate 1s ease-out\n	animation-iteration-count infinite\n	opacity: 0.0\n@keyframes pulsate {\n	0% {transform: scale(0.1, 0.1); opacity: 0.0;}\n	50% {opacity: 1.0;}\n	100% {transform: scale(1.2, 1.2); opacity: 0.0;}\n}\n.ico-instagram\n	&:after\n		width 18px\n		height 18px\n		background-position -160px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -160px -40px\n	&:active:after\n		background-position -160px -80px\n\n.ico-instagram-word\n	&:after\n		width 74px\n		height 22px\n		background-position 0 -160px\n		top 2px !important\n		margin-right: -37px\n		margin-top 6px !important\n		position relative\n\n.ico-rarr\n	&:after\n		width 11px\n		height 16px\n		background-position -40px 0\n		margin-top -(@height/2)\n		margin-right -(@width)\n	&:hover:after\n		background-position -40px -40px\n	&:active:after\n		background-position -40px -80px\n\n.ico-darr\n	&:after\n		width 8px\n		height 5px\n		background-position -240px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n\n.ico-twitter\n	&:after\n		width 21px\n		height 18px\n		background-position -200px 0\n	&:hover:after\n		background-position -200px -40px\n	&:active:after\n		background-position -200px -80px\n\n.ico-twitter-word\n	&:after\n		width 66px\n		height 13px\n		background-position 0 -120px\n		top 1px !important\n		margin-right -33px\n		position relative\n\n.ico-facebook-word\n	&:after\n		width 79px\n		height 18px\n		background-position 0 -200px\n		top 5px !important\n		margin-right -33px\n		position relative\n\n.ico-twitter-dk\n	&:after\n		width 22px\n		height 19px\n		background-position -200px -80px\n.ico-instagram-dk\n	&:after\n		width 20px\n		height 19px\n		background-position -160px -80px\n.ico-facebook-dk\n	&:after\n		width 18px\n		height 19px\n		background-position -120px -80px\n\n.ico-upload\n	&:after\n		width 10px\n		height 11px\n		background-position -80px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -80px -40px\n	&:active:after\n		background-position -80px -80px\n\n.ico-import\n	&:after\n		width 7px\n		height 13px\n		background-position -120px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -120px -40px\n	&:active:after\n		background-position -120px -80px\n\n.ico-fb-large\n	&:after\n		width 11px\n		height 23px\n		background-position -440px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -440px -40px\n	&:active:after\n		background-position -440px -80px\n\n.ico-shuffle\n	&:after\n		width 14px\n		height 11px\n		background-position -280px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -280px -40px\n	&:active:after\n		background-position -280px -80px\n\n.ico-add\n	&:after\n		width 14px\n		height 14px\n		background-position -320px 0\n		margin-top -(@height/2)\n		margin-right -((@width/2)+3)\n	&:hover:after\n	&.hovering:after\n		background-position -320px -40px\n	&:active:after\n		background-position -320px -80px\n\n.ico-add-sm\n	&:after\n		width 9px\n		height 9px\n		background-position -280px -160px\n		&:hover:after\n			background-position-y -200px\n		&:active:after\n			background-position-y -240px\n\n.ico-clock\n	&:after\n		width 17px\n		height 17px\n		background-position -360px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -360px -40px\n	&:active:after\n		background-position -360px -80px\n\n.ico-question\n.nu-tiptip\n	&:after\n		width 11px\n		height 11px\n		background-position -400px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n	&:hover:after\n		background-position -400px -40px\n	&:active:after\n		background-position -400px -80px\n\n.ico-drop\n	&:after\n		width 52px\n		height 62px\n		background-position -480px 0\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background none !important\n		font-family fontello\n		content '\\e89a' !important\n		font-style normal\n		font-size 100px\n		left -28px\n\n.ico-info\n	&:after\n		width 40px\n		height 40px\n		background-position -80px -120px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n\n.ico-pencil\n	&:after\n		width 40px\n		height 40px\n		background-position -120px -120px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n\n.ico-social\n	&:after\n		width 40px\n		height 40px\n		background-position -160px -120px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n\n.ico-eyeClose\n.ico-eyeOpen\n	&:after\n		width 18px\n		height 9px\n		background-position -440px -120px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n\n.ico-eyeOpen\n	&:after\n		background-position -440px -160px\n\n.is-hidden.can-hide\n	.ico-eyeOpen\n		&:after\n    		background-position -440px -120px\n\n\n\n.ico-spotify\n	&:after\n		width 21px\n		height 21px\n		background-position -360px -120px\n.ico-soundcloud\n	&:after\n		width 21px\n		height 21px\n		background-position -400px -120px\n\n.ico-camera\n	&:after\n		width 40px\n		height 26px\n		background-position -240px -160px\n\n.ico-camera-small\n	&:after\n		width 40px\n		height 40px\n		background-position -191px -120px\n\n.ico-quick-add\n	&:after\n		width 69px\n		height 56px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background-position -320px -200px\n\n.ico-easy-import\n	&:after\n		width 153px\n		height 54px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background-position -400px -200px\n\n///\n// Temp for contact history\n\n.ico-tl-cal\n	&:after\n		width 12px\n		height 13px\n		background-position -560px -160px\n\n.ico-tl-added-to-list\n	&:after\n		width 15px\n		height 11px\n		background-position -560px -175px\n\n.ico-tl-sent-email\n	&:after\n		width 12px\n		height 8px\n		background-position -588px -165px\n\n.ico-tl-opened-email\n	&:after\n		width 12px\n		height 13px\n		background-position -574px -160px\n\n.ico-tl-new-contact\n	&:after\n		width 10px\n		height 10px\n		background-position -577px -175px\n\n.ico-vip-star\n	&:after\n		width 21px\n		height 20px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background-position -560px -120px\n.vip-set\n	.ico-vip-star\n		&:after\n			background-position-y -140px\n\n.ico-gmail-logo\n	&:after\n		width 30px\n		height 23px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background-position -480px -160px\n\n///\n// Adder block\n.ico-add-sponsors\n	&:after\n		width 80px\n		height 80px\n		background-position 0 -240px\n.ico-add-speakers\n	&:after\n		width 80px\n		height 80px\n		background-position -80px -240px\n.ico-add-schedule\n	&:after\n		width 80px\n		height 80px\n		background-position -160px -240px\n.ico-add-list\n	&:after\n		width 80px\n		height 80px\n		background-position 0 -320px\n.ico-add-headline\n	&:after\n		width 80px\n		height 80px\n		background-position -80px -320px\n.ico-add-text\n	&:after\n		width 80px\n		height 80px\n		background-position 0 -400px\n.ico-add-image-group\n	&:after\n		width 80px\n		height 80px\n		background-position -80px -400px\n.ico-add-hero-image\n	&:after\n		width 80px\n		height 80px\n		background-position -960px -120px\n.ico-add-map\n	&:after\n		width 80px\n		height 80px\n		background-position -840px -200px\n.ico-add-video\n	&:after\n		width 80px\n		height 80px\n		background-position -840px -280px\n.ico-add-audio\n	&:after\n		width 80px\n		height 80px\n		background-position -840px -360px\n.ico-add-iframe\n	&:after\n		width 80px\n		height 80px\n		background-position -920px -200px\n.ico-add-social-gall\n	&:after\n		width 86px\n		height 70px\n		top 7px !important\n		left -2px !important\n		background-position -839px -430px\n\n///\n// Small adder icons for custom section\n.ico-custom-sponsors\n	&:after\n		width 40px\n		height 40px\n		background-position -240px -280px\n.ico-custom-speakers\n	&:after\n		width 40px\n		height 40px\n		background-position -280px -280px\n.ico-custom-schedule\n	&:after\n		width 40px\n		height 40px\n		background-position -320px -280px\n.ico-custom-list\n	&:after\n		width 40px\n		height 40px\n		background-position -360px -280px\n.ico-custom-headline\n	&:after\n		width 40px\n		height 40px\n		background-position -400px -280px\n.ico-custom-text\n	&:after\n		width 40px\n		height 40px\n		background-position -440px -280px\n.ico-custom-image-group\n	&:after\n		width 40px\n		height 40px\n		background-position -480px -280px\n.ico-custom-hero-image\n	&:after\n		width 40px\n		height 40px\n		background-position -560px -240px\n.ico-custom-map\n	&:after\n		width 40px\n		height 40px\n		background-position -520px -280px\n.ico-custom-video\n	&:after\n		width 40px\n		height 40px\n		background-position -560px -200px\n.ico-custom-audio\n	&:after\n		width 40px\n		height 40px\n		background-position -560px -80px\n.ico-custom-iframe\n	&:after\n		width 40px\n		height 40px\n		background-position -560px -280px\n.ico-custom-social-gall\n	&:after\n		width 419px\n		height 400px\n		background-position -560px -40px\n\n\n///\n// Layout styles\n\n//\n// Speaker List\n.ico-spkr-1\n	&:after\n		background-position -600px 0\n.ico-spkr-2\n	&:after\n		background-position -680px 0\n.ico-spkr-3\n	&:after\n		background-position -600px -80px\n.ico-spkr-4\n	&:after\n		background-position -680px -80px\n\n//\n// Image List\n.ico-imglist-1\n	&:after\n		background-position -600px -160px\n.ico-imglist-2\n	&:after\n		background-position -680px -160px\n.ico-imglist-3\n	&:after\n		background-position -600px -240px\n.ico-imglist-4\n	&:after\n		background-position -680px -240px\n\n//\n// Audio Embed\n.ico-audio-1\n	&:after\n		background-position -760px 0px\n.ico-audio-2\n	&:after\n		background-position -760px -80px\n.ico-audio-3\n	&:after\n		background-position -760px -160px\n.ico-audio-4\n	&:after\n		background-position -760px -240px\n\n//\n// Video Embed\n.ico-video-1\n	&:after\n		background-position -600px -320px\n.ico-video-2\n	&:after\n		background-position -600px -400px\n.ico-video-3\n	&:after\n		background-position -680px -320px\n.ico-video-4\n	&:after\n		background-position -680px -400px\n\n//\n// Iframe Embed\n.ico-iframe-1\n	&:after\n		background-position -440px -320px\n.ico-iframe-2\n	&:after\n		background-position -440px -400px\n.ico-iframe-3\n	&:after\n		background-position -520px -320px\n.ico-iframe-4\n	&:after\n		background-position -520px -400px\n\n//\n// Headline Embed\n.ico-headline-1\n	&:after\n		background-position -760px -320px\n.ico-headline-2\n	&:after\n		background-position -760px -400px\n\n//\n// Image Group\n.ico-imggrp-1\n	&:after\n		background-position -360px -320px\n.ico-imggrp-2\n	&:after\n		background-position -360px -400px\n.ico-imggrp-3\n	&:after\n		background-position -80px -480px\n.ico-imggrp-4\n	&:after\n		background-position -80px -560px\n\n//\n// Sponsor Group\n.ico-spongrp-1\n	&:after\n		background-position -0px -480px\n.ico-spongrp-2\n	&:after\n		background-position -0px -560px\n.ico-spongrp-3\n	&:after\n		background-position -280px -320px\n.ico-spongrp-4\n	&:after\n		background-position -280px -400px\n\n//\n// Sked\n.ico-sked-1\n	&:after\n		background-position -200px -320px\n.ico-sked-2\n	&:after\n		background-position -200px -400px\n\n//\n// List\n.ico-list-1\n	&:after\n		background-position -0px -320px\n.ico-list-2\n	&:after\n		background-position -160px -480px\n\n//\n// Map\n.ico-map-1\n	&:after\n		background-position -840px -200px\n.ico-map-2\n	&:after\n		background-position -160px -560px\n\n//\n// Border radius styles\n.ico-radius1\n	&:after\n		width 20px\n		height 20px\n		margin-top -6px\n		margin-right -(@width/2)\n		background-position -880px 0\n.ico-radius2\n	&:after\n		width 20px\n		height 20px\n		margin-top -6px\n		margin-right -(@width/2)\n		background-position -880px -40px\n.ico-radius3\n	&:after\n		width 20px\n		height 20px\n		margin-top -6px\n		margin-right -(@width/2)\n		background-position -880px -80px\n\n//\n// Border stroke styles\n.ico-border1\n	&:after\n		width 20px\n		height 6px\n		margin-top -(@height/2)\n		margin-right -(@width/2)\n		background-position -920px 0\n.ico-border2\n	&:after\n		width 20px\n		height 2px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -920px -40px\n.ico-border3\n	&:after\n		width 20px\n		height 4px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -920px -80px\n.ico-border4\n	&:after\n		width 20px\n		height 2px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -920px -120px\n.ico-border5\n	&:after\n		width 20px\n		height 4px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -920px -160px\n\n.ico-swap\n	&:after\n		width 11px\n		height 15px\n		background-position -960px 0\n		margin-top -9px\n		margin-right -8px\n\n//\n// Some arrows etc\n.ico-x-axis\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -480px\n\n.ico-y-axis\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -480px\n\n.ico-line-height\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -500px\n\n.ico-letter-spacing\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -500px\n\n.ico-font-size\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -540px\n\n.ico-width\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -560px\n.ico-height\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -540px\n\n.ico-margin-top\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -560px\n.ico-margin-bottom\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -580px\n\n.ico-padding\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -580px\n\n.ico-blur\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -240px -520px\n\n.ico-rotate\n	&:after\n		width 20px\n		height 20px\n		margin-top -(@height)\n		margin-right -(@width)\n		background-position -260px -520px\n\n///\n//	For inline icons\n//	use <i class=\"ico-foo\"></i>\n//\n\ni[class^=\"ico-\"]:after\n	margin-top 0\n	margin-right 0\n	position relative\n	top 0\n	right 0\n	display inline-block\n	content ''\n\n.nu-button\n	&:hover i[class^=\"ico-\"]:after\n		background-position-y -40px\n	&:active i[class^=\"ico-\"]:after\n		background-position-y -80px\n\n////\n/// @BUTTONS\n//\n//	<div class=\"ico-import nu-btn\">\n//		Import Gallery\n//	</div>\n//\n//	Large buttons have two lines.\n//	Break the second line with a span\n//\n//	<div class=\"ico-import nu-btn l\">\n//		Import Gallery\n//		<span>I'm the second level</span>\n//	</div>\n//\n//hiding the add element blocks til we get this right.\nbody:not(.advMode)\n	.container-ele\n		.drop-area\n			.add-placeholder\n				display none !important\n\n// General settings for buttons\n.nu-btn\n	background white\n	border 1px solid #f1f1f1\n	font-family 'gibsonSemiBold'\n	text-transform uppercase\n	color #000\n	cursor pointer\n	padding 14px 40px 14px 14px\n	position relative\n	box-shadow 0 -1px 0 #fff, 0 -2px 0 #eaeaea inset\n	// nunubtn\n	box-shadow none\n	border-radius 4px\n	// nunubtn\n	border-radius 1px\n	text-decoration none\n	text-align center\n	user-select none\n	// transition all .15s linear\n	border-box()\n	&.active // CLASS ACTIVE FOR WHEN USED AS TOGGLE\n		border 1px solid #06deef\n	&:hover\n	&.hovering\n		// color #fff\n		// nunubtn\n		box-shadow none\n		background #f0f0f0\n	&.pressed\n	&:active\n		background #eeeeee\n		border 1px solid #d0d0d0\n		color #a6a6a6\n		box-shadow 0 -2px 10px #f0f0f0\n		// nunubtn\n		box-shadow none\n		transition none\n	&.loading\n		background #fff000\n\n	// Large button\n	&.l\n		font-size 18px\n		padding 14px 84px 14px 14px\n		// height 70px\n	&.l small\n		display block\n		margin-top 4px\n		font-size 11px\n\n	// Medium and Small Common\n	&.m\n	&.s\n		padding 5px 46px 5px 14px\n		// height 40px\n\n	// Medium button\n	&.m\n		font-size 13px\n\n	// Small button\n	&.s\n		padding-right 6px\n		padding-left 6px\n		font-size 10px\n\n	// Extra small button\n	&.xs\n		font-size 10px\n\n	// Half width + nowrap. take that scrollbars!\n	&.half\n		width 48%\n		white-space nowrap\n\n	// Don't let te psuedo elements get in the way\n	&:before\n	&:after\n		pointer-events none\n\n	// Make the button tab\n	&:before\n		content ''\n		position absolute\n		top 0\n		right 0\n		width 30px\n		height 100%\n		line-height 40px\n		border-left 1px solid #e5e5e5\n		text-align center\n		pointer-events none\n\n	// &:hover:before\n	// &.hovering:before\n	// 	border-left 1px solid darken(blue, 10%)\n\n	// &:active:before\n	// 	border-left 1px solid #d6d6d6\n\n	// Large tab\n	&.l:before\n		width 62px\n		line-height 71px\n		border-radius 0 60px 60px 0\n	&.l:after\n		right 35px\n\n	// Medium tab\n	&.m:before\n		width 30px\n	&.m:after\n		right 14px\n\n	// Small tab\n	&.s:before\n	&.tight:before\n		width 16px\n	&.s:after\n	&.tight:after\n		right 7px\n\n	// No Tab\n	&.clean\n		padding 14px\n		&:before\n			display none\n	&.m.clean\n		padding 0.5em 1em\n	&.s.clean\n		padding 5px 14px\n		top -1px\n	&.xs.clean\n		padding 2px 10px\n	&.clean:before\n		display none\n\n	&.br-10\n		border-radius 10px\n\n	// No borders or box-shadows\n	&.noEdge\n		box-shadow none\n		border 1px solid transparent\n		background none\n		&:hover\n			background blue\n			color #fff\n			border 1px solid darken(blue, 10%)\n			box-shadow 0 -2px 0 darken(blue, 10%) inset\n			box-shadow none\n		&.pressed\n		&:active\n			background #eeeeee\n			border 1px solid #d0d0d0\n			color #a6a6a6\n			box-shadow none\n\n	// Prompt with blue\n	&.prompt\n		background blue !important\n		color #fff !important\n		border 1px solid darken(blue, 10%) !important\n		box-shadow 0 -2px 0 darken(blue, 10%) inset !important\n		&:hover\n			background darken(blue, 30%)\n		&:active\n			background #eeeeee\n			border 1px solid #d0d0d0\n			color #a6a6a6\n			box-shadow none\n	&.disabled\n		box-shadow none\n		cursor pointer\n		opacity .3\n		pointer-events none\n		&.pt\n			pointer-events auto\n		&:hover\n			background gray\n		&:active\n			background gray\n			border 1px solid darken(gray, 10%)\n			color #DFDFDF\n			box-shadow 0 -2px 0 darken(gray, 10%) inset\n	&.red-bg\n		&:hover\n			background #ff0033\n			border 1px solid #BB0000\n			box-shadow 0 -2px 0 #BB0000 inset\n	&.nu-btn-sleek\n		border 0\n		font-size 10px\n		letter-spacing .2em\n		padding .9em 3.8em !important\n		font-weight 300\n		font-family 'GibsonRegular', arial, sans-seri\n		outline 0 !important\n		color #FFF\n		cursor pointer\n		&:before\n			display none\n		&.red\n			background #f77a7b !important\n			&:hover\n				background darken(#f77a7b, 30%) !important\n		&.dark\n			background #414040 !important\n			&:hover\n				background darken(#414040, 30%) !important\n		&.grey\n			background #CFCFCF !important\n			&:hover\n				background darken(#CFCFCF, 30%) !important\n		&.green\n			background #72d7b4 !important\n			&:hover\n				background darken(#72d7b4, 30%) !important\n		&.drkGreen\n			background #7ec479 !important\n			&:hover\n				background darken(#7ec479, 30%) !important\n		&.plain\n			background #FFF\n			&:hover\n				background darken(#FFF, 30%)\n			color #292929\n		&.link\n			background transparent\n			color #428bca\n			&.x-close\n				color #FFFFFF\n				position absolute\n				top 0px\n				right 0px\n				font-size 1em\n				padding-right 1em !important\n				&:before\n					content '\\e823'\n					font-family 'fontello'\n					display inline-block\n					border none\n					box-shadow none\n				&:hover\n					color #c0c0c0\n		&.outlined\n			box-shadow 0 0 0 2px #414040 inset\n			color #414040\n			font-family 'gibsonSemiBold'\n			background rgba(255,255,255,0.5)\n			&:hover\n				background #414040\n				color #fff\n		&.square\n			border-radius 0\n		&.down-shadow\n			box-shadow 0 2px 2px #777\n\n		// Some sizes\n		&.small\n			font-size 8px\n			padding 0.7em 1.8em 0.6em 1.8em !important\n\n.nu-pill-btn\n	border 1px solid rgb(0, 0, 0)\n	border-radius 30px\n	color rgb(0, 0, 0)\n	font-size 11px\n	padding 10px 17px !important\n	&.br-2\n		border-radius 2px\n	&:hover\n		background #000\n		color #FFF\n\n.nu-radio\n	border-radius 50%\n	width 20px\n	height 20px\n	background #fff\n	z-index 12\n	display inline-block\n	margin-top 7px\n	border 1px solid #ccc\n	box-shadow 0 -2px 2px -1px #666 inset\n	&.select\n		box-shadow  0 -2px 2px -1px #666 inset, 0px 0px 0px 4px #fff inset\n		background #777\n\n.nu-btn-fc\n	background #ff2c5e\n	color #fff\n	font-family 'gibsonRegular' !important\n	text-transform uppercase\n	padding 14px 30px\n	font-size 24px\n	border-radius 6px\n	cursor pointer\n	box-shadow 0px -9px 0 -5px rgba(0,0,0,0.1) inset\n	margin 0 auto\n	margin-top 24px\n	margin-bottom 6px\n	width 210px\n	text-align center\n	animation fadeColors 5s infinite\n	&:hover\n		opacity .75\n	&:active\n		opacity .6\n\n////\n/// @DROPDOWN\n//	uses base styles from nu-btn\n//\n//	<div class=\"ico-darr nu-btn m nu-dropdown\">\n//		<input type=\"hidden\" class=\"\" value=\"\" />\n//		<div class=\"current\">Static Gallery</div>\n//		<div class=\"options\">\n//			<div class=\"active\" value=\"static\">Static Gallery</div>\n//			<div value=\"static\">Scroll Left</div>\n//			<div>Cartwheel</div>\n//		</div>\n//	</div>\n//\n\n.nu-dropdown\n	font-family 'gibsonRegular'\n	text-transform none\n	padding 10px 44px 10px 14px\n	height 40px\n	margin 0\n	white-space nowrap\n	text-align left\n	padding 0 !important\n	border-radius 10px\n	.current\n		min-height 40px\n		line-height 40px\n		padding 0 5px\n	&:hover\n		background #fff\n		color: #000\n		box-shadow: 0 -2px 0 #eaeaea inset\n		border: 1px solid #ccc\n	&:active\n	&.open\n		box-shadow none\n	&.open\n		z-index 2\n		border-radius 10px 10px 0 0\n	&:before\n		background #ccc\n		border-radius 0 4px 4px 0\n		// nunubtn\n		border-radius 0 10px 10px 0\n		width 31px\n		border-left none !important\n		top -1px\n		right -1px\n		height 40px\n		box-shadow 0 -3px 0 #bbb inset\n	&:hover:before\n		background #06deef\n		box-shadow 0 -3px 0 darken(blue, 10%) inset\n	&:active:before\n	&.open:before\n		background #eeeeee\n		box-shadow 0 0 0 1px #d0d0d0 inset\n		border none\n	&.open:before\n		border-radius 0 10px 0 0\n		box-shadow 0 0 0 1px #d0d0d0 inset\n	&.open .current:after\n		background-position -240px -40px\n\n	// For the options\n	&.open .options\n		display block\n\n	.options\n		position absolute\n		left 0\n		width 100%\n		top 100%\n		z-index 1\n		background #fff\n		border-radius 0 0 4px 4px\n		display none\n		box-shadow 0 0 0 1px #CCC, 0 2px 0 1px #CCC\n		text-overflow ellipsis\n		overflow hidden\n		border-box()\n\n		> div\n			//width 100% !important\n			width 100%\n			padding 7px 14px\n			color #000\n			//not enjoying these anymore\n			//box-shadow 14px 0 0 #fff inset, -14px 0 0 #fff inset, 0 -1px 0 #e5e5e5 inset\n			border-bottom 1px solid #f8f8f8\n			border-box()\n			&:first-child\n				box-shadow none\n			&:last-child\n				border-radius 0 0 3px 3px\n				border-bottom none\n			&:hover\n				background #06deef\n				color #fff\n				box-shadow none\n		.active\n			font-family 'gibsonSemiBold'\n\n		&.scroll\n			height 130px\n			overflow-x hidden\n			overflow-y auto\n\n	// Sizes\n	&.m\n		height 35px\n		line-height @height\n		&:before\n			line-height @line-height\n			height @height\n		.options\n			top 34px\n			div\n				padding 2px 10px\n		.current\n			padding 0 36px 0 10px\n\n\n	&.s\n	&.tight\n		.current\n			padding-right 21px\n			padding-left 6px\n\n	&.xs\n		height 20px\n		line-height @height\n		&:before\n			line-height 20px\n			height @height\n		.current\n			padding 0 36px 0 14px\n		.options\n			top 19px\n\n	//\n	// Super clean dropdown\n	&.noEdge\n		&:before\n			display block\n		&:after\n			background-position -240px -40px\n	&.openUp\n		&.open\n			border-radius 0 0 4px 4px !important\n		.options\n			bottom 34px\n			top auto\n			border-radius 4px 4px 0 0\n			border-bottom 0px\n			box-shadow 0 0 0 1px #CCC, 0 -1px 0 1px #CCC\n\n\n	// A dropdown... that's not a dropdown\n	&.flat\n		height auto\n		border none !important\n		box-shadow none !important\n		&:before\n		.current\n			display none\n		.options\n			top 0\n			position relative\n			display block\n			box-shadow none !important\n			line-height 1\n			border none\n			overflow visible\n			background none\n			> div\n				width auto\n				float left\n				padding 0 .5em\n				border none\n				color #e5e5e5\n				&:first-child\n					padding-left 0\n				&:last-child\n					padding-right 0\n				&.active\n				&:hover\n					color #171717\n					background none\n				&.active\n					cursor default\n				.nu-tiptip.title-tip\n					width auto\n					max-width 130px\n					font-size 10px !important\n\n////\n/// @PILL\n// a nice pill menu/nav\n//\n// 	<div class=\"nu-pill\">\n//	 	<div class=\"opt\">Light</div>\n// 		<div class=\"opt\">Dark</div>\n//  </div>\n//\n\n.nu-pill\n	.opt\n		background #fff\n		border-top 1px solid #ccc\n		border-bottom 1px solid #ccc\n		box-shadow 0 -1px 0 #fff, 0 -2px 0 rgba(0,0,0,.1) inset\n		cursor pointer\n		color #000\n		font-family 'gibsonSemiBold'\n		text-align center\n		user-select none\n		border-box()\n		&.first\n			border-left 1px solid #ccc\n			border-radius 4px 0 0 4px\n		&.last\n			border-right 1px solid #ccc\n			border-radius 0 4px 4px 0\n		&:hover\n			background #eee\n		&:active\n			background #ddd\n		&.active\n			background #fafafa\n			box-shadow 0px 2px 5px rgba(0,0,0,0.2) inset\n			color #888\n\n\n////\n/// @TOGGLE\n//	a nice toggle for the design pane\n//\n// 	<div class=\"grp p0 nu-toggle\">\n// 		<div class=\"opt left active\" data-icon=\"K\" target=\"styles\"></div>\n//	 	<div class=\"opt left\" data-icon=\"´\" target=\"fonts\"></div>\n// 	</div>\n//	<div class=\"toggle-content grp ofH\">\n//		<div class=\"styles grp\">\n//\n//		</div>\n//		<div class=\"fonts grp\">\n//\n//		</div>\n//	</div>\n//\n\n.nu-toggle\n	position relative\n	top -.4em\n	padding 0\n	// These are the options\n	.opt\n		border 1px\n		border-style solid\n		border-color #eee\n		border-right-color transparent\n		background #fff\n		position relative\n		padding 0\n		box-shadow 0 -2px 0 #eee inset\n		min-width 2em\n		font-size 0.9em\n		text-align center\n		height 29px\n		line-height 1.8em\n		text-indent 2px\n		cursor pointer\n		&:first-child\n			border-radius 6px 0 0 6px\n		&:last-child\n			border-radius 0 6px 6px 0\n			border-right-color #eee\n		&:hover\n			color #fff\n			background #303030\n			border-color #101010\n			box-shadow 0 -2px 0 #101010 inset\n		&:active\n			background #adadad\n			box-shadow none\n		&.active\n		&.active:hover\n			background #eee\n			box-shadow none\n			border-color #eee\n			color #000\n			&:after\n				content ''\n				position absolute\n				top 100%\n				left 50%\n				margin-left -6px\n				border-top 6px solid #eee\n				border-right 6px solid transparent\n				border-left 6px solid transparent\n.toggle-content\n	height auto !important\n	// width 33em\n	position relative\n	transition height .15s linear, left .15s linear .15s\n	&.c1\n		left 0\n	&.c2\n		left -16.5em\n\n	.fontsColors\n		top 9px\n		position relative\n		left 8px\n	.cardTitle\n		position absolute\n		top 0px\n		left 0\n		font-size 13px\n\n	.fontsColors\n	.cardTitle\n		font-family 'gibsonRegular'\n	// The content groups\n\n.content-inner-wrap\n	padding-top 0 !important\n	.sectionTitle\n		font-size 21px\n		padding 9px 0 8px 20px\n		background #F8F8F8\n		margin-bottom 7px\n		white-space nowrap\n		text-overflow ellipsis\n		overflow hidden\n		padding-right 13px\n		box-shadow -4px 0 8px -4px rgba(0, 0, 0, 0.4) inset\n		font-family 'gibsonSemiBold'\n	.grp-edit.properties\n	.blockImagesHolder\n		.arrowRight\n		.arrowLeft\n			display block\n			width 30px\n			height 100%\n			position absolute\n			cursor pointer\n			&:after\n				content ''\n				display block\n				width 12px\n				height 12px\n				margin-top -12px\n				top 50%\n				position absolute\n				cursor pointer\n				z-index 1\n				opacity 0.1\n				border-right 3px solid #000\n				border-bottom 3px solid #000\n				transform rotate(-45deg)\n				transition all .15s linear\n		.arrowLeft\n			left 0\n			&:after\n				border-right none\n				border-bottom none\n				border-top 3px solid #000\n				border-left 3px solid #000\n				left 9px\n		.arrowRight\n			right 0\n			&:after\n				right 5px\n		.content-inner\n			text-align center\n			position relative\n			padding-top 0\n		.layoutText\n			font-size 12px\n			padding-top 1em\n			line-height 1.2em\n			text-align center\n			margin 0 auto\n			clear both\n			padding-left 9px\n		.modes\n			width 1200px\n			left 0\n			position relative\n			transition left .3s linear\n			// &.shapeMode\n			// 	width 500% !important\n			&.killAnim\n				transition none\n		.choosers.shapes\n			width 90px !important\n			max-height 90px\n\n	.blockImagesHolder\n		.toggle-content\n			.cardTitle\n				left 0\n				z-index 1\n			.content-inner\n				padding-top 0px\n			.innerWrap\n				height 93px !important\n\n			.arrowLeft\n			.arrowRight\n				top 48px !important\n\n			.arrowLeft\n				left 12px !important\n\n			.arrowRight\n				right 8px !important\n\n	.layBtnWrap\n		padding 0\n		.nu-btn\n			display block\n\n.chooser-wrap\n	.choosers\n		.layBtnWrap\n			width 90px\n			i\n				font-style normal\n	&:hover\n		.arrowLeft\n		.arrowRight\n			opacity 1 !important\n		.arrowLeft:hover\n			&:after\n				opacity .7\n				margin-left -4px\n			&:active\n				color #a0a0a0\n		.arrowRight:hover\n			&:after\n				opacity .7\n				margin-right -4px\n			&:hover\n				color #a0a0a0\n\n#social-main\n	> li\n		text-align center\n\n////\n/// @TABLES\n//	some general tables styles\n//\n\n// table\n// 	thead\n// 		tr\n// 			th\n// 				border-top 1px solid #f0f0f0\n// 				vertical-align middle\n// 				padding .4em .2em\n// 	tr\n// 		border-bottom 1px solid #f0f0f0\n// 		td\n// 			vertical-align middle\n// 			padding .4em\n// 			&.check\n// 				width 4%\n// 			input\n// 				margin 0\n\n////\n/// @INPUTS\n//\n\n.nu-input\n	background white\n	//border 1px solid #878787\n	border 1px solid #f1f1f1\n	text-transform none\n	color #000\n	cursor text\n	font-family 'gibsonRegular'\n	padding 8px 9px\n	font-size 14px\n	margin-bottom 6px\n	position relative\n	box-shadow none\n	border-radius 0px\n	border-box()\n	&:hover\n		background #eeeeee\n	&:focus\n	&:focus:hover\n		outline none\n		background #fff\n		border 1px solid blue\n		box-shadow none\n\n	// Not editable\n	&[readonly=\"readonly\"]\n		background #f4f4f4\n		border 1px solid #f4f4f4\n		box-shadow none\n		&:hover\n		&:focus:hover\n			background #f4f4f4\n			border 1px solid #f4f4f4\n			box-shadow none\n	// Full width\n	&.full\n		width 100%\n	// Half width\n	&.half\n		width 49%\n	&.s\n		padding 0.1em\n		margin-top -0.1em\n		margin-bottom 0\n	&.l\n		font-size 1.5em\n		padding 0.5em\n\n	// Options to hide spinners in number inputs\n	// (arrow keys will still work)\n	&.hide-spinners\n		-moz-appearance textfield\n		margin 0\n		&::-webkit-inner-spin-button\n		&::-webkit-outer-spin-button\n			-webkit-appearance none\n			margin 0\n\n////\n/// Checkbox\n//\n//	<label class=\"nu-checkbox\">\n//		<input type=\"hidden\" />\n//		Blah blah blah\n//	</label>\n//\n\n.nu-checkbox\n	position relative\n	padding-left 24px\n	// Make the checkbox\n	&:before\n		content ''\n		position absolute\n		width 15px\n		height 15px\n		top 0\n		left 0\n		background #fff\n		border 1px solid #ccc\n		border-radius 3px\n		box-shadow 0 2px 0 #eee inset\n	&:hover:before\n		background blue\n		box-shadow 0 2px 0 darken(blue, 10%) inset\n	&:active:before\n		background #eee\n		box-shadow 0 2px rgba(0,0,0,.2) inset\n	&.checked:before\n		background #fff\n		box-shadow 0 2px 0 #eee inset\n	&.checked:after\n		content ''\n		width 3px\n		height 8px\n		position absolute\n		top 0\n		left 6px\n		border-right 3px solid blue\n		border-bottom 3px solid blue\n		transform rotate(45deg)\n	&.smaller\n		line-height 1em\n		&:before\n			width 11px\n			height 11px\n			top -1px\n			left 2px\n		&:after\n			top -1px\n\n////\n/// @TipTip\n//\n//	If you set an open-width (optional), the number set will be passed\n//	as the width for the inner span along with it's offset (width/2)\n//\n//	<span class=\"tip-trig tipRight nu-tiptip\" tip=\"This is the Text\"><i class=\"ico-letter-spacing\"></i></span>\n//\n//  Title triggered tiptip\n//	<span class=\"nu-tiptip title-tip\">\n//    Hey i'm the content from title\n//  </span>\n//\n\n.nu-tiptip\n	position relative\n	top 1px\n	display inline\n	font-family 'gibsonLight'\n	font-style normal\n	z-index 0\n	&:after\n		content '?'\n		background #000\n		border 1px solid rgba(0, 0, 0, 0) !important\n		border-bottom none\n		border-radius 20px\n		display inline-block\n		padding 0\n		position relative\n		z-index 1\n		font-size 12px !important\n		color #FFF\n		font-family 'gibsonSemiBold'\n		width 10px\n		height 10px\n		line-height 10px\n		position relative\n		left -18px\n		text-align center\n		top -2px\n		text-indent 1px\n	&.light\n		&:after\n			background none\n			border 1px solid #000000\n			color #000000\n\n	.ico-letter-spacing\n		opacity 0\n	&:hover\n		&:after\n			background #555 !important\n			color #FFF\n			border 1px solid transparent !important\n	span\n		position absolute\n		left 50%\n		top 11px\n		padding 10px\n		box-sizing border-box\n		border-radius 6px\n		background #f7feff\n		border 1px solid #303030 !important\n		border-radius 4px\n		display none\n		line-height 1.1em\n		box-shadow 0 2px 0 rgba(0, 150, 162, 0.2)\n		width 200px\n		margin-left -100px\n		b\n			display block\n	// The content\n	// On hover\n	&:hover\n		z-index 2\n		&:after\n			background #f7feff spriteUI no-repeat -398px -37px\n			border 1px solid blue\n			border-bottom none\n		span\n			display block\n	// For tiptips close to the left of a window\n	&.fromLeft\n		span\n			left 120px\n			margin-top 2px\n			margin-left 0\n\n	// For FlushRight\n	&.fromRight\n		span\n			left auto\n			right -6px\n			margin-top 2px\n			margin-left 0\n			-webkit-border-top-right-radius 0\n			-moz-border-radius-topright 0\n			border-top-right-radius 0\n\n	// For Inline\n	&.inlineTip\n		span\n			width 120px !important\n			margin-top 13px\n			margin-left -63px !important\n			text-align center\n			color white\n			background #000\n			border 1px solid #000\n			box-shadow none\n			font-family 'gibsonSemiBold'\n			&:after\n				content ''\n				position absolute\n				left 50%\n				margin-left -7px\n				border-bottom 6px solid #000\n				border-right 6px solid transparent\n				border-left 6px solid transparent\n				top -7px\n		&:after\n			display none\n\n	// Title tiptip\n	&.title-tip\n		position absolute !important\n		background #303030\n		top 100%\n		left 50%\n		width 120px\n		border-radius 4px\n		z-index 1\n		margin 0.5em 0 0 0 !important\n		color #FFF\n		padding 0 0.5em\n		font-family 'gibsonRegular'\n		box-shadow 0 0 0 1px rgba(255, 255, 255, 0.4), 0 0 20px rgba(0, 0, 0, 0.5)\n		padding 6px\n		font-size 14px !important\n		line-height 1.1em\n		text-align center\n		margin-top 2px\n		transform translateX(-50%)\n		&:after\n			display none\n		&:before\n			content ''\n			border-bottom 4px solid #303030\n			border-right 4px solid transparent\n			border-left 4px solid transparent\n			position absolute\n			margin-left -4px\n			bottom 100%\n			left 50%\n\n\n.tip-trig\n	position relative\n	&.wide\n		.title-tip\n			width 300px\n			padding 15px\n			font-size 14px !important\n			text-align left\n			text-transform none\n		&.flip\n			.title-tip\n				&:before\n					content ''\n					border-top 4px solid #303030 !important\n					border-right 4px solid transparent\n					border-left 4px solid transparent\n					border-bottom 0\n					position absolute\n					margin-left 0\n					bottom -4px\n					left 50%\n\n	&.wideMed\n		.title-tip\n			width 200px\n			padding 15px\n			font-size 14px !important\n		&.flip\n			.title-tip\n				&:before\n					content ''\n					border-top 4px solid #303030 !important\n					border-right 4px solid transparent\n					border-left 4px solid transparent\n					border-bottom 0\n					position absolute\n					margin-left 0\n					bottom -4px\n					left 50%\n\n	&.nu-tiptip\n		.title-tip\n			right 12px !important\n			top 22px\n\n	&.tipLeft\n		.title-tip\n			left 0\n			margin-left 0\n			transform none\n			&:before\n				left 0\n				margin-left 4px\n	&.tipRight\n		.title-tip\n			left auto\n			right 0\n			margin-left 0\n			transform none\n			.nu-tiptip\n				&:before\n					left auto\n					right 0\n			&:before\n				left auto\n				right 0\n				margin-left 0\n				margin-right 4px\n	&.tipFlag\n		.nu-tiptip\n			top 6px !important\n			left calc(100% + 13px)\n			transform none !important\n			width 135px\n			font-size 12px !important\n			padding 12px 0px\n			box-shadow none !important\n			&:before\n				border-right 6px solid #303030 !important\n				border-top 6px solid transparent !important\n				border-bottom 6px solid transparent !important\n				position absolute\n				top 50% !important\n				left 0px !important\n				margin-left -9px !important\n				transform translateY(-50%) !important\n\n////\n/// @UICHOOSER\n//\n//	<div class=\"nu-btn uxChoose\">\n//		HEADER IMAGE\n//		<span class=\"options\">\n//			<label>Horiz. Repeat <input class=\"nu-input\" type=\"checkbox\" /></label>\n//		</span>\n//		<div class=\"currentBackground\">\n//			<img class=\"backgroundImage\" src=\"http://bestofthe80s.files.wordpress.com/2011/05/alf.jpg\">\n//		</div>\n//	</div>\n//\n\n\n\n.secBgSelect\n	.nu-dropdown\n		.current\n			padding 0 0.5em !important\n		.options\n			div\n				text-align center\n\n	.advTab\n		width 100%\n		margin 0 auto\n		float none\n		clear both\n		display block\n		left 0px\n		position relative\n		padding 0px 15px\n		margin-top 10px\n		top 10px\n		border-radius 4px\n		cursor pointer\n		&:hover\n			background #f8f8f8\n		.icon-down\n			&:before\n				position relative\n				top -3px\n	&.adv-open\n		.advTab\n			background #EEE\n			.icon-down\n				&:before\n					top 3px\n					transform rotate(-180deg)\n		.advanced-properties\n			float left\n			display block !important\n			background #F8F8F8\n			padding 0px 10px\n			width 100%\n			left 0px !important\n			position relative\n			margin-bottom 80px\n			top 4px\n			padding-top 7px\n			.shadowSlideContain\n				position relative\n				top 5px\n				.sliderInput\n					height 13px\n					top -7px\n			.bdr-contain\n				margin-bottom 10px !important\n				.ui-borderRadius\n					padding-left 0px\n				small\n					line-height 19px\n					margin-top 10px\n					float left\n				.sp-sm\n					position relative\n					top 6px\n					left 5px\n			.content-inner\n				padding-top 0\n				.slide-contain\n					margin 0 auto\n					float none\n					margin-left 0\n					.slideText\n						font-size 12px\n						text-align left\n						height 22px\n						padding-right 23px\n						line-height 26px\n						font-family 'gibsonLight'\n\n\n.btn-color-pkr\n	.sp-replacer\n	.sp-preview\n	.sp-preview-inner\n		height 50px !important\n//\n// First... a background choice\n.uiChooser\n	// border 1px solid #ccc\n	// border-radius 4px\n	&:before\n		display none\n	// Current setting\n	.nu-btn.xs\n		height 35px\n		line-height 35px\n		width 35px\n		padding 0\n		text-align center\n	.sp-preview\n		height 30px\n	.currentBackground\n	.sp-preview-inner\n		border-radius 3px\n		//position relative\n		box-shadow 0 0 0 1px rgba(0,0,0,0.1) inset,0 -3px 0 1px rgba(0,0,0,0.1) inset\n		cursor pointer\n		border none\n		text-indent -1000px\n		height 30px\n		&:hover\n			box-shadow 0 0 0 1px rgba(0,0,0,0.3) inset,0 -3px 0 1px rgba(0,0,0,0.3) inset\n		&:active\n			opacity .5\n\n	.cover-inner\n		&:hover\n			&:after\n				content 'CHOOSE'\n				text-align center\n				position absolute\n				top 50%\n				left 50%\n				margin-top -14px\n				margin-left -36px\n				background rgba(0,0,0,.8)\n				color #fff\n				border-radius 4px\n				padding 2px 8px\n				text-indent 0\n				pointer-events none\n		&.btn-color-pkr\n			.spectrum-input\n			.nu-input.spectrum-input\n			.sp-replacer\n				width 50%\n				float left\n			.sp-preview\n				width 100%\n\n	&.is-image\n		&.currentBackground\n		.currentBackground\n			//height 150px\n			height 80px;\n			background url(\"/images/empty-bg.png\")\n			width 100%\n			margin 0 auto\n			float none\n			border-radius 0\n			a.change-image\n				height 60px\n				width 100%\n				&.has-image\n					background none\n		// #ftBackgroundImage\n		// #bg-color-picker\n		// 	height 120px\n		.img-opts\n			display block\n	&.is-color\n		&.currentBackground\n		.currentBackground\n			height 60px\n\n#body_theme_styles\n	.uiChooser\n		.cover-inner\n			&:hover\n				&:after\n					margin-top -20px\n\n#button_theme_styles\n	.uiChooser\n		.cover-inner\n			&.btn-color-pkr\n				.sp-replacer\n					width 50%\n			&:hover\n				&:after\n					margin-top -14px\n\n\n.sp-palette-container\n	float none !important\n\n///\n// Splug\n.splug\n	position absolute\n	top 0\n	right 0\n	width 85px\n	height 85px\n	overflow hidden\n	z-index 50\n	.triangle\n		position absolute\n		top 0\n		right 0\n		border-right 85px solid #000\n		border-bottom 85px solid transparent\n		border-left 85px solid transparent\n		color #fff\n		// transition border-bottom 2s linear\n		.words\n			position absolute\n			color #fff\n			top 1px\n			right -85px\n			width 55px\n			height 55px\n			background url('/images/splash-created.svg') 0 0 no-repeat\n			background-size 100%\n\n		.sell\n			top 0\n			left 0\n			line-height 1em\n			z-index 1\n			text-align center\n			color #fff\n			padding 0\n			opacity 0\n			transition opacity .15s linear 0\n			border-right 85px solid #ff2c5e\n			border-bottom 85px solid transparent\n			border-left 85px solid transparent\n			border-left none\n			height 0\n			width 0\n			.sellInner\n				top 0\n				left 40px\n				width 85px\n				transform rotate(45deg)\n				transform-origin 10px -10px\n				line-height 0.8em\n			small\n				font-size .6em\n				letter-spacing .05em\n			.block-type\n				font-size 1.2em\n\n		&:hover\n			cursor pointer\n			border-right-color #000\n			animation accelerate 1s linear\n			.words\n				animation toInfinity .5s linear\n			.sell\n				opacity 1\n				transition opacity .15s linear .8s\n\n.finetune\n	.splug\n		//top 2px\n		//right 2.05em\n\n@media screen and (max-width: 958px)\n	.finetune\n		.splug\n			top 3px\n			right 2px\n		&.finetuneOpen\n			.splug\n				top 3px\n				right 14px\n\n@media screen and (max-width: 675px)\n	#main-canvas\n		.element-title\n		.element-subtitle\n			position relative !important\n			top 0px !important\n			left 0px !important\n\n@media screen and (max-width: 599px)\n	.splug\n	.triangle\n		width 80px\n		height 80px\n	.splug\n		.triangle\n			border-right 80px solid #000\n			border-bottom 80px solid transparent\n			border-left 80px solid transparent\n			.words\n				width 55px\n				height 55px\n				top 0\n				left 26px\n				right auto\n\n@keyframes premiPulse\n	0%\n		color white\n	50%\n		color pink\n	100%\n		color white\n\n@keyframes accelerate\n	0%\n		border-right-color blue\n	5%\n		border-right-color green\n	10%\n		border-right-color pink\n	15%\n		border-right-color blue\n	20%\n		border-right-color green\n	25%\n		border-right-color pink\n\n@keyframes toInfinity\n	0%\n		transform scale(1)\n	33.33%\n		transform scale(1.3)\n	43.33%\n		transform scale(1.3)\n	66.33%\n		transform scale(.7)\n	100%\n		transform scale(1)\n\n\n///\n// Sliders\n.slider-wrap\n	height 14px\n	.display\n		text-transform uppercase\n		font-size .6em\n		display none\n	.reset\n		left 100%\n	.display\n	.reset\n		display none\n	.slider-label\n		display inline-block\n	&:hover\n		.display\n			display inline-block\n		.slider-label\n			display none\n\n	.shadow-labels\n		height 14px\n		line-height 14px\n\n	.sliderInput\n		float right\n		display block\n		height 20px\n		top -3px\n		position relative\n		left 11px\n		padding 0\n		text-align center\n		width 40px\n		font-size 10px\n		background #fff\n		border 2px inset\n\n.ui-widget-content\n	border none\n\n.ui-slider\n	background #dedddd !important\n	transition background .2s linear\n	.ui-slider-range\n		background #000\n		border-radius 100px\n		transition background .3s linear, width .15s linear\n		z-index 0 !important\n	&:hover\n		background #dedddd !important\n		transition background 0s linear\n		.ui-slider-range\n			background #000 !important\n			transition background 0s linear, width .15s linear\n\n.ui-slider-horizontal\n	height 5px\n	top 0.29em\n\n.ui-slider-vertical\n	width 8px !important\n	padding 0 !important\n	.ui-slider-range\n		width 8px !important\n		padding 0 !important\n\n.ui-slider\n	.ui-slider-handle\n		width 13px\n		height 13px\n		outline none\n		z-index 1\n		border-radius 100% !important\n		background #d9d9d9\n		border none\n		margin-left -6px\n		top -4px\n		transition background .3s linear, left .15s linear\n	&:hover\n		.ui-slider-handle\n			background #000\n			// width 14px\n			// height 14px\n			// top -3px\n			// transition background 0s linear, left .15s linear\n\n\n.text-shadow-color\n.box-shadow-color\n.shadow-picker .sp-replacer\n.box-shadow-picker .sp-replacer\n	width 38px\n	height 38px\n	border-radius 4px\n	top 2px\n	position relative\n\n.style-font-bg\n	&:before\n		content 'A'\n		background #fff\n		padding 0 2px\n		position relative\n		left -2px\n		border-radius 2px\n		color #303030\n\n.font-bg-wrap\n	input\n	.sp-replacer\n		margin-left 0.5em\n		width 40px\n		height 30px !important\n		margin-top -5px !important\n	.sp-replacer\n		margin-top -10px !important\n		margin-left 5px\n	.sp-sm .sp-preview\n		margin-top 0 !important\n\n.content-inner\n	.shadow-sliders\n		.sp-replacer\n			.sp-preview-inner\n				width 38px\n				height 38px\n				border-radius 4px\n				top 0px\n				position relative\n\n\n// .shadow-picker\n// 	.slider-wrap\n// 		small\n// 			top 1px !important\n\n///\n// Border picker\n// .ui-borderWidth .nu-dropdown\n// 	i\n// 		position relative\n// 		top -2px\n// .ui-borderRadius .nu-dropdown\n// 	i\n// 		position relative\n// 		top 3px\n\n////\n/// @TIMEPICKER\n//\n\n.timePicker\n	.nu-dropdown\n		height auto\n		cursor pointer\n		&:hover\n			border none\n			box-shadow none\n		.options\n			top 24px\n			height 170px\n			scroll()\n\n//\n// For schedules\n.schedule-item\n	.addEndTime\n		display none\n\n.timeHolder\n	display inline-block !important\n	background transparent\n	/* border none Guillermo */\n	font-family inherit\n	font-size inherit\n	color inherit\n	text-transform uppercase;\n\n.finetuneOpen\n	.schedule-item\n		.timePicker\n			position relative\n			&:hover\n				.timeHolder\n					background #fff\n					box-shadow 0 0 0 2px #fff, 0 0 0 3px #aaa\n					cursor default\n					color #000\n				.addEndTime\n					display block\n\n\n\n////\n/// @IMAGE CHOOSER\n//\n\nbody.designerMode\n#simple-modal-ajax\n	.simple-modal\n	#custom-style-editor-container\n		// width 100%\n		// min-width 400px\n		// max-width 1600px\n		.builder-text-container\n			//display block !important\n			display none !important\n			position absolute\n			top 0px\n			left 50%\n			height 100%\n			width 80%\n			z-index 10\n			background rgba(255, 255, 255, 0.5)\n			transform translateX(-50%)\n			.builder-wrap\n				position absolute\n				top 50%\n				left 50%\n				transform translateY(-50%) translateX(-50%)\n				width 80%\n				padding 20px\n				background rgba(0,0,0,0.6)\n				text-align center\n				border-radius 5px\n				border 1px solid rgba(255,255,255,0)\n			.builder-account-text\n				color #FFF\n				font-size 27px\n				font-family vinceHand\n			.get-builder-btn\n				background-color transparent\n				color #fff\n				font-family 'gibsonSemiBold', arial, sans-serif\n				font-size 13px\n				display inline-block\n				padding 10px 20px\n				text-transform uppercase\n				border-radius 0px\n				letter-spacing 1px\n				line-height normal\n				width auto\n				height auto\n				border 1px solid #55bc7e\n				height 36px\n				margin-left 22px\n				&:hover\n					background #55bc7e\n\n#simple-modal-ajax\n	border-radius 0px\n	// background-color #2d2d2d\n	height 90%\n	.simple-modal\n		position relative\n	#custom-style-editor-container\n		width 100%\n		min-width 400px\n		max-width 1600px\n		.builder-text-container\n			display none\n		.versions-list\n			display block\n			left 100%\n			margin-left -270px\n			top 0.95em\n			&.open\n				&:after\n					content ''\n					width 0px\n					height 0px\n					border-left 8px solid rgba(0, 0, 0, 0)\n					border-right 8px solid rgba(0, 0, 0, 0)\n					border-bottom 8px solid rgba(0, 0, 0, 0.4)\n					left 50px\n					top 100%\n					position absolute\n					z-index 999\n					margin-top 2px\n				.insert-list\n					z-index 1000\n					position absolute\n					height 250px\n					overflow hidden\n					overflow-y scroll\n					padding 10px\n					background rgba(0, 0, 0, 0.4)\n					margin 0px 0px 0px -30%\n					text-align center\n					width 200px\n					top 100%\n					margin-top 0.6em\n					&::-webkit-scrollbar\n						width 5px\n					&::-webkit-scrollbar-track\n						background-color rgba(0,0,0,0.4)\n					&::-webkit-scrollbar-thumb\n						background-color: rgba(238,58,105,0.4)\n						box-shadow none\n				.versions-toggler\n					background #55bc7e !important\n		.versions-toggler\n			background-color transparent\n			color #fff\n			font-family 'gibsonSemiBold', arial, sans-serif\n			font-size 13px\n			display inline-block\n			padding 10px 20px\n			text-transform uppercase\n			border-width 0px\n			border-radius 0px\n			letter-spacing 1px\n			line-height normal\n			width auto\n			height auto\n			border-color #55bc7e\n			border-width 1px\n			height 36px\n			span\n				display none\n\n		#file-manager-section\n			#fileTableManager\n				height 540px\n				overflow-y scroll\n				&::-webkit-scrollbar\n					width 5px\n			table\n				td\n					width 1%\n					a\n						color #b5b5b5\n				td + td\n					width 40%\n				td + td + td\n					width 10%\n					text-align right\n				td + td + td + td\n					font-size 14px\n					color #b5b5b5\n					text-align right\n			form\n	    		height 80px\n			.copybutton\n				color #fff\n				text-transform uppercase\n				padding 5px 10px\n				background-color #545454\n				border-radius 0px\n				border none\n				border-width 0px\n	    	h5\n	    		padding-left 0px !important\n	    		text-transform uppercase\n	    		font-family 'gibsonRegular', Arial, sans-serif\n	    		font-weight normal\n		#devToolsHeader\n			height 80px\n			width 80%\n			margin 5% auto 0 auto\n			background-color #212020\n		#custom-editor-subnav\n			padding 10px\n			height auto\n			max-height 82px\n			ul\n				border-bottom 1px solid rgba(255,255,255, 0.1)\n				font-family 'gibsonRegular', arial, sans-serif\n				font-size 14px\n				letter-spacing 2px\n				text-transform uppercase\n				color #ffffff\n				padding-bottom 20px\n				li\n					display inline-block\n					text-align left\n					width auto\n					font-size 0.9em\n					margin 0px 10px\n					a\n						padding 0px\n			input.nu-btn.m.clean.saveForm\n				float right\n				border-radius 0px\n				border-width 0px\n				color #fff\n				padding 10px 30px 10px 30px\n				font-weight normal\n				letter-spacing 2px\n				background-color #55bc7e\n				top -0.9em\n		#asset-panels\n			#theme-settings-section\n				h5\n					font-family 'gibsonRegular', arial, sans-serif\n					text-transform uppercase\n				#theme-settings-form\n					#themeSettingsDiv\n	    				overflow-y scroll\n	    				position absolute\n	    				top 130px\n	    				height 80%\n	    				width 97%\n	    				&::-webkit-scrollbar\n	    					width 5px\n					.grp.w1-2\n						float left\n						margin-top 50px\n						text-transform uppercase\n						font-family 'gibsonRegular', arial, sans-serif\n						font-size 14px\n						letter-spacing 1px\n					.grp.w2-3\n						input\n							width 90%\n						textarea\n							width 90%\n					.nu-checkbox\n						top 0px\n						font-size 13px\n						position relative\n						padding-left 24px\n						font-family 'gibsonLight', arial, sans-serif\n						color #999999\n						margin-left 30px\n						&:before\n							content ''\n							position absolute\n							width 15px\n							height 15px\n							top 0\n							left -15px\n							border 2px solid #767676\n							border-radius 0px\n							margin-left -8px\n							background transparent\n							box-shadow none\n						&.checked:after\n							content ''\n							width 5px\n							height 15px\n							position absolute\n							top -1px\n							left -17px\n							border-right 3px solid #FFF\n							border-bottom 3px solid #FFF\n							transform rotate(45deg)\n			#custom-code-editor-holder\n				height 600px !important\n			#code-form\n				margin-left 0px\n				.ace_gutter\n					background #2d2d2d\n				.ace_scroller\n					background #2d2d2d\n				.ace_scrollbar-h\n					height 5px !important\n				.ace_scrollbar-v\n					width 5px !important\n			#code-form.full\n				margin-left 0px\n				#custom-code-editor\n					.ace_gutter\n						background #2d2d2d\n					.ace_scroller\n						background #2d2d2d\n		#custom-editor-nav\n			float none\n			margin-right 0\n			width 100%\n			min-width 200px\n			margin 0 auto\n			border 1px solid transparent\n			.active\n				a\n					color #ee3a69 !important\n			ul\n				margin 2em auto\n				text-transform uppercase\n				font-size 0.9em\n				letter-spacing 2px\n				li\n					display inline-block\n					margin-bottom 0px\n					margin-right 10px\n					a\n						color #999\n						border none\n		#uploadz\n		form\n			height 20px\n			border-bottom 1px solid rgba(255, 255, 255, 0.1)\n			h5\n				font-family 'gibsonRegular', arial, sans-serif\n				text-transform uppercase\n				color #5f5f5f\n			input[type='file']\n				text-transform uppercase\n				color #5f5f5f\n			input[type='submit']\n				float right\n				border-radius 0px\n				background-color #55bc7e\n				color #ffffff\n				letter-spacing 4px\n				border-width 0px\n				padding 10px 30px 10px 30px\n				top -27px\n		#custom-editor-main\n			background-color #2d2d2d\n			width 80%\n			float none\n			margin 0 auto\n			height 750px\n			max-height 70%\n\n		h3\n			border-radius 0px\n			height 80px\n			padding 1.5em\n			font-size 1em\n			letter-spacing 4px\n			line-height 2em\n			width 30%\n			background-color #1b1c1b\n			float left\n			max-width 260px\n			color #fff\n			text-transform uppercase\n			min-width 150px\n			transition all 0.4s linear\n	.close-modal\n		position fixed\n		top 7%\n		right 7%\n		color #fff\n		text-decoration none\n		font-size 34px\n		z-index 2\n		font-style normal\n		&:hover\n			color #000\n	.photoChooser\n		#photo-categories\n			background rgba(0,0,0,0.8)\n			a\n				color #fff\n				&:hover\n				&.active\n					background blue\n					color white\n				&:active\n					background darken(blue,30%)\n					color lighten(blue, 30%)\n\n		.image-stock\n			div\n				a\n					position relative\n					overflow hidden\n					&:after\n						content ''\n						position absolute\n						top 0\n						left 0\n						box-shadow 0 0 0 0px rgba(255,255,255,0.6) inset\n						width 100%\n						height 100%\n						transition box-shadow .15s linear\n					// img\n					// 	transition all .15s linear\n					&:hover\n						// img\n						// 	transform scale(1.3)\n						&:after\n							box-shadow 0 0 0 10px rgba(255,255,255,0.6) inset\n	&.fixed-top\n		.top-group\n			z-index 1\n			position fixed\n			top 0\n			width 60%\n		.photoChooser\n			padding-top 113px\n\n	// ADD FIXED HEIGHT TO AJAX MODAL TO GET SCROLL WORKING IN EMAIL PREVIEW\n	max-height 76%\n	max-width 60%\n	height 80%\n\n\n	//max-height: 57%;\n	//min-height: 549px;\n\n	#emailPreview\n		width 650px\n		height 100%\n		.email-scroll\n		&.schedule-email\n			top 0\n			left 0\n			width 100%\n			height 93%\n			overflow-x hidden\n			overflow-y scroll\n			h2\n				font-size 26px\n				text-shadow none\n				text-transform uppercase\n				font-family 'gibsonSemiBold'\n				padding-left 9px\n				margin-left 18px\n				padding-top 17px\n				margin-bottom 0px\n			#newTip\n				top -160px\n				left -110px\n			.email-preview-header\n				float left\n				width 534px\n				clear both\n				font-size 14px\n				padding 10px\n				padding-left 20px\n				margin-bottom 0\n				color #000\n				font-family 'gibsonRegular'\n				label\n					text-transform uppercase\n					display inline-block\n					float left\n					width 95px\n					margin-left 10px\n				span\n					width 425px\n			#outerModalContain\n				float left\n				width 100%\n				background blue\n				padding-left 24px\n				padding-top 30px\n				padding-bottom 40px\n				box-sizing border-box\n\n		.email-preview\n			width 100%\n			background #e9e9e9\n			padding 15px 20px 15px 20px\n			border-radius 0 0 6px 6px\n			border-top 1px solid #CCCCCC\n			box-shadow 0 2px 8px rgba(0, 0, 0, .2) inset\n			position absolute\n			bottom 0\n			left 0\n			margin 0\n			box-sizing border-box\n			#newTip\n				top -160px\n				left -110px\n			//&.actions\n			//	width 100%\n			//	border-top 1px solid #ddd !important\n			//	padding-top 20px\n			//	margin-bottom -20px\n			.invite-cancel-button\n				color #f00\n				margin-left 6px\n				font-size 14px\n				bottom 20px\n				left 20px\n				position absolute\n				cursor pointer\n				&:hover\n					background transparent\n					border none\n					box-shadow none\n			.invite-test-button\n				margin-right 11px\n		&.schedule-email\n			height 100%\n			h2\n				font-size 26px\n				text-shadow none\n				text-transform uppercase\n				font-family 'gibsonSemiBold'\n				padding-left 9px\n				margin-left 18px\n				padding-top 17px\n				margin-bottom 0px\n			#schedule-datepicker-contain\n				> b\n					top 17px\n					color #888\n					position relative\n					width 100%\n					margin-left 24%\n					clear both\n					display block\n					margin-bottom 10px\n			.ui-datepicker\n				box-shadow 0 0 0 1px #000, 0 -1px 0 #000 inset\n				border-radius 3px\n				background #fff\n				margin 0 auto\n			.dt-preview\n				position relative\n				top 38px !important\n				right 0\n				border 1px solid #888\n				background #fff\n				padding 10px\n				width 100%\n				font-family 'gibsonSemiBold'\n				border-right none\n				border-left none\n				text-align center\n				color #000\n				box-sizing border-box\n				margin 0 auto\n				.uppercase\n					text-transform uppercase\n					position absolute\n					width 100%\n					text-align center\n				.date\n					margin-top 23px\n					margin-left 12px\n\n			.schedule-time-set\n				position relative\n				top 0px\n				left 24%\n				color #888\n				z-index 1\n				box-sizing border-box\n				margin 0 auto\n\n			.actions\n				position absolute\n				bottom 0px\n				width 100%\n				.invite-cancel-button\n					color #f00\n					margin-left 27px\n					margin-top 7px\n					font-size 14px\n					bottom 14px\n					cursor pointer\n					float left\n					&:hover\n						background transparent\n						border none\n						box-shadow none\n				.save\n					padding 6px 12px\n					border-radius 3px\n					text-shadow none\n					font-size 16px\n					margin 0 20px 11px\n					float right\n\n	&[xtra-attr=\"custom-assets\"]\n		top 0\n		left 0\n		max-width none\n		width 100%\n		position absolute\n		height 100% !important\n		margin 0\n		max-height none !important\n		background #f0f0f0\n		border-radius 0\n\n		h3\n			color #000\n			background none\n			font-family 'gibsonRegular'\n			letter-spacing 0.05em\n			text-transform none\n\n		.simple-modal-flow-control\n			overflow hidden\n		// form textarea\n		// 	width 100%\n		// 	height calc( 100% - 50px )\n		// 	position absolute\n\n		#custom-style-editor-container span.saveForm\n			position absolute\n			bottom 1.2em\n			right 0\n\n\n\n//\n// For a better scrollbar\n// webkit only :/\n\n// ::-webkit-scrollbar\n//     width: 10px\n\n// ::-webkit-scrollbar-track\n//     background #303030\n\n\n// ::-webkit-scrollbar-thumb\n//     border-radius 0\n//     background #1C1C1C\n//     box-shadow 0 0 0 1px #303030 inset\n//     &:hover\n//     	background #101010\n\n#planning-tools\n#splash-container\n#finetune-all-tools\n#simple-modal-wrap\n	::-webkit-scrollbar\n		width 8px\n	::-webkit-scrollbar-track\n		background #eee\n	::-webkit-scrollbar-thumb\n		background #c0c0c0\n		box-shadow 0 0 0 1px #fff inset\n		&:hover\n			background #000\n\n.mce-panel\n	&::-webkit-scrollbar-thumb\n		background #C0C0C0\n		box-shadow 0 0 0 1px #FFF inset\n	&::-webkit-scrollbar-track\n		background #FFF !important\n\n.advopt\n	display none !important\n\n.txtBG\n	> span\n		border-bottom 3px solid #303030\n		padding 0 0.3em\n\n.uiChooser\n	.adv-slide\n		top 0px\n		margin-bottom 0px\n\n.adv-slide\n	top 10px\n	position relative\n	margin-bottom 10px\n	.pointer\n		width 11px\n		height 16px\n		line-height 22px\n		float right\n		margin-right 0\n		padding-right 5px\n		text-align right\n		position relative\n		color #fff\n		transition all 0.15s linear\n		border-radius 4px 0 0 0\n		z-index 0\n		&:before\n			content ''\n			border-bottom 20px solid #d9d9d9\n			border-left 20px solid transparent\n			border-top 20px solid transparent\n			position absolute\n			right 0\n			bottom 0\n			z-index -1\n		&:hover\n			&:before\n				border-bottom-color #404040\n		&:active\n			background #ccc\n			box-shadow none\n			&:before\n				border-bottom-color #404040\n		span\n			transition all .15s linear .15s\n			display inline-block\n		&.open\n			margin-right 0\n			right 0\n			width 100%\n			box-shadow 0 2px 0 #ccc inset\n			height 31px\n			background #404040\n			width 100%\n			border-radius 0 0\n			&:before\n				border-bottom-color #404040\n			span\n				transform rotate(45deg) scale(1.3) translateY(0.35em)\n				font-family 'gibsonBold'\n				color #fff\n\n			&:after\n				content 'ADVANCED'\n				float left\n				color #fff\n				font-size 0.8em\n				font-size 0.8em\n				padding-left 0.8em\n				padding-top .5em\n				font-family 'gibsonSemiBold'\n			&:hover\n				background #303030\n\n	.content\n		transition height .15s linear 0\n		border-radius 0 0 4px 4px\n		background #505050\n		color #fff\n		padding 5px 13px 11px\n		display block !important\n		&.open\n			transition height .15s linear .15s\n			padding 0 0.6em 0.5em 0.6em\n\n		.pointer\n			position relative\n			left 8px\n			top 7px\n			background none !important\n			&:before\n				border-bottom 20px solid #0A0A0A\n			&.open\n				&:before\n					border-bottom 20px solid #464646\n\n\n	// For second level adv settings\n	.adv-slide\n		top 0px\n		margin-bottom 0px\n		.pointer\n			background #303030\n			color #fff\n			box-shadow none\n			border-radius 4px 4px 0 0\n			left 0\n			&.open\n			&:hover\n				// border-top 1px solid #303030\n				border-radius 0\n				background #464646 !important\n				&:after\n					display none\n		.content\n			background #464646\n\n//\n// In page advopt\n#main-canvas\n	.advopt\n		display none\n	.element-title\n	.element-subtitle\n		z-index 1\n	// .element-rsvp\n	// 	line-height 1.1em\n	.element-rsvp\n		text-align center\n		&.inlineForm\n			background-color transparent !important\n			color inherit !important\n			cursor default !important\n			&:hover\n				transform scale(1)\n			#rsvp-form-top\n				border none !important\n	.vidBG\n		position absolute !important\n		bottom 0px\n		max-width none !important\n		left 0px\n		padding 0px\n		z-index 0\n		width 100%\n		height 100%\n		&:after\n			content ''\n			background rgba(0,0,0,0)\n			display block\n			width 100%\n			height 100%\n			position absolute\n			top 0\n			left 0\n		.grp.media.embed\n			height 100%\n			position absolute\n			width 100%\n			padding 0px\n	.ticker\n		margin-bottom 50px\n		&.scrollBlock\n			left 0%\n			position relative\n			.children\n				width 1000%\n			&.editingTicker\n				.scrollWrap\n					width auto !important\n				.children\n					left 0 !important\n					width 100% !important\n					.ticker-item\n						display block !important\n						width 100% !important\n\n		.ticker-item\n			position absolute\n			&.tickerScroll\n				position relative\n				display inline-block !important\n				width auto\n\n		&.editingTicker\n			margin-bottom 0\n			.ticker-item\n				position relative\n	.doneEditingTicker\n		display none\n\n	.hovering .doneEditingTicker\n		display block\n		position absolute\n		left 50%\n		top -26px\n		z-index 2\n		width 126px\n		margin-left -64px\n		border 1px solid #000\n\nbody.semiPrivate\n	#main-canvas\n		.element-rsvp\n			width auto !important\n			max-width 100% !important\n			cursor default !important\n			padding-right: 35px !important;\n			&:hover\n				box-shadow none !important\n			&:active\n				opacity 1 !important\n			.rsvp-form.private\n				margin-right -16px\n				input[type=\"submit\"]\n					&:hover\n						background #101010\n				.rsvp.required-fields\n					position absolute\n					top 100%\n					left 0px\n					width 100%\n					max-width 100%\n					z-index 1\n\n@media screen and (max-width:478px)\n	body.semiPrivate\n		#main-canvas\n			.element-rsvp\n				#contactTheOrganizer\n					h5\n						margin-bottom 7px\n						width auto\n						margin-top -7px\n\n.finetuneOpen\n	#main-canvas\n		.editing\n			.advopt\n				position absolute\n				top -28px\n				right 8px\n				display block\n				z-index 1\n				// .advopt-trigger\n				// 	width 30px\n				// 	height 26px\n				// 	float right\n				// 	background #eee\n				// 	color #333\n				// 	box-shadow none\n				// 	&:before\n				// 		line-height 23px\n\n\n///\n// @RTE\n\n//\n// Control the width\n.mce-edit-focus\n	outline none !important\n.mce-tinymce-inline .mce-container-body.mce-abs-layout\n	width 428px !important\n	height 40px !important\n	background #fff !important\n	border 1px solid #000\n	border-top none\n	transition width .2s linear\n	pointer-events all\n	&.showAll\n		width 686px !important\n		.mce-i-showAll\n			transform rotate(45deg)\n			transition all .1s linear .2s\n\n.mce-tinymce-inline .mce-stack-layout\n	width 100% !important\n	padding 0 !important\n\n.mce-flow-layout-item\n	padding 0 !important\n	margin 0 11px 0 0 !important\n\n.mce-btn button span\n	font-family 'gibsonRegular', arial !important\n\n.mce-menubtn span\n	font-size 1.3em\n	margin-top 1px\n	float left\n\n.mce-menu-item:hover\n.mce-menu-item.mce-selected\n.mce-menu-item:focus\n	background-color #000 !important\n	background-image none !important\n	color #fff !important\n\n.mce-menu-item.mce-active\n	background #fff !important\n	color pink\n	.mce-text\n		color pink !important\n	&:hover\n		background #000 !important\n		color #fff\n		button\n			span\n			i\n				color #fff\n		.mce-text\n			color #fff !important\n\ndiv.mce-tinymce-inline\n	margin-top -8px !important\n	margin-left -3px !important\n	height 43px !important\n.mce-tinymce-inline\n.mce-toolbar-grp\n	background none !important\n	border none !important\n\n.mce-btn\n	background #fff !important\n	box-shadow none !important\n	border none !important\n	border-radius 0 !important\n	transition background .15s linear\n	button\n		padding 10px 10px !important\n	i\n		text-shadow none !important\n	&.mce-listbox\n		button\n			padding 10px 20px 10px 10px !important\n			.mce-caret\n				margin-top -5px\n				border none\n				border-right 2px solid #000\n				border-bottom 2px solid #000\n				content \"\"\n				width 5px\n				height 5px\n				transition margin-top .1s\n				transform rotate(45deg)\n	&:hover\n		background #f2f2f2 !important\n		transition background 0s linear\n		button\n			.mce-caret\n				margin-top -3px\n\n	&.mce-active\n		background #fff !important\n		button\n			span\n			i\n				color pink\n				&.mce-i-colorPicker\n					box-shadow 0 0 3px 1px #000\n					border-radius 100%\n			.mce-caret\n				border-color pink\n				margin-top -3px\n\n.mce-custom-font-fam\n	width 147px !important\n	button\n		width 100%\n		span\n			width 100%\n			text-overflow ellipsis\n			overflow hidden\n			white-space noWrap\n.mce-custom-font-size\n	width 60px !important\n	button\n		width 100%\n\n///\n// Custom MCE icons\n.mce-i-bold\n.mce-i-italic\n.mce-i-aligner\n.mce-align-left\n.mce-align-center\n.mce-align-right\n.mce-align-justify\n.mce-color-picker i\n.mce-shadow-button i\n.mce-spacing-button i\n.mce-i-imgPicker\n.mce-close-button i\n	font-family 'fontello' !important\n\n.mce-i-bold:before\n	content '\\e816' !important\n.mce-i-italic:before\n	content '\\e817' !important\n.mce-i-aligner:before\n.mce-align-left:before\n	content '\\e819' !important\n.mce-align-center:before\n	content '\\e81a' !important\n.mce-align-right:before\n	content '\\e81b' !important\n.mce-align-justify:before\n	content '\\e81c' !important\n.mce-color-picker i:before\n	content '\\e818' !important\n	text-shadow 0 0px 1px #000 !important\n.mce-shadow-button i:before\n	content '\\e81d' !important\n.mce-spacing-button i:before\n	content '\\e81e' !important\n.mce-i-imgPicker:before\n	content '\\e898' !important\n.mce-close-button i:before\n	content '\\e823' !important\n// .mce-i-showAll:before\n// 	content '\\e822'\n\n.mce-menu-align.mce-menu\n	.mce-align-left i\n	.mce-align-center i\n	.mce-align-right i\n	.mce-align-justify i\n		display none !important\n\n// The show all button (obvs)\n.mce-btn.mce-show-all\n	border-left 1px solid #C0C0C0 !important\n	.mce-i-showAll\n		// content ''\n		width 10px\n		height 10px\n		border-top 1px solid #000\n		border-right 1px solid #000\n		display inline-block\n		position relative\n		margin-top 3px\n		transform rotate(45deg)\n		transition left .2s linear\n		left -2px\n		&:before\n			display none\n	&:hover\n		.mce-i-showAll\n			left 0\n\n.showAll .mce-btn.mce-show-all .mce-i-showAll\n	transform rotate(225deg) !important\n	border-color pink\n	left 2px\n.showAll .mce-btn.mce-show-all:hover .mce-i-showAll\n	left -2px\n\n// The close button\n.mce-close-button\n	position fixed !important\n	right 50% !important\n	margin-right -194px !important\n	background #000 !important\n	border-radius 0 0 4px 0 !important\n	height 23px !important\n	line-height 23px !important\n	padding 0 !important\n	transition margin-right .2s linear\n	&:hover\n		background #404040 !important\n	button\n		padding 0 6px !important\n		line-height 23px !important\n		.mce-ico\n			color #fff !important\n			position relative !important\n			left -0.05em !important\n.showAll\n	.mce-close-button\n		margin-right -323px !important\n\n.finetuneOpen\n	.mce-close-button\n		margin-right -70px !important\n	.showAll\n		.mce-close-button\n			margin-right -199px !important\n\n// For text align\n.mce-menu\n	position fixed !important\n.mce-menu-align\n	// width 49px !important\n	min-width 0 !important\n	// left 50% !important\n	top 35px\n	// position fixed !important\n	// margin-left 73px !important\n	// border-radius 4px !important\n	// border-color #000 !important\n	&:after\n		content ''\n		border-top 1px solid #000\n		border-right 1px solid #000\n		width 8px\n		height 8px\n		background #FFF\n		position absolute\n		bottom 100%\n		left 50%\n		margin-bottom -4px\n		transform rotate(-45deg)\n	&.mce-menu i\n		display block !important\n\n.mce-menu-item-normal.mce-active\n	background none !important\n	.mce-ico\n	.mce-text\n		color pink\n\n// .mce-tooltip\n// 	display none !important\n\n.showAll\n	.mce-menu-align\n		margin-left -102px !important\n\n// The show all button\n.mce-show-all\n	margin 0 1em !important\n\n// Modal\n.mce-panel[aria-label=\"Source code\"]\n	min-height 420px !important\n	.mce-window-head\n		background #000 !important\n		border-radius 5px 5px 0 0 !important\n		.mce-title\n			color #fff !important\n	.mce-textbox.mce-multiline\n		font-family courier !important\n		line-height 1.4em !important\n		min-height 270px\n	> .mce-container-body\n		min-height calc(100% \\- 100px)\n		.mce-container-body\n			overflow visible !important\n	.mce-window-head .mce-close\n		top 6px !important\n	.mce-primary button\n	.mce-primary button i\n		color #000 !important\n		text-shadow none !important\n	.mce-textbox:focus\n	.mce-textbox.mce-focus\n		box-shadow none !important\n		border-color #c5c5c5 !important\n\n.mce-primary button, .mce-primary button i\n	color #333 !important\n	text-shadow none !important\n\n// More modal\n.mce-foot\n	background-image none !important\n\n.nu-loader\n	background url('/images/nu-loader/nu-loader-sprite.png')\n	position absolute\n	top 0px\n	width 98px\n	height 98px\n	background-size 98px\n	background-position-y 0px\n	opacity 1\n	z-index 10\n.loader-splash\n	display block\n	background: url(\"/images/nu-loader/nu-loader-sprite.png\");\n	&.loading\n		animation rotate 0.8s linear infinite\n\n@keyframes rotate\n	0%\n		transform rotate(0deg)\n	100%\n		transform rotate(360deg)\n\n\n#rsvp-spinner\n	position absolute\n	right 21px\n	bottom 18px\n	margin-top 5px\n\nmedium_size=80px\nsmall_size=20px\n.nu-loader\n	&.small\n		width small_size\n		height small_size\n		background-size small_size\n		margin-left: -(small_size/2);\n		margin-top: -(small_size/2);\n	&.med\n		width medium_size\n		height medium_size\n		background-size medium_size\n		margin-left: -(medium_size/2);\n		margin-top: -(medium_size/2);\n\n.loader-splash\n	&.small\n		width small_size\n		height small_size\n		background-size small_size\n	&.med\n		width medium_size\n		height medium_size\n		background-size medium_size\n\n#loadingMore\n	width 100% !important\n	margin-bottom 10px\n\n\n\n// NU-LOADER WRAP\n\n.thisLoader\n	visibility hidden\n	position absolute\n	top 0\n	left 0\n	width 100%\n	height 100%\n	background #fff\n	z-index 100\n	&.loading\n		visibility visible\n		opacity 1\n		.nu-loader\n			animation rotate 0.8s linear infinite\n\n.loading\n	visibility visible\n	opacity 1\n	.nu-loader\n		animation rotate 0.8s linear infinite\n\n.nu-loader\n	left 50%\n	top 50%\n	margin-left -46px\n	margin-top -46px\n	&.loading\n		animation rotate 0.8s linear infinite\n\n#splashLoader\n	position fixed\n	top 50%\n	right 50%\n	margin-right 8.5em\n	display none\n	z-index 1\n	&:after\n		content ''\n		background #f8f8f8 url('/images/burst-tile.png')\n		position fixed\n		top 0\n		left 0\n		width 100%\n		height 100%\n	.thisLoader\n		background none\n		position fixed\n	.thisText\n		position fixed\n		top 50%\n		text-align center\n		margin-top 4em\n		font-family 'gibsonSemiBold', arial, sans-serif\n		width 180px !important\n		left 50%\n		transform translateX(-50%)\n		h4\n			letter-spacing .2em\n			text-indent 0.2em\n			font-size .7em\n		&.for-page\n			display block\n		span\n			display none\n			&.active\n				display block\n\n#splashLoader\n	.thisLoader\n		display none\n\n.private\n	#splashLoader\n		display none !important\n	#splash-container\n		opacity 1 !important\n		transition none !important\n\n.finetune\n	#splashLoader\n		.thisLoader\n			display block\n			width calc( 100% \\- 60px )\n		.thisText\n			left calc(50% \\- 32px)\n\n.finetuneOpen\n	#splashLoader\n		.thisLoader\n			width calc( 100% \\- 19.5em )\n		.thisText\n			left calc(50% \\- 10em)\n\n\n.loading-theme\n.loading-page\n.fake-load\n	#splashLoader\n		display block\n		.thisLoader\n			visibility visible\n			.nu-loader\n				animation rotate .8s linear infinite\n				margin-left -49px\n				margin-top -49px\n\n.loading-theme\n	.thisText\n		&.for-page\n			display none !important\n		&.for-theme\n			display block !important\n\n\n#splash-container\n	opacity 1\n	transition opacity .3s linear\n\n.loading-page\n.fake-load-page\n	#splashLoader\n		.thisText\n			&.for-page\n				display block\n			&.for-theme\n				display none\n	#splash-container\n		opacity 0\n		transition opacity .3s linear\n\n////\n/// @COLUMNCHOOSER\n//	also, the @stylechooser\n.column-chooser\n.style-chooser\n	> .nu-btn\n		margin-right 2.5%\n		margin-bottom 0\n		height 2.5em\n		&.w1-2\n			width 48.5%\n		&.w1-3\n			width 31.5%\n		&.w1-4\n			width 23%\n		&:last-child\n			margin-right 0\n		&.set\n			background #ffff00\n			border 1px solid #000\n			box-shadow none\n		&.sibling\n			background lighten(blue, 60%)\n\n\n.column-chooser\n	> .nu-btn\n		height 2.5em\n\n.style-chooser\n	> .nu-btn\n		height 3em\n		padding-bottom 0\n		// Adjust the icon position\n		[class^=\"ico-list\"]:after\n			right 7px\n\n.scale-chooser\n.position-wrap\n	.nu-btn\n		.grp > .grp\n			background #303030\n			box-shadow 0 0 0 1px #fff inset\n		&:hover\n			.grp > .grp\n				background white\n				box-shadow 0 0 0 1px blue inset\n		&:active\n			.grp > .grp\n				background #888\n				box-shadow 0 0 0 1px #eee\n		&.active\n			background yellow\n			.grp > .grp\n				box-shadow 0 0 0 1px yellow inset\n\n//\n// New column chooser -- dropdown style\n\n.column-chooser\n	.col\n		> .grp\n			padding .2em !important\n			&.w1-5\n				width 20% !important\n			&.w1-4\n				width 25% !important\n			&.w1-3\n				width 33.33% !important\n			> .grp\n				background none\n				border-bottom none !important\n				box-shadow 0 0 0 1px #000 inset !important\n				height 1.7em\n				border-radius 2px !important\n				position relative\n				top 1px\n			&.fill\n				> .grp\n					background #000 !important\n\n.nu-dropdown\n	&:hover\n		.options\n			.col\n				> .grp\n					box-shadow 0 0 0 1px #a0a0a0 inset !important\n					&.fill\n						background #a0a0a0\n			> .grp.active\n			> .grp:hover\n				.col\n					> .grp\n						box-shadow 0 0 0 1px #000 inset !important\n						&.fill\n							background #000\n\n\n//\n// A check-ish button for PAGE ACTION\n.chk-btn\n	padding .5em .5em .5em 1em\n	&:before\n		content ''\n		position absolute\n		top 0.9em\n		left 0\n		width 8px\n		height 8px\n		border 1px solid #000\n		border-radius 2px\n	&:hover\n		color blue\n	&:active\n		opacity .5\n	&.active\n		&:before\n			box-shadow 0 0 0 1px #fff inset\n			background #000\n\n#finetune-block\n	.form-wrap\n		&.social-chooser\n			.nu-btn\n				.checkbox\n					display inline-block\n					width 14px\n					height 14px\n					border 1px solid #aaa\n					background #f8f8f8\n					margin-right 10px\n					border-radius 3px\n					top 3px\n					position relative\n			\n\n			// For our content\n			.social-opt\n				small\n					font-family gibsonSemiBold\n				.opt-content\n					color #fff\n					border-radius 0 0 4px 4px\n					box-shadow 0 8px 10px -6px rgba(0,0,0,0.4) inset\n					margin-top -500px\n					transition margin-top .2s linear\n				&.active\n					.nu-btn\n						box-shadow none\n					.opt-content\n						margin-top 0\n\n			// Brand colors for content bg\n			.fb\n				.opt-content\n					background #3b5998\n				&.active\n					.checkbox\n						border 1px solid #3b5998\n			.tw\n				.opt-content\n					background #00aced\n				&.active\n					.checkbox\n						border 1px solid #00aced\n			.insta\n				.opt-content\n					background #3b5998\n				&.active\n					.checkbox\n						border 1px solid #3b5998\n			.em\n				.opt-content\n					background #888\n				&.active\n					.checkbox\n						border 1px solid #888\n\n			.fb\n			.tw\n			.insta\n			.em\n				&.active\n					background none\n					.checkbox\n						&:after\n							content ''\n							border 3px solid #00aced\n							padding 0px 0px 0px\n							background transparent\n							border-top none\n							border-right none\n							transform rotate(-49deg)\n							-ms-transform rotate(-49deg)\n							-webkit-transform rotate(-49deg)\n							display block\n							height 3px\n							width 8px\n							top 2px\n							position relative\n							left 1px\n			// Fade the input bg's so the blend\n			.nu-input\n				background rgba(255,255,255,.3)\n				color #fff\n				border 1px solid transparent\n				display block\n				&:hover\n					background rgba(255,255,255,.5)\n				&:focus\n					border 1px solid rgba(0,0,0,.5)\n					background rgba(255,255,255,1)\n					color black\n\n////\n/// @LAYOUTCHOOSER\n//\n.choosers\n	width 90px !important\n	max-height 90px\n	overflow hidden\n	float none\n	margin 0 auto\n	top 8px\n	left 3px\n	position relative\n	padding 0\n	&.layout-chooser\n		&:before\n		&:after\n			content ''\n			position absolute\n			top 0px\n			width 10px\n			height 120px\n			display block\n			background transparent\n		&:before\n			left -5px\n			z-index 2\n		&:after\n			right 0px\n			z-index 0\n	.nu-btn\n		height 67px\n		width 72px\n		line-height 62px\n		margin 0 auto\n		position relative\n		background #f8f8f8\n		border none\n		box-shadow none\n		padding 0 !important\n		border-radius 10px\n		i\n			position absolute\n			top 0\n			left 0\n			width 100%\n			height 100%\n			line-height 66px\n			overflow hidden\n			// This is for layout img-opts\n			// using fontello icons\n			text-align center\n			font-size 4em\n			&:before\n				margin-right 0\n				margin-left .2em\n			&:after\n				width 78px\n				height 78px\n				top -6px\n				left -4px\n				margin 0 auto\n				display block\n				width 100%\n		&:hover\n			background #fff\n			color #000\n		&.active\n		&.active:hover\n			border 1px solid #DDD !important\n			background #fff\n			box-shadow none\n			border none\n\n	.layLabel\n		font-size 12px\n		position absolute\n		bottom -16px\n		width 22%\n\n	&.img_shape-chooser\n		.nu-btn\n			.shape\n				position absolute\n				background #000\n				box-shadow 0 0 0 1px #fff inset\n				border 1px solid #000\n			&[value=\"none\"]\n				.shape\n					background rgba(0, 0, 0, 0)\n					border none\n					box-shadow none\n					width 40px\n					height 40px\n					margin 0 auto\n					top -7px\n					position relative\n					&.icon-close-2\n						&:before\n							font-size 70px\n							opacity 0.6\n							color #CCC\n							position relative\n							padding 0\n				&:hover\n					.shape\n						&.icon-close-2\n							&:before\n								opacity 1\n								color #000\n			&[value=\"nu-square\"]\n			&[value=\"nu-logo-square\"]\n				.shape\n					width 40px\n					height 40px\n					margin 0 auto\n					position relative\n					display block\n					top 14px\n			&[value=\"nu-portrait\"]\n				.shape\n					width 2em\n					height 3em\n					margin-top 1em\n					margin-left -1em\n			&[value=\"nu-landscape\"]\n			&[value=\"nu-logo-landscape\"]\n				.shape\n					width 3em\n					height 2em\n					margin-top 1.6em\n					margin-left -1.4em\n			&[value=\"nu-circle\"]\n			&[value=\"circle\"]\n				.shape\n					width 40px\n					height 40px\n					margin 0 auto\n					border-radius 100%\n					position relative\n					display block\n					top 14px\n.align-picker\n	.style-chooser\n		text-align center\n		border-radius 3px\n		border 1px solid transparent\n		cursor pointer\n		&:hover\n			border 1px solid blue\n			background #707070\n	&.active\n		.style-chooser\n		.style-chooser:hover\n			border 1px solid #000\n			background none\n\n\n////\n/// Background position chooser\n//\n\n.img-opts\n	.imgFitDrop\n		margin-bottom 10px\n		float left\n	.imgRepeatDrop\n		margin-top 24px\n		margin-bottom 6px\n	.squarePosWrap\n		margin-bottom 10px\n// #finetune-block label\n// 	display block\n\n.squarePosWrap\n	.squarePos\n		display block\n		height 2em\n		border 2px solid #fff\n		margin-right 0px\n		cursor pointer\n		background #f4f3f3\n\n		&:hover\n			background lighten( #303030, 12%)\n\n		&.r1c1\n			border-right none\n			border-bottom none\n		&.r1c2\n			border-bottom none\n		&.r1c3\n			border-left none\n			border-bottom none\n\n		&.r2c1\n			border-right none\n		&.r2c3\n			border-left none\n\n		&.r3c1\n			border-top none\n			border-right none\n		&.r3c2\n			border-top none\n		&.r3c3\n			border-left none\n			border-top none\n\n		&.selected\n			background #303030\n			&:hover\n				background #303030\n\n\n////\n/// Styling for ordered / unordered lists in contenteditables\n//\n\n#event-description-text\ndiv[block-type=\"content\"]\n	ul\n		li\n			list-style-type disc\n\n	ol\n		li\n			list-style-type decimal\n\n	ol\n	ul\n		li\n			margin-left 30px\n\n\n////\n/// @tiptip positioning for share buttons section on finetune bar\n//\n\n#share_button_admin\n	.nu-tiptip\n		top -5px\n		right -8px\n		float right\n		#newTip\n			top 27px !important\n////\n/// @NOTICES\n//\n\n.nu-notice\n	//\n	//	For showing some alert numbers, i.e. an inbox alert\n	&.num\n		position absolute\n		top -4px\n		right -7px\n		background #ff0033\n		border-radius 100px\n		padding 1px 8px 1px 6px\n		z-index 1\n		box-shadow 0 0 0 1px #ff0033 inset, 0 0 0 2px rgb(255, 216, 224) inset\n		color #fff\n		font normal 13px 'gibsonBold'\n		letter-spacing -0.2em\n\n	&.error\n		background tomato\n		color white\n\n////\n/// @UIPATTERNS\n//\n\n.fauxBtn\n	cursor pointer\n	&:hover\n		background blue\n		box-shadow 0 0px 0 1px rgba(0,0,0,0.2) inset, 0 -3px 0 0 rgba(0,0,0,0.2) inset\n		color #fff\n	&:active\n		background #eee\n		box-shadow none\n\n.abs-darr\n	position relative\n	&:after\n		content ''\n		position absolute\n		top 50%\n		right 0.2em\n		border-top .4em solid #ccc\n		border-right .4em solid transparent\n		border-left .4em solid transparent\n		margin-top -.2em\n\n.tc000\n	color #000\n\n.bs-d\n	box-shadow 0 0 0 1px rgba(0,0,0,0.1) inset, 0 2px 0 1px rgba(0,0,0,0.3)\n\n.bg-eee\n	background #eee\n\n.bg-000\n	background #000\n\n.bg-f8\n	background #f8f8f8\n\n.bgf2\n	background #f2f2f2\n.bg-fff\n	background #fff\n\n.bdr-ccc\n	border 1px solid #ccc\n\n.bt\n\n.br3\n	border-radius 3px\n.br-4\n	border-radius 4px\n.br-6\n	border-radius 6px\n\n.bb1e\n	border-bottom 1px solid #eee\n.bbd9\n	border-bottom 1px solid #d9d9d9\n.bt1e\n	border-top 1px solid #eee\n\n.be9\n	border 1px solid #e9e9e9\n\n.bsr1\n	box-shadow 0 -1px 0 #333 inset\n.bsr2\n	box-shadow 0 1px 0 #fff, 0 2px 0 #eee\n.bs0201d9\n	box-shadow 0 2px 0 1px #d9d9d9\n\n//\n// Stash top -- animate in from top\n.stash-wrap\n	.stash-top\n		margin-top -1000px\n		transition margin-top .15s linear\n	&.active\n		.stash-top\n			margin-top 0\n\n////\n/// @DATEPICKER\n//\n\n.ui-datepicker\n	border-radius 7px\n	box-shadow 0 4px 30px rgba(0, 0, 0, 0.3)\n	background #fafafa !important\n\n.ui-datepicker table\n	background none\n\n.ui-datepicker table tr:hover\n	background none\n\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default\n	background-image none\n	background #fff\n	border 1px solid transparent\n	text-align center\n\n.ui-widget-header\n	background #f0f0f0\n	color #000\n	border none\n	border-radius 6px\n	letter-spacing 0.1em\n\n.ui-widget-header .ui-icon\n	background none\n\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next\n	background none !important\n	border none !important\n\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span\n	margin-top -0.8em\n\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus\n	background #000\n	border-radius 6px !important\n	border none\n	color #28B9E7\n\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight\n	border none\n	// border-radius 6px !important\n	background #f0f0f0\n	color #000\n\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active\n	// background #000 !important\n	// border-radius 6px !important !important\n	// color #fff\n	box-shadow 0 0 0 1px #000 inset\n\n.ui-datepicker .ui-datepicker-prev\n.ui-datepicker .ui-datepicker-next\n	cursor pointer\n\n.ui-datepicker .ui-datepicker-prev span:after\n.ui-datepicker .ui-datepicker-next span:after\n	content ''\n	display inline-block\n	position absolute\n	left 4px\n	top 2px\n	z-index 100\n	width 6px\n	height 6px\n	padding 0\n	border-top 2px solid #000\n	border-right 2px solid #000\n	border-radius 1px\n	transform rotate(45deg)\n\n.ui-datepicker .ui-datepicker-prev\n.ui-datepicker .ui-datepicker-next\n	&:hover\n		span:after\n			border-color #28B9E7\n\n.ui-datepicker .ui-datepicker-prev span:after\n	transform rotate(-135deg)\n\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled\n	cursor default\n	&:hover\n		span:after\n			border-color #000\n\n\n.ui-datepicker th\n	font-family 'gibsonLight', arial, sans-serif\n\n////\n/// @HELPERS\n//\n\n//\n// Layout\n.inline\n.inline li\n.ellipsis\n	display inline-block\n.block\n	display block\n//\n// Text align\n.txtL\n	text-align left\n.txtR\n	text-align right\n.txtC\n	text-align center\n//\n// Fonts\n.light\n	font-family 'gibsonLight'\n.regular\n	font-family 'gibsonRegular'\n.italic\n	font-family 'GibsonItalic'\n.fauxBold\n	font-family 'gibsonRegular'\n	font-weight 700\n.semiBold\n	font-family 'gibsonSemiBold'\n.semiBoldItalic\n	font-family 'gibsonSemiBoldItalic'\n.bold\n	font-family 'gibsonBold'\n.boldItalic\n	font-family 'gibsonBoldItalic'\n//\n// Make an ellipse\n.ellipsis\n	overflow hidden\n	text-overflow ellipsis\n	white-space nowrap\n	width 100%\n//\n// Nowrap\n.noWrap\n	white-space nowrap\n//\n// Floats\n.left\n	float left\n.right\n	float right\n.nofl\n	float none\n\n\n/// CENTER, BRO!\n\n.m0a\n	margin 0 auto\n\n//\n// Faux tables\n.tRow\n	display table-row\n.tCell\n	display table-cell\n\n// Colors\n.purple\n	color purple\n\n.gray\n	color #bab9b9 !important\n\n.emphasis\n	color #80c37c !important\n\ncolor_primary = #7ec479\ncolor_primary_hover = #9ee499\ncolor_secondary = #f3386a\ncolor_secondary_hover = #F75983\n.c-primary\n	color color_primary\n	&.c-hover:hover\n		color color_primary_hover\n.c-secondary\n	color color_secondary\n	&.c-hover:hover\n		color color_secondary_hover\n\n.bg-twitter\n	background-color #2ca8de\n.bg-facebook\n	background-color #345f9f\n.bg-linkedin\n	background-color #007bb6\n\n//\n// Align\n.align\n	text-align center\n	&:before\n		content ''\n		display inline-block\n		height 100%\n		margin-right -0.02em\n		vertical-align middle\n	.middle\n		display inline-block\n		vertical-align middle\n		max-width 98%\n//\n// Clears\n.clearBoth\n	clear both\n	float left\n.clearRight\n	clear right\n	float right\n\n.clearLeft\n	clear left\n	float left\n.floatgroup\n	floatgroup()\n\n//\n// Align\n.alignTop\n	vertical-align top\n.alignMid\n	vertical-align middle\n\n.align\n	display inline-block\n	&:before\n		content ''\n		display inline-block\n		height 100%\n	&.top\n		&:before\n		.before\n			vertical-align top\n			display inline-block\n	&.middle\n		&:before\n		.middle\n			vertical-align middle\n			display inline-block\n	&.bottom\n		&:before\n		.bottom\n			vertical-align bottom\n			display inline-block\n\n//\n// Positioning\n\n.rel\n.relative\n	position relative\n.posInitial\n	position initial\n.abs\n	position absolute\n.fixed\n	position fixed\n.fixed\n.abs\n	&.tl\n		top 0\n		left 0\n	&.tr\n		top 0\n		right 0\n	&.br\n		bottom 0\n		right 0\n	&.bl\n		bottom 0\n		left 0\n	&.ml\n		top 50%\n		left 0\n\n	// For some gen layout\n	&.tr5\n		top 5px\n		right 5px\n	&.bl5\n		bottom 5px\n		left 5px\n	&.br5\n		top auto\n		bottom 5px\n		right 5px\n\n	&.tl50\n		top 50%\n		left 50%\n		bottom auto\n		right auto\n\n	&.xy-50\n		transform translateX(-50%) translateY(-50%)\n\n//\n// Quick z-index pop\n.z1\n	z-index 1\n.z11\n	z-index 11\n.z111\n	z-index 111\n.z1111\n	z-index 1111\n//\n// Margins\n.mt0\n	margin-top 0\n.mb0\n	margin-bottom 0\n.mb5\n	margin-bottom 5px\n.mt10\n	margin-top 10px\n.mt1em\n.mt1\n	margin-top 1em\n.mt2em\n.mt2\n	margin-top 2em\n.mb10\n	margin-bottom 10px\n.mt15\n	margin-top 15px\n.mb05em\n	margin-bottom 0.5em\n.mb1em\n.mb1\n	margin-bottom 1em\n.mb2em\n.mb2\n	margin-bottom 2em\n.mb15\n	margin-bottom 15px\n.mb30\n	margin-bottom 30px\n.mr10\n	margin-right 10px\n.mr1em\n.mr1\n	margin-right 1em\n.mr2\n	margin-right 2em\n.ml10\n	margin-left 10px\n.ml1em\n.ml1\n	margin-left 1em\n.ml2\n	margin-left 2em\n\n//\n// Paddings\n.p5\n	padding .5em\n.pp7\n	padding .7em\n.p1\n	padding 1em\n.p2\n	padding 2em\n.p4\n	padding 4em\n.p3\n	padding 3em\n\n.pt0\n	padding-top 0\n.pr0\n	padding-right 0\n.pb0\n	padding-bottom 0\n.pl0\n	padding-left 0\n.p0\n	padding 0\n\n\n.pt5\n	padding-top .5em\n\n.pr5\n	padding-right .5em\n\n.pb5\n	padding-bottom .5em\n\n.pb1-5\n	padding-bottom 1.5em\n\n.pl5\n	padding-left .5em\n\n.pt1\n	padding-top 1em\n\n.pr1\n	padding-right 1em\n\n.pb1\n	padding-bottom 1em\n\n.pl1\n	padding-left 1em\n\n.pt2\n	padding-top 2em\n\n.pr2\n	padding-right 2em\n\n.pb2\n	padding-bottom 2em\n\n.pl2\n	padding-left 2em\n\n.pt3\n	padding-top 3em\n\n.pr3\n	padding-right 3em\n\n.pb3\n	padding-bottom 3em\n\n.pl3\n	padding-left 3em\n\n.pt4\n	padding-top 4em\n\n.pr4\n	padding-right 4em\n\n.pb4\n	padding-bottom 4em\n\n.pl4\n	padding-left 4em\n\n.p105\n	padding 1.5em\n\n.p0-1\n	padding 0 1em\n.p1-0\n	padding 1em 0\n.p1-2\n	padding 1em 2em\n.p105-2\n	padding 1.5em 2em\n.p0-2\n	padding 0 2em\n\n\n//\n// Rotate\n.cw90\n	transform rotate(90deg)\n.cw180\n	transform rotate(180deg)\n.ccw90\n	transform rotate(-90deg)\n.ccw180\n	transform rotate(-180deg)\n//\n// Hides\n.hide\n.hide_me\n	display none\n.hideSidebar\n	display none !important\n//\n// Overflow control\n.lockItUp\n.ofH\n	overflow hidden\n.ofA\n	overflow auto\n.ofV\n	overflow visible\n.letItScroll\n	overflow auto\n	&.on-x\n		overflow-y hidden\n	&.on-y\n		overflow-x hidden\n\n//\n// Cursor\n.pointer\n	cursor pointer\n.move\n	cursor move\n.peN\n	pointer-events none\n\n//\n// Font styles\n.uppercase\n	text-transform uppercase\n.lowercase\n	text-transform lowercase\n.capitalize\n	text-transform capitalize\n.as-written\n	text-transform none\n\n//\n// Text helpers\n.add-parens\n	&:before\n		content '('\n	&:after\n		content ')'\n\n//\n// Splash borders\n.fine-border\n	border 1px solid #e4e4e4\n.border-t0\n	border-top-width 0\n.border-b0\n	border-bottom-width 0\n.border-l0\n	border-left-width 0\n.border-r0\n	border-right-width 0\n\n// how much bigger? e.g.\n// \"bigger em01\" = \"font-size: 1.1em:\" ...\n// so making the font-size 0.1ems bigger\n\n// Neutralize\n.em00\n	font-size 1em\n\n.bigger\n	&.em01\n		font-size 1.1em\n	&.em02\n		font-size 1.2em\n	&.em033\n		font-size 1.33em\n	&.em05\n		font-size 1.5em\n	&.em066\n		font-size 1.66em\n	&.em075\n		font-size 1.75em\n	&.em1\n		font-size 2.0em\n		line-height 1em\n	&.em2\n		font-size 3.0em\n		line-height 1em\n	&.em3\n		font-size 4.0em\n		line-height 1em\n	&.em4\n		font-size 4.0em\n		line-height 1em\n	&.em5\n		font-size 5.0em\n		line-height 1em\n	&.em6\n		font-size 6.0em\n		line-height 1em\n	&.em10\n		font-size 10.0em\n		line-height 1em\n\n.smaller\n	&.em01\n		font-size 0.9em\n	&.em02\n		font-size 0.8em\n	&.em033\n		font-size 0.67em\n	&.em05\n		font-size 0.5em\n	&.em066\n		font-size 0.34em\n	&.em075\n		font-size 0.25em\n\n//\n// Letter spacing helpers\n.ls02\n	letter-spacing .02em\n.ls05\n	letter-spacing .05em\n.ls1\n	letter-spacing .1em\n\n//\n// Line height helpers\n.lh1\n	line-height 1em\n.lh1-2\n	line-height 1.2em\n\n//\n// Height width control\n.w100\n	width 100%\n.w50\n	width 50%\n.h100\n	height 100%\n.maxH\n	max-height 100%\n.maxW\n	max-width 100%\n.wA\n	width auto\n.hA\n	height auto\n\n//\n// transition speed\ntransition-all()\n	transition:all arguments ease-in-out\n\n.trans01\n	transition-all(0.1s)\n.trans025\n	transition-all(0.25s)\n.trans033\n	transition-all(0.33s)\n.trans05\n	transition-all(0.5s)\n.trans066\n	transition-all(0.66s)\n.trans075\n	transition-all(0.75s)\n.trans09\n	transition-all(0.9s)\n.trans10\n	transition-all(1.0s)\n.trans125\n	transition-all(1.25s)\n.trans15\n	transition-all(1.5s)\n.trans175\n	transition-all(1.75s)\n.trans20\n	transition-all(2.0s)\n\n.no-op\n	opacity 0\n\n.half-width\n	width 50% !important\n\n////\n/// SWITCH\n//	Sneaky hover helper for show/hide\n//\n// Just put .sw (for switch!) on\n// the parent and add the child\n// class of desired action.\n//\n\n// get rid of .sw\n.sw\n.sh\n	.sh\n		opacity 0\n	&:hover\n		.sh\n			opacity 1\n\n#element-hash\n	a\n		color inherit !important\n\n\n.pulse\n.section-glow\n	animation opacFlash .8s linear .5s\n\n@keyframes opacFlash\n	0%\n		opacity 1\n	25%\n		opacity .3\n	50%\n		opacity 1\n	75%\n		opacity .3\n	100%\n		opacity 1\n\n#main-canvas\n	.drag-handle\n		// font-size 1em\n		// text-shadow none\n		// background #000\n		// color #fff\n		cursor move\n\n#splashMessage\n	position fixed\n	top 50px\n	right 60px\n	background rgba(0,0,0,.9)\n	color #ffffff\n	font-weight bold\n	font-family 'gisbonLight'\n	padding 20px\n	text-align center\n	border 1px solid #25f3d2\n	border-radius 3px\n	box-shadow 1px 1px 4px #000\n	width auto\n	z-index 10\n	.body\n		font-family 'gisbonLight'\n\n#splashMessage\n	&.error\n		background rgba(218, 36, 36, 0.9)\n#splashMessage\n	.close\n		position absolute\n		top 0px\n		right 3px\n		color #fff\n\n.required-input\n	background rgba(255,255,0,0.2)\n	&:focus\n		background rgba(255,255,0,0.2)\n	&:hover\n		background darken( rgba(255,255,0,0.2), 30% )\n		&:focus\n			background darken( rgba(255,255,0,0.2), 30% )\n\n.simple-modal\n	&#attendees-modal\n		.view-attendees\n			margin 0\n			text-shadow none\n			padding 1em 2em 0 1.4em\n			text-align left\n			border-radius 4px 4px 0 0\n			font-size 1.45em\n		#attendee-list\n			padding 0em 2em 2em 2em\n			max-height 500px\n			overflow auto\n			.attendee-sort\n				text-transform uppercase\n				font-size 0.7em\n				border-bottom 1px solid #EEE\n				padding .5em\n				margin-bottom 2em\n				a\n					margin 0 1em\n				.active\n					color #333333\n			#event-attendees\n				table\n					width 100%\n					margin-top 10px\n					thead\n						background none\n						border-bottom 1px solid #eee\n\n					tbody\n						tr\n							border-bottom 1px solid #f0f0f0\n							&:nth-child(even)\n								background: #f8f8f8\n							td\n								padding 4px 6px\n								height 51px\n								vertical-align middle\n								padding-left 2px\n								border-bottom 1px dotted #eee\n								line-height 16px\n								font-size 16px\n								font-family 'gibsonRegular' !important\n\n\n	&#contact-event-organizer\n		display inline-block\n		background-color rgb(245, 245, 245)\n		border-top-left-radius 2px\n		border-top-right-radius 2px\n		border-bottom-right-radius 2px\n		border-bottom-left-radius 2px\n		width 430px\n		padding-bottom 0px\n		// margin-top 17%\n		#send-contact-org-note\n			position absolute\n			right 14px\n			bottom 12px\n			margin-top 20px\n		#send-contact-org-cancel\n			color #f00\n			margin-left 0px\n			font-size 14px\n			position relative\n			top 2px\n			&:hover\n				background transparent\n				border none\n				box-shadow none\n		#contact-org-required\n			color tomato\n			position absolute\n			left 110px\n			bottom 14px\n			font-weight bold\n			font-size 11px\n			text-align left\n	&#switch-event-type\n		display inline-block\n		overflow visible\n		width 385px\n		.nu-dropdown\n			width 85%\n			margin 0 auto\n			margin-top 17px\n			text-align center\n			margin-bottom 10px\n		i\n			padding-left 20px\n			font-size 15px\n			width 370px\n			display block\n			margin 0 auto\n		.cancel\n			color #f00\n			margin-left 19px\n			font-size 14px\n			bottom 13px\n			position absolute\n			cursor pointer\n			&:hover\n				background transparent\n				border none\n				box-shadow none\n		.save\n			padding 6px 12px\n			border-radius 3px\n			text-shadow none\n			font-size 16px\n			margin 0 20px 11px\n			float right\n\n.simple-modal\n	h5\n		font-family 'gibsonSemiBold'\n		text-transform uppercase\n	.bgGradient\n		position absolute\n		width 100%\n		height 0.3em\n		background linear-gradient(to right, #71C4F2,#83C485,#71C4F2,#83C485)\n		top 0\n		left 0\n	.roundBtn\n		background #fff\n		color #171717\n		box-shadow 0 0 0 2px #171717\n		padding 6px 31px\n		font-size 16px\n		font-family 'gibsonRegular'\n		text-transform capitalize\n		width auto\n		border none\n		transition none\n		border-radius 38px\n		float none\n		width 141px\n		text-align center\n		display inline-block\n		margin 0 auto\n		cursor pointer\n		&:hover\n			background #171717\n			color #fff\n		&.deleteBtn\n			&:hover\n				background #f05556\n	&#delete-modal\n		padding 2em\n		max-width 400px\n		border-radius 10px\n		.bgGradient\n			display none\n		.delText\n			margin-bottom 2em\n			font-size 1.2em\n\n#rsvp-modal\n	background-color #efefef\n	border-radius 0 !important\n	width 485px\n	max-width 90%\n	padding-top 1em\n	padding-bottom 0px\n	overflow visible\n	&.afterRsvp\n		width 420px\n		.content\n			> h3\n				width 100%\n				text-transform none\n				font-size 18px\n				margin-top 3px\n				text-align center\n		#rsvp-form-top\n			padding-left 0px\n			padding-right 4px\n			text-align center\n			.rsvp-text\n				text-align center\n				width 100%\n				text-transform none\n				font-size 18px\n				margin-top 3px\n		.rsvp-form\n			.afterRsvpMessageInner\n				p\n					font-family 'gibsonLight'\n					color #6b6b6a\n					font-size 28px\n					line-height 1\n				#add-cal-wrap\n					a\n						color #fff\n						&.add-cal\n							color #fff\n							padding 11px 37px\n							background #23c6ea\n							border-radius 30px\n							font-size 16px\n							&:hover\n								color #fff\n								background #1fb0d0\n							&:before\n								font-size 23px\n								position relative\n								top 2px\n					.the-cals\n						position absolute\n						bottom 20px\n						left -1000%\n						transform translateX(-50%)\n						color #fff\n						padding 13px 10px\n						background #23c6ea\n						border-radius 30px\n						width 230px\n						max-width 230px !important\n						padding-left 0%\n						overflow hidden\n						font-size 14px\n						opacity 0\n						pointer-events none\n						display block !important\n						li.cal-link-wrap\n							left 230px\n							position relative\n							transition left .25s linear\n							a\n								margin 0px 4px\n								&:hover\n									text-decoration underline\n					&.addingToCal\n						.the-cals\n							left 50%\n							opacity 1\n							pointer-events all\n							li.cal-link-wrap\n								left 7px\n\n	.close-form\n		color #fff !important\n		top 3px\n		right -2em\n		font-size 1.3em\n		opacity 1\n		&:hover\n			opacity .75\n	#rsvp-form-inner\n		padding 2em\n		padding-top 0em\n		padding-bottom .6em\n	h3\n		background transparent\n		color #7e7e7e\n		font-family 'gibsonLight'\n		font-size 24px\n		padding-top 18px\n		border-bottom none !important\n		padding-bottom 0px\n		margin-bottom 0px\n	textarea\n		min-height 85px\n	.nu-input\n		box-shadow none\n		padding 14px 9px 13px 13px\n		border 1px solid #e7e7e7\n		letter-spacing .8px\n		font-family 'gibsonLight'\n		font-size 14px\n		border-radius 6px\n		margin-top 7px\n\n		// 2.OH\n		border-radius 0\n		border none\n		&:hover\n		&:focus\n			background #fff\n			border none\n			box-shadow 0 0 0 1px #d8d8d8\n	span.name\n	span.date\n		color #949494\n		letter-spacing 0.4px\n\n	.nu-checkbox\n		&:before\n			width 13px\n			height 13px\n			box-shadow none\n			border 1px solid #e7e7e7\n	.multiCheck-holder\n		.name\n			margin-bottom 1px\n\n	#rsvp-submit\n		background #ADADAD\n		color #fff\n		padding 7px 30px\n		font-size 18px\n		font-family 'gibsonRegular'\n		text-transform capitalize\n		border none\n		transition none\n		border-radius 0\n		&:hover\n		&:focus\n			opacity .6\n		&:focus\n			outline 0\n\n	.nu-dropdown\n		line-height 28px\n		box-shadow none\n		border 1px solid #e7e7e7\n		border-radius 6px\n		min-width 126px\n		&:before\n		&:after\n			position absolute\n			line-height normal\n			height 0\n			width 0\n			content ''\n			background transparent\n			box-shadow none\n			border-left 4px solid transparent !important\n			border-right 4px solid transparent\n			right 6px\n		&:before\n			top 6px\n			border-bottom 5px solid #d7d5d4\n		&:after\n			bottom 6px\n			border-top 5px solid #d7d5d4\n		&.open\n			border-radius 6px 6px 0 0\n		.options\n			max-height 120px\n			overflow-y scroll\n			top 27px\n\n	.select-holder\n		min-width 29%\n\n	.date-holder\n		.nu-dropdown\n			width 98%\n		.select-wrap\n			width 29%\n			margin-right 1%\n\n\n	span.date\n		margin-bottom -4px\n\n.inlineForm #rsvp-modal\n	padding-top 0\n	.bgGradient\n		display none\n\n#rsvp-form-top\n	padding-left 31px\n	.rsvp-text\n		white-space nowrap\n		overflow hidden\n		text-overflow ellipsis\n		width 92%\n		display block\n\n#rsvp-modal\n	&.ticket-modal\n		width 550px !important\n		.close-form\n			color #FFF !important\n			top .9em\n		.purchase-button\n			outline 0\n			margin-bottom 1em\n			position relative\n			border-radius 50px\n			font-family 'gibsonLight'\n			font-weight normal\n			letter-spacing 0.02em\n			float right\n			transition all .05s linear\n		#rsvp-form-inner\n			> h3\n				padding-bottom 1em\n				padding-top 1em\n				padding-left 0\n				text-transform none\n		.rsvp-form\n			p.description\n				width 70% !important\n				line-height 17px\n	&.no-payout-info\n		margin-top 10em\n	h5\n		background #000\n		text-align center\n		margin 0 0 10px 0\n		color white\n		text-shadow none\n		padding .5em 1em\n		font-family 'GibsonSemiBold'\n		text-transform uppercase\n		text-align left\n		border-radius 4px 4px 0 0\n		font-size 21px\n		padding-left 14px\n		position absolute\n		width 100%\n		letter-spacing .025em\n		padding-left 28xrpx\n	#rsvp-form-inner\n		// font-size 1.1em\n		// input[type=\"text\"]\n		// input[type=\"email\"]\n		// 	padding 0.5em 0.6em\n		// 	font-size 1em\n		// 	line-height 1.5em\n		.error-border\n			//border 1px solid tomato\n			box-shadow 0px 0 0 3px rgba(245, 214, 214, 1), 0px 0 0 4px #F99\n			border-radius 2px\n			background #f5d6d6\n			&.textarea-holder\n				border none\n				background transparent\n				box-shadow none\n			&.textarea\n			&[type=\"text\"]\n			&[type=\"email\"]\n				background #fff\n		input\n			&.guest_name\n			&.guest_names\n				width 100%\n\n		.plus-one-wrap\n			.checkbox\n				padding-left 25px\n				clear both\n				margin-bottom 4px\n\n		.select\n			&.how_many\n				margin-bottom 7px !important\n				display block\n\n		label\n			padding-top 0\n			padding-bottom .6em\n			font-size 0.8em\n			line-height 1.2em\n			position relative\n\n\n		label.checkbox input\n		label.radio input\n			position absolute\n			left 0\n			margin 0\n\n		label.checkbox input\n			top 1px\n\n		label.checkbox\n			padding-bottom 0px\n			line-height 15px\n			margin-bottom 10px\n			color #949494\n			letter-spacing 0.4px\n			font-size 13px\n			padding-left 1.8em !important\n\n		label.radio\n			color #949494\n\n		label.radio input\n			top 1px\n\n		label.checkbox,\n		label.radio\n		    padding-left 2em\n		    position relative\n\n		label.attending-wrap\n			border-radius 4px\n			font-family 'gibsonRegular'\n			text-transform none\n			width 140px\n			padding 0.6em 0 0.5em 0 !important\n			min-width 0\n			float left !important\n			font-size 12px\n			box-shadow 0 0 0 1px #e9e9e9 inset\n			border none\n			overflow hidden\n			input\n				top -20px\n				left 10px\n				// display none // making a radio input display:none is a big no-no\n			&:hover\n				background rgba(255, 255, 255, 0.78)\n				color #000\n				box-shadow 0 0 0 1px #E0DDDD inset\n			&.selected\n				background #00ec8e\n				color #fff\n				box-shadow none\n\n		// if the input has the custom class unrsvp, then we hide it.\n		// this class is used for saving custom unrsvp data upon unrsvping\n		.unrsvp\n			display none\n\n	.rsvp-form\n		min-height 120px\n		p\n			text-align center\n			font-size 14px\n			line-height 22px\n			width 100% !important\n			font-family 'gibsonLight'\n			clear both\n			margin 0 0 16px !important\n			display inline-block\n		.checkbox\n			display block\n			margin 10px 0px\n			margin-left 0\n			margin-right 11px\n\n			cursor pointer\n			max-width 100%\n			min-width 150px\n			input[type=\"radio\"]\n				margin-right 10px\n\n		.helper-text\n			font-size .8em\n			padding 0\n			line-height 1em\n			margin-bottom 0.5em\n			color #888\n		.options\n			width 100%\n			margin-bottom 10px\n			&.multiCheck-holder\n				.checkbox\n					display block\n					margin 0\n\n		.label-holder\n			font-size 1.3em\n			font-weight bold\n			color #949494\n		.date\n			margin-bottom -11px\n		.file\n			font-size 14px !important\n			color #949494\n			letter-spacing 0.4px\n			display block\n			&:after\n				content ''\n				clear both\n				display block\n				height 0\n				width 100%\n			input\n				position relative\n				margin-left 0px\n				min-height 74px\n				margin-top 2px\n				cursor pointer\n				&:before\n					content '\\e811'\n					font-family 'fontello'\n					color green\n					z-index 3\n					position absolute\n					top 0px\n					right 0px\n					background #fff\n					border-radius 0px 5px 0px 10px\n					padding 5px 6px 5px 7px\n					font-size 12px\n					box-shadow 0 0 0 1px green inset\n					opacity 0\n					transition opacity .2s linear\n				&:after\n					content attr(data-content)\n					width 100%\n					height 100%\n					position absolute\n					top 0px\n					font-size 14px\n					left 0px\n					background #e6e5e5\n					border-radius 4px\n					color #cac9c9\n					line-height 73px\n					text-align center\n					transition all .2s linear\n				&:focus\n					outline 0\n				&:hover\n					&:after\n						background #DADADA\n						color #A2A2A2\n				&.uploaded\n					&:after\n						background green\n						color white\n					&:before\n						opacity 1\n		.noBorder\n			border none !important\n			border-top none !important\n			margin-top 19px !important\n\n		.required-fields\n			color #f99\n			font-weight bold\n			font-size 12px\n\n		.processing-img\n			display none\n\n		.drawimg\n			background #FFF\n			padding 10px 0\n			display none\n			max-width 400px\n			margin 0 auto\n			position relative\n			&.has-img\n				display block\n			img\n				display block\n				margin 0 auto\n			&.loading\n				img\n					opacity .3\n\n		.short-ticket-form\n			width 100%\n			margin 0 auto\n			.tixSaleEnded\n			.tixSoldOut\n				font-size 12px\n				background tomato\n				right 1px\n				bottom 1px\n				width auto\n				color #fff\n				right 0px\n				padding 2px 5px\n				border-radius 2px 0 2px 0\n				&.tixPending\n					background-color: #FFECA0;\n					padding: 1em;\n					margin-bottom: 1em;\n					font-size: 0.8em;\n					letter-spacing: 0.02em;\n					color: #505050;\n			.tixNotAvailYet\n				background #888\n				color #fff\n				right 1px\n				bottom 1px\n				width auto\n				font-size 12px\n				padding 2px 5px\n				border-radius 2px 0 2px 0\n			.tickets\n			tr\n				border-bottom none\n				&.discount\n					border-top 1px solid #ccc\n				td\n					border-bottom 1px dashed #888\n					vertical-align middle\n					font-size 15px\n					text-transform none\n					.more-info\n						display block\n						font-size 90%\n						color #555555\n						cursor pointer\n					.description\n						font-size 90%\n						color #555\n						text-align left\n						padding-top 0px\n\n		.afterRsvpMessageInner\n			span\n			p\n				/*padding 0 20px Guillermo */\n				font-size 23px\n				font-weight normal\n				color #000\n				position relative\n				&.shareWithFriends\n					display block\n					text-align center\n					font-size 14px\n					position relative\n					top 4px\n					color #6b6b6a\n					font-family 'gibsonLight'\n			.shareBox\n			.method\n				transition left .15s linear\n				border-radius 8px\n			.shareBox\n				margin 20px 0\n				display block\n				position relative\n				text-align center\n				.closeShareBox\n					display none\n				.method\n					/* display inline-block Guillermo */\n					top 0\n					background #efefef\n					margin 0 1%\n					box-shadow none\n					&[method=link]\n						input\n							background #fff\n							color #111\n							width 240px\n							padding 8px 6px\n							font-size 14px\n							transition left .15s linear\n					&[method=email]\n						input\n							background #fff\n							color #111\n							width 200px\n							height 33px\n							font-size 14px\n							padding-left 7px\n							padding-top 0px\n							padding-bottom 0px\n						a\n							top 0\n							color #fff\n							background #6b6b6a\n							transition all 0.15s linear\n							border-radius 2px\n							display inline-block\n							margin-top 7px\n							font-weight bold\n							font-size 12px\n							padding 6px 10px 6px\n							&:hover\n								background #444\n								color #fff\n					.share-wrap\n						display none\n						width 100%\n						position absolute\n						top -1em\n						left 0\n						z-index 1\n						.icon\n						input\n							margin-right .5em\n\n					.icon\n						cursor pointer\n						box-sizing border-box\n						text-align center\n						font-size 30px\n						color #6b6b6a\n						display inline-block\n						background transparent\n						border-radius 50%\n						line-height 52px\n						width 50px\n						height 50px\n						//margin 0 15px\n						padding 0\n						padding-left 1px\n						box-shadow 0 0 0 1px #6b6b6a inset\n						&.icon-f-link\n							font-size 26px\n							line-height 50px\n						&.icon-f-email-share\n							padding-left 2px\n						&.facebookShare\n							font-size 24px\n							padding-left 0px\n							line-height 51px\n							&:hover\n								background #6b8bb8\n								box-shadow none\n						&.twitterShare\n							padding-left 3px\n							&:hover\n								background #63bde4\n								box-shadow none\n						&.linkedinShare:hover\n								background #007bb6\n								box-shadow none\n						&:hover\n							color #fff\n							background #6b6b6a\n				&.four\n				&.five\n					.icon\n						opacity 0\n						pointer-events none\n					.share-wrap\n						.icon\n							top .2em\n							position relative\n							pointer-events all\n							cursor pointer\n							&:hover\n								color #FFF\n								background #6B6B6A\n				&.four [n=\"four\"]\n					.share-wrap\n						display block\n						.icon\n							display inline-block\n							opacity 1\n				&.five [n=\"five\"]\n					.share-wrap\n						display block\n						.icon\n							display inline-block\n							opacity 1\n\n////\n// Splash Buttons\n\n.splash-btn\n	height 50px\n	line-height 50px\n	padding 0 15px\n	border none\n	border-radius 3px\n	color #ffffff\n	font-family gibsonSemiBold\n	font-size 14px\n	text-transform uppercase\n	cursor pointer\n	text-align center\n	&.btn-primary\n		background-color color_primary\n		&:hover\n			background-color color_primary_hover\n	&.btn-secondary\n		background-color color_secondary\n		&:hover\n			background-color color_secondary_hover\n\n	&.splash-btn-md\n		height 35px\n		line-height 35px\n\n	&.splash-btn-sm\n		height 30px\n		line-height 30px\n		font-size 13px\n		padding 0 8px\n\n////\n// Splash containers\n\n.splash-box\n	border-radius 5px\n	background-color #fafafa\n\n.splash-box-header\n	position absolute\n	border-radius 5px 5px 0 0\n	top 0\n	left 0\n	width 100%\n	padding-left 1em\n	color #fff\n	a\n		color #fff\n\n\n////\n// Splash Sidebar\n\n.sidebar-section-splash\n	&.header\n		background-color #595959\n		color #fff\n		&.bg-light-gray\n			background-color #969595\n	h5\n		text-transform uppercase\n		text-align left\n		font-size 20px\n		font-family gibsonsemibold\n		line-height 1.3em\n	a\n		font-family gibsonItalic\n		font-weight 100\n	a.edit\n		font-family gibsonRegular\n		font-size 10pt\n	a.disabled\n		color lightgray\n		cursor default\n	.size-09em\n		font-size .9em\n	.txt-md-gray\n		color #626262\n	.txt-lt-gray\n		color #969595\n\n\n\nbody.isIE\n	&.v9\n	&.v8\n	&.v7\n	&.v6\n		#rsvp-modal\n			.rsvp-form\n				.afterRsvpMessageInner\n					.shareBox\n						.method\n							&[method=email]\n								.ie-shim-wrap\n									overflow visible !important\n								input\n									top -53px\n									left 77px\n								label\n									left 88px !important\n									top -43px !important\n	&.v8\n	&.v7\n	&.v6\n		#rsvp-modal\n			.rsvp-form\n				.afterRsvpMessageInner\n					.shareBox\n						.method\n							&[method=email]\n								input\n									padding-top 7px !important\n					#add-cal-wrap\n						&.addingToCal\n							.the-cals\n								left 95px !important\n\nbody.isMobile\n	&.lockItUp\n		position relative\n		overflow auto\n		#splash-container\n			position fixed\n		.simple-modal-wrap\n		.simple-modal-flow-control\n			position relative\n	#rsvp-modal\n		&.isShort\n			margin-top 0px\n		.close-form\n			display none\n		.nu-input\n			font-size 20px\n		span\n			&.name\n			&.date\n				font-size 20px\n		select\n			font-size 20px\n		.select-holder\n			select\n				min-width 136px\n		#rsvp-submit\n			-webkit-appearance none !important\n			font-size 22px\n			margin-top 10px\n			margin-bottom 20px\n		#rsvp-form-inner\n			label\n				&.attending-wrap\n					width 160px\n					padding 0.7em 1em 0.7em !important\n					font-size 18px\n				&.checkbox\n					padding-top 0px\n					line-height 11px\n					position relative\n					margin-top 5px\n				&.file\n					font-size 20px !important\n				&.select\n					&.how_many\n						font-size 20px\n						margin 20px 0px 0px !important\n						color #949494\n			.multiCheck-holder .checkbox\n				margin: 18px 0px !important;\n			.radio-holder .radio\n				margin 12px 0px !important\n			.plus-one-wrap\n				margin-top 14px\n				label.checkbox\n					font-size 19px\n					padding-left 26px !important\n					line-height 19px\n\n\n\nbody:not(.isMobile)\n	#rsvp-modal\n		#rsvp-form-inner\n			label.radio\n				padding-top 2px\n		#attendee_count_wrap\n			margin-top 14px\n			.nu-dropdown\n				min-width 68px\n				width 68px\n			.select.how_many\n				padding-bottom 0px !important\n				margin-top 6px\n				font-size 14px !important\n				width 170px\n				margin-right 0px !important\n				float left\n				color #949494\n/* mine */\n\n#no-tickets\n	font-family 'gibsonSemiBold'\n	width 100%\n	background #efefef\n	color #fff\n	padding 13px 10px !important\n	z-index 10\n	left 0px\n	text-align center\n	position absolute\n	top 0px\n	text-align left\n	padding 0px !important\n	.top-stuff\n		background #f25f65\n		padding 31px 23px\n	.inner-stuff\n		color #555\n		font-family gibsonLight\n		padding 33px 24px\n		font-size 18px\n	a.ticket-create-link\n		font-family gibsonRegular\n		color #f25f65\n		&:hover\n			color darken(#e35855, 30%)\n\nbody.noTickets:not(.finetune)\n	#rsvp-modal\n		.bgGradient\n			display none !important\n		.rsvp-form\n			min-height 70px !important\n			background #f25f65\n\n#no-payout\n	font-family 'gibsonSemiBold'\n	width 100%\n	background #efefef\n	color #fff\n	padding 0\n	width 100%\n	position fixed\n	top 0\n	left 0\n	text-align center\n	overflow hidden\n	z-index 1\n	border-bottom 1px solid #303030\n	a\n		color #303030\n		&:hover\n			color #101010\n	.top-stuff\n		background #f25f65\n		padding 10px 16px\n		text-transform uppercase\n		letter-spacing 1px\n		font-size 14px\n	.inner-stuff\n		font-size 15px\n		font-family gibsonLight\n		color #555\n		padding 17px\n		a.ticket-create-link\n			color #e35855\n			font-family gibsonRegular\n			&:hover\n				color darken(#e35855, 30%)\nbody\n	&.noAddress\n		.element-where-city\n			&:before\n				display none\n	&.noCity\n		.element-where-state\n			&:before\n				display none\n	&.noPayoutData\n		.pop-wrap1\n			display block\n			position fixed\n			right 90px\n			top 0px\n			opacity 1\n			.inner-container\n				position absolute\n				top 35%\n				right -40px\n				width 100%\n				.learn-more\n					color #fff\n					cursor pointer\n	&.noTickets\n		.pop-wrap2\n			z-index 15\n			display block\n			position fixed\n			right 90px\n			top 0px\n			.inner-container\n				position absolute\n				top 35%\n				right -40px\n				width 100%\n				.change-to-rsvp\n					color #fff\n					cursor pointer\n	&.finetuneOpen\n		.pop-wrap2\n			display none\n	.pop-wrap1\n		display none\n\n		#how-pay-notice\n			width 450px\n			height 390px\n			background #fff\n			border 1px solid #000\n			border-radius 264px\n			padding-top 70px\n			position fixed\n			z-index 12\n			overflow hidden\n			box-shadow 0px 3px 10px rgba(0,0,0,0.4)\n			bottom 240px\n			right 100px\n\n			h3\n				font-family 'gibsonSemiBold'\n				text-transform uppercase\n				text-align center\n				padding-top 50px\n				padding-bottom 20px\n				font-size 1.5em\n				width 50%\n				margin 0 auto\n				margin-top -62px\n			.desc-text\n			.choose-between-text\n				text-align center\n				display inline-block\n				width 100%\n				line-height 14px\n				margin-bottom 0px\n				padding-top 9px\n				font-family 'gibsonRegular'\n				text-transform none\n				font-size 15px\n				bottom 15px\n				position relative\n			.choose-between-text\n				font-size 14px !important\n				padding-top 14px\n				bottom 6px\n			.inner-left\n				display inline-block\n				width 98%\n				height 100%\n				text-align center\n				background #fff\n				border-radius 4px\n				margin-left 0px\n				margin-top 0px\n				z-index 0\n				border-bottom 1px dashed #ccc\n				padding-top 0px\n				.desc-text\n					font-size 13px\n					padding-top 15px\n\n			.select-check-btn\n				padding-left 19px !important\n			.select-venmo-btnnnnn\n				display inline-block\n				text-align center\n				top 0px\n				padding-bottom 0px\n				background #3f93cf\n				color #fff\n				font-family 'gibsonSemiBoldItalic'\n				width 53%\n				font-size 18px\n				margin 0 auto\n				padding-top 14px\n				border-radius 8px\n				margin-bottom 9px\n				box-shadow 0 -1px 0 #fff, 0 -2px 0 #0E69AA inset, 0 -2px 10px #f0f0f0\n\n			.select-venmo-btn\n			.select-ach-btn\n			.select-check-btn\n				margin-left 11px\n				font-family 'gibsonSemiBoldItalic' !important\n				font-size 14px\n				padding 5px 6px\n				width 40%\n				display inline-block\n				color #555\n				text-align center\n				margin-right 0px\n				padding-right 10px\n				clear right\n				padding-top 9px\n				border 1px solid #888\n				.desc-text\n					font-size 12px\n					padding-top 15px\n\n			.close-form\n				position absolute\n				font-size 28px\n				left 174px\n				top -38px\n				opacity 0.7\n				cursor pointer\n				font-family 'gibsonSemiBold'\n				font-weight bold\n				color #000\n				background #ddd\n				line-height 23px\n				padding-left 10px\n				padding-right 10px\n				text-align center\n				width 73px\n				border-radius 120px\n				padding-top 40px\n				height 72px\n				&:hover\n					background #000\n					color #fff\n			.learn-more\n				position absolute\n				display inline-block\n				color #555\n				cursor pointer\n				padding 12px\n				left 209px\n				bottom 0px\n				border-radius 0px\n				height 70px\n				padding-top 20px\n				width 500px\n				font-size 15px\n				text-align center\n				margin-left -238px\n				font-family 'gibsonRegular'\n				background #f8f8f8\n				box-shadow -130px 0 60px #f8f8f8 inset, 130px 0 60px #f8f8f8 inset, 0px 1px 0px #AAA inset, 0px 3px 0px #FFF inset\n		.pop-arrow\n			display inline-block\n			background rgba(0, 0, 0, 0)\n			position fixed\n			bottom 457px\n			right 120px\n			margin-left 0\n			z-index 12\n			&:before\n				width 0\n				height 0\n				border-left 20px solid transparent\n				border-right 20px solid transparent\n				border-top 31px solid #000\n				display block\n				top 40px\n				position absolute\n				content ''\n				left 7px\n				transform rotate(31deg)\n				-webkit-transform rotate(31deg)\n			&:after\n				width 0\n				height 0\n				border-left 19px solid transparent\n				border-right 20px solid transparent\n				border-top 30px solid #FFF\n				display block\n				top 40px\n				position absolute\n				content ''\n				opacity 1\n				left 6px\n				transform rotate(31deg)\n				-webkit-transform rotate(31deg)\n		#how-pay-notice\n			width 330px\n			height 330px\n			h3\n				width 65%\n			.select-ach-btn\n				width 72%\n				margin-bottom 14px\n			#payout-learn-more\n				left 154px\n			.close-form\n				left 129px\n\n\n	.pop-wrap2\n		display none\n\n		#activate-payout-pop\n			width 461px\n			height 461px\n			margin-left 0\n			right 100px\n			bottom 177px\n			background #fff\n			border 1px solid #000\n			border-radius 264px\n			padding-top 70px\n			position fixed\n			z-index 12\n			overflow hidden\n			box-shadow 0px 0px 60px -7px #555\n\n			h3\n				font-family 'gibsonSemiBold'\n				text-transform uppercase\n				text-align center\n				padding-top 97px\n				padding-bottom 20px\n				font-size 1.7em\n				width 70%\n				margin 0 auto\n				margin-top -62px\n			.desc-text\n				text-align center\n				display inline-block\n				width 100%\n				line-height normal\n				margin-bottom 10px\n				padding-top 30px\n				font-family 'gibsonRegular'\n				text-transform uppercase\n				font-size 23px\n				bottom 15px\n				position relative\n			.choose-between-text\n				font-size 14px !important\n				padding-top 14px\n				bottom 6px\n			.inner-left\n				display inline-block\n				width 98%\n				height 100%\n				text-align center\n				background #fff\n				border-radius 4px\n				margin-left 0px\n				margin-top 0px\n				z-index 0\n				border-bottom 1px dashed #ccc\n				padding-top 0px\n				.desc-text\n					font-size 13px\n					padding-top 15px\n\n			.select-check-btn\n				padding-left 19px !important\n\n\n			.change-to-rsvp\n			.create-ticket-btn\n				margin-left 11px\n				font-family 'gibsonSemiBoldItalic' !important\n				font-size 14px\n				width 40%\n				display inline-block\n				color #000\n				text-align center\n				height 54px\n				margin-right 0px\n				clear right\n				border 1px solid #888\n				&:hover\n					color white\n				.desc-text\n					font-size 12px\n					padding-top 15px\n\n			.change-to-rsvp\n				margin-top 10px\n				position relative\n				width 30% !important\n				line-height 1.5em\n\n			.create-ticket-btn\n				padding-top 13px !important\n				font-size 18px !important\n				width 65% !important\n\n			.close-form\n				position absolute\n				font-size 28px\n				left 188px\n				top -38px\n				opacity 0.7\n				cursor pointer\n				font-family 'gibsonSemiBold'\n				font-weight bold\n				color #000\n				background #ddd\n				line-height 23px\n				padding-left 10px\n				padding-right 10px\n				text-align center\n				width 73px\n				border-radius 120px\n				padding-top 40px\n				height 72px\n				&:hover\n					background #000\n					color #fff\n			.learn-more\n				position absolute\n				display inline-block\n				color #555\n				cursor pointer\n				padding 12px\n				left 231px\n				bottom 0px\n				border-radius 0px\n				height 76px\n				padding-top 25px\n				width 500px\n				font-size 15px\n				text-align center\n				margin-left -250px\n				font-family 'gibsonRegular'\n				background #f8f8f8\n				box-shadow -130px 0 60px #f8f8f8 inset, 130px 0 60px #f8f8f8 inset, 0px 1px 0px #AAA inset, 0px 3px 0px #FFF inset\n\n\n\n		.pop-arrow\n			display inline-block\n			background rgba(0, 0, 0, 0)\n			position fixed\n			bottom 460px\n			right 120px\n			margin-left 0\n			z-index 12\n			&:before\n				width 0\n				height 0\n				border-left 20px solid transparent\n				border-right 20px solid transparent\n				border-top 31px solid #000\n				display block\n				top 40px\n				position absolute\n				content ''\n				left 7px\n				transform rotate(31deg)\n				-webkit-transform rotate(31deg)\n			&:after\n				width 0\n				height 0\n				border-left 19px solid transparent\n				border-right 20px solid transparent\n				border-top 30px solid #FFF\n				display block\n				top 40px\n				position absolute\n				content ''\n				opacity 1\n				left 6px\n				transform rotate(31deg)\n				-webkit-transform rotate(31deg)\n\n\n	#activate-payout-notice\n		display none\n	&.noTickets\n		#activate-payout-notice\n			//display inline-block\n			width 380px\n			height 265px\n			position absolute\n			left 25px\n			bottom 64px\n			z-index 12\n			background #fff\n			border 1px solid #03deef\n			border-radius 4px\n			padding-top 20px\n			position fixed\n			&:before\n				width 0\n				height 0\n				border-left 20px solid transparent\n				border-right 11px solid transparent\n				border-top 20px solid #03deef\n				display block\n				top 285px\n				position absolute\n				content ''\n				left 30px\n			&:after\n				width 0\n				height 0\n				border-left 17px solid transparent\n				border-right 9px solid transparent\n				border-top 18px solid #fff\n				display block\n				top 85px\n				left 33px\n				position relative\n				content ''\n			h3\n				font-family 'gibsonSemiBold'\n				text-transform uppercase\n				font-size 27px\n				font-weight bold\n				text-align center\n				margin-top 18px\n			.create-ticket\n				font-family 'gibsonRegular'\n				text-align center\n				display inline-block\n				width 100%\n				font-size 30px\n				text-transform uppercase\n				margin-top 30px\n			.begin-collect\n				display inline-block\n				width 100%\n				text-align center\n				font-family 'gibsonRegular'\n				text-transform uppercase\n				font-size 20px\n				margin-bottom 43px\n				margin-top 6px\n			.create-ticket-btn\n				width 54%\n				display inline-block\n				float right\n				text-align center\n				margin-right 20px\n				top 5px\n				background #03deef\n				color white\n				font-family 'gibsonSemiBold'\n				font-size 16px\n			.change-to-rsvp\n				width 31%\n				display inline-block\n				font-size 10px\n				line-height 10px\n				color #aaa\n				background #eee\n				text-align center\n				position relative\n				float left\n				margin-left 16px\n				margin-top 6px\n			.close-form\n				position absolute\n				font-size 30px\n				right 2px\n				top 2px\n				opacity 0.7\n				cursor pointer\n			.remind-me\n				position absolute\n				top 254px\n				display inline-block\n				left 212px\n				color #03deef\n				cursor pointer\n\n@media screen and (max-width:958px)\n	body\n		.pop-wrap1\n			#how-pay-notice\n				bottom 233px\n			.pop-arrow\n				bottom 447px\n		.pop-wrap2\n			#activate-payout-pop\n				bottom 160px\n			.pop-arrow\n				bottom 440px\n\n@media screen and (max-height:720px)\n	body\n		.pop-wrap1\n			#how-pay-notice\n				bottom 175px\n			.pop-arrow\n				bottom 396px\n\n		.pop-wrap2\n			#activate-payout-pop\n				bottom 112px\n			.pop-arrow\n				bottom 396px\n\n\n@media screen and (max-height:720px) and (max-width:958px)\n	body\n		.pop-wrap1\n			#how-pay-notice\n				bottom 162px\n			.pop-arrow\n				bottom 381px\n\n		.pop-wrap2\n			#activate-payout-pop\n				bottom 96px\n			.pop-arrow\n				bottom 381px\n\n@media screen and (max-height:580px)\n	body\n\n		.pop-wrap1\n			#how-pay-notice\n				right 80px\n				bottom 12px\n			.pop-arrow\n				display none\n\n		.pop-wrap2\n			#activate-payout-pop\n				bottom 20px\n				right 87px\n			.pop-arrow\n				display none\n\nbody\n	#firstViewCloseWrap\n		.fvArrow\n			display none\n	.nuFirstView\n		display block\n		height 0\n	#firstViewCloseWrap\n		height 0\n	&.firstViewOpen\n\n		.nuFirstView\n		#firstViewCloseWrap\n			transition height .4s linear, top .4s linear\n\n		.nuFirstView\n			width 100%\n			height 140px\n			background #ff2c5e\n			overflow hidden\n			position relative\n			top 0px\n			color #fff\n			animation fadeColors 18s infinite\n\n			.leftBox\n			.rightBox\n				position absolute !important\n				bottom 0px\n				padding 20px !important\n				width 30%\n				height 100%\n				-webkit-transform-origin 0 100%\n				background rgba(0,0,0,.125)\n			.leftBox\n				left 0\n				-webkit-transform skewX(40deg)\n				.skewTextWrap\n					-webkit-transform skewX(-40deg)\n					margin-left 20%\n			.rightBox\n				right 0\n				-webkit-transform skewX(-40deg)\n				.skewTextWrap\n					-webkit-transform skewX(40deg)\n					margin-left 6%\n\n			.skewTextWrap\n				position relative\n				margin 0 auto\n				width 80%\n				text-align center\n				margin-top 31px\n				.viewText\n					display block\n					text-transform uppercase\n					font-family 'gibsonSemiBold'\n					font-size 2.2em\n				.viewSubText\n					display block\n					font-family 'gibsonRegular'\n					color rgba(255,255,255,.65)\n					text-transform uppercase\n					font-size 1.25em\n					margin-top 3px\n\n\n			.centerBox\n				width 400px\n				margin 0 auto\n				text-align center\n\n				.bigText\n				.createdText\n					display block\n					text-transform uppercase\n				.bigText\n					font-family 'gibsonSemiBold'\n					font-size 3.6em\n					margin-top 41px\n				.createdText\n					font-family 'gibsonLight'\n					font-size 1.7em\n					margin-top 18px\n\n		#firstViewCloseWrap\n			width 100%\n			text-align center\n			margin 0 auto\n			position absolute\n			top 140px\n			z-index 41\n			background transparent\n			display block\n			cursor pointer\n			.fvArrow\n				display block\n				width 90px\n				position absolute\n				top -25px\n				&.leftArrow\n					left 5%\n			.viewCloseBtn\n				width 93px\n				margin 0 auto\n				padding 0px 0px 9px\n				line-height 13px\n				font-size 14px\n				text-transform uppercase\n				color #fff\n				font-family 'gibsonSemiBold'\n				animation fadeColors 18s infinite\n				box-shadow 0px 6px 11px -5px #555\n				.icon-close-2\n					&:before\n						font-size 21px\n						top 1px\n						position relative\n						margin-right -9px\n						right -8px\n		.design-link-wrap\n			top 124px\n\n		#splash-container\n			box-shadow 0px 2px 15px #888888 inset\n\n.pe-n\n	pointer-events none\n\n#firstViewOverlay\n	.firstViewInfo\n		opacity 0\n		transition opacity .75s linear\n		.tut-arrow\n			position absolute\n			top -47px\n			right 54px\n	&.showContent\n		.firstViewInfo\n			opacity 1\n			bottom 50px !important\n			height 175px !important\n			.bigText\n				font-size 32px !important\n				line-height 32px\n			.nextBtn\n				float left\n			.bottomText\n				float left\n				clear both\n			.tut-arrow\n				top 50px\n				transform scaleX(-1) rotate(60deg)\n				right 100%\n\nbody.advMode\n	#firstViewOverlay\n		.bottomText\n			display none !important\n\n.noTickets\n	.pop-wrap2\n		opacity 1\n		.firstViewInfo\n			opacity 1\n			right 60px\n			left 50%\n			right auto\n			transform translateX(-50%)\n#firstViewOverlay\n#secondViewOverlay\n#thirdViewOverlay\n.pop-wrap2\n.pop-wrap1\n	width 100%\n	height 100%\n	position fixed\n	text-align center\n	z-index 2\n	opacity 0\n	background rgba(0,0,0,0.85)\n	transition opacity .75s linear\n	//pointer-events none\n	.firstViewInfo\n		.bigText\n			font-size 48px !important\n			line-height 42px\n			margin-top 22px\n	&.showDesign\n		.firstViewInfo\n			opacity 1\n			right 60px\n	&.showPlanning\n		.firstViewInfo\n			opacity 1\n			top calc(100% \\- 417px)\n			height 277px\n			right 60px\n			width 344px\n			.nextBtn\n				margin-top 0px\n\n	.createTicketBtn\n		cursor pointer\n	.firstViewInfo\n		margin 0 auto\n		border-radius 24px 0 0 24px\n		background transparent\n		padding 50px 50px 40px 50px\n		max-width 671px\n		position absolute\n		height 273px\n		width 378px\n		padding-right 0px\n		padding-left 20px\n		padding-top 13px\n		transition right .25s linear\n		//pointer-events all\n		.bigText\n			font-family vinceHand\n			font-size 70px\n			color #FFF\n			line-height 70px\n			display block\n			text-align left\n\n		&.smallTut\n			.bigText\n				font-size 48px\n				line-height 42px\n				margin-top 22px\n		.descText\n			display none\n			width 85%\n			margin 0 auto\n			font-size 26px\n			text-align center\n			margin-top 20px\n			line-height normal\n		.nextBtn\n			background #68cfb0;\n			color #fff;\n			font-family 'gibsonRegular' !important;\n			text-transform uppercase;\n			padding 10px 20px;\n			font-size 17px;\n			cursor pointer;\n			margin 0 auto;\n			margin-top 24px;\n			margin-bottom 1px;\n			width 160px;\n			letter-spacing 2px;\n			&:hover\n				opacity .75\n			&:active\n				opacity .6\n\n		.bottomText\n			font-size 13px\n			color #bbb\n			top 8px\n			position relative\n			.skipText\n				display none\n				color #fff\n				cursor pointer\n				&:hover\n					color #777\n			.dividerText\n				display none\n			.proTipText\n				color #fff\n\n	.firstPointer\n	.secondPointer\n		display none !important\n		position absolute\n		width 52px\n		height 52px\n		border-radius 30px\n		animation fadeColors 5s infinite\n		transition all .5s linear\n		-webkit-backface-visibility visible\n		&:after\n			content ''\n			border-left 22px solid #F00\n			border-top 26px solid rgba(0, 0, 0, 0)\n			border-bottom 26px solid rgba(0, 0, 0, 0)\n			display inline-block\n			position absolute\n			left 24px\n			top 0px\n			animation fadePointerColors 5s infinite\n\n#firstViewOverlay\n	&.noPointer\n		.firstPointer\n			//top 8em\n			//left 8em\n			transform rotate(90deg)\n			opacity 0\n	&.noPointer\n	&.showPlanning\n		.skipText\n		.dividerText\n			display inline !important\n	&.pointerPos1\n		.firstPointer\n			//top 8em\n			//left 8em\n			transform rotate(90deg)\n			animation fadeColors 5s infinite, wobbleUD .8s infinite\n	&.pointerPos2\n		.firstPointer\n			top 131px !important\n			left calc(100% \\- 137px) !important\n			animation fadeColors 5s infinite, wobbleLR .8s infinite\n	&.pointerPos3\n		.firstPointer\n			top calc( 100% \\- 305px)\n			left calc(100% \\- 137px)\n			transform rotate(0deg) rotateX(360*.5 deg)\n			animation fadeColors 5s infinite, wobbleLR .8s infinite\n\n\n.classicSidebar\n	background #F5F5F5\n	.details-cap\n		background #F5F5F5\n	&.dark\n		&:before\n			content ''\n			width 100%\n			height 100%\n			position absolute\n			float left\n			left 0px\n			top 0px\n			z-index 0\n			background rgba(255, 255, 255, 0.25)\n			// background rgba(0,0,0, 0.25)\n		.details-cap\n			&:before\n				content ''\n				width 100%\n				height 100%\n				position absolute\n				float left\n				left 0px\n				top 0px\n				z-index 0\n				background rgba(255, 255, 255, 0.25)\n				// background rgba(0,0,0, 0.25)\n\n@media screen and (max-height:580px)\n	#firstViewOverlay\n	#secondViewOverlay\n	#thirdViewOverlay\n		.firstViewInfo\n			.nextBtn\n				padding 6px 30px\n			&.smallTut\n				.bigText\n					font-size 48px\n					line-height 26px\n					margin-top 21px\n				.bottomText\n					top 3px\n					position relative\n\n/*\n@media screen and (max-width:958px)\n	#firstViewOverlay\n		.firstViewInfo\n			top 16px\n			height 265px\n		&.pointerPos1\n			.firstViewInfo\n				top calc(100% \\- 418px) !important\n				height 269px\n\n@media screen and (max-height:720px)\n	#firstViewOverlay\n		.firstViewInfo\n			height 204px\n			.bigText\n				font-size 48px\n				line-height 42px\n				margin-top 22px\n		&.pointerPos1\n			.firstViewInfo\n				top calc(100% \\- 352px) !important\n				height 204px\n		&.pointerPos2\n			.firstPointer\n				top 94px !important\n		&.pointerPos3\n			.firstPointer\n				top calc( 100% \\- 269px)\n\n\n@media screen and (max-height:720px) and (max-width:950px)\n	#firstViewOverlay\n		.firstViewInfo\n			height 204px\n			.bigText\n				font-size 48px\n				line-height 42px\n				margin-top 22px\n		&.pointerPos1\n			.firstViewInfo\n				top calc(100% \\- 352px) !important\n				height 204px\n		&.pointerPos2\n			.firstPointer\n				top 87px !important\n		&.pointerPos3\n			.firstPointer\n				top calc( 100% \\- 252px)\n\n@media screen and (max-height:580px)\n	#firstViewOverlay\n		&.pointerPos1\n			.firstViewInfo\n				top calc(100% \\- 367px) !important\n		&.pointerPos2\n			.firstPointer\n				top 14px !important\n		&.pointerPos3\n			.firstPointer\n				top calc( 100% \\- 190px)\n*/\n\n#secondViewOverlay.secondViewOpen\n	&.noPointer\n		.secondPointer\n			transform rotate(-90deg) scale(0,0)\n			bottom 45%\n			left 40%\n	&.pointerPos1\n		.secondPointer\n			bottom 4.4em\n			left 3.3em\n			transform rotate(-90deg) scale(1,1)\n			animation fadeColors 5s infinite, wobbleDU .8s infinite\n	&.pointerPos2\n		.secondPointer\n			bottom 4.4em\n			left 11.2em\n			transform rotate(-90deg) rotateX(360*.5 deg)\n			//transform rotate(270deg)\n			animation fadeColors 5s infinite, wobbleDU .8s infinite\n	&.pointerPos3\n		.secondPointer\n			bottom 4.4em\n			left 17.5em\n			transform rotate(-90deg) rotateX(360*1 deg)\n			//transform rotate(630deg)\n			animation fadeColors 5s infinite, wobbleDU .8s infinite\n\n////\n/// GIFT WRAP\n//\n.giftWrap\n	#firstViewOverlay\n		background url('/images/giftWrap-bg.jpg')\n		background-size cover\n		&:after\n			content ''\n			position absolute\n			top 0\n			left 50%\n			width 20px\n			margin-left -10px\n			height 100%\n			background #ff2c5e\n		.firstViewInfo\n			background url('/images/giftWrap-txtr.jpg')\n			padding 50px 50px 10px 50px\n			box-shadow 0 1px 2px 1px rgba(0,0,0,.2)\n			border-radius 0\n			position relative\n			z-index 2\n			transform rotate(4deg)\n			position relative\n			&:after\n				content ''\n				position absolute\n				top 10px\n				left 50%\n				width 20px\n				margin-left -20px\n				height 10px\n				background #ff2c5e\n				transform skewY(4deg) rotate(-3deg)\n				box-shadow 0 1px 2px rgba(0,0,0,.2), 0 -1px 2px rgba(0,0,0,.2)\n			.bigText\n				font-size 45px\n			.descText\n				width 412px\n				font-size 18px\n				margin-top 0px\n			.nextBtn\n				animation none\n				background #ff2c5e\n				border-radius 0\n				width 100%\n				margin-left: -70px\n				width: 134%\n				box-shadow 0 2px 8px rgba(0,0,0,0.4)\n				position relative\n				&:before\n				&:after\n					content ''\n					position absolute\n					left -14px\n					top -3px\n					width 34px\n					height 100%\n					background #ec1c4c\n					z-index -1\n					transform skewX(-10deg)\n					transform-origin 100% 0\n				&:after\n					transform skewX(10deg)\n					left auto\n					right -14px\n				&:hover\n					opacity 1\n					background #FD5B81\n					&:before\n					&:after\n						background #F74C73\n\nbody\n	&.showTutorial\n	&.showTut2\n		.design-link-wrap\n		#planning-tools\n			pointer-events none\n		#splash-container\n			position fixed\n		.pop-wrap1\n		.pop-wrap2\n			display none\n\n	&.showTutorial\n		#firstViewOverlay\n			display block\n			opacity 1\n\n	&.showTut2\n		#secondViewOverlay\n		#thirdViewOverlay\n			opacity 0\n			display block\n\n	&.flashNav\n		.planning-tools-nav\n			li\n				&.flash\n					color #fff\n					animation fadeColors 8s infinite\n				&.highlight\n					color #fff\n					background #000\n					&:nth-child(1)\n						//background blue\n					&:nth-child(2)\n						//background green\n					&:nth-child(3)\n						//background purple\n\n.mce-combobox .mce-btn\n	display none\n\n#doneBtn\n	position fixed\n	bottom -121px\n	left 50%\n	z-index 2\n	width 500px\n	height 70px\n	margin-left -250px\n	background rgba(255, 255, 255, 0.8)\n	border 1px solid #000\n	color #000\n	padding 2px\n	font-size 15px\n	text-align center\n	font-family 'gibsonSemiBold'\n	cursor pointer\n	border-radius 4px 4px 0 0\n	transition bottom 0.85s ease-out\n	&:hover\n		background rgba(0,0,0,.8)\n		color #fff\n		transition none\n.finetuneOpen\n	#doneBtn\n		margin-left -112px\n\n\n.nu-dropdown\n	&[title=\"Border Radius\"]\n	&[title=\"Border Style\"]\n		div.options\n			> div\n				color #000\n				background #FFF\n				&:hover\n					background #7C7C7C\n					color #fff\n		&:hover\n			background #4B4A4A !important\n		&:active\n			background #505050 !important\n\n@keyframes flashDoneBtn\n	0%\n		background white\n		color black\n	90%\n		background white\n		color black\n	91%\n		color white\n	92.5%\n		background purple\n		color white\n	95%\n		background green\n		color white\n	97.5%\n		background blue\n		color white\n	100%\n		background white\n		color black\n\n\n\n\n@keyframes wobbleLR\n	0%\n		margin-left 0px\n	50%\n		margin-left 6px\n	100%\n		margin-left 0px\n\n@keyframes wobbleUD\n	0%\n		margin-top 0px\n	50%\n		margin-top -6px\n	100%\n		margin-top 0px\n\n@keyframes wobbleDU\n	0%\n		margin-bottom 0px\n	50%\n		margin-bottom 6px\n	100%\n		margin-bottom 0px\n\n@keyframes rotatePin\n	0%\n		transform rotateY(0deg)\n	100%\n		transform rotateY(360deg)\n\n\n\n@keyframes fadePointerColors\n	0%\n		border-left 45px solid blue\n	33%\n		border-left 45px solid green\n	66%\n		border-left 45px solid purple\n	100%\n		border-left 45px solid blue\n\n@keyframes fadeColors\n	0%\n		background blue\n	33%\n		background green\n	66%\n		background purple\n	100%\n		background blue\n\n\n@keyframes fadeFontColors\n	0%\n		color blue\n	33%\n		color green\n	66%\n		color purple\n	100%\n		color blue\n\n\n@keyframes fadeBorderColors\n	0%\n		border 1px solid blue\n	33%\n		border 1px solid green\n	66%\n		border 1px solid purple\n	100%\n		border 1px solid blue\n\n\n@keyframes fadeBlColors\n	0%\n		border-left 1px solid blue\n	33%\n		border-left 1px solid green\n	66%\n		border-left 1px solid purple\n	100%\n		border-left 1px solid blue\n\n\n\n@media screen and (min-width: 1500px)\n	body\n		&.firstViewOpen\n			.nuFirstView\n				.leftBox\n					.skewTextWrap\n						margin-left 10%\n\n@media screen and (max-width: 1150px)\n	body\n		&.firstViewOpen\n			.nuFirstView\n				.leftBox\n					.skewTextWrap\n						margin-left 18%\n				.skewTextWrap\n					margin-top 43px\n				.viewText\n					font-size 2em\n				.viewSubText\n					font-size 1.05em !important\n\n.finetuneOpen\n	.pop-wrap1\n		#how-pay-notice\n			left 305px\n		.pop-arrow\n			left 50%\n	.pop-wrap2\n		#activate-payout-pop\n			left 295px\n		.pop-arrow\n			left 390px\n\n#rsvp-modal\n	.resubmitted\n		h5\n			position relative\n\n#postBackContain\n	max-height 350px\n	overflow auto\n	select\n		&.index\n			max-width 80px\n	td\n		div\n			&.remove\n				&:hover\n					color #ff0033\n				&:active\n					color #888888\n#guestListDropDown\n	.current\n		span\n			padding-top 6px\n		span:first-child\n			width 95%\n			display inline-block\n			overflow hidden\n		span:last-child\n			position absolute\n			text-align right\n			right 40px\n			background #fff\n			box-shadow -13px 0 11px -1px #fff\n\n\n\n/* vanity url receipt page */\n\n#edit-settings\n	.section-title[type=\"vanity-url\"]\n		margin-top 90px\n		border-top 1px dashed #CCC\n		padding-top 10px\n\n	#change-vanity-url\n		float right\n		position relative\n		top 10px\n		left -15px\n		padding 5px 14px\n\n	#vanitySub\n		height 50px\n\n	.edit-current.vanity\n		position absolute\n		left 12px\n		width 92%\n		.cancelVanityEdit\n			width 40px !important\n			position absolute\n			top 37px\n			right -9px\n			color #F00\n			cursor pointer\n			.quick-cancel\n				&:hover\n					background rgba(0, 0, 0, 0) !important\n					border none !important\n					box-shadow none !important\n		.nu-btn\n			&.quick-save\n				top 3px !important\n				right -12px !important\n				position absolute !important\n				left auto !important\n				padding 5px 12px !important\n\n\n#vanity-url-sell-instructions\n	.vanity-url-setup-instructions\n		h4\n			color #fff\n			margin-bottom 0px\n			&.topHead\n				padding-top 14px !important\n				padding-bottom 12px !important\n		.faqs\n		.faqs h4\n			color #555\n			text-align left\n			margin-bottom 0\n			background #F8F8F8\n			clear both\n		.faqs\n			h5\n				text-align left\n			h4\n				position relative\n				color #03E16A\n				background rgba(0, 0, 0, 0) !important\n				border-bottom 1px solid #EEE\n				border-radius 0px\n				font-family gibsonRegular\n				padding-left 10px\n				font-size 16px\n			dl\n				padding 14px 20px 0px 20px\n		.url-tip\n			margin-bottom 4px\n			width 100%\n			background #f8f8f8\n			margin-right 0px\n			padding 10px\n			text-align center\n			p\n				margin 0\n				color #555\n				text-align left\n			b\n				width auto\n				&.type\n					font-size 16px\n					color #03e16a\n			ol\n				list-style-type decimal\n				padding-left 30px\n				li\n					text-align left\n			table\n				text-align left\n			.action-btn\n				margin-top -33px\n				color #03e16a\n				border 1px solid #03e16A\n				padding 2px 10px\n				border-radius 4px\n				&:hover\n					background #03e16a\n					color #fff\n			div\n				border-top 1px solid #ddd\n				padding-top 14px\n				margin-top 3px\n\n		.qc-wrap\n			text-transform none\n			background rgb(255, 255, 199)\n			float left\n			padding 8px 10px\n\n#main-canvas .layoutGrp\n	word-break break-word\n\n#nav-embed\n	&[block-type='button']\n		.addNewNavItem\n			display none\n		#nav-items-list-contain\n			.navTH\n				&:first-child\n					//display none\n				&:nth-child(2)\n					padding-left 8px\n			.navLi\n				&:hover\n					.action\n						.delete-item\n							display none !important\n	#nav-items-list-contain\n		.navTH\n			padding-bottom 0\n			&:first-child\n				margin-left 8px\n			&:nth-child(2)\n				padding-left 4px\n		.addNewNavItem\n			margin-left 9px\n			width 12%\n			padding 0.5em\n			background #171717\n			color #fff\n			fon-size 0.7em\n		#nav-items-list\n			.nav-name\n				width 100%\n				margin-top 0px\n				height 35px\n				margin-bottom 0px\n			.nu-input\n				box-shadow none\n				float left\n				color #505050 !important\n				border-radius 0px\n				&.external-link\n					width 88%\n			.navLi\n				//padding-top 0px\n				//padding-bottom 0px\n				padding 1em\n				&:hover\n					.action\n						.delete-item\n							display block\n				.action\n					position relative\n					.delete-item\n						color #5c5c5c\n						font-size 24px\n						top 12px\n						right 0\n						position absolute\n						display none\n						&:hover\n							color #ce294d\n				.nu-dropdown\n					.options\n						max-height 200px\n						height auto\n		.actions\n			padding-bottom 0px\n			padding-top 0px\n			.closeSimpleModal\n				font-size 12px\n				color red\n				&:hover\n					color #b20000\n					background transparent\n					box-shadow none\n					border 0\n\n#footer\n	background #101010\n	color #fff\n	padding 1em 0.5em\n	#contactOrgFtr\n		margin-right .5em\n		margin-top 3px\n		font-size 0.8em\n		letter-spacing .1em\n		cursor pointer\n		border-radius 2px\n		font-family 'gibsonSemiBold'\n		color #fff\n		padding 0 1em\n		line-height 1.7em\n		transition all .1s linear\n		position relative\n		&:hover\n			background #fff\n			color #101010\n			transition none\n			background #eee\n		&:active\n			background #c0c0c0\n			top 1px\n	#bottomSplug\n		float left\n		color #fff\n		margin-top -2px\n		margin-left .5em\n		letter-spacing .05em\n		cursor pointer\n		.pwr\n			background #fff\n			margin-left 4px\n			top 3px\n			position relative\n		&:hover\n			.pwr\n				background #F00\n				animation fadeFooter .3s infinite\n\n\n/// LINE HEIGHT FIXES\n\n// #splash-container\n// 	.layoutGrp\n// 		span\n// 		h1\n// 		h2\n// 		p\n// 			line-height 1.1em !important\n\n/// END LINE HEIGHT FIXES\n\n\n.blueText\n	color #00F !important\n\n.purpleText\n	color #815BFF !important\n\n\n@keyframes fadeFooter\n	0%\n		background #03e1ff\n	25%\n		background #ffff00\n	50%\n		background #ff24d3\n	75%\n		background #01e16a\n	100%\n		background #03e1ff\n\n.sp-container\n	&.rteColorPicker\n		position fixed !important\n		top 38px !important\n		right auto\n		left -8px !important\n		margin-left 50%\n		border 1px solid #000\n		background #fff\n		// .sp-palette-container\n		// 	display none\n		.sp-picker-container\n			padding-top 10px\n.showAll\n	.sp-container.rteColorPicker\n		left -129px !important\n\n#add-cal-wrap\n	text-align center\n	margin 28px 0px 32px 0px\n	color #555\n	.add-cal\n		&:hover\n			opacity .8\n	a\n		color #555\n		&:hover\n			color #1A1A1A\n\nbody.date-tbd\n	#add-cal-wrap\n		display none !important\n\n\n#rsvp-form-inner\n	> .grp\n		input[type=\"text\"]\n			width 100%\n		input[type=\"email\"]\n			width 100%\n	.secondary-ticket\n		/* nothing */\n	.addon-tickets\n		h3\n			display: none;\n			font-size: 18px;\n			padding-left: 0;\n			border-bottom: 1px solid #ddd !important;\n			margin-bottom: 15px;\n			padding-bottom: 10px;\n		&.applicable\n			h3\n				display block\n#rsvp-modal\n	.ie-shim-wrap\n		width 100%\n\n\n.finetuneOpen\n	.sp-container\n		&.rteColorPicker\n			left -144px !important\n\n.finetuneOpen\n	.showAll\n		.sp-container\n		&.rteColorPicker\n			left -268px !important\n\n\n#gallery-placeholder\n	cursor pointer !important\n	.add-photos-button\n		position absolute\n		font-size 20px\n		top 50%\n		left 50%\n		transform translate(-50%, -50%)\n		padding 24px 34px\n		border-radius 4px\n		background rgba(255,255,255,1)\n		h1\n			cursor text !important\n		.plus-circ > span\n			background #7fc479\n			border-radius 100%\n			width 90px\n			height 90px\n			font-size 36px\n			color #fff\n			position relative\n			margin 0 auto\n			float none\n			cursor pointer !important\n			display inline-block\n			&:before\n				position absolute\n				top 53%\n				left 50%\n				transform translate(-50%, -50%)\n				padding 0px\n				margin-left 0px\n				cursor pointer !important\n		.text-under-plus-circ\n			font-family gibsonSemiBold\n			font-size 15px\n			text-align center\n			letter-spacing 1px\n			top 7px\n			position relative\n\n\n#ticketReceipt\n	#add-cal-wrap\n		a\n			color #fff !important\n			&.add-cal\n				color #fff !important\n				padding 11px 37px\n				background #23c6ea !important\n				border-radius 30px\n				font-size 16px\n				&:hover\n					color #fff !important\n					background #1fb0d0 !important\n				&:before\n					font-size 23px\n					position relative\n					top 2px\n		.the-cals\n			position absolute\n			bottom 40px\n			left -1000%\n			transform translateX(-50%)\n			color #fff !important\n			padding 13px 10px\n			background #23c6ea !important\n			border-radius 30px\n			width 230px\n			max-width 230px !important\n			padding-left 0%\n			overflow hidden\n			font-size 14px\n			opacity 0\n			pointer-events none\n			display block !important\n			li.cal-link-wrap\n				left 230px\n				position relative\n				transition left .25s linear\n				a\n					margin 0px 4px\n					&:hover\n						text-decoration underline\n		&.addingToCal\n			.the-cals\n				left 50%\n				opacity 1\n				pointer-events all\n				li.cal-link-wrap\n					left 7px\n\n\nbody.rsvp-closed\n	.element-rsvp\n		font-size 2em !important\n\n\n.list:not(.full-list):not(.nav):not(.schedule-list)\n	.list-item\n		&.s1\n			.body *\n			.title *\n				text-align left !important\n			&.alt // ALTERNATING\n				.body *\n				.title *\n					text-align center !important\n				&.three\n					.body *\n					.title *\n						text-align center !important\n\n		&.s2\n			.body *\n			.title *\n				text-align left !important\n		&.s3\n			.body *\n			.title *\n				text-align center !important\n\n	.sponsor-item\n		*\n			text-align center !important\n		h4\n			margin-top 8px\n			font-weight initial !important\n\n	&.speakers\n		.speaker-item\n			&.s1\n				.body *\n				.title *\n					text-align left !important\n				&.alt // ALTERNATING\n					&:nth-child(odd)\n						.body *\n						.title *\n							text-align left !important\n					&:nth-child(even)\n						.body *\n						.title *\n							text-align right !important\n			&.s2\n				.body *\n				.title *\n					text-align left !important\n			&.s3\n				.body *\n				.title *\n					text-align center !important\n\n\n	&.images\n		.image-item\n			.body\n			.title\n				text-align center !important\n\n	&.schedule\n		.schedule-item\n			&.s1\n				.tCell\n				.tCell *\n					text-align left !important\n			&.s3\n				.tCell\n				.tCell *\n					text-align center !important\n\n\n\n\nbody.hideAlignerRTE\n	.mce-tinymce-inline\n		.mce-container-body.mce-abs-layout\n			width 389px !important\n			.mce-close-button\n				margin-right -191px !important\n			&.showAll\n				width 644px !important\n				.mce-close-button\n					margin-right -318px !important\n	&.finetuneOpen\n		.mce-tinymce-inline\n			.mce-container-body.mce-abs-layout\n				.mce-close-button\n					margin-right -51px !important\n				&.showAll\n					.mce-close-button\n						margin-right -178px !important\n\n\nbody:not(.isLegacy)\n	.video\n		&.media\n			margin 0 auto\n			//max-width 960px\n			position relative\n		.embed\n			position relative\n			padding-bottom 56.25%\n			padding-top 1px\n			height 0\n			overflow hidden\n			display inline-block !important\nbody:not(.isLegacy)\n	.video.media .embed\n		iframe\n			position absolute\n			top 0px\n			left 0px\n			width 100%\n			height 100%\n\n.audio\n	&.media\n		.embed\n			iframe\n				width 100%\n				max-width 960px\n				height auto\n\n#ticketForm\n	.purchase-button\n		background #ADADAD\n		color #fff\n		padding 7px 30px\n		font-size 18px\n		font-family 'gibsonRegular'\n		text-transform capitalize\n		border none\n		transition none\n		&:hover\n			opacity .6\n	.discount-code\n		padding 10px 9px 8px 13px !important\n		margin-top 1px !important\n		width 100%\n\ninput.discount-code::input-placeholder\n	color #000 !important\n\ninput.discount-code::-webkit-input-placeholder\n	color #000 !important\n\ninput.discount-code::-moz-input-placeholder\n	color #000 !important\n\ninput.discount-code:-moz-input-placeholder\n	color #000 !important\n\n#logged-out-modal\n	width 21em\n	h3\n		text-transform none\n		background #f8f8f8\n		color #000\n		font-family 'gibsonRegular'\n		margin-bottom 0\n		padding-bottom 0.1em\n		padding-top 0.7em\n	.expl\n		font-size 14px\n		border-bottom 1px solid #ddd\n		margin-bottom 10px\n		padding-bottom 14px\n		padding-top 0\n		text-align left\n		padding-left 1.2em\n		background #f8f8f8\n\n	.nu-input\n		width 100%\n		float left\n		clear both\n	label\n		display inline-block\n		width 150px\n		float left\n		text-transform uppercase\n		font-size 0.8em\n		letter-spacing .05em\n\n\nbody\n	.sponsor-item.nu-logo-square\n	.sponsor-item.nu-logo-landscape\n		.media.image\n			background-size contain\n\n#growl-holder\n	position: fixed;\n	left: 20px;\n	top: 20px;\n	z-index: 2001;\n	width: 300px;\n\n.splashui-confirm\n	position fixed\n	top 0\n	left 0\n	background rgba(255,255,255,.7)\n	width 100%\n	height 100%\n	z-index 2198\n	.splashui-inner\n		position fixed\n		top 50%\n		left 50%\n		width 400px\n		transform translateX(-50%) translateY(-50%)\n		.splashui-close\n			position absolute\n			top 0\n			right 5px\n			color #999\n			font-size 22px\n			font-weight 100\n			cursor pointer\n\n.splashui-confirm, .splashui-growl\n	.splashui-inner\n		background rgba(0,0,0,.8)\n		padding 20px\n		p\n			font-size 16px\n			color #FFF\n			margin-bottom 20px\n			&.splashui-title\n				color: #898A89\n				text-transform uppercase\n				font-size:11px\n				letter-spacing: .15em;\n				margin-bottom: 5px;\n				font-weight: 600;\n		button\n			padding-left: 2em !important;\n			padding-right: 2em !important;\n			border-radius 0 !important\n			text-transform: uppercase;\n			letter-spacing: .2em;\n			&.splashui-confirm-btn\n				background #7CC576\n				margin-right 5px\n\n.splashui-growl\n	.splashui-inner\n		margin-bottom 10px\n		position relative\n		z-index 2199\n		button.splashui-confirm-btn\n			background #7cc576\n			width 100%\n	&.success\n		button.splashui-confirm-btn\n			background #7CC576\n	&.error\n		button.splashui-confirm-btn\n			background #F77A7B\n	&.info,&.ask\n		button.splashui-confirm-btn\n			background #7cc576\n	&.plain\n		button.splashui-confirm-btn\n			background #FFF\n			color #292929\n\n\n\n#recaptcha_response_field\n	padding 8px\n	border-radius 2px\n	font-size 14px\n#captcha\n	clear both\n	max-width 100%\n\n.input-type-time {\n	margin: 2px 0px 0px 0px;\n	width: 6em !important;\n	text-align: center !important;\n}\n.input-type-short-date {\n	margin: 2px 0px 0px 0px;\n	width: 8.5em !important;\n	text-align: center !important;\n}\n// Fix because jquery datepicker used to stay under the rsvp modal\n.ui-datepicker{\n	z-index: 10001 !important;\n}\n#rsvp-form-inner .ui-timepicker-wrapper {\n	overflow-y: auto;\n	height: 150px;\n	width: 4.7em;\n	background: #fff;\n	border: 1px solid #ddd;\n	box-shadow: 0 2px 0 1px rgba(0,0,0,0.2);\n	outline: none;\n	z-index: 10001;\n	margin: 0;\n	border-radius: 3px;\n	top: 33px;\n	font-weight: normal;\n	text-align: center;\n}\n#rsvp-form-inner .ui-timepicker-list {\n	margin: 0;\n	padding: 0;\n	list-style: none;\n	text-transform: uppercase;\n}\n#rsvp-form-inner .ui-timepicker-list li {\n	padding: 3px 5px 3px 5px;\n	cursor: pointer;\n	white-space: nowrap;\n	color: #000;\n	list-style: none;\n	font-size: 14px;\n	margin: 0;\n	text-align: center;\n	font-family: 'gibsonRegular';\n	display: inline-block;\n}\n#rsvp-form-inner li.ui-timepicker-selected, #edit-settings .ui-timepicker-list li:hover, #edit-settings .ui-timepicker-list #edit-settings .ui-timepicker-selected:hover {\n	background: #06deef;\n	color: #fff;\n}\n\n\n// @media screen and (min-width:400px) and (max-width: 955px)\n// 	#simple-modal-ajax\n// 		#custom-style-editor-container\n// 			#custom-editor-subnav\n// 				input.nu-btn.m.clean.saveForm\n// 					position absolute\n// 					left 150px\n// 					top 85px\n// 			.versions-list\n// 				position relative\n// 				margin-bottom 20px\n// 				left 0%\n// 				top 0%\n\n// @media screen and (min-width:1030px)\n// 	 #simple-modal-ajax\n// 	 	#custom-style-editor-container\n// 	 		.versions-list\n// 	 			left 100%\n// 	 			margin-left -17em\n// 	 		.versions-toggler\n// 	 			height 35px\n\n//REPEATABLE BLOCK Styling\n//this makes the editing tools within a repeatable block invisible.  they should not be present.\ndiv.layoutGrp[data-repeatable-block-id]\n	> .layoutGrp\n		.layoutGrp\n			.edit-tools\n				.clone-section\n				.layout-jump\n				.drag-handle\n					display none !important\n//END REPEATABLE BLOCK\n\n\n#splash-container .element-title h1\n#splash-container .element-subtitle h2\n	font-family inherit !important\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/user-elements.styl",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 151928,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "/////////////////////////////////////////////////////////////////////////////////////\n// rsvp Settings juice {{{\n\nfunction rsvpSettingFormInit(){\n	$rsvpSettingsForm = $('#rsvpSettingContain');\n	rsvpBindActions();\n\n	///////////////////////////////////////////////////////\n	// rsvp Settings Table setup {{{\n	// persistent var setup\n	$blankQuestionRow = $(\"#blank-question\");\n	$blankQuestionRow.detach();\n\n	$blankCustomRows = $rsvpSettingsForm.find('.custom-rsvp-field-wrap.blank');\n	$blankCustomRows.detach();\n\n	// End rsvp Settings Table setup }}}\n	///////////////////////////////////////////////////////\n\n	populateRsvpCustomQuestions();\n\n}\n\n///////////////////////////////////////////////////////\n// Populate the form with already saved rsvpTypes {{{\n\nfunction populateRsvpCustomQuestions(){\n	//console.log(EventSetting);\n	var rsvp_fields = ( typeof EventSetting != 'undefined' && typeof EventSetting['rsvp_fields'] != 'undefined' ) ? EventSetting['rsvp_fields'] : [];\n	var $questionList = $(\"#rsvp-question-list\");\n\n	$rsvpSettingsForm.find('.all-custom-field-wrap').html('');\n	$questionList.find(\"li:not(.locked)\").remove();\n\n	var processPostbackSettings = ($('#rsvp-postback-settings').length == 1) ? true : false;\n	if (processPostbackSettings) {\n		$('#postback-field-blank').find('option.c').remove();\n	}\n\n	//set a few fields to empty by default.  if they're set, then they'll be taken care of below.\n	$(\"#guests-reply-no-check\").val(0).parent().removeClass('checked');\n	$(\"#guest-name-required-check\").val(0).parent().removeClass('checked');\n\n	var customQuestions = ( typeof EventSetting != 'undefined' && typeof EventSetting['custom_rsvp_fields'] != 'undefined' ) ? EventSetting['custom_rsvp_fields'] : [];\n	var ids = [];\n	// console.log(\"CUSTOMMM\");\n	// console.log(customQuestions);\n	for ( i in customQuestions ){\n		//console.log(\"here..\");\n		var rQ = customQuestions[i];\n		if(typeof rQ.name!=='undefined'){\n			var $questionRow = $blankQuestionRow.find(\"li\").clone();\n			//console.log($questionRow.html());\n			buildRsvpQuestion($questionRow,rQ,$questionList);\n			if (processPostbackSettings) {\n				$('#postback-field-blank').find('option[value=\"static-value\"]').before('<option class=\"c\" value=\"custom_field_'+rQ.number+'\">'+(''+rQ.name).substr(0,15)+'</option>');\n			}\n			if ( rQ.type == 'radio' && typeof rQ.selected_values != 'undefined' ) {\n				$questionRow.find('.clear-choices').removeClass('hide');\n			}\n		}\n\n	}\n\n	for ( var i in rsvp_fields ){\n		var f = ''+rsvp_fields[i];\n		if ( f == 'company'){\n			var $questionRow = $blankQuestionRow.find(\"li\").clone();\n			var number = getCustomFieldNumber($(\"#rsvp-question-list\"));\n			buildRsvpQuestion($questionRow,{ name: 'Company', type: 'text', number: number },$questionList);\n		}\n		else if(f=='message'){\n			var $questionRow = $blankQuestionRow.find(\"li\").clone();\n			var number = getCustomFieldNumber($(\"#rsvp-question-list\"));\n			buildRsvpQuestion($questionRow,{ name: 'Message', type: 'textarea', number: number },$questionList);\n		}\n		else if(f == 'attending'){\n			//$rsvpSettingsForm.find('input[value='+f+']').prop('checked',true);\n			$(\"#guests-reply-no-check\").val(1).parent().addClass('checked');\n			if (processPostbackSettings) {\n				$('#postback-field-blank').find('option[value=\"email\"]').after('<option class=\"c\" value=\"attending\">Attending</option>');\n			}\n		}\n		else if(f == 'guest_name_required'){\n			$(\"#guest-name-required-check\").val(1).parent().addClass('checked');\n		}\n		else if ( f == 'plus_one' ){\n			$rsvpSettingsForm.find('input.allow_guests_types[value=\"plus_one\"]').prop('checked',true);\n			$(\"#guest-complex-settings\").hide();\n			// $rsvpSettingsForm.find('input.plus_one_allow_guests').prop('checked',true);\n			// $rsvpSettingsForm.find('.guest_complex_settings,.plus_one_settings').show();\n			$(\"#allow-guests-checkbox\").val(1).parent().addClass('checked');\n			$(\"#allow-guests-types\").show();\n\n		}\n		else if ( f == 'allow_guests' ){\n			$rsvpSettingsForm.find('input.allow_guests_types[value=\"allow_guests\"]').prop('checked',true);\n			$(\"#guest-complex-settings\").show();\n			//$rsvpSettingsForm.find('input.plus_one_allow_guests').prop('checked',true);\n			//$rsvpSettingsForm.find('.guest_complex_settings,.allow_guests_settings').show();\n			$(\"#allow-guests-checkbox\").val(1).parent().addClass('checked');\n			$(\"#allow-guests-types,#guest-complex-settings\").show();\n\n		}\n		else if ( f.match(/^allow_guests_text_/) ){\n			var text = f.replace(/^allow_guests_text_/,'');\n			text = text.replace(/\\^comma\\^/g,',');\n			if ( text != '' ){\n				//$rsvpSettingsForm.find('input.allow_guests_text').val(text);\n				$(\"#allow_guests_text\").val(text);\n			}\n		}\n		else if ( f.match(/attendee_count_/) ){\n			var selected = f.replace(/attendee_count_/,'');\n			$(\"#guest-limit\").val(selected);\n		}\n		else if ( f.match(/guest_count_/) ){\n			var selected = parseInt(f.replace(/guest_count_/,''))+1;\n			$(\"#guest-limit\").val(selected);\n		}\n	}\n\n	if (typeof EventSetting != 'undefined') {\n		if (typeof EventSetting.rsvp_postback_url != 'undefined' && EventSetting.rsvp_postback_url != '' && EventSetting.rsvp_postback_url != null) {\n			$(\"#rsvp-postback-check\").val(1).parent().addClass('checked');\n			$(\"#rsvp-postback-settings\").show();\n			$(\"#rsvp-postback-url\").val(EventSetting.rsvp_postback_url);\n		} else {\n			$(\"#rsvp-postback-check\").val(0).parent().removeClass('checked');\n			$(\"#rsvp-postback-settings\").hide();\n			$(\"#rsvp-postback-url\").val('');\n		}\n		if (processPostbackSettings) {\n			buildRsvpPostbackParams(EventSetting.rsvp_postback_params);\n		}\n	}\n\n	$(\"#rsvp_conf_message_splash\").val(EventSetting.rsvp_conf_message_splash);\n	$(\"#rsvp_conf_message\").val(EventSetting.rsvp_conf_message);\n	$questionList.sortable({\n		handle: '.drag-ns-handle',\n		axis: 'y',\n		items: 'li:not(.locked)',\n		start: function(event,ui){\n			$questionList.find(\"li.locked\").addClass('cant-drag-me');\n		},\n		stop: function(event,ui){\n			$questionList.find(\"li.locked\").removeClass('cant-drag-me');\n			rsvpSettingsSavable();\n		}\n	});\n\n	$questionList.find(\".radio-check-wrap\").find(\".values:first\").sortable({\n		axis: 'y',\n		stop: function(){\n			rsvpSettingsSavable();\n		}\n	});\n\n}\n\nfunction buildRsvpPostbackParams(params){\n	var params = params || {};\n	var $holder = $(\"#rsvp-postback-fields\");\n	$holder.empty();\n\n	if (typeof params['fields'] != 'undefined') {\n		for (var i in params['fields']) {\n			var $new = buildRsvpPostbackField(params['fields'][i]);\n			$holder.append($new);\n		}\n	}\n}\nfunction buildRsvpPostbackField(field){\n	var field = field || {};\n\n	var $blank = $(\"#postback-field-blank\");\n	var $new = $blank.clone();\n	$new.removeAttr('id');\n	$new[0].className = 'field';\n\n	var $index = $new.find('select.index:first');\n	if (typeof field['index'] != 'undefined') {\n		$index.find('option[value=\"'+field['index']+'\"]').prop('selected',true);\n	}\n\n	var $newindex = $new.find('input.newindex:first');\n	if (typeof field['newindex'] != 'undefined') {\n		$newindex.val(field['newindex']);\n	} else {\n		$newindex.val(field['index']);\n	}\n\n	if (typeof field['value'] != 'undefined') {\n		var $value = $new.find('input.value:first');\n		$value.val(field['value']);\n		$value.removeClass('hide');\n		$index.find('option[value=\"static-value\"]').prop('selected',true);\n	}\n\n	return $new;\n}\n\n// End Populate the form with already saved rsvpTypes }}}\n///////////////////////////////////////////////////////\n\n///////////////////////////////////////////////////////\n// Click/Key Actions for rsvp Settings {{{\n\nfunction rsvpBindActions(){\n\n/*$rsvpSettingsForm.on('change','input.plus_one_allow_guests',function(){\n	if ( $(this).is(\":checked\") ){\n		$rsvpSettingsForm.find('.guest_complex_settings').show();\n	}else {\n		$rsvpSettingsForm.find('.guest_complex_settings').hide();\n	}\n});\n$rsvpSettingsForm.on('change','input.complex',function(){\n	var $this = $(this);\n	if ( $this.is(\":checked\") ){\n		$rsvpSettingsForm.find('.complex_settings').hide();\n		$rsvpSettingsForm.find('.'+$this.val()+'_settings').show();\n	}\n}); */\n\n$rsvpSettingsForm.on('change',\"#allow-guests-checkbox\",function(){\n	if($(this).val() == 1){\n		var $block = $(\"#allow-guests-types\");\n		$block.show();\n		if($block.find(\"input.allow_guests_types:checked\").length < 1){  //make sure one of the radios are checked.\n			$block.find(\"input.allow_guests_types:first\").prop(\"checked\",true);\n		}\n	} else{\n		$(\"#allow-guests-types\").hide();\n	}\n});\n\n$rsvpSettingsForm.on('change',\"#display_closed_message\",function(){\n	var $block = $(\"#closed-msg-info\");\n	if($(this).val() == 1){\n		$block.show();\n		if($.trim($(\"#button-closed-message\").val())==''){\n			$(\"#button-closed-message\").removeClass('disabled');\n		} else{\n			$(\"#button-closed-message\").addClass('disabled');\n		}\n	} else{\n\n		$block.hide();\n	}\n});\n\n$rsvpSettingsForm.on({ // #button-closed-message {{{\n	focus:function(){\n		$(\"#button-closed-message\").removeClass('disabled');\n	},\n	focusout:function(){\n		if($.trim($(this).val())!=''){\n			$(this).addClass('disabled');\n			$(\"#edit-closed-msg-text\").show();\n		}\n	}\n},\"#button-closed-message\");\n$rsvpSettingsForm.on('change','input.allow_guests_types',function(){\n	var $this = $(this);\n	var selected = $rsvpSettingsForm.find(\"input.allow_guests_types:checked\").val();\n	if(selected=='plus_one'){\n		$(\"#guest-complex-settings\").hide();\n	} else{ //multiple guests. more to show.\n		$(\"#guest-complex-settings\").show();\n	}\n});\n\n$rsvpSettingsForm.on('change',\"#privacy-checkbox\",function(){\n	if($(this).val()=='1'){\n		$(\"#privateSettings\").show();\n	} else{\n		$(\"#privateSettings\").hide();\n	}\n	_gaq.push(['_trackEvent', 'FineTune', 'SettingsPrivateToggle', 'id:'+constants.event_id]);\n});\n\n$rsvpSettingsForm.on('click',\"#rsvp-postback-nu\",'click',function(){\n	if($('#rsvp-postback-check').val()=='1'){\n		$(\"#rsvp-postback-settings\").show();\n	} else{\n		$(\"#rsvp-postback-settings\").hide();\n		$(\"#rsvp-postback-url\").val('');\n	}\n	_gaq.push(['_trackEvent', 'FineTune', 'SettingsPostback', 'id:'+constants.event_id]);\n});\n\n$(\"#rsvp-postback-addfield\").on('click',function(){\n	var $holder = $(\"#rsvp-postback-fields\");\n	var $new = buildRsvpPostbackField();\n	$holder.append($new);\n})\n\n$rsvpSettingsForm.on('change','#rsvp-postback-fields select',function(){\n	var $this = $(this);\n	var $pbfield = $this.parents('.field:first');\n	var $input = $pbfield.find('input.newindex');\n	if ($input.length == 1) {\n		$input.val($this.val());\n	}\n\n	if ($this.val() == 'static-value') {\n		$pbfield.find('input.value').show();\n	} else {\n		$pbfield.find('input.value').hide();\n	}\n});\n\n$rsvpSettingsForm.on('click','#rsvp-postback-fields .remove',function(){\n	$(this).parents('.field:first').remove();\n	rsvpSettingsSavable();\n});\n\n\n\n$rsvpSettingsForm.on('change','.question-name-placeholder',function(){\n	$(this).val('');\n});\n$rsvpSettingsForm.on('change','select',function(){\n	rsvpSettingsSavable();\n})\n$rsvpSettingsForm.on('click','span.addValueLink',function(){\n	var $v=$(this).siblings('.values');\n	var $n=$v.find('.blank').clone();\n	$n.removeClass('hide blank');\n	$v.append($n);\n	$n.find(\"input.fieldValue\").focus();\n\n	rsvpSettingsSavable();\n\n});\n\n$rsvpSettingsForm.on('keyup','input.custom-name',function(){\n	var $this = $(this);\n	var $wrap = $this.parents(\".custom-rsvp-field-wrap\");\n	var value = (''+this.value).replace(/[<>]/g,'');\n	//if($wrap.hasClass('label')){ //allow html in this case.\n	if(!$wrap.hasClass('text') || $wrap.find(\"input.mark-as-header:checked\").length>0){\n		$this.parents('.holder').find('div.title').text(value).end()\n			.find(\".question-name\").text(value);\n	//} else if($wrap.hasClass('textarea')){\n	//	$this.parents('.holder').find('div.title').text(this.value).end()\n	//		.find(\".question-name\").text(this.value);\n	//}\n	} else if( $wrap.find('input.question_as_label').val() == 1 ){\n			$this.parents('.holder').find('div.title').text(value).end()\n			.find(\".question-label\").text(value).show();\n\n			$this.parents('.holder').find('div.title').text(value).end()\n			.find(\".question-name-placeholder\").attr(\"placeholder\",'');\n	} else{\n		$this.parents('.holder').find('div.title').text(value).end()\n			//.find(\".question-name\").text(this.value).end()\n			.find(\".question-name-placeholder\").attr(\"placeholder\",value);\n\n			$this.parents('.holder').find(\".question-label\").hide();\n	}\n\n	// $this.parents(\".holder\").parents('.custom-rsvp-field-wrap').find('.question-name,div.title').text(this.value);\n	// $this.parents('.custom-rsvp-field-wrap').find('input.question-name-placeholder').prop('placeholder',this.value);\n	rsvpSettingsSavable();\n})\n$rsvpSettingsForm.on('change','.custom-rsvp-field-wrap input.mark-as-header',function(){\n	var $this = $(this);\n	var $parent = $this.parents(\".custom-rsvp-field-wrap\");\n	var question = $parent.find(\"input.custom-name\").val();\n	if($this.prop(\"checked\")){\n		var helper_text = $parent.find(\"input.helper-text-input\").val();\n		$parent.find(\".helper-text-block\").fadeIn().end()\n			.find(\".question-name-placeholder\").attr(\"placeholder\",'').end()\n			.find(\".helper-text\").text(helper_text).end()\n			.find(\".question-name\").text(question);\n	} else{\n		$parent.find(\".helper-text-block\").hide().end()\n			.find(\".helper-text,.question-name\").html('').end()\n			.find(\".question-name-placeholder\").attr(\"placeholder\",question);\n	}\n});\n// There's an error here to solve. Don't deploy to live without fixing this\n$rsvpSettingsForm.on('click','.add-helper-text',function(){\n	var $input = $(this).parents(\".helper-text-block\").find(\"input.helper-text-input\");\n	// If hiding, save previous helper text in a temp variable so it isn't lost if unchecking by mistake\n	if ( $(this).attr('data-value') === '1' ) {\n		$input.attr('placeholder', $input.val());\n		$input.val('').hide();\n		$(this).parents(\".custom-rsvp-field-wrap\").find(\"span.helper-text\").text('');\n		$(this).attr('data-value','0'); // data-value custom attribute is used to avoid using an array or depending on value of input(unreliable)\n	}\n	else {\n		$input.val(  $input.attr('placeholder') );\n		$input.show().focus();\n		$(this).parents(\".custom-rsvp-field-wrap\").find(\"span.helper-text\").text($input.val());\n		$(this).attr('data-value','1'); // data-value custom attribute is used to avoid using an array or depending on value of input(unreliable)\n	}\n	preventDefault();\n});\n$rsvpSettingsForm.on('keyup','input.helper-text-input',function(){\n	$(this).parents(\".holder\").find(\".helper-text\").text($(this).val());\n});\n$rsvpSettingsForm.on('change','input,textarea',function(){\n	rsvpSettingsSavable();\n})\n$rsvpSettingsForm.on('keyup',\".conf-msg-input\",function(){//these should change on keyup.\n	rsvpSettingsSavable();\n});\n\n$rsvpSettingsForm.on('change','.custom-rsvp-field-wrap input.type',function(){\n	var $this = $(this);\n	var type = $this.val();\n	var $cfw = $this.parents('.custom-rsvp-field-wrap:first');\n	$cfw.removeClass('checkbox check_multi text textarea select file radio label date short_date time').addClass(type);\n	//if ( type == 'text' || type == 'file' ){\n	//	$cfw.find('.options-wrap').hide();\n	//}\n	//else{\n		$ow = $cfw.find('.options-wrap');\n		$ow.show();\n		if ( $ow.find('.values .fieldValueWrap').length < 2 ){\n			$ow.find('span.addValueLink').click();\n		}\n	//}\n	var $field = $cfw.find(\"input.custom-name\");\n	if(type!='text' || $cfw.find(\"input.mark-as-header:checked\").length>0){\n		$cfw.find(\".question-name\").text($field.val());\n	} else{\n		$cfw.find(\".question-name\").text($field.val()).end()\n			.find(\"input.question-name-placeholder\").prop(\"placeholder\",$field.val());\n	}\n\n	// If we are switching to short_date or time, we set \"show question as label\" selected by default\n	// Otherwise, unselected by default\n	if ( type == 'short_date' || type == 'time' ) {\n		$cfw.find('label.show-as-label').addClass('checked').find('input').val('1');\n		$cfw.find('.custom-rsvp-field-wrap input.mark-as-header').trigger('change');\n		$cfw.find('span.question-label').text( $cfw.find('input.custom-name').val().replace(/[<>]/g,'') );\n	} else {\n		$cfw.find('label.show-as-label').removeClass('checked').find('input').val('0');\n		$cfw.find('.custom-rsvp-field-wrap input.mark-as-header').trigger('change');\n		$cfw.find('span.question-label').text('');\n	}\n\n	rsvpSettingsSavable();\n\n});\n\n$rsvpSettingsForm.on('click','.clear-choices span',function(){\n	$(this).closest('.response-preview-wrap').find('input.radio-input').prop('checked', false).trigger('change');\n	$(this).parent().addClass('hide');\n});\n\n$rsvpSettingsForm.on('click', '.response-preview-wrap input.radio-input', function() {\n	$(this).closest('.response-preview-wrap').find('.clear-choices').removeClass('hide');\n});\n\n$rsvpSettingsForm.on('click','.delete-question',function(){\n	//$(this).parents('.custom-rsvp-field-wrap:first').remove();\n	$(this).parents(\"li.holder\").remove();\n	rsvpSettingsSavable();\n	return false;\n});\n\n$rsvpSettingsForm.on('click','.delete-value',function(){\n	$(this).parent().remove();\n\n	rsvpSettingsSavable();\n\n	return false;\n});\n\n\n$rsvpSettingsForm.on('click',\"li.holder\",function(){\n\n	// showRsvpEditingView();\n	var $this = $(this);\n	if($this.hasClass('locked')){return false; }\n	//var $li = $this.parents(\"li.holder\");\n	var $link = $this.find(\"a.edit-btn\");\n	if(!$link.hasClass('hide-question')){\n		$this.addClass('openQuestion').find(\"div.custom-rsvp-field-wrap\").slideDown(100);\n		$link.addClass('hide-question').text('Close');\n	}\n\n});\n$rsvpSettingsForm.on('click','a.edit-btn',function(){\n	var $this = $(this);\n	var $li = $this.parents(\"li.holder\");\n	if($this.hasClass('hide-question')){\n\n\n		$wrap = $this.siblings('.custom-rsvp-field-wrap:first')\n		$thisVal = $wrap.find('input.custom-name').val()\n\n		if( $thisVal == '' ){ // IF INPUT EMPTY, DONT LET USER CLOSE\n			$wrap.addClass('error')\n			return false\n		}\n\n		$wrap.removeClass('error')\n\n		if( $li.find('.required-opt').hasClass('checked') ){\n			$li.find('.required').html('Required');\n		} else {\n			$li.find('.required').html('');\n		}\n\n		$li.removeClass('openQuestion').find(\"div.custom-rsvp-field-wrap\").slideUp(100);\n		$this.removeClass('hide-question').text('Edit');\n		$li.find(\"div.type\").text($li.find(\"input.type\").parents('.nu-dropdown:first').find('.current').text());\n		return false;\n	}\n\n});\n\n$rsvpSettingsForm.on('click','a.addCheckBoxFile',function(){\n	$(this).hide().parent().find(\".saveCheckBoxFile\").show().end().find(\".checkBoxFileUpload\").show().click();\n});\n$rsvpSettingsForm.on('change','input.checkBoxFileUpload',function(){\n	$(this).parent().find(\"a.saveCheckBoxFile\").click();\n});\n$rsvpSettingsForm.on('click','a.saveCheckBoxFile',function(){\n	var $this = $(this);\n	var $parent = $this.parent();\n	var $input = $parent.find(\"input.checkBoxFile\");\n	if($input.val()==''){\n		alert('Please select a file to upload.');\n		$parent.find(\"input.checkBoxFile\").click();\n		return false;\n	}\n	else if($this.hasClass('in-progress')){\n		return false;\n	}\n	$this.addClass('in-progress').text('Uploading...');\n	var $form = $this.parents('form:first');\n	$form.ajaxSubmit({\n		url: $form.attr('action'),\n		dataType: 'json',\n		success: function(response, statusText, xhr, $form){\n			$this.removeClass('in-progress').text('Uploaded!');\n			setTimeout(function(){\n				$this.text('Upload').hide();\n				$parent.find(\".checkBoxFileUpload\").hide().end().find(\".addCheckBoxFile\").text('+Change file').show();\n			},3000);\n			$input.val('');\n			$parent.find(\"a.viewLink\").prop(\"href\",response.path).show();\n			//$this.parents(\".vue\").find(\".question-name\").find(\"a.viewLink\").remove().after('<a class=\"viewLink\" target=\"_blank\" href=\"'+response+'\">View</a>');\n			$parent.find(\"input.hasFileUploaded\").val(response.path);\n			//console.log(response);\n			//alert(response);\n			//$('#simple-modal-ajax').html(response);\n		},\n		error: function(){\n			alert('Whoops.  Looks like there was an error.  Please make sure you are uploading one of the following file types: PDF, JPG, GIF, PNG');\n			$this.removeClass('in-progress').text('Upload');\n		}\n	});\n});\n$rsvpSettingsForm.on('change',\"#waitlist-check\",function(){//waitlist section toggling.\n	if($(this).val()=='1'){\n		$(\"#waitListConfMessaging\").show();\n	} else{\n		$(\"#waitListConfMessaging\").hide();\n	}\n});\n\n\n}\n\n// End Click Actions for rsvp Settings }}}\n///////////////////////////////////////////////////////\n\n///////////////////////////////////////////////////////\n// rsvp Utility Functions {{{\n\n\nfunction rsvpPopulateData($n,field){\n	//console.log(field);\n			console.log('returned test');\n\n	if ( typeof field.number !== 'undefined' ){\n\n		$n = $n.find(\".custom-rsvp-field-wrap\");\n		$n.attr(\"question-number\",field.number);\n		$n.removeClass('blank');\n		$n.find('input.number').val(field.number);\n		$n.find('input.custom-name').val(field.name);\n		$n.find('input.custom_class').val(field.custom_class);\n\n		if( field.type=='text' && (typeof field.header==='undefined' || field.header != '1')  && (typeof field.question_as_label==='undefined' || field.question_as_label != '1')){\n			//$n.find('.question-name').html(field.name);\n			$n.find(\"input.question-name-placeholder\").prop(\"placeholder\",field.name);\n		} else {\n			$n.find('.question-label').text(field.name);\n		}\n\n		//$n.find(\".label-preview\").find(\".question-name\").html(field.name);\n		//$n.find('input.question-name-placeholder').prop('placeholder',field.name);\n		//$n.find('select.type option[value=\"'+field.type+'\"]').prop('selected',true).trigger('change');\n		flipDropDown($n.find(\"input.type\").parents(\".nu-dropdown:first\"),field.type,true);\n\n		if ( field.required == \"1\" ){\n			$n.find('input.required').val(1).parent().addClass('checked');\n		}\n		if ( field.question_as_label && field.question_as_label == \"1\" ){\n			$n.find('input.question_as_label').val(1).parent().addClass('checked');\n		}\n		if(typeof field.header!=='undefined' && field.header=='1'){\n			$n.find(\".mark-as-header\").val(1).parent().addClass('checked');\n			$n.find(\".helper-text-block\").addClass('showme').css('display','block');\n		}\n\n		for ( var z in field.values ){\n			if ( field.values[z] != '' ){\n				if(field.values[z]!='include_other_opt'){\n\n					var $val = $n.find('.values .blank').clone();\n					$val.removeClass('blank hide');\n					$val.find('input').val(field.values[z]);\n					$n.find('.values').append($val);\n					if(typeof field.selected_values!=='undefined' && $.inArray(field.values[z],field.selected_values) > -1){\n\n						if(field.type=='select'||field.type=='radio'){\n							$val.find(\"input.radio-input\").prop(\"checked\",\"true\");\n						} else{\n							$val.find(\"input.default-val\").val(1).parent().addClass('checked');\n						}\n					}\n				} else{\n					$n.find(\"input.other-option\").val(1).parent().addClass('checked');\n				}\n			}\n		}\n		if(field.type=='checkbox' && typeof field.selected_values!=='undefined' && $.inArray(field.name,field.selected_values)>-1){\n			$n.find(\"input.default-val\").val(1).parent().addClass('checked');\n		}\n\n		$n.removeClass('checkbox check_multi text textarea select file radio').addClass(field.type);\n		if ( field.type == 'textarea' || field.type == 'text' || field.type == 'checkbox' || field.type == 'file' ){\n			$n.find('.options-wrap').addClass('hide');\n		}else{\n			$n.find('.options-wrap').removeClass('hide');\n		}\n		//console.log(field);\n		//if(field.type=='label'){\n			if(typeof field.helper_text!=='undefined' && field.helper_text!=''){\n				$n.find(\"label.add-helper-text\").addClass(\"checked\").attr('data-value','1').end().\n					find(\"input.helper-text-input\").removeClass('hide').val(field.helper_text).end().\n					find(\".helper-text\").text(field.helper_text);\n			}\n			if(typeof field.external_link!=='undefined'){\n				$n.find(\"input.hasFileUploaded\").val(field.external_link);\n				$n.find(\".fileUploadContain\").find(\"a.viewLink\").prop(\"href\",field.external_link).removeClass('hide');//();\n				$n.find(\".addCheckBoxFile\").text('+Change file');\n			}\n		//}\n\n		$('li.nav-tickets .subnav-link.tix-nav-link').click();\n\n	}\n	//console.log($n);\n	return $n;\n\n}\n\nfunction buildRsvpQuestion($n,field,$ul){\n	if ( typeof field.number !== 'undefined' ){\n\n		field.name = (''+field.name).replace(/[<>]/g,'');\n\n		$n.attr(\"question-number\",field.number);\n		$n.find(\"div.title\").text(field.name);\n		var t = $n.find(\"input.type\").parents('.nu-dropdown:first').find(\".option[value=\"+field.type+\"]\").text();//find('.current').text();\n\n		$n.find(\"div.type\").text(t);\n\n		if ( field.required == \"1\" ){\n			$n.find('div.required').text('Required');\n		} else {\n			$n.find(\"div.required\").html('');\n		}\n		if(typeof field.default_check!=='undefined'){\n			$n.find(\"input.default-val\").val(1).parent().addClass('checked');\n		}\n\n		rsvpPopulateData($n,field);\n		$ul.append($n);\n		if(typeof field.start_open!=='undefined'){ //open by default.\n			$n.find(\".edit-btn\").click();\n		}\n		//$n.removeClass('hide blank');\n		//$n.find('input.number').val(field.number);\n	}\n}\n\nfunction rsvpReturnData($questionRows,validate){\n	//console.log(\"hi\");\n	validate = ( typeof validate == 'undefined' ) ? true : validate; // default is true\n	var field = {name:'',number:0};\n	if ( !$questionRows.hasClass('blank') ){\n		field.name = $.trim($questionRows.find('input.custom-name').val());\n		field.number = $questionRows.find('input.number').val();\n		field.type = $questionRows.find('input.type').val();\n		field.required = $questionRows.find('input.required').val();\n		field.question_as_label = $questionRows.find('input.question_as_label').val();\n\n		//if(field.type=='label'){\n			field.helper_text = $questionRows.find(\"input.helper-text-input\").val();\n		//}\n\n		//used to handle custom classes\n		if($questionRows.find(\"input.custom_class\")) {\n			field.custom_class = $questionRows.find(\"input.custom_class\").val();\n		}\n\n		if(field.type=='checkbox' && $questionRows.find(\"input.hasFileUploaded\").val()!='0'){\n			field.external_link = $questionRows.find(\"input.hasFileUploaded\").val();\n		}\n\n		if(field.type == 'text'){\n			if($questionRows.find(\"input.mark-as-header\").prop(\"checked\")){\n				field.header = 1;\n			}\n		}\n		field.values = [];\n		if(field.type=='check_multi' || field.type == 'select' || field.type=='checkbox' || field.type == 'radio'){\n			field.selected_values = [];\n		}\n\n		$questionRows.find('.values .fieldValue').each(function(){\n			var v = $(this).val();\n			if ( v != ''){\n				field.values.push(v);\n				if(field.type=='radio'){\n					if($(this).parents(\".fieldValueWrap\").find(\"input.radio-input:checked\").length>0){\n						field.selected_values = [];\n						field.selected_values.push(v); //only 1 for radio.\n					}\n				} else{\n					var $input = $(this).parents(\".fieldValueWrap\").find(\"input.default-val\");\n					if($input.length > 0 && $input.val()=='1'){\n						field.selected_values.push(v);\n					}\n				}\n\n			}\n\n		});\n\n		if(field.type=='checkbox'){\n			var $default_val = $questionRows.find(\".vue .fieldValueWrap\").find(\"input.default-val\");\n			if($default_val.length > 0 && $default_val.val()=='1'){\n				field.selected_values.push(field.name);\n			}\n		}\n		// if($questionRows.find(\"input.default-val:checked\").length){\n		// 	field.selected_values.push($questionRows.find(\"input.default-val:checked\").val());\n		// }\n\n		if($questionRows.find(\"input.other-option\").length > 0 && $questionRows.find(\"input.other-option\").val()=='1'){\n			field.values.push('include_other_opt');\n		}\n\n\n		// if ( ( field.type == 'radio' || field.type == 'select' || field.type == 'check_multi' ) && field.values.length == 0 ){\n		// 	//$questionRows.removeClass('error');\n		// 	//$rsvpSettingsForm.find('.errorMessage2').html('Custom Questions of type Radio, Dropdown, and Checkbox Multi require Response Options.');\n		// 	//return false;\n		// }\n		// else {\n		// 	$questionRows.removeClass('error');\n		// }\n\n		if ( field.name != '' ){\n			return field;\n		}\n	}\n\n	return false;\n}\n\nfunction getCustomFieldNumber($parent){\n	var number = false;\n	for ( var i=1; i <= constants.maxCustomRsvpFields; i++ ){\n		if ( number === false ) {\n			if ( $parent.find('input.number[value='+i+']').length == 0 ) {\n				number = i;\n			}\n		}\n	}\n	return number;\n}\n\n// End rsvp Utility Functions }}}\n///////////////////////////////////////////////////////\n\n// End rsvp Settings juice }}}\n/////////////////////////////////////////////////////////////////////////////////////\n//\n	function reloadRSVPBlock(){\n\n		var $rsvp_section = $(\"#element-rsvp\");\n\n		$rsvp_section.addClass('loading');//html(constants.loader);\n		var params = { event_id: constants.event_id }; //, rsvp_method: $(\"#rsvp_method_input\").val() };\n		var $inline = $(\"#rsvp-inline-checkbox\");\n		if($inline.length > 0 && $inline.val()=='1'){\n			params.inline = 1;\n\n		}\n		$.post(\"/events/reloadRsvpSection\", params, function(response){\n\n			$rsvp_section.html(response).removeClass('loading');\n\n			var $newModal = $('#temp-rsvp-modal');\n			if ($newModal.length == 1) {\n				$newModal.detach();\n				var $old = $('#rsvp-modal');\n				$old.after($newModal);\n				$old.remove();\n				$newModal.attr('id','rsvp-modal').hide();\n			}\n			if($rsvp_section.find(\"div.rsvp-closed\").length > 0){\n\n				//updateColorPicker(\"rsvp-color-input\",'#ffffff');\n				//updateColorPicker(\"rsvp-bg-color-picker\",'rgba(0,0,0,.2)');\n				var $layoutGrp = $rsvp_section.parents(\".layoutGrp:first\");\n				var gid = $layoutGrp.prop(\"id\");\n				//$layoutGrp.css({'color':'#ffffff','background-color':'rgba(0,0,0,.2)'});\n				var $accordion = $(\"#acc-ft\"+gid);\n				if($accordion.length>0){\n					var $classInput = $accordion.find(\"input.class\");\n					$classInput.val($classInput.val()+' rsvp-closed').trigger('change');\n				}\n			} else if($rsvp_section.parents(\".layoutGrp:first\").hasClass('rsvp-closed')){\n				var gid = $rsvp_section.parents(\".layoutGrp:first\").prop(\"id\");\n				var $accordion = $(\"#acc-ft\"+gid);\n				if($accordion.length>0){\n					var $classInput = $accordion.find(\"input.class\");\n					$classInput.val($classInput.val().replace(/\\s\\s*/g,' ').replace(/rsvp-closed/g,''));\n					$classInput.trigger('change');\n				}\n			}\n\n			// Update the captcha_enabled flag\n			captcha_enabled = ( $('#captcha_enabled_checkbox').length > 0 && $('#captcha_enabled_checkbox').val() == 1 );\n\n			// Reload the captcha block when reloading the RSVP block\n			if ( captcha_enabled ) {\n\n				$('#rsvp-submit').parents(\".btnWrap\").before(\"<div id='captcha-error' class='hide'>Wrong captcha response</div><div id='captcha'></div>\");\n\n				// Load the recaptcha library in case it wasn't already\n				if ( $('#recaptcha_script').length == 0 ) {\n					$.getScript('http://www.google.com/recaptcha/api/js/recaptcha_ajax.js')\n					.done( function() {\n						createRecaptcha();\n					});\n				}\n				else\n					createRecaptcha();\n			}\n\n			// prepare timepicker and datepicker inputs\n			$(\"input.input-type-time\").timepicker({\n				appendTo: '#rsvp-form-inner'\n			});\n			$(\".input-type-short-date\").datepicker({ dateFormat: \"mm/dd/y\" });\n\n			finetuneActivateOnPageEditables();\n		});\n		return true;\n	}\n\n	/* Function to display the recaptcha element\n	   Separated here to avoid repeating code in the reloadRSVPBlock function\n	   */\n	function createRecaptcha() {\n		Recaptcha.create(captcha_public_key, \"captcha\",\n	    {\n	      theme: \"clean\",\n	      callback: Recaptcha.focus_response_field\n	    });\n	}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/rsvp-settings.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 30835,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/theme-modal.ctp",
			"settings":
			{
				"buffer_size": 2962,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/splash_controller.php",
			"settings":
			{
				"buffer_size": 66871,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/contacts/view.ctp",
			"settings":
			{
				"buffer_size": 26125,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/app_model.php",
			"settings":
			{
				"buffer_size": 21501,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/finetune.css",
			"settings":
			{
				"buffer_size": 66989,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/config/core.php",
			"settings":
			{
				"buffer_size": 7485,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/layouts/subsite-layout.ctp",
			"settings":
			{
				"buffer_size": 23775,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/vendors/debug.php",
			"settings":
			{
				"buffer_size": 575,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/config/database.php",
			"settings":
			{
				"buffer_size": 1506,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/splash/simple-page.ctp",
			"settings":
			{
				"buffer_size": 22393,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/events_controller.php",
			"settings":
			{
				"buffer_size": 301614,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/create_flow_b.ctp",
			"settings":
			{
				"buffer_size": 7896,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/social-links.ctp",
			"settings":
			{
				"buffer_size": 2125,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/sites/view.ctp",
			"settings":
			{
				"buffer_size": 22388,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "var warnBeforeLeaving = false;\nwindow.onbeforeunload = function (evt) {\n	if ( warnBeforeLeaving ){\n		var message = \"Unsaved changes will be lost.\\nYou should save your event before leaving!\";\n		if (typeof evt == undefined) {\n			evt = window.event;\n		}\n		if (evt) {\n			evt.returnValue = message;\n		}\n		return message;\n	}\n}\n$(document).ready(function(){\n\n	$('body').addClass('createPage')\n\n	$(\"html\").click(function(e){\n		if(e.target.nodeName!='LI'){\n			var $target = $(e.target);\n			if(openCustomSelects && !$target.parents(\"ul.custom-select\").length){\n				$(\"ul.custom-select.open\").removeClass('open');\n				openCustomSelects = false;\n			}\n		}\n	});\n	$(document).on('click',\"a\",function(event){\n		if($(this).attr(\"href\")=='#'){\n			event.preventDefault();\n		}\n	});\n	$(window).bind('hashchange',function(){\n		//console.log('You clicked something that changed the hash tag to #.  Remember!  What was it!?');\n		var hash = getHash();\n		var $wrap = $(\"#splashTypeWrap\");\n		if(hash=='!'){\n			if($wrap.hasClass('showForm')){\n				$wrap.removeClass('showForm');\n				$('#splashTypeWrap .inner-wrap .newEventText').text('New Event');\n				$('#splashTypeWrap .inner-wrap h1').show();\n				$('#splashTypeWrap .inner-wrap .createBackBtn').hide()\n				$('.inner-type-wrap').removeClass('selected');\n\n				$('#splashTypeWrap .inner-wrap').attr('style', '');\n\n				setTimeout(function(){\n					$('#splashTypeWrap .inner-wrap').css('transition', 'none');\n				}, 350)\n\n			}\n			// if(!$(\"div.step-1\").hasClass('active')){\n			// 	animatePane();\n			// }\n\n		}\n		else{\n			if(!$wrap.hasClass('showForm')){\n				var code = hash.split('-');\n				if(code.length>1){\n					code = code[1];\n					var $inner_wrap = $(\"div.inner-type-wrap[code='\"+code+\"']\");\n					if($inner_wrap.length){\n						$inner_wrap.removeClass('selected').click();\n					}\n				}\n			}\n			//if(!$(\"div.step-2\").hasClass('active')){\n			//	animatePane();\n			//}\n		}\n\n		setBGimg();\n\n	});\n\n\n	function setBGimg(){\n		var hash = getHash()\n		// console.log(hash);\n		if(hash == 'create-event'){\n			$('#starter-image-wrap').css('opacity','1')\n			//$('#starter-image-wrap').css({'background':\"url('/images/create/rsvp-back.jpg') center center no-repeat\", 'background-size':'100%', 'opacity':'1'})\n		} else if(hash =='create-tickets'){\n			$('#starter-image-wrap').css('opacity','1')\n			//$('#starter-image-wrap').css({'background':\"url('/images/create/ticketed-back.jpg') center center no-repeat\", 'background-size':'100%', 'opacity':'1'})\n		} else {\n			$('#starter-image-wrap').css({'background-size':'100%', 'opacity':'0'})\n\n		}\n	}\n\n	// Since the event is only triggered when the hash changes, we need to trigger\n	// the event now, to handle the hash the page may have loaded with.\n	var url = getHash();\n	if(url != ''){\n		window.location.hash = '!';\n	}\n\n\n	$(document).on('keypress','input',function(e){\n		if ( e.which == 13){\n			e.preventDefault();\n			$('input,textarea')[$('input,textarea').index(this)+1].focus();\n		}\n	});\n	$(\"#timezone-link\").click(function(){\n		_gaq.push(['_trackEvent', 'Create', 'TimezoneOpen', 'id:'+constants.event_id]);\n		$(this).hide();\n		$(\"#timezone-selector\").show().addClass('manually-changed').focus();\n	});\n	$(\"#timezone-selector\").focusout(function(){\n		$(this).hide();\n		var thisText = $(this).find(\":selected\").text()\n		$('.timeZoneText').text(thisText)\n		$('#timezone-link').show();\n		_gaq.push(['_trackEvent', 'Create', 'TimezoneChanged', 'id:'+constants.event_id]);\n	}).change(function(){\n		$(this).hide();\n		var thisText = $(this).find(\":selected\").text()\n		$('.timeZoneText').text(thisText)\n		$('#timezone-link').show();\n		_gaq.push(['_trackEvent', 'Create', 'TimezoneChanged', 'id:'+constants.event_id]);\n	});\n	$(\"form\").submit(function(){\n		var $title = $(\"#event-title\");\n		if($.trim($title.val())==''){\n			$title.focus();\n			$(\"#form-error\").text('Enter a valid title.').fadeIn(200);\n			_gaq.push(['_trackEvent', 'Create', 'Title Error', 'id:'+constants.event_id]);\n			return false;\n			//$title.focus().addClass('error-border'){}\n		}\n\n		if($(\"#valid-domain\").val()!='1'){\n			//$(\"#splashDomainManual\").show();\n			//$(\"#event-domain\").show().focus();\n			//$(\"#splashDomainLink\").hide();\n			$(\"#event-domain-field\").focus();\n			//$(\"#form-error\").text('Enter a valid domain.').fadeIn(200);\n			_gaq.push(['_trackEvent', 'Create', 'Domain Error', 'id:'+constants.event_id]);\n			return false;\n		} else{\n			$(\"#form-error\").hide();//\n			if( ! $(\"#event-domain\").hasClass('skipThis') ){\n				$(\"#event-domain\").val($.trim($(\"#event-domain-field\").text()));\n			}\n		}\n\n		$(\"span.burst\").show();\n		$(\"#splashCreateButton\").val('Brace Yourself!').addClass('brace-yourself');\n		_gaq.push(['_trackEvent', 'Create', 'Success Submit', 'id:'+constants.event_id]);\n	});\n\n	$(\"a.section-link\").click(function(){\n		$(this).hide().parents(\"div.sectionWrap\").find(\"div.section-holder\").show();\n		$(\"#hide-date,#hide-venue\").val(0);\n\n	});\n\n	$( \"#venue-search\" ).focus(function() {\n	  $('.address-search').css('color', '#06deef')\n	});\n\n	$( \"#venue-search\" ).focusout(function() {\n	  $('.address-search').css('color', '#888')\n	});\n\n	initializeVenueMap();\n	$(\"#event_date\").datepicker({\n		dateFormat: 'mm/dd/y',\n	 	onSelect: function(dateText, inst) {\n	 		//when you change the event start date, also change the end date.\n	 		//we want to filter both the date and the range of the end date, making all days earlier\n	 		//than the event start unselectable.\n	 		$(\"#event_date_end\").datepicker('option','minDate', dateText).val(dateText);\n			$(\"#event_start_hr\").change();\n			if($(\"#time-tbd-checkbox\").attr(\"checked\")){\n				$(\"#time-tbd-checkbox\").attr(\"checked\",false);\n				clickDateTBD($(\"#time-tbd-checkbox\"));\n\n			}\n			_gaq.push(['_trackEvent', 'Create', 'Event Start Changed', 'id:'+constants.event_id]);\n	 	}\n	});\n	$(\"#event_date_end\").datepicker({\n		dateFormat:'mm/dd/y',\n		minDate: $(\"#event_date\").val(),\n		onSelect: function(dateText, inst){\n			if($(\"#time-tbd-checkbox\").attr(\"checked\")){\n				$(\"#time-tbd-checkbox\").attr(\"checked\",false);\n				//$(\"#event_date\").val(dateText);\n				clickDateTBD($(\"#time-tbd-checkbox\"));\n			}\n			_gaq.push(['_trackEvent', 'Create', 'Event End Changed', 'id:'+constants.event_id]);\n\n			//for some reason, the change() for .cal isn't being called on event_date_end datepick click, so just calling these here to be safe.\n			getEventLength('date');\n			//calculateDaysUntil();\n\n		}\n	});\n\n	$(\"#event_start_hr\").change(function(){\n		var hr_val = $(this).val();\n		if(hr_val == '10' || hr_val == '11' && $(\"#start_meridian\").val()=='PM'){\n\n			if($(\"#event_date\").val() == $(\"#event_date_end\").val()){\n				var new_date = $(\"#event_date\").datepicker('getDate','+1d');\n				new_date.setDate(new_date.getDate()+1);\n				$(\"#event_date_end\").datepicker('setDate',new_date);\n				var new_end_val = '01';\n				if(hr_val == 11){\n					new_end_val = '02';\n				}\n				$(\"#event_end_hr\").val(new_end_val);\n				$(\"#end_meridian\").val('AM');\n			}\n		}\n		_gaq.push(['_trackEvent', 'Create', 'EventStartHourChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#event_start_min\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'EventStartMinChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#start_meridian\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'EventStartMerChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#event_end_hr\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'EventEndHourChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#event_end_min\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'EventEndMinChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#end_meridian\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'EventEndMerChanged', 'id:'+constants.event_id]);\n	});\n	$(\"#venue-tbd-checkbox\").change(function(){\n		_gaq.push(['_trackEvent', 'Create', 'VenueTBDCheck', 'id:'+constants.event_id]);\n	});\n	$(\"#event-subtitle-link\").click(function(){\n		console.log('hide');\n		_gaq.push(['_trackEvent', 'Create', 'SubtitleClick', 'id:'+constants.event_id]);\n		$(this).hide();\n		$(\"#event-description,#delete-description\").show();\n		$(\"#event-description\").focus();\n	});\n	$(\".cal\").change(function(){\n		if($(this).hasClass('hasDatePicker')){\n			var type = 'date';\n		} else{\n			var type = 'time';\n		}\n		getEventLength(type);\n		//calculateDaysUntil();\n	});\n\n	$('.inner-type-wrap').click(function(){\n\n\n		var newText = 'New Ticketed Event';\n		var item = 'ticket';\n		if( $(this).attr('code') == 'event' ){\n			newText = 'New RSVP Event'\n			item = 'rsvp';\n		}\n\n		if(typeof Indicative!=='undefined'){\n			Indicative.buildEvent('event-eventCreateClick',(''+constants.event_id), { 'event_id': constants.event_id,'type':item });\n			Indicative.buildEvent('user-eventCreateClick',constants.user_email, { 'event_id': constants.event_id,'type':item });\n		}\n\n		$('#splashTypeWrap .inner-wrap').find('.newEventText').text( newText ).end()\n		.find('.createBackBtn').show().css('opacity', '1')\n		.find('h1').show();\n\n		setTimeout(function(){\n			$('#splashTypeWrap').addClass('showForm');\n\n				var thisHeight = $('#eventSettingsWrap').outerHeight(); - 86;\n\n				console.log(thisHeight);\n\n\n\n			$('#splashTypeWrap .inner-wrap').attr('style', '');\n\n			$('#splashTypeWrap .inner-wrap').css({'height':thisHeight + 'px', 'margin-top':-(thisHeight/2) + 'px' });\n\n\n		}, 20)\n\n\n\n	});\n\n	$('#eventSettingsWrap .address-search, #eventSettingsWrap .google-search').click(function(){\n		setTimeout(function(){\n			var thisHeight = $('#eventSettingsWrap').outerHeight(); - 86;\n			$('#splashTypeWrap .inner-wrap').css({'height':thisHeight + 'px', 'margin-top':-(thisHeight/2) + 'px' });\n		}, 50)\n	});\n\n	$('#splashTypeWrap .inner-wrap .createBackBtn').click(function(){\n		$('#splashTypeWrap').removeClass('showForm');\n		$('#splashTypeWrap .inner-wrap .newEventText').text('New Event')\n		$('#splashTypeWrap .inner-wrap h1').show()\n		$('#splashTypeWrap .inner-wrap .createBackBtn').hide()\n		$(\"#custom-theme-selector\").val('');\n		window.location.hash = '!';\n		$('.inner-type-wrap').removeClass('selected')\n\n\n		// REMOVE INLINE STYLES ON inner-wrap\n		$('#splashTypeWrap .inner-wrap').attr('style', '');\n\n		setTimeout(function(){\n			$('#splashTypeWrap .inner-wrap').css('transition', 'none');\n		}, 350)\n\n		if($(\"#custom-themes-wrap\").length > 0){\n			$(\"#custom-themes-wrap\").show();\n			$('#splashTypeWrap').hide();\n		}\n	});\n\n\n	$('#time-tbd-checkbox').change(function(){\n		if( $(this).val() == 1 ){\n			$('#eventSettingsWrap .tbdHolder.timeDate').show();\n			$('#timezone-link').hide();\n\n			if( $('#removeEndTime').css('opacity') == 1 ){\n				$('#removeEndTime').css('opacity', '0');\n			}\n\n			if( $('#addEndTime').css('display') == 'none' ){\n				$(\"#event-duration\").hide();\n			}\n\n		} else {\n			$('#eventSettingsWrap .tbdHolder.timeDate').hide();\n			$('#timezone-link').show();\n\n			if( $('#removeEndTime').css('opacity') == 0 ){\n				$('#removeEndTime').css('opacity', '1');\n			}\n\n			if( $('#addEndTime').css('display') == 'none' ){\n				$(\"#event-duration\").show();\n			}\n\n		}\n	});\n\n	$('#venue-tbd').change(function(){\n		if( $(this).val() == 1 ){\n			$('#eventSettingsWrap .tbdHolder.location').show();\n\n			if($('#venue-address').css('display') == 'none'){\n				$('#eventSettingsWrap a.address-search').hide();\n			} else {\n				$('#eventSettingsWrap a.google-search').hide();\n			}\n			if($(\"#venue-name\").is(\":visible\")){\n				$(\"a.google-search:first\").click();\n				$(\"a.address-search\").hide();\n			}\n		} else {\n\n			$('#eventSettingsWrap .tbdHolder.location').hide();\n			if($('#venue-address').css('display') == 'none'){\n				$('#eventSettingsWrap a.address-search').show();\n			} else {\n				$('#eventSettingsWrap a.google-search').show();\n			}\n		}\n	});\n\n\n	$('.inner-type-wrap').hover(\n		/* this is the hover state that shows the BG img\n		function() {\n			var $this = $(this);\n			var code = $this.attr(\"code\");\n			var $img = $(\"#event-image-\"+code);\n			if($img.length){\n				$(\"#starter-image-wrap\").find(\"img.starter-image\").removeClass('active');\n				$img.addClass('active');\n				$(\"#event-image\").val($img.prop(\"src\"));\n				setTimeout(function(){\n					$(\"#template-expl\").addClass('active').html('<h3 class=\"title\">'+$this.find(\"span.title\").text()+'</h3>'+$this.find(\".just-the-tip\").html())\n				},250);\n			}\n		},\n		function() {\n			$(\"#template-expl\").removeClass('active');\n		}\n		*/\n	).click(function(){\n\n		var $this = $(this);\n		var code = $this.attr(\"code\");\n		if($this.hasClass('selected')){\n			window.location.hash = '!';\n			$this.removeClass('selected');\n			$(\"#splashTypeWrap\").removeClass('showForm');\n			_gaq.push(['_trackEvent', 'Create', 'EventTypeClose-'+code, 'id:'+constants.event_id]);\n		} else {\n			_gaq.push(['_trackEvent', 'Create', 'EventType-'+code, 'id:'+constants.event_id]);\n			window.location.hash = 'create-'+$this.attr(\"code\");\n			$(\"#splashTypeWrap\").addClass('showForm');\n			$this.addClass('selected');\n			$(\"#page-action-type\").val(code);\n			var $img_path =$(\"#event-image-\"+code);\n			if($img_path.length){\n				$(\"#event-image\").val($img_path.prop(\"src\"));\n			}\n		}\n		if(code=='gallery'){\n			$(\"#eventSettingsWrap\").addClass('gallery-block').find(\"div.subSection\").hide();\n\n		} else{\n			$(\"#eventSettingsWrap\").removeClass('gallery-block').find(\"div.subSection\").show();;\n		}\n\n	});\n\n	$(document).on('click','a.address-search',function(){\n		_gaq.push(['_trackEvent', 'Create', 'ManuallyAddAddress', 'id:'+constants.event_id]);\n		$('#venue-search').hide();\n		$(\"#venue-name\").show();\n		if($(\"#venue-name\").val()==''&& $(\"#venue-search\").val()!=''){\n			$(\"#venue-name\").val($(\"#venue-search\").val());\n		}\n		$(\"#venue-address\").show();\n		$(\"#venue-city\").show();\n		$(\"#venue-state\").show();\n		$(\"#venue-zip\").show();\n		$('#eventSettingsWrap').addClass('open')\n		$('#splashTypeWrap .inner-wrap').addClass('open')\n		$(this).hide();\n		$('a.google-search').show();\n\n		$('#eventSettingsWrap .location b.left').text('Venue Name');\n\n		$('#venue-name').attr('placeholder', 'Enter Venue Name')\n\n		$('#eventSettingsWrap .addressLabel').show();\n\n		if( $('#venue-name').val() == $('#venue-address').val() ){\n			$('#venue-name').val('')\n		}\n\n		$('#venue-name').focus();\n\n		return false;\n	});\n	$(document).on('click','a.google-search',function(){\n		_gaq.push(['_trackEvent', 'Create', 'SearchForAddress', 'id:'+constants.event_id]);\n		$('#venue-search').show();\n		$(\"#venue-name\").hide();\n		$(\"#venue-address\").hide();\n		$(\"#venue-city\").hide();\n		$(\"#venue-state\").hide();\n		$(\"#venue-zip\").hide();\n		$('#eventSettingsWrap').removeClass('open')\n		$('#splashTypeWrap .inner-wrap').removeClass('open')\n		$(this).hide();\n		$('a.address-search').show();\n\n		$('#venue-name').attr('placeholder', 'Enter Venue Name or Address')\n\n		$('#eventSettingsWrap .location b.left').text('Location');\n		$('#eventSettingsWrap .addressLabel').hide();\n\n		return false;\n	});\n	$(document).on({\n		keyup: function(e){\n			setTimeout(updateVenuePreview, 500);\n		},\n		focusout: function(){\n			updateVenuePreview();\n		}\n	},\"#venue-name,#venue-address,#venue-city,#venue-state,#venue-zip\");\n\n	$(\"#time-tbd-checkbox\").click(function(){\n		_gaq.push(['_trackEvent', 'Create', 'DateTimeTBD', 'id:'+constants.event_id]);\n		clickDateTBD($(this));\n	});\n\n	if( _event.date.tbd ){\n		$(\"#time-tbd-checkbox\").prop(\"checked\",true);\n		clickDateTBD($(\"#time-tbd-checkbox\"));\n		//$(\"#time-tbd-checkbox\").click();\n	}\n\n	$(\"a.zurb-reveal\").click(function(){\n		var $link = $(this);\n		if($link.hasClass('clicky')){ return false; }\n		$link.addClass('clicky');\n		var href = $link.attr(\"reveal-href\");\n		$(\"div.zurb-ajax-modal\").remove();//clear out any pre-existing zurb ajax modal on the page.\n		var $mask = $('<div class=\"zurb-ajax-modal reveal-modal\" style=\"width:660px;\"><div class=\"spinner\">'+$(\"#ajax-content-spinner\").html()+'</div></div>');\n\n		$(\"#container\").append($mask);\n		$.ajax({\n			url: href,\n			type: 'POST',\n			cache: false,\n			data: {},\n			success: function(data){\n				$link.removeClass('clicky');\n				$mask.hide().html(data).reveal({\n					closeonbackgroundclick: true,              //if you click background will modal close?\n					dismissmodalclass: 'close-modal',//close-modal-link'    //the class of a button or element that will close an open modal\n				}).show();\n			}\n			});\n	});\n	$(\"#splashDomainLink,#changeSplashLink\").click(function(){\n		$(\"#splashDomainLink,#changeSplashDomainLink\").hide();\n		$(\"#splashDomainManual\").show();\n		$(\"#event-domain\").focus();\n	});\n	// $(\"#splashHashLink\").click(function(){\n	// 	$(this).hide();\n	// 	$(\"#event-hashtag\").show().focus();\n\n	// });\n	$(\"#event-hashtag\").change(function(){\n		$(this).attr(\"changed\",true);\n	}).focusout(function(){\n		$(this).val('#'+$(this).val().replace(/\\W/g,''));//replace dashes$(this).replace(/ /)\n		_gaq.push(['_trackEvent', 'Create', 'HashtagEdit', 'id:'+constants.event_id]);\n	});\n	$(\"#future-event-reminder\").click(function(){\n		var params = { event_id: constants.event_id, title: $.trim($(\"#future-event-title\").val()), month: $.trim($(\"#future-event-month\").val()) };\n		if(params.title==''){\n			$(\"#future-event-title\").focus();\n			return false;\n		}\n		if(params.month==''){\n			$(\"#future-event-month\").focus();\n			return false;\n		}\n		$(\"#future-event-params\")\n			.html($(\"#future-spinner\").html())\n			.load(\"/events/saveFutureEvent\",params,function(response){\n			});\n		return false;\n	});\n\n	$(\"i.back-step\").click(function(){\n		animatePane();\n	});\n	$(\"#event-title\").keyup(function(){\n		updateEventDomain();\n		clearTimeout(typingTimer);\n		typingTimer = setTimeout(function(){\n			doneTypingDomain();\n		}, doneTypingInterval);\n	}).focusout(function(){\n		if(!$(\"#event-domain-field\").attr(\"changed\")){\n			doneTypingDomain();\n			_gaq.push(['_trackEvent', 'Create', 'TitleEdit', 'id:'+constants.event_id]);\n		}\n	});\n\n\n	$(\"#addEndTime\").click(function(){\n		_gaq.push(['_trackEvent', 'Create', 'AddEndTime', 'id:'+constants.event_id]);\n		$(this).hide();\n		$(\"#end-time-block,#event-duration\").show();\n		$(\"#hideEndTime\").val(0);\n	});\n	$(\"#removeEndTime\").click(function(){\n		_gaq.push(['_trackEvent', 'Create', 'RemoveEndTime', 'id:'+constants.event_id]);\n		$(\"#end-time-block,#event-duration,#whenwhere-error-message\").hide();\n		$(\"#addEndTime\").show();\n		$(\"#hideEndTime\").val(1);\n	})\n\n   $('.inner-type-wrap').hover(function(){\n   		$('#splashTypeWrap h1').addClass('hovered');\n   	});\n\n  // $(\"#event-type\").autocomplete({\n		// source: availableTags,\n		// minLength: 0,\n		// select: function( event, ui ) {\n		// 	$(\"#event-type-id\").val(ui.item.id);\n		// 		// log( ui.item ?\n		// 		//\"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n		// 		//\"Nothing selected, input was \" + this.value );\n		// }\n  // });\n\n  	$(\"#event-type\").keyup(function(e){\n  		if(e.keyCode==13){\n  			$(\"#splashCreateButton\").click();\n  		}\n  	});\n  	$(\"#event-type\").autocomplete({\n  		response:function(event,ui){\n  			// if(ui.length > 0 && ui.length > 1){\n  			// 	var match_found=false;\n  			// 	for(var x = 0;x<ui.length;x++){\n  			// 		if(ui[x].id==0&&!match_found){\n  			// 			ui[x].id = match_found;\n  			// 			match_found=true;\n  			// 			delete ui[x];\n					// }\n  			// 	}\n  			// }\n  		},\n		source: function (request, response) {\n		    var results = $.ui.autocomplete.filter(availableTags, request.term);\n			if (!results.length) {\n				// if($li.length > 0){\n				// 	$li.remove();\n				// }\n				//delete availableTags.newItem;\n				var match_found = false;\n				for(var i = 0;i<availableTags.length;i++){\n					if(!match_found && availableTags[i].id=='0'){\n						//delete availableTags[i];\n						availableTags[i]['value'] = request.term;\n						availableTags[i]['label'] = 'Add '+request.term+' as new type';\n						match_found = i;\n						//break;\n					}\n				}\n				if(!match_found){\n					availableTags.push({\n						id: 0,\n					    label: 'Add '+request.term+' as new type',\n					    value: request.term,\n				 	});\n				}\n\n			 	setTimeout(function(){\n			 		//$(\"#event-type\").autocomplete('option','source',availableTags);\n			 		$(\"#event-type\").autocomplete('search',request.term);\n		 			// if(match_found!==false){\n		 			// 	availableTags[match_found].label = '';\n		 			// }\n			 	},200);\n			 	//$(\".ui-autocomplete\").show();\n//  				$(\"#event-type\").keyup();\n  				//$(\"#event-type\").autocomplete();// , $(this).val() );\n\n  					//$.ui.autocomplete.search();\n				//var $li = $('<li id=\"empty-event-type\" class=\"ui-menu-item\" role=\"menuitem\"><a class=\"ui-corner-all\" tabindex=\"-1\">'+request.term+'</a></li>');\n\n				//$(\"ul.ui-autocomplete\").append($li);\n			    // $(\"#no-results\").text(\"No results found!\");\n			} else {\n				if(results.length == 1){\n					if(results[0]['id']=='0'){\n						results[0]['label']='Add '+request.term+' as new type';\n						results[0]['value']=request.term;\n\n					 	setTimeout(function(){\n					 		//$(\"#event-type\").autocomplete('option','source',availableTags);\n					 		//$(\"#event-type\").autocomplete('search',request.term);\n				 			// if(match_found!==false){\n				 			// 	availableTags[match_found].label = '';\n				 			// }\n					 	},200);\n					}\n				} else{\n					// var match_found = false;\n					// for(var i = 0;i<availableTags.length;i++){\n					// 	if(!match_found && availableTags[i].id=='0'){\n					// 		delete availableTags[i];\n					// 		availableTags[i]['label'] = 'Add '+request.term+' as new type';\n					// 		match_found = i;\n					// 		break;\n					// 	}\n					// }\n					// }\n					//console.log(\"NEW TAGS \");\n					//setTimeout(function(){\n						//	$(\"#event-type\").autocomplete('option','source',availableTags);\n					//},0);\n				}\n			}\n\n			response(results);\n\n		},\n		//source: availableTags,\n		minLength: 0,\n		select: function( event, ui ) {\n			$(\"#event-type-id\").val(ui.item.id);\n				// log( ui.item ?\n				//\"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n				//\"Nothing selected, input was \" + this.value );\n		}\n 	});\n\n	// $(\"#domain-input\").on('click', function(){\n	// 	focusDomainInput();\n	// });\n\n\n	$(\"#showEventTypes\").mousedown(function() {\n        wasOpen = $(\"#event-type\").autocomplete( \"widget\" ).is( \":visible\" );\n	}).click(function(){\n		$(\"#event-type\").focus();\n		if(wasOpen){\n			return;\n		}\n		$(\"#event-type\").autocomplete( \"search\", \"\" );\n   	});\n\n   	$(\"#custom-themes-wrap\").find(\".theme-card\").click(function(){\n   		$(\"#custom-themes-wrap\").hide();\n   		$(\"#splashTypeWrap\").addClass('showForm');\n   		$(\"#custom-theme-selector\").val($(this).attr(\"theme-id\"));\n   		window.location.hash = 'create-event';\n   	});\n\n   	setTimezone()\n\n});	 //end of document ready\n\n\n\n\nfunction setTimezone(){\n\n	var thisZone = jstz.determine().name()\n	var zoneIndex = 0;\n\n	$('#timezone-selector').find('option').each(function(){\n\n		$t = $(this)\n		if( $t.attr('tz-name') == thisZone ){\n			zoneIndex = $t.index()\n\n			$('#timezone-selector').find('option:eq('+zoneIndex+')').attr('selected', true).trigger('change')\n			//console.log( 'name: ', $t.attr('tz-name') )\n			//console.log( 'index: ', zoneIndex )\n			return false\n		}\n\n	})\n}\n\n\n\nvar wasOpen = false,\n	typingTimer,\n	doneTypingInterval=750,\n	previousVal ='';\n/*******************************\n * This is the Google map embed and pinpoint functionality\n *******************************/\nif ( google !== false ){\n	var geocoder = new google.maps.Geocoder();\n}else{\n	var geocoder = false;\n}\nfunction geocodePosition(pos) {\n	if ( geocoder === false ) return false;\n	geocoder.geocode({\n		latLng: pos\n	}, function(responses) {\n		if (responses && responses.length > 0) {\n			updateMarkerAddress(responses[0].formatted_address);\n		} else {\n			updateMarkerAddress('Cannot determine address at this location.');\n		}\n	});\n}\n\nfunction geocodeAddress(address){\n	if ( geocoder === false ) return false;\n	geocoder.geocode({\n		address: address\n	}, function(responses) {\n		if (responses && responses.length > 0) {\n			//updateMarkerAddress(responses[0].formatted_address);\n			marker.setPosition(responses[0].geometry.location);\n			updateMarkerPosition(responses[0].geometry.location);\n			map.setCenter(responses[0].geometry.location);\n			$(\"#map-container\").show();//(100);//();\n\n		} else {\n			updateMarkerAddress('Cannot determine address at this location.');\n		}\n	});\n}\n\nfunction updateMarkerPosition(latLng) {\n	$(\".venueLatLng\").find(\".lat\").val(latLng.lat());\n	$(\".venueLatLng\").find(\".lng\").val(latLng.lng());\n}\n\nfunction updateMarkerAddress(str) {\n	$(\".venueLatLng\").find(\".address\").html(str);\n}\nvar marker;\nvar map;\nfunction initializeVenueMap() {\n	if ( google === false ) return false;\n	var latLng = new google.maps.LatLng( _event.venue.lat, _event.venue.lng);\n	map = new google.maps.Map(document.getElementById('map-container'), {\n		zoom: 15,\n		center: latLng,\n		mapTypeId: google.maps.MapTypeId.ROADMAP,\n		scrollwheel: false\n	});\n	marker = new google.maps.Marker({\n		position: latLng,\n		title: 'Your Venue',\n		map: map,\n		draggable: true,\n		icon: '/img/icons/Venue_Map_Pin.png'\n	});\n\n	// Update current position info.\n	updateMarkerPosition(latLng);\n	geocodePosition(latLng);\n\n	var input = document.getElementById('venue-search');\n	var autocomplete = new google.maps.places.Autocomplete(input);\n\n	autocomplete.bindTo('bounds', map);\n\n	google.maps.event.addListener(marker, 'drag', function() {\n		updateMarkerPosition(marker.getPosition());\n	});\n\n	google.maps.event.addListener(marker, 'dragend', function() {\n		_gaq.push(['_trackEvent', 'Create', 'VenuePlaceRepositioned', 'id:'+constants.event_id]);\n		geocodePosition(marker.getPosition());\n	});\n\n    google.maps.event.addListener(autocomplete, 'place_changed', function(e) {\n		_gaq.push(['_trackEvent', 'Create', 'VenuePlaceChanged', 'id:'+constants.event_id]);\n	      var place = autocomplete.getPlace();\n	      if (place.geometry.viewport) {\n	        map.fitBounds(place.geometry.viewport);\n	      } else {\n	        map.setCenter(place.geometry.location);\n	        map.setZoom(15);  // Why 15? Because it looks good.\n	      }\n	      map.setZoom(15);  // Why 15? Because it looks good.\n\n	      marker.setPosition(place.geometry.location);\n\n\n\n	      var address = '';\n		  // console.log('PLACE CHANGED: ');\n		  // console.log(place);\n		  var address_fields = { name: place.name, street_number: '', address: '', city: '', state: '', zip: ''};\n	      if (place.address_components) {\n	        /*address = [(place.address_components[0] &&\n	                    place.address_components[0].long_name || ''),\n	                   (place.address_components[1] &&\n	                    place.address_components[1].long_name || ''),\n	                   (place.address_components[2] &&\n	                    place.address_components[2].long_name || '')\n	                  ].join(' ');*/\n	         for ( var i in place.address_components ){\n	           if ( place.address_components[i].types[0] == 'postal_code' ) address_fields.zip = place.address_components[i].long_name;\n	           else if ( place.address_components[i].types[0] == 'street_number' ) address_fields.street_number = place.address_components[i].long_name;\n	           else if ( place.address_components[i].types[0] == 'route' ) address_fields.address = place.address_components[i].long_name;\n	           else if ( place.address_components[i].types[0] == 'locality' ) address_fields.city = place.address_components[i].long_name;\n	           else if ( place.address_components[i].types[0] == 'administrative_area_level_1' ) address_fields.state = place.address_components[i].short_name;\n	           else if ( place.address_components[i].types[0] == 'country' ) address_fields.country = place.address_components[i].long_name;\n	         }\n	      }\n\n	    address_fields.address = address_fields.street_number +' '+ address_fields.address;\n		var lat = place.geometry.location.lat();\n		var lng = place.geometry.location.lng();\n		var $tz = $(\"#timezone-selector\");\n		if(!$tz.hasClass('manually-changed')){\n\n			timezoneDetector.getTimezone( lat, lng, function(data) {\n\n				if( data.timeZoneId != null ) {\n					//if there's an id, we have a match.\n					var $opt = $tz.find(\"option[tz-name='\"+response.timeZoneId+\"']:first\");\n					if($opt.length < 1){ //if no match keep looking.\n						var offset = response.rawOffset/3600;//returned in seconds. convert to seconds.\n						//var $opt = $tz.find(\"option[offset='\"+offset+\"']:first\");\n						var new_option = '<option tz-name=\"'+response.timeZoneId+'\" value=\"-1\">(GMT '+offset+':00) '+response.timeZoneName+'</option>';\n						$tz.find(\"optgroup:last\").append(new_option);\n						$tz.val('-1').trigger('change');\n						//$tz.val('-1').trigger('change');\n						$(\"#tz-name\").val(response.timeZoneName);\n						$(\"#tz-offset\").val(offset);\n						$(\"#tz-identifier\").val(response.timeZoneId);\n					} else{\n						$tz.val($opt.prop(\"value\")).trigger('change');\n					}\n				}\n			});\n		}\n\n\n		$(\"#venue-name\").val(address_fields.name);\n		$(\"#venue-address\").val(address_fields.address.trim());\n		$(\"#venue-city\").val(address_fields.city.trim());\n		$(\"#venue-state\").val(address_fields.state.trim());\n		$(\"#venue-zip\").val(address_fields.zip.trim());\n		$(\"#venue-country\").val(address_fields.country.trim());\n		$(\".venueLatLng input.lat\").val(lat);\n		$(\".venueLatLng input.lng\").val(lng);\n\n		$(\"#map-cover,#map-tbd\").hide();\n		$(\"#venue-tbd-checkbox\").removeAttr(\"checked\");\n\n		updateVenuePreview();\n		$('a.address-search').click();\n\n	      //infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);\n	      //infowindow.open(map, marker);\n			return;\n    });\n\n}\nfunction updateVenuePreview(){\n\n	var $venue_name = $(\"#venue-name\");\n	var $venue_address = $(\"#venue-address\");\n	var $venue_city = $(\"#venue-city\");\n	var $venue_state = $(\"#venue-state\");\n	var $venue_zip = $(\"#venue-zip\");\n	var $venue_country = $(\"#venue-country\");\n\n	//if(!$(\"div.pac-container\").is(\":visible\")){\n		// console.log(\"ASd\");\n		var $p = $(\".venue .venuePreview\");\n		$p.find('.name').text($venue_name.val());\n\n		$p.find('.address').text($venue_address.val()+',');\n		if($.trim($venue_address.val()) !=''){\n			var address_val = $venue_address.val();\n\n			if($.trim($venue_city.val()) != ''){ //only add the comma, if we know the city is after the address.\n				address_val+=',';\n			}\n			$p.find('.address').text(address_val);\n		}\n		else{\n			$p.find('.address').text($venue_address.val());\n		}\n\n		if($venue_city.val() != ''){\n			var city_val = $venue_city.val();\n			if($venue_state.val() != ''){ //only add comma if state is filled out.\n				city_val+=',';\n			}\n			$p.find('.city').text(city_val);\n\n		}\n		else{\n			$p.find('.city').text($venue_city.val());\n		}\n\n		$p.find('.state').text($venue_state.val());\n		$p.find('.zip').text($venue_zip.val());\n		if ( $p.find('.name').text() == $venue_address.val() ){\n			$p.find('span').css('font-weight','bold');\n			$p.find('.name').html('');\n		}\n		else{\n			$p.find('span').css('font-weight','normal');\n		}\n\n		/*if ( (\n			 ($venue_name.val() != '' && $venue_name.val()!=$venue_name.attr(\"placeholder\")) ||\n			 ($venue_address.val() != '' && $venue_address.val()!=$venue_address.attr(\"placeholder\")) ||\n			 ($venue_city.val() != '' && $venue_city.val()!=$venue_city.attr(\"placeholder\")) ||\n			 ($venue_state.val() != '' && $venue_state.val()!=$venue_state.attr(\"placeholder\")) ||\n			 ($venue_zip.val() != '' && $venue_zip.val()!=$venue_zip.attr(\"placeholder\"))\n			 ) && !($('#venue-tbd-checkbox').attr('checked')=='checked')\n		){\n			$p.show();\n		}\n		else{\n			$p.hide();\n		}*/\n	//}\n}\n	function getEventLength(type){\n\n		var start = { date: $(\"#event_date\").datepicker(\"getDate\"), hr: $(\"#event_start_hr\").val()*1,\n			min: $(\"#event_start_min\").val()*1, meridian: $(\"#start_meridian\").val() };\n		var end = { date: $(\"#event_date_end\").datepicker(\"getDate\"), hr: $(\"#event_end_hr\").val()*1,\n			min: $(\"#event_end_min\").val()*1, meridian: $(\"#end_meridian\").val() };\n\n		if(start.meridian == 'PM' && start.hr != 12){\n			start.hr += 12;\n		}\n		else if(start.meridian == 'AM' && start.hr == 12){\n			start.hr = '00';\n		}\n\n		if(end.meridian == 'PM' && end.hr != 12){\n			end.hr += 12;\n		}\n		else if(end.meridian == 'AM' && end.hr == 12){\n			end.hr = '00';\n		}\n\n		//var start_date  = $(\"#event_date\").datepicker(\"getDate\");\n		//var end_date 	= $(\"#event_date_end\").datepicker(\"getDate\");\n\n\n		//var earlierdate=$(\"#event_date\").datepicker(\"getDate\");\n		//var laterdate=$(\"#event_date_end\").datepicker(\"getDate\");\n		//earlierdate.setHours(start_hr,start_min);\n		//laterdate.setHours(end_hr,end_min);\n\n		start.date.setHours(start.hr,start.min);\n		end.date.setHours(end.hr, end.min);\n		//console.log(start.hr+','+end.hr);\n		//console.log(start.min+','+end.min);\n\n		var diff=timeDifference(end.date,start.date);\n		if(diff!=''){\n			$(\"#event-length\").html(diff);\n			$('#whenwhere').removeClass('error');\n			$(\"li[section='whenwhere']\").removeClass('error');\n			$(\"#whenwhere-error-message\").hide();\n		}else {\n			if($(\"#hideEndTime\").val()==0){\n				if(type!=null){\n					if(type=='time'){//if they change the end TIME before the end DATE, then up the date to the next day if the dates don't make sense.\n						var date2 = $(\"#event_date\").datepicker('getDate', '+1d');\n						date2.setDate(date2.getDate()+1);\n						$(\"#event_date_end\").datepicker('setDate', date2);\n						getEventLength();\n					} else{\n						//if they're changing the DATE and we have a paradox, up the event HOUR by one.\n						var start_hour = $(\"#event_start_hr\").val();\n						var current_meridian = start.meridian;\n						if(start_hour!='11'){\n							if(start_hour=='12'){\n								var new_hour = '01';\n							} else{\n								var new_hour = '0'+(start_hour+1);\n							}\n							$(\"#event_end_hr\").val(new_hour);\n							// var date2 = $(\"#event_date\").datepicker('getDate', '+1d');\n							// date2.setDate(date2.getDate()+1);\n							// $(\"#event_date_end\").datepicker('setDate', date2);\n\n							//return false;\n						}\n						getEventLength();\n\n						// $(\"#event-length\").html('Error');\n						// $('#whenwhere').addClass('error');\n						// $(\"#whenwhere-error-message\").show();\n					}\n				} else {\n					$(\"#event-length\").html('Error');\n					$('#whenwhere').addClass('error');\n					$(\"#whenwhere-error-message\").show();\n				}\n			}\n		}\n\n}\n// function calculateDaysUntil(){\n// 	var $days_until = $(\"#days-until\");\n// 	var event_date = $(\"#event_date\").val();\n// 	if(event_date == ''){\n// 		$(\"#days-until\").html('&mdash;');\n// 	}\n// 	else{\n// 		event_date = parseDate(event_date);\n// 		var today = parseDate(constants.today);\n// 		var until = daydiff(today,event_date);\n// 		if(until > 0){\n// 			var plural = (until != 1)?'days':'day';\n// 			$days_until.html(until+' '+plural);\n// 		}\n// 		else if(until < 0){\n// 			var event_end = parseDate($(\"#event_date_end\").val());\n// 			var days_until_end = daydiff(today,event_end);\n// 			if(days_until_end > 0){ //check to see if the end date is in the future (multi day event).\n// 				$days_until.html('Event in progress');\n// 			}\n// 			else{\n// 				$days_until.html('Event complete');\n// 			}\n// 		}\n// 		else{\n// 			$days_until.html('Event is today!');\n// 		}\n// 	}\n\n// }\n\nfunction parseDate(str){\n    var mdy = str.split('/');\n    return new Date(mdy[2], mdy[0]-1, mdy[1]);\n}\n\nfunction daydiff(first, second) {\n    return Math.floor((second-first)/(1000*60*60*24));\n}\n\n//alert(daydiff(parseDate($('#first').val()), parseDate($('#second').val())));\nvar date_values = { start: {}, end: {} };\n\nfunction clickDateTBD($obj){\n	$('div.date-time ul li.tbd').toggle();\n	if($obj.is(\":checked\")){\n		$(\"#event-duration\").hide();\n		date_values.start.date = $(\"#event_date\").val();\n		date_values.start.hr = $(\"#event_start_hr\").val();\n		date_values.start.min = $(\"#event_start_min\").val();\n		date_values.start.meridian = $(\"#start_meridian\").val();\n\n		date_values.end.date = $(\"#event_date_end\").val();\n		date_values.end.hr = $(\"#event_end_hr\").val();\n		date_values.end.min = $(\"#event_end_min\").val();\n		date_values.end.meridian = $(\"#end_meridian\").val();\n\n\n		$(\"#event_date,#event_date_end\").val('');\n		$(\"select.cal\").val('');\n\n		// changeCompletionStatus($(\"#event_date\").parents(\"div.section\").attr(\"num\"),true);\n\n		$('#whenwhere').removeClass('error');\n		$(\"li[section='whenwhere']\").removeClass('error');\n		$(\"#whenwhere-error-message\").hide();\n	}\n	else{\n			if($(\"#hideEndTime\").val()!='1'){\n				$(\"#event-duration\").show();\n			}\n		// changeCompletionStatus($(\"#event_date\").parents(\"div.section\").attr(\"num\"),true);\n			$(\"#event_date\").val(date_values.start.date);\n			$(\"#event_start_hr\").val(date_values.start.hr);\n			$(\"#event_start_min\").val(date_values.start.min);\n			$(\"#start_meridian\").val(date_values.start.meridian);\n\n			$(\"#event_date_end\").val(date_values.end.date);\n			$(\"#event_end_hr\").val(date_values.end.hr);\n			$(\"#event_end_min\").val(date_values.end.min);\n			$(\"#end_meridian\").val(date_values.end.meridian);\n			getEventLength();\n	}\n\n	//updateCompletedSteps();\n\n}\nfunction timeDifference(laterdate,earlierdate) {\n    var difference = laterdate.getTime() - earlierdate.getTime();\n	// negative time!\n	if ( difference < 0 ) { return ''; }\n\n    var daysDifference = Math.floor(difference/1000/60/60/24);\n    difference -= daysDifference*1000*60*60*24\n\n    var hoursDifference = Math.floor(difference/1000/60/60);\n    difference -= hoursDifference*1000*60*60\n\n    var minutesDifference = Math.floor(difference/1000/60);\n    difference -= minutesDifference*1000*60\n\n    var secondsDifference = Math.floor(difference/1000);\n	var str=\"\";\n	//console.log(daysDifference);\n	if(daysDifference>0){\n\n		var day_plural=(daysDifference!='1')?'days':'day';\n		str+=daysDifference+' '+day_plural;\n	}\n	if(hoursDifference>0){\n\n		var hour_plural=(hoursDifference!='1')?'hours':'hour';\n		if(day_plural)\n			str+=', ';\n		str+=hoursDifference+' '+hour_plural;\n	}\n	if(minutesDifference>0){\n		//var minute_plural=(minutesDifference!='1')?'hours':'hour';\n		if(hour_plural)\n			str+=', ';\n		str+=(minutesDifference!='1')?minutesDifference+' minutes':minutesDifference+' minute';\n	}\n	return str;\n}\nfunction updateEventDomain(){\n	var $event_title = $(\"#event-title\");\n	var $domain_input = $(\"#event-domain-field\");\n\n	var domain_value = $.trim($event_title.val().replace(/[^-_0-9a-z]/ig,''));\n	//console.log(\"ADOS \"+domain_value);\n	if(!$domain_input.attr(\"changed\")){\n		var domain_formatted = domain_value.toLowerCase().substring(0,30);\n		//$domain_input.val(domain_formatted);\n		$domain_input.text(domain_formatted);\n\n		if(!$domain_input.is(\":visible\")){\n			$(\"#splashDomainLink\").find(\"span\").text(domain_formatted+'.splashthat.com').fadeIn();\n		}\n		$(\"#changeSplashDomainLink\").fadeIn();\n		//return;\n	}\n	var $hashtag_input = $(\"#event-hashtag\");\n	if(!$hashtag_input.attr(\"changed\")){\n		$hashtag_input.val('#'+domain_value);\n	}\n	//$(\"#splashHashLink\").find(\"span\").text('#'+domain_value);\n\n}\nvar edited_already = false;\nfunction animatePane(){\n	if($(\"div.step-1\").hasClass('active')){\n		window.location.hash = 'details';\n			$(\"#eventSettingsWrap\").addClass('pane-2');\n			$(\"#create-inner-wrap\").removeClass('pane2').animate({'margin-left':'-500px'},200,function(){\n				$(\"div.step-1\").removeClass('active');\n				$(\"div.step-2\").addClass('active');\n			});\n	} else{\n		window.location.hash = '!';\n		$(\"#eventSettingsWrap\").removeClass('pane-2');\n			$(\"div.step-1\").addClass('active');\n			$(\"div.step-2\").removeClass('active');\n		$(\"#create-inner-wrap\").addClass('pane2').animate({'margin-left':'0px'},200,function(){\n\n		});\n	}\n}\n\nvar openCustomSelects = false;\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/create.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 39035,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "$(document).ready(function(){\n\n	/*$(window).bind('beforeunload', function(event){\n		 event.stopPropagation();\n    	event.returnValue = \"You sure you want to leave this page?  Unsaved changes will be lost.\";\n    	return event.returnValue;\n	});*/\n\n	\n 	var $textboxes = $(\"input[type='text'],select\");\n 	\n 	$(\"input,select\").keydown(function(event, ui){\n  		\n    	if(event.keyCode == 13) {\n			if($(this).attr(\"id\")=='organizer-email' || $(this).hasClass('organizer-email')){\n				$(this).parents(\"div.form-contact\").find(\".add-collab-btn\").click();\n				return false;\n			}\n		     var nxtIdx = $textboxes.index(this) + 1;\n             if($textboxes[nxtIdx]!=null){\n	             $textboxes[nxtIdx].focus();\n			}\n			else{\n				$(\"form\").submit();\n			} \n    		//$(\":input:text:eq(\" + nxtIdx + \")\").focus();\n\n     		event.preventDefault();\n 			return false;\n    	}	\n	});\n		\n	$(\"#event_date\").datepicker({ \n		dateFormat: 'mm/dd/y', \n	 	onSelect: function(dateText, inst) { \n	 		//when you change the event start date, also change the end date.\n	 		//we want to filter both the date and the range of the end date, making all days earlier \n	 		//than the event start unselectable.\n	 		$(\"#event_date_end\").datepicker('option','minDate', dateText).val(dateText);\n			$(\"#event_start_hr\").change();\n	 	}\n	});\n	$(\"#event_date_end\").datepicker({\n		dateFormat:'mm/dd/y',\n		minDate: $(\"#event_date\").val()\n	});\n	\n	$(\"#EventTitle\").live('focusout',function(){\n		if($.trim($(this).val()) !='' ){\n			$(\".error-msg\").hide();	\n		}	\n	});\n	\n	$(\"form\").submit(function(){\n		if($(\"#EventTitle\").length && $.trim($(\"#EventTitle\").val())==''){\n			$(\"#EventTitle\").addClass('error-border').focus();\n			$(\".error-msg\").show();\n			return false;\n		}\n	});\n	\n	\n	function validationFunction() {\n	\n	  	//$('input').each(function() {\n	  	//}\n	  /*if(good) {\n	    return true;\n	  //} */\n	  return false;\n	}\n\n\n	$(\"#event_start_hr\").change(function(){\n		var hr_val = $(this).val();\n		if(hr_val == '10' || hr_val == '11' && $(\"#start_meridian\").val()=='PM'){\n\n			if($(\"#event_date\").val() == $(\"#event_date_end\").val()){\n				var new_date = $(\"#event_date\").datepicker('getDate','+1d');\n				new_date.setDate(new_date.getDate()+1); \n				$(\"#event_date_end\").datepicker('setDate',new_date);\n				var new_end_val = '01';\n				if(hr_val == 11){\n					new_end_val = '02';				\n				}\n				$(\"#event_end_hr\").val(new_end_val);\n				$(\"#end_meridian\").val('AM');\n\n			}\n		\n		}\n	\n	});\n	\n\n	$(\"#budget-unknown\").click(function(){\n		$(\"#budget-open\").fadeOut(250,function(){\n			$(\"#budget-closed\").show();\n		}).find(\"input\").val('');\n	});\n	$(\"#know-budget\").click(function(){\n		$(\"#budget-closed\").fadeOut(250,function(){\n			$(\"#budget-open\").show().find(\"input\").focus();\n		});\n	});\n	\n	$(\"#estimated-budget\").focusout(function(){\n		var amount = Number($(this).val().replace(/[^0-9\\.]+/g,\"\"));\n		if(!isNaN(amount) && amount > 0){\n			//$(this).parents(\"div.cents-wrap\").hide();	\n			$(\"#add-budget\").hide();\n			$(this).val(addCommas(amount));\n			$(\"#set-budget-amt\").html('$'+addCommas(amount.toFixed(2))).fadeIn('fast');//();\n			$(\"#change-amount\").show();\n			$(\"#budget-unknown\").hide();\n			//$(\"#add-budget\").hide();\n			//$(\"#set-budget-amt\").show().find(\"span\").html('$'+addCommas(amount.toFixed(2)));\n//			$(\"#budget-unknown\").hide();\n		}\n	});\n\n	$(\"#change-amount,#set-budget-amt\").click(function(){\n		//$(this).parents(\"div.cents-wrap\").hide();\n		$(\"#set-budget-amt\").hide();\n		$(\"#change-amount\").hide();\n		$(\"#budget-unknown\").show();\n		$(\"#add-budget\").show();\n		$(\"#estimated-budget\").focus();\n				\n	});\n});",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-create.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 3551,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "$(document).ready(function(){\n    themeCard.updateState('choose')\n    themeCard.myThemes();\n\n    $('.event-type-wrap').on('click', '.event-type-card', function() {themeCard.selectType($(this))} )\n\n    $('#event-theme-select').find('.theme-option').on('click', function(){\n        if(themeCard.getState() == 'choose' ){\n            //commented out until the details page flow is further along\n            //themeCard.previewTheme( $(this) );\n            $(this).parents('.main-wrap:first').addClass('active');\n            themeCard.selectTheme();\n            themeCard.updateState('choose');\n        }\n    })\n\n    $('#event-theme-select').find('.browse-more-btn').on('click', function(){\n        themeCard.updateState('choose');\n        eventScroll.goTo(eventScroll.gridScrollLocation);\n        $('.container.page-content #nuNav').removeClass('add-background-border');\n        $('.toggle-view .option.show-grid-view').addClass('active').siblings().removeClass('active');\n    })\n\n    $('#event-theme-select').on('click', '.choose-theme-btn', function(){\n        $(this).parents('.main-wrap:first').addClass('active');\n        themeCard.selectTheme();\n        themeCard.updateState('choose');\n    })\n\n    $('#create-modal-back').on('click', '.close-modal', function(e){\n        console.log( $(e.target).attr('id') )\n        var thisId = $(e.target).attr('class')\n        $('#event-theme-select').find('.main-wrap.active:first').removeClass('active');\n        trackIndicativeEvent('BacktoThemeSelect');\n        if(thisId.indexOf('close-modal') > -1){\n                $('body').removeClass('showForm')\n        }\n    })\n\n\n    $('#event-theme-select').on('click', '.arrow', function(){\n        var dir = 'next'\n\n        if( $(this).hasClass('prev') ){\n            dir = 'prev'\n        }\n        themeCard.toggleSlide(dir)\n    });\n\n\n    $('.toggle-view').on('click', '.option', function(){\n        if ($(this).hasClass('active')) {\n            return false;\n        }\n        else {\n            var $t = $(this)\n\n        $t.addClass('active').siblings().removeClass('active')\n\n        if( $t.hasClass('show-grid-view') ){\n            themeCard.updateState('choose');\n            eventScroll.goTo(eventScroll.gridScrollLocation);\n            $t.addClass('hide');\n            $('.container.page-content #nuNav').removeClass('add-background-border');\n        } else if ( $t.hasClass('show-full-view') ){\n            $options = $('#event-theme-select').find('.theme-option')\n            $card = $('#event-theme-select').find('.theme-option').eq(Math.floor(Math.random() * $options.length))\n            themeCard.previewTheme( $card );\n            $(window).scrollTop(0);\n        }\n        }\n    });\n\n    //onscroll\n    $(window).on('scroll', function(e){\n        eventScroll.chooseEventNav($(window).scrollTop());\n        eventScroll.removeHovers();\n        eventScroll.previewEventScroll($(window).scrollTop());\n        eventScroll.gridScrollLocation = (($('body').attr('state') == 'choose') ? $(window).scrollTop() : eventScroll.gridScrollLocation);\n    })\n})\n\n$(window).ready(function(){\n\n        // Usage:\n\n        var imgArray = $('#preload-images').val().split('|')\n        preload( imgArray );\n\n        var headerArray = $('#preload-headers').val().split('|')\n        preload( headerArray );\n\n        $('#event-theme-select').find('.main-wrap').each(function(){\n\n            var thisHeader = $(this).find('.header-image:first').val()\n\n            var thisBgImg = 'url(\"' + thisHeader + '\")'\n            $(this).find('.theme-wrap:first').css({ 'background-image': thisBgImg, 'background-size': 'cover' })\n            $(this).addClass('bound')\n\n        });\n\n})\n\n\nfunction preload(arrayOfImages) {\n        console.log('loading bro')\n        $(arrayOfImages).each(function(){\n        $('<img/>')[0].src = this;\n        // Alternatively you could use:\n        // (new Image()).src = this;\n        });\n}\n\nvar themeCard = {\n        eventType:'',\n        getState:function(){\n            return $('#event-theme-select').attr('state');\n        },\n        updateState:function( thisState ){\n            $('#event-theme-select').attr('state', thisState)\n\n            $('body').attr('state', thisState)\n\n            this.getState()\n        },\n        updatePreviewInfo:function(){\n\n            var $info = $('#theme-info')\n            var $active = $('#event-theme-select').find('.main-wrap.active .theme-option .theme-deets')\n\n            console.log(thisBgImg, 'test')\n\n            $wrap = $active.parents('.main-wrap.active')\n\n            console.log($wrap, ' wrap ', $wrap.hasClass('bound'))\n            if( $wrap.hasClass('bound') == false ){\n                console.log('in here bro')\n\n                var thisHeader = $wrap.find('.header-image:first').val()\n\n                var thisBgImg = 'url(\"' + thisHeader + '\")'\n                $wrap.find('.theme-wrap:first').css({ 'background-image': thisBgImg, 'background-size': 'cover' })\n                $wrap.addClass('bound')\n            }\n\n        },\n        selectType: function($obj){\n            themeCard.eventType = $obj.parents('.grp:first').attr('type');\n            $('#event-theme-select').removeClass('hide');\n            $('#event-type-select').addClass('hide');\n            if(!$obj.hasClass('active')){\n                $obj.parents('.event-type-wrap').find('.event-type-card').removeClass('active');\n                $obj.addClass('active');\n            }\n            if($obj.parents('.grp:first').attr('type') == 'rsvp') {\n                    trackIndicativeEvent('CreateForm-SetRSVPEVent');\n                    $('#page-action-type').val('rsvp');\n                }\n            if($obj.parents('.grp:first').attr('type') == 'ticket') {\n                trackIndicativeEvent('CreateForm-SetTicketedEVent');\n                $('#page-action-type').val('tickets');\n            }\n        },\n        previewTheme: function( $obj ){\n            //$obj.addClass('active').siblings().removeClass('active')\n                $obj.parents('.main-wrap:first').addClass('active').siblings().removeClass('active');\n                this.updateState('preview');\n                $('.toggle-view .option.show-full-view').addClass('active').siblings().removeClass('active')\n            //  this.updatePreviewInfo();\n               // console.log(this, ' this')\n                $(window).scrollTop(0);\n                $('.show-grid-view').removeClass('hide');\n        },\n        selectTheme: function(){\n            var thisThemeId = $('#event-theme-select').find('.main-wrap.active .theme-option').attr('value')\n            var thisThemeName = $('#event-theme-select').find('.main-wrap.active .theme-option .theme-name').text();\n            $('#custom-theme-selector').val( thisThemeId )\n            $('body').addClass('showForm')\n            window.location.hash = 'showForm';\n            trackIndicativeEvent('CreateFlowThemeSelected',{'id':thisThemeId,'name':thisThemeName});\n        },\n        toggleSlide: function( dir ){\n\n            var $wrap = $('#event-theme-select');\n            var $active = $wrap.find('.main-wrap.active');\n\n            if( dir == 'prev' ){\n                if( $active.prev('.main-wrap').length !== 0 && !$active.prev('.main-wrap').hasClass('hide')){\n                    $nuActive = $active.prev('.main-wrap')\n                } else {\n                    $nuActive = $wrap.find('.main-wrap:not(.hide)').last();\n                }\n            } else {\n\n                // IF NEXT\n\n                if( $active.next('.main-wrap').length !== 0 && !$active.next('.main-wrap').hasClass('hide')){\n                    $nuActive = $active.next('.main-wrap')\n                } else {\n                    $nuActive = $wrap.find('.main-wrap:not(.hide)').first();\n                }\n\n            }\n\n            this.previewTheme( $nuActive.find('.theme-option:first') )\n\n        },\n        myThemes: function() {\n            $('.main-wrap.user-theme').addClass('hide');\n            if($('.category-select-list').val() == 'my-themes'){\n                $('.main-wrap.public-theme').addClass('hide');\n                $('.main-wrap.user-theme').removeClass('hide');\n            }\n            $('.category-select-list').on('change',function(){\n                if($(this).val() == 'all-themes') {\n                    $('.main-wrap.public-theme').removeClass('hide');\n                    $('.main-wrap.user-theme').addClass('hide');\n                    $('#event-theme-select .user-theme-container .main-wrap.user-theme').removeClass('active');\n                }\n                else {\n                    $('.main-wrap.public-theme').addClass('hide');\n                    $('.main-wrap.user-theme').removeClass('hide');\n                    $('#event-theme-select .main-wrap.public-theme').removeClass('active');\n                }\n            });\n        }\n\n}\n\n// Function for new create flow \"interactive classes\"\n//\n//\nvar eventScroll = {\n    gridScrollLocation: 0,\n    chooseEventNav: function(scrollPos) {\n        if(scrollPos > 12) {\n            $('.container.page-content #nuNav').addClass('add-border');\n        }\n        else {\n            $('.container.page-content #nuNav').removeClass('add-border');\n        }\n    },\n    previewEventScroll: function(scrollPos) {\n        if($('body').attr('state') == 'preview' && scrollPos > 170) {\n            $('body').addClass('hide-arrows');\n            if(scrollPos > 440) {\n                $('.container.page-content #nuNav').addClass('add-background-border');\n            }\n            else {\n                $('.container.page-content #nuNav').removeClass('add-background-border');\n            }\n        }\n        else {\n            $('body').removeClass('hide-arrows');\n        }\n    },\n    goTo: function(scrollPos) {\n        if($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n            trackIndicativeEvent('ScrolledToBottom');\n        }\n    },\n    removeHovers: function() {\n        $('body').addClass('peN');\n        setTimeout(function(e){\n             $('body').removeClass('peN');\n        },800);\n    }\n}\n\n\nvar warnBeforeLeaving = false;\nwindow.onbeforeunload = function (evt) {\n        if ( warnBeforeLeaving ){\n                var message = \"Unsaved changes will be lost.\\nYou should save your event before leaving!\";\n                if (typeof evt == undefined) {\n                        evt = window.event;\n                }\n                if (evt) {\n                        evt.returnValue = message;\n                }\n                return message;\n        }\n\n}\n$(document).ready(function(){\n\n        $('body').addClass('createPage')\n\n        $(\"html\").click(function(e){\n                if(e.target.nodeName!='LI'){\n                        var $target = $(e.target);\n                        if(openCustomSelects && !$target.parents(\"ul.custom-select\").length){\n                                $(\"ul.custom-select.open\").removeClass('open');\n                                openCustomSelects = false;\n                        }\n                }\n        });\n\n        $(window).bind('hashchange',function(){\n                // console.log('You clicked something that changed the hash tag to #.  Remember!  What was it!?');\n                var hash = getHash();\n                var $wrap = $(\"#splashTypeWrap\");\n                if(hash=='!'){\n                        if($wrap.hasClass('showForm')){\n                                $wrap.removeClass('showForm');\n                                $('#splashTypeWrap .inner-wrap .newEventText').text('New Event');\n                                $('#splashTypeWrap .inner-wrap h1').show();\n                                $('#splashTypeWrap .inner-wrap .createBackBtn').hide()\n                                $('.inner-type-wrap').removeClass('selected');\n\n                                $('#splashTypeWrap .inner-wrap').attr('style', '');\n\n                                setTimeout(function(){\n                                        $('#splashTypeWrap .inner-wrap').css('transition', 'none');\n                                }, 350)\n\n                        }\n                        // if(!$(\"div.step-1\").hasClass('active')){\n                        //      animatePane();\n                        // }\n\n                }\n                else if($('body').hasClass('showForm')) {\n                   if(hash != 'showForm') {\n                    $('#event-theme-select').find('.main-wrap.active:first').removeClass('active');\n                    $('body').removeClass('showForm');\n                    trackIndicativeEvent('BacktoThemeSelectBROWSERBACK');\n                   }\n                }\n                else{\n                        if(!$wrap.hasClass('showForm')){\n                                var code = hash.split('-');\n                                if(code.length>1){\n                                        code = code[1];\n                                        var $inner_wrap = $(\"div.inner-type-wrap[code='\"+code+\"']\");\n                                        if($inner_wrap.length){\n                                                $inner_wrap.removeClass('selected').click();\n                                        }\n                                }\n                        }\n                        //if(!$(\"div.step-2\").hasClass('active')){\n                        //      animatePane();\n                        //}\n                }\n\n                //setBGimg();\n\n        });\n\n\n        // Since the event is only triggered when the hash changes, we need to trigger\n        // the event now, to handle the hash the page may have loaded with.\n        var url = getHash();\n        if(url != ''){\n                window.location.hash = '!';\n        }\n\n\n        $(document).on('keypress','input',function(e){\n                if ( e.which == 13){\n                        e.preventDefault();\n                        $('input,textarea')[$('input,textarea').index(this)+1].focus();\n                }\n        });\n        $(\"#timezone-link\").click(function(){\n                _gaq.push(['_trackEvent', 'Create', 'TimezoneOpen', 'id:'+constants.event_id]);\n                $(this).hide();\n                $(\"#timezone-selector\").show().addClass('manually-changed').focus();\n                trackIndicativeEvent('CreateForm-SetTimeZone');\n        });\n        $(\"#timezone-selector\").focusout(function(){\n                $(this).hide();\n                var thisText = $(this).find(\":selected\").text()\n                $('.timeZoneText').text(thisText)\n                $('#timezone-link').show();\n                _gaq.push(['_trackEvent', 'Create', 'TimezoneChanged', 'id:'+constants.event_id]);\n        }).change(function(){\n                $(this).hide();\n                var thisText = $(this).find(\":selected\").text()\n                $('.timeZoneText').text(thisText)\n                $('#timezone-link').show();\n                _gaq.push(['_trackEvent', 'Create', 'TimezoneChanged', 'id:'+constants.event_id]);\n        });\n        $(\"form\").submit(function(){\n            trackIndicativeEvent('CreateForm-CompletedCreateForm');\n                var $title = $(\"#event-title\");\n                if($.trim($title.val())==''){\n                        $title.focus();\n                        $(\"#form-error\").text('Enter a valid title.').fadeIn(200);\n                        _gaq.push(['_trackEvent', 'Create', 'Title Error', 'id:'+constants.event_id]);\n                        return false;\n                        //$title.focus().addClass('error-border'){}\n                }\n\n                if($(\"#valid-domain\").val()!='1'){\n                        //$(\"#splashDomainManual\").show();\n                        //$(\"#event-domain\").show().focus();\n                        //$(\"#splashDomainLink\").hide();\n                        $(\"#event-domain-field\").focus();\n                        //$(\"#form-error\").text('Enter a valid domain.').fadeIn(200);\n                        _gaq.push(['_trackEvent', 'Create', 'Domain Error', 'id:'+constants.event_id]);\n                        return false;\n                } else{\n                        $(\"#form-error\").hide();//\n                        if( ! $(\"#event-domain\").hasClass('skipThis') ){\n                            $(\"#event-domain\").val($.trim($(\"#event-domain-field\").text()));\n                        }\n                }\n\n                $(\"span.burst\").show();\n                $(\"#splashCreateButton\").val('Brace Yourself!').addClass('brace-yourself');\n                _gaq.push(['_trackEvent', 'Create', 'Success Submit', 'id:'+constants.event_id]);\n        });\n\n        $( \"#venue-search\" ).focus(function() {\n            $('.address-search').css('color', '#06deef')\n        }).focusout(function() {\n            $('.address-search').css('color', '#888')\n        });\n\n        initializeVenueMap();\n        $(\"#event_date\").datepicker({\n                dateFormat: 'mm/dd/y',\n                onSelect: function(dateText, inst) {\n                        //when you change the event start date, also change the end date.\n                        //we want to filter both the date and the range of the end date, making all days earlier\n                        //than the event start unselectable.\n                        $(\"#event_date_end\").datepicker('option','minDate', dateText).val(dateText);\n                        $(\"#event_start_hr\").change();\n                        if($(\"#time-tbd-checkbox\").attr(\"checked\")){\n                                $(\"#time-tbd-checkbox\").attr(\"checked\",false);\n                                clickDateTBD($(\"#time-tbd-checkbox\"));\n\n                        }\n                        _gaq.push(['_trackEvent', 'Create', 'Event Start Changed', 'id:'+constants.event_id]);\n                }\n        });\n        $(\"#event_date_end\").datepicker({\n                dateFormat:'mm/dd/y',\n                minDate: $(\"#event_date\").val(),\n                onSelect: function(dateText, inst){\n                        if($(\"#time-tbd-checkbox\").attr(\"checked\")){\n                                $(\"#time-tbd-checkbox\").attr(\"checked\",false);\n                                //$(\"#event_date\").val(dateText);\n                                clickDateTBD($(\"#time-tbd-checkbox\"));\n                        }\n                        _gaq.push(['_trackEvent', 'Create', 'Event End Changed', 'id:'+constants.event_id]);\n\n                        //for some reason, the change() for .cal isn't being called on event_date_end datepick click, so just calling these here to be safe.\n                        getEventLength('date');\n                        //calculateDaysUntil();\n\n                }\n        });\n\n        $(\"#event_start_hr\").change(function(){\n                var hr_val = $(this).val();\n                if(hr_val == '10' || hr_val == '11' && $(\"#start_meridian\").val()=='PM'){\n\n                        if($(\"#event_date\").val() == $(\"#event_date_end\").val()){\n                                var new_date = $(\"#event_date\").datepicker('getDate','+1d');\n                                new_date.setDate(new_date.getDate()+1);\n                                $(\"#event_date_end\").datepicker('setDate',new_date);\n                                var new_end_val = '01';\n                                if(hr_val == 11){\n                                        new_end_val = '02';\n                                }\n                                $(\"#event_end_hr\").val(new_end_val);\n                                $(\"#end_meridian\").val('AM');\n                        }\n                }\n                _gaq.push(['_trackEvent', 'Create', 'EventStartHourChanged', 'id:'+constants.event_id]);\n        });\n\n        $(\".cal\").change(function(){\n                if($(this).hasClass('hasDatePicker')){\n                        var type = 'date';\n                } else{\n                        var type = 'time';\n                }\n                getEventLength(type);\n                //calculateDaysUntil();\n        });\n\n        $('.inner-type-wrap').click(function(){\n\n\n                var newText = 'New Ticketed Event';\n                var item = 'ticket';\n                if( $(this).attr('code') == 'event' ){\n                        newText = 'New RSVP Event'\n                        item = 'rsvp';\n                }\n\n                if(typeof Indicative!=='undefined'){\n                        Indicative.buildEvent('event-eventCreateClick',(''+constants.event_id), { 'event_id': constants.event_id,'type':item });\n                        Indicative.buildEvent('user-eventCreateClick',constants.user_email, { 'event_id': constants.event_id,'type':item });\n                }\n\n                $('#splashTypeWrap .inner-wrap').find('.newEventText').text( newText ).end()\n                .find('.createBackBtn').show().css('opacity', '1')\n                .find('h1').show();\n\n                setTimeout(function(){\n                        $('#splashTypeWrap').addClass('showForm');\n\n                                var thisHeight = $('#eventSettingsWrap').outerHeight(); - 86;\n\n                                // console.log(thisHeight);\n\n\n\n                        $('#splashTypeWrap .inner-wrap').attr('style', '');\n\n\n                }, 20)\n\n\n\n        });\n\n\n        $('#splashTypeWrap .inner-wrap .createBackBtn').click(function(){\n                $('#splashTypeWrap').removeClass('showForm');\n                $('#splashTypeWrap .inner-wrap .newEventText').text('New Event')\n                $('#splashTypeWrap .inner-wrap h1').show()\n                $('#splashTypeWrap .inner-wrap .createBackBtn').hide()\n                $(\"#custom-theme-selector\").val('');\n                window.location.hash = '!';\n                $('.inner-type-wrap').removeClass('selected')\n\n\n                // REMOVE INLINE STYLES ON inner-wrap\n                $('#splashTypeWrap .inner-wrap').attr('style', '');\n\n                setTimeout(function(){\n                        $('#splashTypeWrap .inner-wrap').css('transition', 'none');\n                }, 350)\n\n                if($(\"#custom-themes-wrap\").length > 0){\n                        $(\"#custom-themes-wrap\").show();\n                        $('#splashTypeWrap').hide();\n                }\n        });\n\n\n        $('#time-tbd-checkbox').change(function(){\n                if( $(this).val() == 1 ){\n                        $('.tbdHolder.timeDate').show();\n                        $('#timezone-link').hide();\n\n                        if( $('#removeEndTime').css('opacity') == 1 ){\n                                $('#removeEndTime').css('opacity', '0');\n                        }\n\n                        if( $('#addEndTime').css('display') == 'none' ){\n                                $(\"#event-duration\").hide();\n                        }\n\n                } else {\n                        $('.tbdHolder.timeDate').hide();\n                        $('#timezone-link').show();\n\n                        if( $('#removeEndTime').css('opacity') == 0 ){\n                                $('#removeEndTime').css('opacity', '1');\n                        }\n\n                        if( $('#addEndTime').css('display') == 'none' ){\n                                $(\"#event-duration\").show();\n                        }\n\n                }\n        });\n\n        $('#venue-tbd').change(function(){\n            trackIndicativeEvent('CreateForm-SetVenueTBD');\n                if( $(this).val() == 1 ){\n                        $('#eventSettingsWrap .tbdHolder.location').show();\n\n                        if($('#venue-address').css('display') == 'none'){\n                                $('#eventSettingsWrap a.address-search').hide();\n                        } else {\n                                $('#eventSettingsWrap a.google-search').hide();\n                        }\n                        if($(\"#venue-name\").is(\":visible\")){\n                                $(\"a.google-search:first\").click();\n                                $(\"a.address-search\").hide();\n                        }\n                } else {\n\n                        $('#eventSettingsWrap .tbdHolder.location').hide();\n                        if($('#venue-address').css('display') == 'none'){\n                                $('#eventSettingsWrap a.address-search').show();\n                        } else {\n                                $('#eventSettingsWrap a.google-search').show();\n                        }\n                }\n        });\n\n\n        $('.inner-type-wrap').hover(\n                /* this is the hover state that shows the BG img\n                function() {\n                        var $this = $(this);\n                        var code = $this.attr(\"code\");\n                        var $img = $(\"#event-image-\"+code);\n                        if($img.length){\n                                $(\"#starter-image-wrap\").find(\"img.starter-image\").removeClass('active');\n                                $img.addClass('active');\n                                $(\"#event-image\").val($img.prop(\"src\"));\n                                setTimeout(function(){\n                                        $(\"#template-expl\").addClass('active').html('<h3 class=\"title\">'+$this.find(\"span.title\").text()+'</h3>'+$this.find(\".just-the-tip\").html())\n                                },250);\n                        }\n                },\n                function() {\n                        $(\"#template-expl\").removeClass('active');\n                }\n                */\n        ).click(function(){\n\n                var $this = $(this);\n                var code = $this.attr(\"code\");\n                if($this.hasClass('selected')){\n                        window.location.hash = '!';\n                        $this.removeClass('selected');\n                        $(\"#splashTypeWrap\").removeClass('showForm');\n                        _gaq.push(['_trackEvent', 'Create', 'EventTypeClose-'+code, 'id:'+constants.event_id]);\n                } else {\n                        _gaq.push(['_trackEvent', 'Create', 'EventType-'+code, 'id:'+constants.event_id]);\n                        window.location.hash = 'create-'+$this.attr(\"code\");\n                        $(\"#splashTypeWrap\").addClass('showForm');\n                        $this.addClass('selected');\n                        $(\"#page-action-type\").val(code);\n                        var $img_path =$(\"#event-image-\"+code);\n                        if($img_path.length){\n                                $(\"#event-image\").val($img_path.prop(\"src\"));\n                        }\n                }\n                if(code=='gallery'){\n                        $(\"#eventSettingsWrap\").addClass('gallery-block').find(\"div.subSection\").hide();\n\n                } else{\n                        $(\"#eventSettingsWrap\").removeClass('gallery-block').find(\"div.subSection\").show();;\n                }\n\n        });\n\n        $(document).on('click','a.address-search',function(){\n                _gaq.push(['_trackEvent', 'Create', 'ManuallyAddAddress', 'id:'+constants.event_id]);\n                $('#venue-search').hide();\n                $(\"#venue-name\").show();\n                if($(\"#venue-name\").val()==''&& $(\"#venue-search\").val()!=''){\n                        $(\"#venue-name\").val($(\"#venue-search\").val());\n                }\n                $(\"#venue-address\").show();\n                $(\"#venue-city\").show();\n                $(\"#venue-state\").show();\n                $(\"#venue-zip\").show();\n                $('#eventSettingsWrap').addClass('open')\n                $('#splashTypeWrap .inner-wrap').addClass('open')\n                $(this).hide();\n                $('a.google-search').show();\n\n                $('#eventSettingsWrap .location b.left').text('Venue Name');\n\n                $('#venue-name').attr('placeholder', 'Enter Venue Name')\n\n                $('#eventSettingsWrap .addressLabel').show();\n\n                if( $('#venue-name').val() == $('#venue-address').val() ){\n                        $('#venue-name').val('')\n                }\n\n                $('#venue-name').focus();\n\n                trackIndicativeEvent('CreateForm-EnterAddressBtnClicked');\n\n\n                return false;\n\n        });\n        $(document).on('click','a.google-search',function(){\n                _gaq.push(['_trackEvent', 'Create', 'SearchForAddress', 'id:'+constants.event_id]);\n                $('#venue-search').show();\n                $(\"#venue-name\").hide();\n                $(\"#venue-address\").hide();\n                $(\"#venue-city\").hide();\n                $(\"#venue-state\").hide();\n                $(\"#venue-zip\").hide();\n                $('#eventSettingsWrap').removeClass('open')\n                $('#splashTypeWrap .inner-wrap').removeClass('open')\n                $(this).hide();\n                $('a.address-search').show();\n\n                $('#venue-name').attr('placeholder', 'Enter Venue Name or Address')\n\n                $('#eventSettingsWrap .location b.left').text('Location');\n                $('#eventSettingsWrap .addressLabel').hide();\n\n                trackIndicativeEvent('CreateForm-EnterAddressBtnClicked');\n\n                return false;\n        });\n\n        $(\"#time-tbd-checkbox\").click(function(){\n            trackIndicativeEvent('CreateForm-SetTimeTBD');\n                _gaq.push(['_trackEvent', 'Create', 'DateTimeTBD', 'id:'+constants.event_id]);\n                clickDateTBD($(this));\n        });\n\n        if(constants.date_tbd){\n                $(\"#time-tbd-checkbox\").prop(\"checked\",true);\n                clickDateTBD($(\"#time-tbd-checkbox\"));\n                //$(\"#time-tbd-checkbox\").click();\n        }\n\n        $(\"a.zurb-reveal\").click(function(){\n                var $link = $(this);\n                if($link.hasClass('clicky')){ return false; }\n                $link.addClass('clicky');\n                var href = $link.attr(\"reveal-href\");\n                $(\"div.zurb-ajax-modal\").remove();//clear out any pre-existing zurb ajax modal on the page.\n                var $mask = $('<div class=\"zurb-ajax-modal reveal-modal\" style=\"width:660px;\"><div class=\"spinner\">'+$(\"#ajax-content-spinner\").html()+'</div></div>');\n\n                $(\"#container\").append($mask);\n                $.ajax({\n                        url: href,\n                        type: 'POST',\n                        cache: false,\n                        data: {},\n                        success: function(data){\n                                $link.removeClass('clicky');\n                                $mask.hide().html(data).reveal({\n                                        closeonbackgroundclick: true,              //if you click background will modal close?\n                                        dismissmodalclass: 'close-modal',//close-modal-link'    //the class of a button or element that will close an open modal\n                                }).show();\n                        }\n                        });\n        });\n        $(\"#splashDomainLink,#changeSplashLink\").click(function(){\n                $(\"#splashDomainLink,#changeSplashDomainLink\").hide();\n                $(\"#splashDomainManual\").show();\n                $(\"#event-domain\").focus();\n        });\n        // $(\"#splashHashLink\").click(function(){\n        //      $(this).hide();\n        //      $(\"#event-hashtag\").show().focus();\n\n        // });\n        $(\"#event-hashtag\").change(function(){\n                $(this).attr(\"changed\",true);\n        }).focusout(function(){\n                $(this).val('#'+$(this).val().replace(/\\W/g,''));//replace dashes$(this).replace(/ /)\n                _gaq.push(['_trackEvent', 'Create', 'HashtagEdit', 'id:'+constants.event_id]);\n        });\n        $(\"#future-event-reminder\").click(function(){\n                var params = { event_id: constants.event_id, title: $.trim($(\"#future-event-title\").val()), month: $.trim($(\"#future-event-month\").val()) };\n                if(params.title==''){\n                        $(\"#future-event-title\").focus();\n                        return false;\n                }\n                if(params.month==''){\n                        $(\"#future-event-month\").focus();\n                        return false;\n                }\n                $(\"#future-event-params\")\n                        .html($(\"#future-spinner\").html())\n                        .load(\"/events/saveFutureEvent\",params,function(response){\n                        });\n                return false;\n        });\n\n        $(\"i.back-step\").click(function(){\n                animatePane();\n        });\n        $(\"#event-title\").keyup(function(){\n                updateEventDomain();\n                clearTimeout(typingTimer);\n                typingTimer = setTimeout(function(){\n                        doneTypingDomain();\n                }, doneTypingInterval);\n        }).focusout(function(){\n                if(!$(\"#event-domain-field\").attr(\"changed\")){\n                        doneTypingDomain();\n                        _gaq.push(['_trackEvent', 'Create', 'TitleEdit', 'id:'+constants.event_id]);\n                }\n        });\n\n\n        $(\"#addEndTime\").click(function(){\n                _gaq.push(['_trackEvent', 'Create', 'AddEndTime', 'id:'+constants.event_id]);\n                $(this).hide();\n                $(\"#end-time-block,#event-duration\").show();\n                $(\"#hideEndTime\").val(0);\n                trackIndicativeEvent('CreateForm-AddEndTime');\n        });\n        $(\"#removeEndTime\").click(function(){\n                _gaq.push(['_trackEvent', 'Create', 'RemoveEndTime', 'id:'+constants.event_id]);\n                $(\"#end-time-block,#event-duration,#whenwhere-error-message\").hide();\n                $(\"#addEndTime\").show();\n                $(\"#hideEndTime\").val(1);\n                trackIndicativeEvent('CreateForm-RemoveEndTime');\n        })\n\n\n   $('.inner-type-wrap').hover(function(){\n                $('#splashTypeWrap h1').addClass('hovered');\n        });\n\n  // $(\"#event-type\").autocomplete({\n                // source: availableTags,\n                // minLength: 0,\n                // select: function( event, ui ) {\n                //      $(\"#event-type-id\").val(ui.item.id);\n                //              // log( ui.item ?\n                //              //\"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n                //              //\"Nothing selected, input was \" + this.value );\n                // }\n  // });\n\n        $(\"#event-type\").keyup(function(e){\n                if(e.keyCode==13){\n                        $(\"#splashCreateButton\").click();\n                }\n        });\n        $(\"#event-type\").autocomplete({\n                response:function(event,ui){\n                        // if(ui.length > 0 && ui.length > 1){\n                        //      var match_found=false;\n                        //      for(var x = 0;x<ui.length;x++){\n                        //              if(ui[x].id==0&&!match_found){\n                        //                      ui[x].id = match_found;\n                        //                      match_found=true;\n                        //                      delete ui[x];\n                                        // }\n                        //      }\n                        // }\n                },\n                source: function (request, response) {\n                    var results = $.ui.autocomplete.filter(availableTags, request.term);\n                        if (!results.length) {\n                                // if($li.length > 0){\n                                //      $li.remove();\n                                // }\n                                //delete availableTags.newItem;\n                                var match_found = false;\n                                for(var i = 0;i<availableTags.length;i++){\n                                        if(!match_found && availableTags[i].id=='0'){\n                                                //delete availableTags[i];\n                                                availableTags[i]['value'] = request.term;\n                                                availableTags[i]['label'] = 'Add '+request.term+' as new type';\n                                                match_found = i;\n                                                //break;\n                                        }\n                                }\n                                if(!match_found){\n                                        availableTags.push({\n                                                id: 0,\n                                            label: 'Add '+request.term+' as new type',\n                                            value: request.term,\n                                        });\n                                }\n\n                                setTimeout(function(){\n                                        //$(\"#event-type\").autocomplete('option','source',availableTags);\n                                        $(\"#event-type\").autocomplete('search',request.term);\n                                        // if(match_found!==false){\n                                        //      availableTags[match_found].label = '';\n                                        // }\n                                },200);\n                                //$(\".ui-autocomplete\").show();\n//                              $(\"#event-type\").keyup();\n                                //$(\"#event-type\").autocomplete();// , $(this).val() );\n\n                                        //$.ui.autocomplete.search();\n                                //var $li = $('<li id=\"empty-event-type\" class=\"ui-menu-item\" role=\"menuitem\"><a class=\"ui-corner-all\" tabindex=\"-1\">'+request.term+'</a></li>');\n\n                                //$(\"ul.ui-autocomplete\").append($li);\n                            // $(\"#no-results\").text(\"No results found!\");\n                        } else {\n                                if(results.length == 1){\n                                        if(results[0]['id']=='0'){\n                                                results[0]['label']='Add '+request.term+' as new type';\n                                                results[0]['value']=request.term;\n\n                                                setTimeout(function(){\n                                                        //$(\"#event-type\").autocomplete('option','source',availableTags);\n                                                        //$(\"#event-type\").autocomplete('search',request.term);\n                                                        // if(match_found!==false){\n                                                        //      availableTags[match_found].label = '';\n                                                        // }\n                                                },200);\n                                        }\n                                } else{\n                                        // var match_found = false;\n                                        // for(var i = 0;i<availableTags.length;i++){\n                                        //      if(!match_found && availableTags[i].id=='0'){\n                                        //              delete availableTags[i];\n                                        //              availableTags[i]['label'] = 'Add '+request.term+' as new type';\n                                        //              match_found = i;\n                                        //              break;\n                                        //      }\n                                        // }\n                                        // }\n                                        //console.log(\"NEW TAGS \");\n                                        //setTimeout(function(){\n                                                //      $(\"#event-type\").autocomplete('option','source',availableTags);\n                                        //},0);\n                                }\n                        }\n\n                        response(results);\n\n                },\n                //source: availableTags,\n                minLength: 0,\n                select: function( event, ui ) {\n                        $(\"#event-type-id\").val(ui.item.id);\n                                // log( ui.item ?\n                                //\"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n                                //\"Nothing selected, input was \" + this.value );\n                }\n        });\n\n        // $(\"#domain-input\").on('click', function(){\n        //      focusDomainInput();\n        // });\n\n\n    $(\"#showEventTypes\").mousedown(function() {\n    wasOpen = $(\"#event-type\").autocomplete( \"widget\" ).is( \":visible\" );\n\n    }).click(function(){\n        $(\"#event-type\").focus();\n        if(wasOpen){\n            return;\n        }\n        $(\"#event-type\").autocomplete( \"search\", \"\" );\n    });\n\n    $(\"#custom-themes-wrap\").find(\".theme-card\").click(function(){\n        $(\"#custom-themes-wrap\").hide();\n        $(\"#splashTypeWrap\").addClass('showForm');\n        $(\"#custom-theme-selector\").val($(this).attr(\"theme-id\"));\n        window.location.hash = 'create-event';\n    });\n\n    setTimezone()\n\n});  //end of document ready\n\nfunction setTimezone(){\n\n    var thisZone = jstz.determine().name()\n    var zoneIndex = 0;\n\n    $('#timezone-selector').find('option').each(function(){\n\n        $t = $(this)\n        if( $t.attr('tz-name') == thisZone ){\n            zoneIndex = $t.index()\n\n            $('#timezone-selector').find('option:eq('+zoneIndex+')').attr('selected', true).trigger('change')\n            //console.log( 'name: ', $t.attr('tz-name') )\n            //console.log( 'index: ', zoneIndex )\n            return false\n        }\n\n    })\n}\n\n\n\nvar wasOpen = false,\n        typingTimer,\n        doneTypingInterval=750,\n        previousVal ='';\n/*******************************\n * This is the Google map embed and pinpoint functionality\n *******************************/\nif ( google !== false ){\n        var geocoder = new google.maps.Geocoder();\n}else{\n        var geocoder = false;\n}\nfunction geocodePosition(pos) {\n        if ( geocoder === false ) return false;\n        geocoder.geocode({\n                latLng: pos\n        }, function(responses) {\n                if (responses && responses.length > 0) {\n                        updateMarkerAddress(responses[0].formatted_address);\n                } else {\n                        updateMarkerAddress('Cannot determine address at this location.');\n                }\n        });\n}\n\nfunction geocodeAddress(address){\n        if ( geocoder === false ) return false;\n        geocoder.geocode({\n                address: address\n        }, function(responses) {\n                if (responses && responses.length > 0) {\n                        //updateMarkerAddress(responses[0].formatted_address);\n                        marker.setPosition(responses[0].geometry.location);\n                        updateMarkerPosition(responses[0].geometry.location);\n                        map.setCenter(responses[0].geometry.location);\n                        $(\"#map-container\").show();//(100);//();\n\n                } else {\n                        updateMarkerAddress('Cannot determine address at this location.');\n                }\n        });\n}\n\nfunction updateMarkerPosition(latLng) {\n        $(\".venueLatLng\").find(\".lat\").val(latLng.lat());\n        $(\".venueLatLng\").find(\".lng\").val(latLng.lng());\n}\n\nfunction updateMarkerAddress(str) {\n        $(\".venueLatLng\").find(\".address\").html(str);\n}\nvar marker;\nvar map;\nfunction initializeVenueMap() {\n        if ( google === false ) return false;\n        var latLng = new google.maps.LatLng( constants.venue_lat, constants.venue_lng);\n        map = new google.maps.Map(document.getElementById('map-container'), {\n                zoom: 15,\n                center: latLng,\n                mapTypeId: google.maps.MapTypeId.ROADMAP,\n                scrollwheel: false\n        });\n        marker = new google.maps.Marker({\n                position: latLng,\n                title: 'Your Venue',\n                map: map,\n                draggable: true,\n                icon: '/img/icons/Venue_Map_Pin.png'\n        });\n\n        // Update current position info.\n        updateMarkerPosition(latLng);\n        geocodePosition(latLng);\n\n        var input = document.getElementById('venue-search');\n        var autocomplete = new google.maps.places.Autocomplete(input);\n\n        autocomplete.bindTo('bounds', map);\n\n        google.maps.event.addListener(marker, 'drag', function() {\n                updateMarkerPosition(marker.getPosition());\n        });\n\n        google.maps.event.addListener(marker, 'dragend', function() {\n                _gaq.push(['_trackEvent', 'Create', 'VenuePlaceRepositioned', 'id:'+constants.event_id]);\n                geocodePosition(marker.getPosition());\n        });\n\n    google.maps.event.addListener(autocomplete, 'place_changed', function(e) {\n                _gaq.push(['_trackEvent', 'Create', 'VenuePlaceChanged', 'id:'+constants.event_id]);\n              var place = autocomplete.getPlace();\n              if (place.geometry.viewport) {\n                map.fitBounds(place.geometry.viewport);\n              } else {\n                map.setCenter(place.geometry.location);\n                map.setZoom(15);  // Why 15? Because it looks good.\n              }\n              map.setZoom(15);  // Why 15? Because it looks good.\n\n              marker.setPosition(place.geometry.location);\n\n\n\n              var address = '';\n                  // console.log('PLACE CHANGED: ');\n                  // console.log(place);\n                  var address_fields = { name: place.name, street_number: '', address: '', city: '', state: '', zip: ''};\n              if (place.address_components) {\n                /*address = [(place.address_components[0] &&\n                            place.address_components[0].long_name || ''),\n                           (place.address_components[1] &&\n                            place.address_components[1].long_name || ''),\n                           (place.address_components[2] &&\n                            place.address_components[2].long_name || '')\n                          ].join(' ');*/\n                 for ( var i in place.address_components ){\n                   if ( place.address_components[i].types[0] == 'postal_code' ) address_fields.zip = place.address_components[i].long_name;\n                   else if ( place.address_components[i].types[0] == 'street_number' ) address_fields.street_number = place.address_components[i].long_name;\n                   else if ( place.address_components[i].types[0] == 'route' ) address_fields.address = place.address_components[i].long_name;\n                   else if ( place.address_components[i].types[0] == 'locality' ) address_fields.city = place.address_components[i].long_name;\n                   else if ( place.address_components[i].types[0] == 'administrative_area_level_1' ) address_fields.state = place.address_components[i].short_name;\n                   else if ( place.address_components[i].types[0] == 'country' ) address_fields.country = place.address_components[i].long_name;\n                 }\n              }\n\n            address_fields.address = address_fields.street_number +' '+ address_fields.address;\n                var lat = place.geometry.location.lat();\n                var lng = place.geometry.location.lng();\n                var $tz = $(\"#timezone-selector\");\n                if(!$tz.hasClass('manually-changed')){\n\n                    timezoneDetector.getTimezone( lat, lng, function( data ) {\n\n                        if( data.timeZoneId!=null ) {\n                            //if there's an id, we have a match.\n                            var $opt = $tz.find(\"option[tz-name='\"+data.timeZoneId+\"']:first\");\n                            if($opt.length < 1){ //if no match keep looking.\n                                var offset = data.rawOffset/3600;//returned in seconds. convert to seconds.\n                                //var $opt = $tz.find(\"option[offset='\"+offset+\"']:first\");\n                                var new_option = '<option tz-name=\"'+data.timeZoneId+'\" value=\"-1\">(GMT '+offset+':00) '+data.timeZoneName+'</option>';\n                                $tz.find(\"optgroup:last\").append(new_option);\n                                $tz.val('-1').trigger('change');\n                                //$tz.val('-1').trigger('change');\n                                $(\"#tz-name\").val(data.timeZoneName);\n                                $(\"#tz-offset\").val(offset);\n                                $(\"#tz-identifier\").val(data.timeZoneId);\n                            } else{\n                                $tz.val($opt.prop(\"value\")).trigger('change');\n                            }\n                        }\n                    });\n                }\n\n\n                $(\"#venue-name\").val(address_fields.name);\n                $(\"#venue-address\").val(address_fields.address.trim());\n                $(\"#venue-city\").val(address_fields.city.trim());\n                $(\"#venue-state\").val(address_fields.state.trim());\n                $(\"#venue-zip\").val(address_fields.zip.trim());\n                $(\"#venue-country\").val(address_fields.country);\n                $(\".venueLatLng input.lat\").val(lat);\n                $(\".venueLatLng input.lng\").val(lng);\n\n                $(\"#map-cover,#map-tbd\").hide();\n                $(\"#venue-tbd-checkbox\").removeAttr(\"checked\");\n\n                $('a.address-search').click();\n\n              //infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);\n              //infowindow.open(map, marker);\n        return;\n    });\n\n}\n\n        function getEventLength(type){\n\n                var start = { date: $(\"#event_date\").datepicker(\"getDate\"), hr: $(\"#event_start_hr\").val()*1,\n                        min: $(\"#event_start_min\").val()*1, meridian: $(\"#start_meridian\").val() };\n                var end = { date: $(\"#event_date_end\").datepicker(\"getDate\"), hr: $(\"#event_end_hr\").val()*1,\n                        min: $(\"#event_end_min\").val()*1, meridian: $(\"#end_meridian\").val() };\n\n                if(start.meridian == 'PM' && start.hr != 12){\n                        start.hr += 12;\n                }\n                else if(start.meridian == 'AM' && start.hr == 12){\n                        start.hr = '00';\n                }\n\n                if(end.meridian == 'PM' && end.hr != 12){\n                        end.hr += 12;\n                }\n                else if(end.meridian == 'AM' && end.hr == 12){\n                        end.hr = '00';\n                }\n\n                //var start_date  = $(\"#event_date\").datepicker(\"getDate\");\n                //var end_date  = $(\"#event_date_end\").datepicker(\"getDate\");\n\n\n                //var earlierdate=$(\"#event_date\").datepicker(\"getDate\");\n                //var laterdate=$(\"#event_date_end\").datepicker(\"getDate\");\n                //earlierdate.setHours(start_hr,start_min);\n                //laterdate.setHours(end_hr,end_min);\n\n                start.date.setHours(start.hr,start.min);\n                end.date.setHours(end.hr, end.min);\n                //console.log(start.hr+','+end.hr);\n                //console.log(start.min+','+end.min);\n\n                var diff=timeDifference(end.date,start.date);\n                if(diff!=''){\n                        $(\"#event-length\").html(diff);\n                        $('#whenwhere').removeClass('error');\n                        $(\"li[section='whenwhere']\").removeClass('error');\n                        $(\"#whenwhere-error-message\").hide();\n                }else {\n                        if($(\"#hideEndTime\").val()==0){\n                                if(type!=null){\n                                        if(type=='time'){//if they change the end TIME before the end DATE, then up the date to the next day if the dates don't make sense.\n                                                var date2 = $(\"#event_date\").datepicker('getDate', '+1d');\n                                                date2.setDate(date2.getDate()+1);\n                                                $(\"#event_date_end\").datepicker('setDate', date2);\n                                                getEventLength();\n                                        } else{\n                                                //if they're changing the DATE and we have a paradox, up the event HOUR by one.\n                                                var start_hour = $(\"#event_start_hr\").val();\n                                                var current_meridian = start.meridian;\n                                                if(start_hour!='11'){\n                                                        if(start_hour=='12'){\n                                                                var new_hour = '01';\n                                                        } else{\n                                                                var new_hour = '0'+(start_hour+1);\n                                                        }\n                                                        $(\"#event_end_hr\").val(new_hour);\n                                                        // var date2 = $(\"#event_date\").datepicker('getDate', '+1d');\n                                                        // date2.setDate(date2.getDate()+1);\n                                                        // $(\"#event_date_end\").datepicker('setDate', date2);\n\n                                                        //return false;\n                                                }\n                                                getEventLength();\n\n                                                // $(\"#event-length\").html('Error');\n                                                // $('#whenwhere').addClass('error');\n                                                // $(\"#whenwhere-error-message\").show();\n                                        }\n                                } else {\n                                        $(\"#event-length\").html('Error');\n                                        $('#whenwhere').addClass('error');\n                                        $(\"#whenwhere-error-message\").show();\n                                }\n                        }\n                }\n\n}\n// function calculateDaysUntil(){\n//      var $days_until = $(\"#days-until\");\n//      var event_date = $(\"#event_date\").val();\n//      if(event_date == ''){\n//              $(\"#days-until\").html('&mdash;');\n//      }\n//      else{\n//              event_date = parseDate(event_date);\n//              var today = parseDate(constants.today);\n//              var until = daydiff(today,event_date);\n//              if(until > 0){\n//                      var plural = (until != 1)?'days':'day';\n//                      $days_until.html(until+' '+plural);\n//              }\n//              else if(until < 0){\n//                      var event_end = parseDate($(\"#event_date_end\").val());\n//                      var days_until_end = daydiff(today,event_end);\n//                      if(days_until_end > 0){ //check to see if the end date is in the future (multi day event).\n//                              $days_until.html('Event in progress');\n//                      }\n//                      else{\n//                              $days_until.html('Event complete');\n//                      }\n//              }\n//              else{\n//                      $days_until.html('Event is today!');\n//              }\n//      }\n\n// }\n\nfunction parseDate(str){\n    var mdy = str.split('/');\n    return new Date(mdy[2], mdy[0]-1, mdy[1]);\n}\n\nfunction daydiff(first, second) {\n    return Math.floor((second-first)/(1000*60*60*24));\n}\n\n//alert(daydiff(parseDate($('#first').val()), parseDate($('#second').val())));\nvar date_values = { start: {}, end: {} };\n\nfunction clickDateTBD($obj){\n        $('div.date-time ul li.tbd').toggle();\n        if($obj.is(\":checked\")){\n                $(\"#event-duration\").hide();\n                date_values.start.date = $(\"#event_date\").val();\n                date_values.start.hr = $(\"#event_start_hr\").val();\n                date_values.start.min = $(\"#event_start_min\").val();\n                date_values.start.meridian = $(\"#start_meridian\").val();\n\n                date_values.end.date = $(\"#event_date_end\").val();\n                date_values.end.hr = $(\"#event_end_hr\").val();\n                date_values.end.min = $(\"#event_end_min\").val();\n                date_values.end.meridian = $(\"#end_meridian\").val();\n\n\n                $(\"#event_date,#event_date_end\").val('');\n                $(\"select.cal\").val('');\n\n                // changeCompletionStatus($(\"#event_date\").parents(\"div.section\").attr(\"num\"),true);\n\n                $('#whenwhere').removeClass('error');\n                $(\"li[section='whenwhere']\").removeClass('error');\n                $(\"#whenwhere-error-message\").hide();\n        }\n        else{\n                        if($(\"#hideEndTime\").val()!='1'){\n                                $(\"#event-duration\").show();\n                        }\n                // changeCompletionStatus($(\"#event_date\").parents(\"div.section\").attr(\"num\"),true);\n                        $(\"#event_date\").val(date_values.start.date);\n                        $(\"#event_start_hr\").val(date_values.start.hr);\n                        $(\"#event_start_min\").val(date_values.start.min);\n                        $(\"#start_meridian\").val(date_values.start.meridian);\n\n                        $(\"#event_date_end\").val(date_values.end.date);\n                        $(\"#event_end_hr\").val(date_values.end.hr);\n                        $(\"#event_end_min\").val(date_values.end.min);\n                        $(\"#end_meridian\").val(date_values.end.meridian);\n                        getEventLength();\n        }\n\n        //updateCompletedSteps();\n\n}\nfunction timeDifference(laterdate,earlierdate) {\n    var difference = laterdate.getTime() - earlierdate.getTime();\n        // negative time!\n        if ( difference < 0 ) { return ''; }\n\n    var daysDifference = Math.floor(difference/1000/60/60/24);\n    difference -= daysDifference*1000*60*60*24\n\n    var hoursDifference = Math.floor(difference/1000/60/60);\n    difference -= hoursDifference*1000*60*60\n\n    var minutesDifference = Math.floor(difference/1000/60);\n    difference -= minutesDifference*1000*60\n\n    var secondsDifference = Math.floor(difference/1000);\n        var str=\"\";\n        //console.log(daysDifference);\n        if(daysDifference>0){\n\n                var day_plural=(daysDifference!='1')?'days':'day';\n                str+=daysDifference+' '+day_plural;\n        }\n        if(hoursDifference>0){\n\n                var hour_plural=(hoursDifference!='1')?'hours':'hour';\n                if(day_plural)\n                        str+=', ';\n                str+=hoursDifference+' '+hour_plural;\n        }\n        if(minutesDifference>0){\n                //var minute_plural=(minutesDifference!='1')?'hours':'hour';\n                if(hour_plural)\n                        str+=', ';\n                str+=(minutesDifference!='1')?minutesDifference+' minutes':minutesDifference+' minute';\n        }\n        return str;\n}\nfunction updateEventDomain(){\n        var $event_title = $(\"#event-title\");\n        var $domain_input = $(\"#event-domain-field\");\n\n        var domain_value = $.trim($event_title.val().replace(/[^-_0-9a-z]/ig,''));\n        //console.log(\"ADOS \"+domain_value);\n        if(!$domain_input.attr(\"changed\")){\n                var domain_formatted = domain_value.toLowerCase().substring(0,30);\n                //$domain_input.val(domain_formatted);\n                $domain_input.text(domain_formatted);\n\n                if(!$domain_input.is(\":visible\")){\n                        $(\"#splashDomainLink\").find(\"span\").text(domain_formatted+'.splashthat.com').fadeIn();\n                }\n                $(\"#changeSplashDomainLink\").fadeIn();\n                //return;\n        }\n        var $hashtag_input = $(\"#event-hashtag\");\n        if(!$hashtag_input.attr(\"changed\")){\n                $hashtag_input.val('#'+domain_value);\n        }\n        //$(\"#splashHashLink\").find(\"span\").text('#'+domain_value);\n\n}\nvar edited_already = false;\nfunction animatePane(){\n        if($(\"div.step-1\").hasClass('active')){\n                window.location.hash = 'details';\n                        $(\"#eventSettingsWrap\").addClass('pane-2');\n                        $(\"#create-inner-wrap\").removeClass('pane2').animate({'margin-left':'-500px'},200,function(){\n                                $(\"div.step-1\").removeClass('active');\n                                $(\"div.step-2\").addClass('active');\n                        });\n        } else{\n                window.location.hash = '!';\n                $(\"#eventSettingsWrap\").removeClass('pane-2');\n                        $(\"div.step-1\").addClass('active');\n                        $(\"div.step-2\").removeClass('active');\n                $(\"#create-inner-wrap\").addClass('pane2').animate({'margin-left':'0px'},200,function(){\n\n                });\n        }\n}\n\nvar openCustomSelects = false;\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/new-create.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 60914,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "var keyboardShortCutMode = '',\n	imageUploadText = {\n		header: 'Image should be no larger than 2000 pixels wide and high.<br />We recommend uploading jpgs to keep page loads quick.'\n	}\n\nvar layoutOptions = {\n	modes: ['s1','s1 alt','s2','s2 alt','s3','s3 alt','s4','s4 alt','s5','s5 alt'],\n	shapes: ['circle', 'square', 'layout', 'portrait', 'no-shape', 'landscape', 'nu-logo-landscape', 'nu-circle', 'nu-logo-square', 'nu-portrait', 'nu-square', 'none', 'nu-logo-square', 'nu-logo-landscape']\n}\n\n$(document).ready(function(){\n	$('#upload-livefeed-bg-trigger').on('click', function() {\n		var $input = $('#upload-livefeed-bg-input');\n		pickAndOrCropNewImage($input, {\n			done: function(newSrc,dims){\n				$input.val(newSrc).addClass('changes-made');\n				setChangesMade();\n				SplashUI.notify('Uploaded successfully', 'success');\n			}\n		});\n	});\n\n	if( $('body').hasClass('noPayoutData') ){\n		$('.firstViewInfo').on('click', '.closeSimpleModal', function(){\n			$('.pop-wrap1').remove();\n			$('body').removeClass('noPayoutData')\n		})\n	}\n\n	//formatEventPhotoBytes();\n	setWindowHeight($(\"#nestedLayoutContainer\"));\n	setWindowHeight($(\"#allSectionsContainInner\"));\n	linkingModal.getHeight();\n	//allow only numbers in input [type=number]\n\n	window.onbeforeunload = function (evt) {\n		if ( ( changes_made && !domain_changes) || unsavedSettings ){\n			//promptUserToSave();\n			var message = \"Unsaved changes will be lost.\\nYou should save your event before leaving!\";\n			if (typeof evt == undefined) {\n				evt = window.event;\n			}\n			if (evt) {\n				evt.returnValue = message;\n			}\n			return message;\n		} else if(email_changes_made){\n			var message = \"You have unsaved changes to your email.  You should save your changes before leaving!\";\n			if (typeof evt == undefined) {\n				evt = window.event;\n			}\n			if (evt) {\n				evt.returnValue = message;\n			}\n			return message;\n		}\n	}\n\n	//window.location.hash = '!';\n\n	$(\"html\").keyup(function(e){\n		if(e.which == 13 || e.which == 27){ //enter/escape key calls.\n			if(openColorPicker){\n				//$(\"div.colorpicker\").hide();\n				$(\"div.sp-container:visible:first\").find(\".sp-choose\").click();//hide any visible spectrums.\n				openColorPicker = false;\n			}\n			if(e.which==27){ //escape.\n				if(openRTE){\n					hideRTE();\n				}\n				var $simpleModalWrap = $(\"#simple-modal-wrap\");\n				if($simpleModalWrap.is(\":visible\")){\n					if(!$simpleModalWrap.hasClass('persistent')){\n						closeSimpleModal();\n					}\n				} else if(finetuneOpen){\n					backToFineTune();\n				}\n\n				if(typeof openEntryModal!=='undefined' && openEntryModal){ //close open entry modal in gallery tab.\n 					$(\"#entryModal\").find(\".closeEntryModal\").click();\n				}\n			}\n			else if(e.which==13){\n				if($(\"#header-image-preview\").is(\":visible\") && $(\"#splash-based-image\").val()==1){\n					$(\"#saveChangesButton\").click();\n				} else if($(\"#delete-modal\").is(\":visible\")){//homebrew delete modal.\n					$(\"#delete-modal\").find(\".deleteBtn\").click();\n				}\n			}\n		}\n	}).click(function(e){\n		if($simpleModalWrap.is(\":visible\")){\n			var $target = $(e.target);\n			if(!openDatePicker && ($target.parents(\".simple-modal\").length<1 && !$target.hasClass('simple-modal')) && !$(\"#simple-modal-wrap\").hasClass('persistent')){\n				if($target.hasClass('pac-container') || $target.parents(\"div.pac-container\").length > 0){//checking for google autocomplete. w/o this, clicking autocomplete closes simple modal.\n					closeSimpleModal();\n				}\n			}\n		}\n	});\n\n	//top level control to add changes-made to inputs as they are changed.\n	$(\"#finetune-all-tools,#edit-settings\").on('change','input,textarea,select',function(){\n		var $this = $(this);\n		if(($this.prop(\"name\")+'').match(/^data/)){\n			$this.addClass('changes-made');\n		}\n	});\n\n	$('#nuTool #rsvpTixTab').on('click',function(){\n		$(this).removeClass('fvFlash');\n		$('body').removeClass('noTickets');\n		$('body').removeClass('noPayoutData');\n	});\n\n	// ----------------------\n	/* This function loads the metadata key value pairs in the settings modal */\n	function jsonMetadata() {\n		var metadata_json = {};\n		$.each( $('#eventMetadata .metadata-row'), function() {\n			if ( $(this).find('.metadata-key').length > 0 && $(this).find('.metadata-val').length > 0 ) {\n				metadata_json[ $(this).find('.metadata-key').val() ] = $(this).find('.metadata-val').val();\n			}\n		});\n		return metadata_json;\n	}\n	/* actions for the metadata add/delete buttons and populating the hidden input after editing any key or value */\n	$(\"#edit-settings\").on('focusout', '.metadata-key, .metadata-val', function() {\n		$('.metadata-json').val( JSON.stringify(jsonMetadata()) ).change();\n	});\n	$(\"#edit-settings\").on('click', '.metadata-delete', function() {\n		$(this).closest('.metadata-row').remove();\n		$('.metadata-json').val( JSON.stringify(jsonMetadata()) ).change();\n	});\n	$(\"#edit-settings\").on('click', '.metadata-add', function() {\n		$(this).before(\n			$('#eventMetadata .metadata-template').clone().removeClass('metadata-template hide').addClass('metadata-row')\n		);\n	});\n	// ---------------------\n\n	////////////////////////////////////////////////////////////////////////////////\n	///////////////////////////// DATE CONTROLS START //////////////////////////////\n	$(\"#addEventEndDate\").click(function(e){\n		e.preventDefault();\n		$(this).hide();\n		$(\"#end-date-contain\").show();\n		$(\"#hide_end_date\").val(0).addClass('changes-made').trigger('change');\n		$(\"input.cal,select.cal\").addClass('changes-made');//changes date/time song is this hitting?\n		updateSplashField('date',null,$(\"#element-when\"));\n	});\n\n	$(\"#deleteEventEndDate\").click(function(e){\n		e.preventDefault();\n		$(\"#end-date-contain\").hide();\n		$(\"#hide_end_date\").val(1).addClass('changes-made').trigger('change');\n		$(\"#addEventEndDate\").show();\n		updateSplashField('date',null,$(\"#element-when\"));\n	});\n\n	$(\"#event_date\").datepicker({\n		dateFormat: 'mm/dd/y',\n		beforeShow: function(){\n			openDatePicker = true;\n		},\n	 	onSelect: function(dateText, inst) {\n	 		//when you change the event start date, also change the end date.\n	 		//we want to filter both the date and the range of the end date, making all days earlier\n	 		//than the event start unselectable.\n	 		$(\"#event_date_end\").datepicker('option','minDate', dateText).val(dateText);\n			if($(\"#date-tbd\").val()=='1'){\n				$(\"#date-tbd\").val(0).addClass('changes-made');\n			}\n			_event.date.start = dateText + _event.date.start.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}/);\n			CountdownElement.updateAll();\n			$(this).trigger('change');\n		},\n		onClose:function(){\n			setTimeout(function(){\n				openDatePicker = false;\n			},500);\n		}\n	});\n	$(\"#event_date_end\").datepicker({\n		dateFormat:'mm/dd/y',\n		minDate: $(\"#event_date\").val(),\n		beforeShow: function(){\n			openDatePicker = true;\n		},\n		onSelect: function(dateText, inst){\n			if($(\"#date-tbd\").val()=='1'){\n				$(\"#date-tbd\").val(0).addClass('changes-made');\n			}\n			_event.date.end = dateText + _event.date.end.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}/);\n			$(this).trigger('change');\n		},\n		onClose:function(){\n			setTimeout(function(){\n				openDatePicker = false;\n			},500);\n		}\n\n	});\n	//event start and end time controls\n	$(\"#event-start-timepicker\").timepicker({\n		appendTo: '.tpStart'\n	});\n	$(\"#event-end-timepicker\").timepicker({\n		appendTo: '.tpEnd'\n	});\n	$(\"#event-start-timepicker,#event-end-timepicker\").on({//event actions for timepicker\n		show: function(){\n			openDatePicker = true;\n		},\n		changeTime: function(){\n			val = $(this).val();\n			$(this).parents(\".timePicker\").find(\".timeHolder\").text(val).show().end()\n				   .find(\"input.time-select\").hide();\n			if ( $(this).attr('id') == \"event-start-timepicker\" ) {\n				_event.date.start = _event.date.start.match(/[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}/)+\" \"+ am_pm_to_hours(val);\n			} else {\n				_event.date.end = _event.date.end.match(/[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}/)+\" \"+ am_pm_to_hours(val);\n			}\n			CountdownElement.updateAll();\n		},\n		hideTimepicker: function(){\n			val = $(this).val();\n			$(this).parents(\".timePicker\").find(\".timeHolder\").text(val).show().end()\n			   .find(\"input.time-select\").hide();\n			openDatePicker = false;\n		}\n	});\n\n	$(\"#event-start-time,#event-end-time\").on('click',function(){\n		$(this).hide().parents(\".timePicker\").find(\"input.time-select\").show().focus().timepicker('show');\n	});\n\n	$(\"input.cal,input.time-select,#time-tbd,#date-tbd,#hide-time-checkbox,#timezone-selector\").change(function(){\n		updateSplashField('date',null,$(\"#element-when\"));\n		$(\"input.cal,input.time-select,#time-tbd,#date-tbd,#hide_end_date,#hide-time-checkbox,#timezone-selector\").addClass('changes-made');\n		\n		// display message in planning tools to let user know date will update after refresh\n		$('#date-change-message').addClass('date-changed');\n	});\n\n	$(\"#timezone-link\").click(function(){\n		$(this).hide();\n		$(\"#timezone-selector\").show().addClass('manually-changed').focus();\n	});\n	$(\"#timezone-selector\").focusout(function(){\n		$(this).hide();\n		var thisText = $(this).find(\":selected\").text()\n		$('.timeZoneText').text(thisText)\n		$('#timezone-link').show();\n	}).change(function(){\n		$(this).hide();\n		var thisText = $(this).find(\":selected\").text()\n		$('.timeZoneText').text(thisText)\n		$('#timezone-link').show();\n		trackIndicativeEvent('timezoneChanged');\n	});\n\n	$(\"#hide-time-checkbox\").change(function(){\n		if($(this).val()=='1'){\n			$body.addClass('hide-time');\n		} else{\n			$body.removeClass('hide-time');\n\n		}\n	});\n	///////////////////// DATE CONTROLS END ////////////////////////////\n	///////////////////// VENUE CONTROLS START ////////////////////////////\n	$(\"#venue-name,#venue-address,#venue-city,#venue-state,#venue-zip\").on('keyup change',function(e){\n		var $t = $(this);\n		clearTimeout(searchKeyUpTimer);\n		if($t.attr(\"set-val\")!=$.trim($(this).val())){\n			searchKeyUpTimer = setTimeout(function(){\n				updateVenueText();\n				$t.attr(\"set-val\",$t.val());//.addClass('changes-made');\n			},300);\n		}\n	});\n	///////////////////// VENUE CONTROLS END ////////////////////////////\n	/////////////////////////////////////////////////////////////////////\n\n	//changing header on page,body changing on page\n	$(\"#splash-container,#finetune-all-tools\").on('click','#changeHeaderInline,#changeBgInline,#changeHeaderFinetune,#changeBgFinetune',function(){\n		var id = (this.id == 'changeHeaderInline' || this.id == 'changeHeaderFinetune')?'header':'body';\n		var $group = getTargetById(id);\n		populateAdvancedImgControls($group);\n		pickAndOrCropNewImage($('#'+id+'-image-source'),{\n			done: function(newSrc,dims){\n				if( id=='body' && isLegacyEvent() ){//SPECIAL LEGACY EVENT CHECK.\n					$(\"#body-image-source\").val(newSrc).trigger('change');//update base header here.\n					$(\"#body-bg-type\").val('image').trigger('change');\n					$(\"#splash-container\").css('background-image','url(\"'+newSrc+'\")');\n					setChangesMade();\n				} else {\n					if($group.length > 0){\n						updateGroupImage($group,{ 'src': newSrc, 'dims': dims });\n					}\n				}\n\n				trackIndicativeEvent('change'+id+'Image');\n			},\n			helperText: imageUploadText.header,\n			group_id: $group.prop('id')\n		});\n\n		if(id=='header'){\n			editHeadBG( $group, 'head' );\n		} else {\n			editHeadBG( $group, 'bg' );\n		}\n	});\n\n	//advanced controls - for header and body. keyword:background-size, background-position, background-repeat, background-attachment..\n	$(\"#advancedImgUtils\").on('change','input.style-ctrl',function(){\n		if(isLegacyEvent() && $(\"#cropAnyPhoto\").hasClass('editBG') ){//a special check for legacy events only.\n			$(\"#splash-container\").css($(this).data('css-prop'), $(this).val() );\n			finetuneEditedFields['data[EventSetting][theme_styles][body][styles]['+$(this).data('css-prop')+']'] = $(this).val();\n			finetuneFieldChangesMade();\n		} else {\n			var group_id = $(\"#cropAnyPhoto\").data(\"group-id\");\n			var $liveGroup = ftGetLayoutGrp(group_id);\n			var grp = ftGetGrp($liveGroup);\n			if(!grp['styles']){ grp['styles']={}; }\n			grp['styles'][$(this).data('css-prop')] = $(this).val();//where data-css-prop could be 'background-repeat', 'background-position', etc.\n			updateBackgroundSettings($liveGroup,'image',null,grp);\n		}\n		return false;\n	});\n\n	//closing the bottom sections (form, responses, email, planning)\n	$(\"#planning-tools-header,#closePlanningTools\").click(function(e){\n		// Prevents from closing when clicking pro addon link\n		var clicked_id = e.target.id;\n 		var exempt_click_ids = ['pro-addon-link', 'pro-addon-button', 'header-date-info', 'planning-tools-display-date', 'planning-tools-display-time', 'calendarInviteDate'];\n\n 		if(exempt_click_ids.indexOf(clicked_id) === -1) {\n			closePlanningTools();\n		} else {\n			console.log('dont close');\n		}\n	});\n\n	$(\"#elementsHeader\").on('click', function(){ //acts as a back button in sidebar.\n		closeCustomSection();\n	})\n\n	//jumping into accordion section!!\n	$('#finetune-sections').on('click',\".ft-grp span.title\",function(e){\n		if($openingAcc){\n			return false; //only do it if it's already open.\n		}\n		var $ftgrp = $(this).parents('.ft-grp:first');\n		if(inAdvancedMode()){\n			videoOptions.checkType($(this));\n			if( $ftgrp.hasClass('open') ){\n				// DO NOTHING, NO LONGER BTN WHEN OPEN\n			} else {\n				$(\"#nestedLayoutContainer\").data('currentScroll',$(\"#nestedLayoutContainer\").scrollTop());\n				openCustomSection($ftgrp);\n			}\n		}\n		if($('body').hasClass('designerMode')){\n			var $ftgGrp = $(this).parent('.ft-grp:first');\n			openCustomSection($ftgGrp);\n			$('#allSectionsContain').addClass('hide');\n			changeLayout.ftContain.find('.ft-grp').removeClass('hide');\n			$(\"#admin-group-clusters\").append(changeLayout.ftContain);\n			$('#nestedLayoutContainer').removeClass('hide');\n			$(\"#nestedLayoutContainer\").css({ \"height\":\"\", \"max-height\":\"\"});\n		}\n		//if in basic mode, just scroll to the section.\n		var $layoutGrp = ftGetLayoutGrp($ftgrp);\n		scrollToBlock($layoutGrp,-20,null,true);\n\n	});\n	var hasResized = false;\n	var scrollTime;\n	var windowScrollingStylingChecks = debounce(function(){\n\n		//if( $body.hasClass('isScrolling') === false ){\n		$body.addClass('isScrolling')\n		//}\n\n		if($body.hasClass('toolsOpen')){\n			var s = $(window).scrollTop();\n			if(s >= '23'){// when scrolled 23px addClass pt-has-scrolled\n				$body.addClass('pt-has-scrolled');\n				if(s >= '165'){ // when 165px from top of window addClass prep-minify\n					$body.addClass('prep-minify');\n					if(s >= constants.scrollMin){ // when 210px from top of window addClass minify\n						$body.addClass('minify');\n					} else { // then reverse\n						$body.removeClass('minify');\n					}\n				} else {\n					$body.removeClass('minify prep-minify');\n				}\n			} else {\n				$body.removeClass('prep-minify minify pt-has-scrolled');\n			}\n		}\n		clearTimeout(scrollTime);\n		scrollTime = setTimeout(function(){\n			$body.removeClass('isScrolling')\n			addElementScroll();\n		}, 10)\n\n	}, 50);\n\n	//all resizing actions.  all window.resize actions should be held here.\n	$(window).resize(function(){\n		linkingModal.getHeight();\n\n		if( $('body').hasClass('finetuneOpen') ){\n			setVisibleAccordionHeight();\n		}\n\n\n		setWindowHeight($(\"#nestedLayoutContainer\"));\n		setWindowHeight($(\"#allSectionsContainInner\"));\n		if($(\"#finetune-layout-contain .section.ft-grp\").hasClass('open')){\n			$(\"#nestedLayoutContainer\").css({ \"height\":\"100%\", \"max-height\": \"100%\" });\n		}\n\n		resizeJuicy()\n		resizeColorWheel()\n\n		if( $body.hasClass('showTutorial') ){\n			$fvOverlay = $('#firstViewOverlay')\n			if( $fvOverlay.hasClass('showDesign') ){\n				positionTut('top')\n			} else if( $fvOverlay.hasClass('showPlanning')) {\n				positionTut('bottom')\n			}\n		}\n\n		setScrollWidth();\n		updateBlockWrapHeight();\n		setInnerTabHeight()\n\n	}).scroll(windowScrollingStylingChecks); //end window scroll function.\n\n\n	//LEGAL LANGUAGE TOGGLING\n	$(\"#finetune-hide_legal-language\").change(function(){\n		var $legal = $(\"#rsvp-legal-expl\");\n		if($(this).val()=='1'){\n			if($legal.html().trim()==''){\n				$legal.html('Add special instructions here').trigger('change');\n			}\n			$legal.parents(\".layoutGrp:first\").show();\n			scrollToBlock($(\"#element-legal-language\"));\n		} else{\n			$legal.html('').trigger('change');\n			$legal.parents(\".layoutGrp:first\").hide();\n		}\n	});\n\n	$(\"#finetune-hide_rsvp\").change(function(){\n		//toggling rsvp button.\n		var $p = $(\"#element-rsvp\").parents(\".layoutGrp:first\");\n		if($(this).val()=='1'){\n			$p.hide();\n			$('#buttonTabWrap').addClass('is-hidden')\n		} else {\n			$p.show();\n			scrollToBlock($p,-20);\n			$('#buttonTabWrap').removeClass('is-hidden')\n		}\n\n		$(\"#element-rsvp\").removeClass('rsvpHover')\n\n		setChangesMade();\n	});\n\n	//display guest list on page.\n	$(\"#rsvp_guest_display\").change(function(){\n		if($(this).val()=='1'){\n			$(\"#element-attendees\").show().parents('.layoutGrp:first').show();\n			$(\"#view-attendees\").show();\n		} else{\n			$(\"#element-attendees\").hide().parents('.layoutGrp:first').hide();\n			$(\"#view-attendees\").hide();\n		}\n		setChangesMade();\n	});\n\n	//clicking BACK in any given section.  Advanced layout controls, color linking, etc.\n	$('#finetune-back-btn').on('click', function(){\n		var $b = $('body');\n		var $ft = $(\"#finetune-all-tools\");\n\n		resizeColorWheel()\n\n		$('#nestedLayoutContainer').removeClass('isBasicEle')\n\n		if( $b.hasClass('advMode') == false && $b.hasClass('editSwatchColor') ){\n			// EDIITING COLOR IN BASIC MODE\n			$b.removeClass('editSwatchColor')\n			doneWithColorTabInner()\n		} else if ( $b.hasClass('editColors') ) {\n			// if in manage color state\n			if( ! $b.hasClass('editSwatchColor') && ! $b.hasClass('editLinks') ){\n				$b.removeClass('editColors')\n			}\n			doneWithColorTabInner()\n		} else if ( $b.hasClass('editFonts') ){\n			$b.removeClass('editFonts')\n		}\n		else if($b.hasClass('advMode') && $b.hasClass('finetuneOpen')){\n			closeCustomSection();\n		}\n 		else if($b.hasClass('designerMode')) {\n			$('#allSectionsContain').removeClass('hide');\n			$('#nestedLayoutContainer').addClass('hide');\n			closeCustomSection();\n			changeLayout.designer();\n			setTimeout(function(){\n				setWindowHeight($(\"#allSectionsContainInner\"));\n			},1000);\n		}\n	})\n\n	$(\"#saveChangesBtn, #save-details-design\").click(function(){	//SAVE CHANGES BUTTON\n		if($(this).hasClass('in-progress')){\n			return false;\n		}\n\n		trackIndicativeEvent('manualSave');\n\n		//adding changes made to this one input to ensure that the saving submits.\n		$(\"#autosave-checkbox\").addClass('changes-made');\n		clearTimeout(savingTimer);\n		savingTimer = setTimeout(autoSaveData, 0);\n		return false;\n	});\n\n	// Vanity URL setup\n	$('#vanity-url-setup-instruction-link').click(function(){\n		trackIndicativeEvent('vanityUrlInstructions');\n		$(\"#vanity-url-sell-instructions\").fireSimpleModal();\n		return false;\n	});\n\n	$('#vanity-url-open').click(function(){\n		trackIndicativeEvent('vanityUrlOpen');\n		$(\"#vanity-url-sell\").fireSimpleModal();\n		setTimeout(function(){\n			$(\"#vanity-url-sell-input\").focus();\n		},100);\n		return false;\n	});\n\n	$(\"#vanity-url-open-input\").change(function(){\n		$(this).addClass('changes-made');\n		setChangesMade();\n	});\n\n	$(\"#vanity-url-sell-input\").keyup(function(e){\n		if ( e.which == 13 ){\n			$('#vanity-url-continue').click();\n		} else{\n			var $h5 = $(\"#vanity-url-sell\").find(\"h5:first\");\n			if($h5.hasClass('error') && $(this).val().match(/^[-_\\.a-z0-9]+\\.[a-z]+$/i) ){\n				$h5.removeClass('error').addClass('good').text('That\\'s more like it!');\n			}\n		}\n	});\n\n	$(\"#vanity-url-continue\").click(function(){\n		// populate the form with the required values\n		var $form = $('#vanity-url-sell-form');\n		var custom_domain = $('#vanity-url-sell-input').val();\n		if ( custom_domain.match(/^[-_\\.a-z0-9]+\\.[a-z]+$/i) ){\n\n			$form.find('input.title').val($('#finetune-title').val());\n			$form.find('input.domain').val($('#saved-event-domain').text());\n			$form.find('input.custom_domain').val(custom_domain);\n			$form.find('input.plan_code').val('vanity-url');\n			$form[0].submit();\n\n		}else {\n			$(\"#vanity-url-sell\").find(\"h5:first\").removeClass('good').addClass('error').text('Please enter a valid domain');\n			$(\"#vanity-url-sell-input\").focus();\n			return false;\n			//alert('Please enter a valid domain!');\n\n		}\n	});\n	// End Vanity URL setup\n\n	// White Label Open\n	$(\"#white-label-open,#white-label-continue\").click(function(){\n		var $form = $('#white-label-form');\n		$form.find('input.title').val($('#finetune-title').val());\n		$form.find('input.domain').val($('#saved-event-domain').text());\n		$form.find('input.plan_code').val('white-label');\n		$form[0].submit();\n		return false;\n	});\n	// End White Label Open\n\n	//event domain manually changing\n	$(\"#edit-settings\").on({\n		keyup: function(){\n			clearTimeout(typingTimer);\n			typingTimer = setTimeout(doneTypingDomain, doneTypingInterval);\n		},\n		change:function(){\n			domain_changes = true;\n		}\n	},\"#event-domain\");\n\n	$(\"#rsvp_method_input\").change(function(){\n		page_action_changes = true;\n	});\n\n	gallerySortInit();\n	adminGallerySorting = true;\n\n	$(\"#autosave-checkbox\").change(function(){\n		setChangesMade();\n	});\n\n\n	$('#submit-text-picker').change(function(){\n\n		if( $('#submit-text-picker').val().trim() !== '' ){\n			$('#rsvp-submit, #purchase-button').val( $('#submit-text-picker').val().trim() )\n		} else {\n			$('#submit-text-picker').val('Submit')\n			$('#rsvp-submit, #purchase-button').val('Submit')\n		}\n\n		setChangesMade();\n\n	})\n\n	$(\"#purchase-button\").click(function(){\n		if( $(\"#no-payout\").length > 0 ){\n			var msg = 'You cannot purchase a ticket until your payout settings are complete.  Fill out your payout settings below.';\n			SplashUI.ask(function( response ) {\n				constants.jumpToSection = 'direct_deposit'\n				showPayoutTab( constants.jumpToSection);\n				closeSimpleModal();\n			}, msg, 'Fill out Payout Data', 100000);\n\n			event.preventDefault();\n			return false;\n		}\n	});\n\n	$(\"#premium-tease\").click(function(){\n		$(this).hide();\n		var $accordion = $(this).parents(\"div.accordion\");\n		var $inner_block = $accordion.find(\"div.premium-wrap\");\n		$accordion.find(\"div.content-inner-wrap\").scrollTop(0).animate({ scrollTop: $inner_block.position().top-10+'px' });\n	});\n\n	$(\".addSectionBtn,.addSecBtn, #nuAddSecBtn\").click(function(){//Back button in embed modals.\n		addSectionModal();\n		trackIndicativeEvent('clickedAddNewElement');\n	});\n\n	$('#splash-container').on('click', 'div.onPageAddSec', function(){ //adding new elements to the page.\n		var $layoutGrp = $(this).parents(\".layoutGrp:first\");\n		var $ftgrp = ftGetFtGrp($layoutGrp);\n		if($layoutGrp.length > 0){\n			if($ftgrp.hasClass('grp-wrapper') || $layoutGrp.hasClass(\"drop-area\") ){\n				//if this is a container group with groups inside of it then append.\n				$(\"#add-new-section\").data(\"appendToBlock\",$layoutGrp.prop(\"id\"));\n			} else {\n				//otherwise, we want this new section going AFTER.\n				$(\"#add-new-section\").data(\"appendToBlock\",'after-'+$layoutGrp.prop(\"id\"));\n			}\n		}\n\n		addSectionModal();\n	});\n\n	$(\"#elementLibTagSort\").change(function(){\n		var val = $(this).val();\n		var $parent = $(\"#saved-elements\").find(\".element-adder-content\");\n		var $blocks = $parent.find(\".addSection\");\n		if(val==''){\n			$blocks.show();\n		} else {//actual tag searching...\n			$blocks.hide();\n\n			var search = new RegExp(\",\"+RegExp.escape(val)+\",\",\"i\");\n			$blocks.each(function(){\n				var $t = $(this);\n				var tags = $t.data('tags');\n				if(tags && tags.match(search)){\n					$t.show();\n				}\n			})\n		}\n	});\n\n	$(\"#map-embed\").on('change','input.map-dimension',function(){\n		clearTimeout(typingTimer);\n		var $this = $(this);\n		$(\"#map-embed-placeholder,#map-hidden-img,#map-embed .thisLoader\").addClass('loading');\n		typingTimer = setTimeout(function(){\n			getGoogleMapImg(function(data){\n				$('#map-embed-placeholder').hide().removeClass('loading');\n				$(\"#map-hidden-img\").prop(\"src\",data.image).removeClass('loading');\n				$('#map-embed .thisLoader').removeClass('loading');\n			});\n		}, 2000);\n\n\n	});\n\n	$firstTimeModal = false;\n	//ADD BLOCK TYPE / ADD NEW ELEMENT / SECTION TO PAGE.\n	$(\"#add-new-section\").on('click',\".element-adder-content .addSection\",function(){\n		var $this = $(this);\n\n		if ( $this.hasClass('disabled') ){ return false; }\n		var $p = $this,\n			section_type = $p.attr(\"section-type\"),\n			element = $p.attr(\"element\"),\n			child_type = $p.attr(\"child-type\");\n\n		if($.inArray(section_type,['audio','video','map','iframe','twitter-widget'])>-1){//SPECIAL CASES - ALL HAVE MODALS BEFORE ADDING TO PAGE.\n			var $embed = $(\"#\"+section_type+\"-embed\");\n			var opts = {};\n			if(section_type=='map'){\n				opts.persistent = true;//patch for the google autocomplete, which is not technically inside the map. clicking it closes the simple modal.\n			}\n			$embed.removeClass('editing').attr(\"group-id\",false).find(\"textarea:first\").val('').end().fireSimpleModal(opts);\n\n			if(section_type == 'audio'){\n				var thisHeight = $('#audio-embed').height() - $('#audio-embed h4').height() - $('#audio-embed .bottomBox').height()\n				$('#audio-embed .searchBox').css('height', thisHeight+'px');\n\n				var secHeight = thisHeight - $('#audio-embed .searchBox .topText').height() - $('#audio-embed .searchBox .search-val').height() - 100\n				$('#audio-embed .results').css('max-height', secHeight+\"px\")\n\n			} else if(section_type=='map'){\n				//nice little hack to populate the venue map on the fly!\n				var $input = $(\"#venue-search-map-embed\");\n				if($input.val().trim()!=''){\n					setTimeout(function(){\n						//$(\"#venue-search-map-embed\").focus()\n						//find the first item in the google autocmoplete\n						var firstResult = $(\".pac-container:last\").find(\".pac-item:first\").text();\n					    if(typeof firstResult!=='undefined' && firstResult!=''){//there are results for their venue search.\n					    	var geocoder = new google.maps.Geocoder();\n							geocoder.geocode({\"address\":firstResult }, function(results, status) {\n							    if (status == google.maps.GeocoderStatus.OK) {\n							    	updatePlace(results[0]);\n							    }\n							});\n						} else{//no results found in autocomplete.\n							//$input.val('').focus();\n							//in this case, try to trim out the venue name and search again.\n							var stored_val = $input.val();//grab the value before altering it.\n							var venue_name = getCurrentVenueValue();\n							if(venue_name!=''){\n								$input.attr(\"stored_val\",stored_val).val(venue_name).focus();\n								setTimeout(function(){\n										var firstResult = $(\".pac-container:last\").find(\".pac-item:first\").text();\n									    if(typeof firstResult!=='undefined' && firstResult!=''){//there are results for their venue search.\n									    	var geocoder = new google.maps.Geocoder();\n											geocoder.geocode({\"address\":firstResult }, function(results, status) {\n											    if (status == google.maps.GeocoderStatus.OK) {\n											    	updatePlace(results[0]);\n											    }\n											});\n										} else{\n											$input.val('');//if no result now, then clear that input.\n										}\n								},200);\n							}\n						}\n					},100);\n				}\n			}\n\n		} else if(section_type=='gallery'){\n\n			closeSimpleModal();\n			$this.addClass('disabled');\n			backToFineTune();//just in case they're not in the main pane when added.\n\n			finetuneEditedFields['data[EventSetting][hide_gallery]'] = 0;\n			finetuneFieldChangesMade();\n\n			var $gall = $('#gallery-container');\n			if ($gall.length == 1) {\n				$('#gallery-container').removeClass('hide');\n				$(\"#finetune-layout-contain\").find(\".section[group-type='gallery'] > .title:first\").click();\n			} else {\n				addNewSection( {'element':'gallery'},true );\n			}\n\n			trackIndicativeEvent('addSection',{'type':'gallery'});\n\n			// open the social inbox\n			setTimeout(function(){\n				openPhotoGallery();\n			},100);\n		} else if(section_type=='img_gal'){//NEW GALLERIES.  ALLOWS FOR MULTI.\n			closeSimpleModal();\n			addNewSection({'block_type':section_type,'child_type':child_type },null,function($new_block){\n				var grp = ftGetGrp($new_block);\n				if (grp && grp['element'] && (''+grp['element']).match(/^custom.block./)) {\n					var mysfid = (''+grp['element']).replace(/^custom-block-/,'');\n					gallerySplashFeedId = mysfid;\n				}\n				openPhotoGallery()\n				return false;\n			});\n\n		}\n		else if (section_type == 'element' && element){\n			closeSimpleModal();\n			//add the new section!\n\n			openSectionsAccord()\n			addNewSection({'element':element});\n		} else if ($p.attr(\"block-type\")=='container'){\n			$containerScroll = true;\n			var groups = getColumnContainerMarkup(section_type);\n			closeSimpleModal();\n			setTimeout(function(){\n				$(\"#nestedLayoutContainer\").animate({scrollTop:$(\"#nestedLayoutContainer\")[0].scrollHeight});\n				$(\"body\").animate({scrollTop:$(\"body\")[0].scrollHeight});\n			},900)\n			addNewSection(groups,true);\n\n\n		} else if ($p.attr(\"block-type\")=='modal'){\n\n			$firstTimeModal = true;\n			var groups = getColumnContainerMarkup(section_type);\n			closeSimpleModal();\n			addNewSection(groups,false,function(){\n				var newgid = $('#splash-container').find('.layoutGrp.isModal:last').children().prop('id');\n				$(\"#add-new-section\").data('appendToBlock',newgid);\n				addNewSection({'block_type':'content'},false);\n				modal.scale();\n				if($firstTimeModal) {\n\n					setTimeout(function(){\n						//$markup.attr('modalId',$group['modalId']);\n						openFinetuneBar('content');\n						openCustomSection($(\"#\"+newgid), { scrollToBlock: true });\n						$firstTimeModal = false;\n						setTimeout(function(){\n							$(\"#nestedLayoutContainer\").css({ \"height\":\"100%\", \"max-height\":\"100%\"});\n							$(\"#finetune-back-btn\").removeClass('hide');\n							//$(\"#finetune-all-tools .ft-grp span.collapse.icon-f-wide-darr\").hide();\n						},2000)\n					},1500)\n				}\n\n			});\n\n		} else if(section_type == 'custom-layout-block'){//CUSTOM LAYOUT BLOCK\n\n			var groups = $p.data('layout');\n			if (groups && groups.group && groups.group.length == 1) {\n				groups = groups.group[0];\n			}\n			groups.cloningFromElementLibrary = true;\n			closeSimpleModal();\n			addNewSection(groups,true);\n\n		} else {\n			closeSimpleModal();\n			openSectionsAccord()\n\n			//uncomment if we want to use existing sections instead of of blank sections.\n			// var $existingBlock = $(\"#splash-container\").find('.sf[block-type=\"'+section_type+'\"]:last');\n			// if($existingBlock.length > 0){\n			// 	var $parent = $existingBlock.parents(\".layoutGrp:first\");\n			// 	addNewSection({ blockToClone: $parent, appendToContainer: true });\n			// } else {\n				//add the new section!\n				if(typeof $this.attr('clone-from')!=='undefined'){\n					if($this.attr('clone-from') == 'attendeeButton' ) { //ADDING ATTENDEES TO PAGE\n						updateSettingsField( { field: 'rsvp_guest_display', value: 1 } );\n					}\n					var $blockToClone = $(\"#blank-groups\").find(\".\"+$this.attr('clone-from')+\":first\").parents(\".blank-group:first\");\n					addNewSection({'block_type':section_type,'child_type':child_type, cloneObj: $blockToClone });\n				} else {\n					addNewSection({'block_type':section_type,'child_type':child_type });\n				}\n			//}\n		}\n		updateFinetuneSectionCountDisplay()\n\n	});\n\n	///////////////////////////////////	///////////////////////////////////	///////////////////////////////////\n	///////////////////////////////////	///////////////////////////////////	///////////////////////////////////\n	/////////////////////////////////// EDIT SETTINGS MODAL START 	///////////////////////////////////\n	var $editSettings = $(\"#edit-settings\");\n	$editSettings.on('click','.edit-btn',function(){\n		if( $(this).hasClass('changeVanity') ){\n			$(this).parents(\".edit-fields\").hide().parents(\".form-wrap:first\").find(\".edit-current.vanity\").show().find(\"input:first\").focus();\n		} else if( $(this).hasClass('changeDomain') ){\n			$(this).parents(\".edit-fields\").hide().parents(\".form-wrap:first\").find(\".edit-current.domain\").show().find(\"input:first\").focus();\n		} else {\n			$(this).parents(\".edit-fields\").hide().parents(\".form-wrap:first\").find(\".edit-current\").show().find(\"input:first\").focus();\n		}\n	});\n\n	$editSettings.on('click','.quick-cancel',function(){\n		var $this = $(this);\n		var $parent = $this.parents(\".subsection:first\");\n		var current_val = $parent.find(\".static-val:first\").text();\n		$parent.find(\".edit-fields\").show().end().find(\".edit-current\").hide().find(\"input.nu-input:first\").val(current_val);\n		if($this.prop(\"id\")=='cancel-change-domain'){\n			$(\"#domain-check\").hide();\n			$(\"#valid-domain\").val(1);\n		}\n	});\n\n	$editSettings.on('click','.quick-save',function(){\n		var $this = $(this);\n		var $parent = $this.parents(\".form-wrap:first\");\n		var $input;\n\n		if( $(this).hasClass('saveDomain') ){\n			$input = $this.parents(\".edit-current.domain\").find(\"input.nu-input:first\");\n		} else if( $(this).hasClass('saveVanity') ){\n			$input = $this.parents(\".edit-current.vanity\").find(\"input.nu-input:first\");\n		} else {\n			$input = $this.parents(\".edit-current\").find(\"input.nu-input:first\");\n		}\n\n		var current_val = $.trim($input.val());\n		if(current_val==''){\n			if($input.prop(\"id\")=='finetune-main-title'){\n				alert('A valid event title is required.');\n				$input.focus();\n				return false;\n			} else if($input.prop(\"id\")=='event-domain'){\n				alert('A valid domain is required.');\n				$input.focus();\n				return false;\n			}\n		} else if($this.prop(\"id\")=='quickSaveNewDomain'){\n			if($(\"#valid-domain\").val()=='0'){\n				alert('A valid domain is required.');\n				$input.focus();\n				return false;\n			}\n		}\n\n		if( $(this).hasClass('saveDomain') ){\n			$parent.find(\".edit-fields.domain-contain\").show().find(\".static-val:first\").text(current_val).end().end().find(\".edit-current\").hide();\n		} else if( $(this).hasClass('saveVanity') ){\n			$parent.find(\".edit-fields.vanity-url-contain\").show().find(\".static-val:first\").text(current_val).end().end().find(\".edit-current\").hide();\n		} else {\n			$parent.find(\".edit-fields\").show().find(\".static-val:first\").text(current_val).end().end().find(\".edit-current\").hide();\n		}\n\n	});\n\n	$(\"#update-page-title\").change(function(){\n		var $t = $(this);\n		if($t.val()=='1'){\n			var $currentInlineTitle = $(\"#element-title\").find(\".editable:first\");\n			$t.data(\"current\",$currentInlineTitle.html());\n			var title = $(\"#finetune-main-title\").val();\n			$currentInlineTitle.html(title);\n			$(\"#finetune-design-title\").val(title).trigger('change');\n		} else {\n			if($t.data(\"current\")!=='undefined'){\n				var $currentInlineTitle = $(\"#element-title\").find(\".editable:first\");\n				$currentInlineTitle.html($t.data(\"current\"));\n			}\n		}\n	});\n	$(\"#finetune-main-title\").keyup(function(){\n		if($(\"#update-page-title\").val()=='1'){\n			var title = $(\"#finetune-main-title\").val();\n			$(\"#element-title\").find(\".editable:first\").html(title);\n			$(\"#finetune-design-title\").val(title).trigger('change');\n		}\n	});\n\n	$(\"#private-type-input\").change(function(){\n		if(isPrivateEvent()){\n			$(\"#privacy-check\").val(1);//.trigger('change');\n			$(\"#private-code\").show().focus();\n			$(\"#bypassPrivacy\").show();\n			$(\"#password-holder\").css('display', 'inline-block');\n		} else{\n			if($(this).val()=='min_age' || $(this).val()=='invite_list'){\n				$(\"#privacy-check\").val(1);//.trigger('change');\n			} else{\n				$(\"#privacy-check\").val(0);//.trigger('change');\n			}\n			$(\"#private-code\").val('').hide();\n			$(\"#bypassPrivacy\").hide();\n			$(\"#password-holder\").css('display', 'none');\n			setCheck($(\"#privacy-invite-bypass\"),0);\n		};\n	});\n	///////////////////////////////////	///////////////////////////////////	///////////////////////////////////\n	/////////////////////////////////// EDIT SETTINGS END 	///////////////////////////////////\n	///////////////////////////////////	///////////////////////////////////	///////////////////////////////////\n\n	//special checks for title/subtitle\n	$('#element-title, #element-subtitle').keyup(function(){\n		if( $('#splash-container').find('.autoWindowHeight').length > 0 ){\n			clearTimeout(autoTimeout)\n			autoTimeout = setTimeout(function(){\n				autoWindowSizes()\n			}, 700)\n		} else {\n			dynamaHead()\n		}\n	})\n\n	//selecting a theme - step 1\n	$(\"#theme-modal\").on('click', '.theme-option', function(){\n		//if( $(this).hasClass('current-theme') ){\n		//	return false;\n		//} else {\n			$('#theme-modal').addClass('slideshow')\n			$(this).addClass('active')\n		//}\n	}).on('click', '.choose-theme', function(){	//selecting a theme - step 2\n		// //console.time(\"THEME SWITCH\");\n		if( $(this).hasClass('current-theme') ){\n			return false;\n		} else {\n			/*\n			if( false ){\n				var backupName = constants.thisTheme + ' Backup'\n				createNewStage( false, backupName, chooseTheme )\n			} else {\n			*/\n				chooseTheme()\n		}\n\n	});\n\n	////////VIDEO EMBEDDING FUNCTIONALITY////////\n	$(\"#video-embed\").find(\"textarea.vid-embed\").keyup(function(){\n		clearTimeout(typingTimer);\n		var $this = $(this);\n		typingTimer = setTimeout(function(){\n			getVidEmbedCode($this);\n		}, 2000);\n\n	}).focusout(function(){\n		getVidEmbedCode($(this));\n		videoOptions.checkType($('input.video-url'),$(this).val());\n		//console.log($(this).val())\n	});\n\n	$(\"#video-embed a.removeVideo\").click(function(){\n		var $this = $(this);\n		$this.parents(\".grp:first\").find(\"textarea.vid-embed\").val('').show().focus();\n		$this.parents(\".embed-area\").hide().find(\".video-url,.video-thumbnail\").val('');\n		$('#videoCheckBoxes').addClass('hide');\n		$('#videoCheckBoxes label').removeClass('checked');\n		$('#videoCheckBoxes label input').val('0');\n	});\n	$(\"#video-embed a.saveVideo\").click(function(){\n		var $parent = $(\"#video-embed\");\n		var $input = $parent.find(\"input.video-url\");\n		if($input.val()==''){//make sure it's a good input value.\n			$parent.find(\".error-area\").html('Please enter a valid video path.').show();\n			return false;\n		}\n\n		var params = {'block_type':'video','embed_code':$parent.find(\".vid\").html(),'saveEntry':true};\n		if($parent.hasClass('editing') && $parent.attr(\"group-id\")!==false && $parent.attr(\"group-id\")>0){\n			params['group_id'] = $parent.attr(\"group-id\");\n			updateEmbed(params);\n		} else{\n			openSectionsAccord()\n			addNewSection(params);\n		}\n		$(\"#video-embed .vid iframe:first\").attr('src','');\n		closeSimpleModal();\n	});\n	///////////END VIDEO EMBEDDING FUNCTIONALITY //////////////////\n	////////////// IFRAME EMBEDDING FUNCTIONALITY //////////////////\n	$(\"#iframe-embed a.saveIframe\").click(function(){\n		var $parent = $(\"#iframe-embed\");\n		var $input = $parent.find(\".vid-embed\");\n		if($.trim($input.val())==''){//make sure it's a good input value.\n			$parent.find(\".error-area\").html('Please enter a valid iframe path.').show();\n			return false;\n		}\n\n		var params = {'block_type':'iframe','embed_code':$input.val(),'saveEntry':true};\n		if($parent.hasClass('editing') && $parent.attr(\"group-id\")!==false && $parent.attr(\"group-id\")>0){\n			params['group_id'] = $parent.attr(\"group-id\");\n			updateEmbed(params);\n		} else{\n			addNewSection(params);\n		}\n		closeSimpleModal();\n	});\n	///////////////////END IFRAME EMBEDDING FUNCTIONALITY/////////////////////\n	//////////////////////////////TWITTER WIDGET EMBEDDING FUNCTIONALITY////////////////////////////////\n	$(\"#twitter-widget-embed a.saveTwitterWidget\").click(function(){\n		var $parent = $(\"#twitter-widget-embed\");\n		var $input = $parent.find(\".vid-embed\");\n		var code = $.trim($input.val());\n		if (code=='') {//make sure it's a good input value.\n			$parent.find(\".error-area\").html('Please enter a valid widget code.').show();\n			return false;\n		}\n\n		var $code = $('<div>'+code+'</div>');\n		$code.find('script').remove();\n\n		var params = {'block_type':'twitter-widget','embed_code':$code.html(),'saveEntry':true};\n		if($parent.hasClass('editing') && $parent.attr(\"group-id\")!==false && $parent.attr(\"group-id\")>0){\n			params['group_id'] = $parent.attr(\"group-id\");\n			updateEmbed(params);\n		} else{\n			addNewSection(params);\n		}\n\n		closeSimpleModal();\n\n		!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\");\n		if (twttr && twttr.widgets) twttr.widgets.load(document);\n\n	});\n	/////////////////////END TWITTER WIDGET EMBEDDING FUNCTIONALITY////////////////////////////////\n	//////////////////AUDIO EMBEDDING FUNCTIONALITY////////////////////////////////////////////////\n	$(\"#song-search\").keyup(function(){\n		var $this = $(this);\n		var link=false;\n		if($this.val()<3 || $this.hasClass('loading')){ return false; }\n\n		$this.parents('.searchBox').find('#embed-audio-message').remove();\n\n		if(isValidUrl($this.val())){//pasting a link\n			var method = 'getEmbedCode';\n			var params = { event_id: constants.event_id, type:'audio', value: $this.val() };\n			link=true;\n			setTimeout(function(){$('#audio-embed').addClass('songSelected');},2000);\n		} else {\n			var method = 'searchSongs';\n			var params = { event_id: constants.event_id, term: $this.val() };\n		}\n\n		clearTimeout(typingTimer);\n		typingTimer = setTimeout(function(){\n			$this.addClass('loading');\n			$('#songSearchLoader').addClass('loading').find(\".nu-loader\").addClass('loading');\n			$(\"#audio-embed\").find(\".error-area\").hide();\n\n			$.ajax({\n				url: \"/splash/\"+method+\"/\"+constants.slug,\n				dataType: 'json',\n				type:'post',\n				data: params,\n				success: function(results){\n					$this.removeClass('loading');\n					$('#songSearchLoader').removeClass('loading').find(\".nu-loader\").removeClass('loading');\n					var $ul = $(\"#song-search\").parent().find(\"ul.results\");\n					if(link){\n						if(typeof results!=null && typeof results.code!=='undefined'){\n							$this.hide();\n							$(\"#audio-embed\").find(\".error-area\").html('').hide().end()\n								.find(\".embed-area\").show().find(\".holder\").html(results.code).end()\n								.find(\".song-url\").val(results.code);\n							$ul.hide();\n						}\n					} else{\n						$this.show();\n						$(\"#audio-embed\").find(\".error-area\").html('').hide().end().find(\".embed-area\").hide();\n						if(results.length>0){\n							var rows = '';\n							for(var x in results){\n								rows+='<li class=\"grp p0 rel '+results[x].type+'\">'+\n								'<a uri=\"'+results[x].url+'\" href=\"#\" class=\"grp ellipsis\"><i class=\"ico-'+results[x].type+' abs tl audio-src\"></i>'+\n								'<span class=\"song regular block bigger em02 ellipsis\">'+results[x].song+'</span><span class=\"smaller em02 artist\">'+results[x].artist+'</span>'+\n								'<span class=\"album-name smaller em02 ml10\">'+results[x].album+'</span></a></li>';\n							}\n							$ul.html(rows).show();\n						} else{\n							$ul.html('<li class=\"no-results\">No results found for search: <b>'+$this.val()+'</b>.</li>');\n						}\n					}\n				},\n				error: function(){\n					$this.removeClass('loading');\n					$('#songSearchLoader').removeClass('loading');\n					$(\"#audio-embed\").find(\".error-area\").html('There was an error processing your request.  Please try again.').show();\n				}\n			});\n		},doneTypingInterval);\n	});\n\n	$(\"#audio-embed .results\").on('click','a',function(){\n		var $t = $(this);\n		var $p = $t.parents(\"li:first\");\n		if($p.hasClass('spotify')){\n			var embed_code = '<iframe src=\"https://embed.spotify.com/?uri='+$t.attr(\"uri\")+'\" frameborder=\"0\" allowtransparency=\"true\" width=\"458\" height=\"80\"></iframe>';\n		} else{\n			var embed_code = '<iframe src=\"https://w.soundcloud.com/player/?url='+$t.attr(\"uri\")+'&liking=false&sharing=false\" frameborder=\"0\" allowtransparency=\"true\"></iframe>';\n		}\n		$(\"#audio-embed\").find(\"#song-search,ul.results\").hide().end()\n		.find(\".embed-area\").show().find(\".holder\").html(embed_code).end()\n		.find(\"input.song-url\").val(embed_code);\n\n		$('#audio-embed').addClass('songSelected')\n	});\n	$(\"#audio-embed\").on('click','a.change-song',function(){\n		$(this).parents(\".embed-area\").hide();\n		$('#audio-embed').removeClass('songSelected')\n		$(\"#audio-embed\").find(\".tab:visible\").find(\"input.search-val\").val('').show().show().end().end().find(\"ul.results\").show();\n	});\n\n	$(\"#audio-embed a.saveAudio\").click(function(){\n		var $this = $(this);\n		var $parent = $(\"#audio-embed\");\n		var $input = $parent.find(\".tab:visible\").find(\"input.search-val\");\n		if($input.val()==''){//make sure it's a good input value.\n			$parent.find(\".error-area\").html('Please enter a valid song path.').show();\n			return false;\n		}\n		var params = {'block_type':'audio','embed_code':$parent.find(\".embed-area\").find(\".holder\").html(),'saveEntry':true};\n		var description = $.trim($parent.find(\".song-body\").val());\n		if(description!='' && params.description!=='undefined'){\n			params.body = description;\n			params.title = description;\n		}\n\n		if($parent.hasClass('editing') && $parent.attr(\"group-id\")!==false && $parent.attr(\"group-id\")>0){\n			params['group_id'] = $parent.attr(\"group-id\");\n			updateEmbed(params);\n		} else{\n			addNewSection(params);\n			openSectionsAccord()\n		}\n\n		closeSimpleModal();\n	});\n	//tabs functionality within song adder.\n	$(\"#audio-embed .tabs a\").click(function(){\n		$(this).addClass('active').siblings().removeClass('active');\n		$(this).parents(\".grp:first\").find(\".tab\").hide().end().find('.tab[type=\"'+$(this).attr(\"type\")+'\"]').show();\n	});\n\n	////////////////END AUDIO EMBED FUNCTIONALITY////////////////////////////////\n\n	//////////////////////////////////adding/editing map on page.////////////////////////////////\n	$(\"#map-embed a.saveMap\").click(function(){\n		var $this = $(this);\n		var $parent = $(\"#map-embed\");\n		var $img = $(\"#map-hidden-img\");\n		if($img.prop(\"src\")==''||!$img.is(\":visible\")){\n			$parent.find(\".error-area\").html('Please enter a valid map.').show();\n			return false;\n		}\n\n		var params = {\n			'block_type':'map',\n			'saveEntry':true,\n			'title':$(\"#map-embed-title\").val(),\n			'embed_code': '<img src=\"'+$img.prop(\"src\")+'\" />'\n	 	};\n\n	 	if($(\"#venue-map-url\").val()!=''){\n		 	params.website = $(\"#venue-map-url\").val();\n		}\n\n		var description = $.trim($parent.find(\".body\").val());\n		if(description!=''){\n			params.title = description;\n			params.body = '<h2>'+description+'</h2>';\n		}\n\n		params.width = parseInt( $('#map-embed-width').val() );\n		params.height = parseInt( $('#map-embed-height').val() );\n		params.zoom = parseInt( $('#map-embed-zoom').val() );\n\n		//now empty out map properties\n		$(\"#map-hidden-img\").prop(\"src\",'');\n		$('#map-embed-placeholder').show();\n		$(\"#venue-search-map-embed\").val('');\n		$(\"#map-address-text\").val('').hide();\n		var $m = $(\"#map-embed\");\n\n		if($m.hasClass('editing') && $m.attr(\"group-id\")!==false && $m.attr(\"group-id\")>0){\n			//editing an existing map.\n			params['group_id'] = $m.attr(\"group-id\");\n			updateEmbed(params);\n		} else{\n			//adding a new map.\n			addNewSection(params);\n		}\n\n		openSectionsAccord()\n\n		closeSimpleModal();\n	});\n\n	//opening embed modal from on-page RTE button.\n	$('#main-canvas').on('click', '.edit-media-jump', function(){\n		var $t = $(this).parents('.layoutGrp:first'),\n			block_type = $t.find('.sf:first').attr('block-type')\n			gid = $t.attr('id').replace('g-', '');\n		openEmbedModal(block_type,gid);\n		return false;\n	})\n\n	//opening embed modal from finetune sidebar.\n	$(\"#finetune-all-tools\").on('click','.edit-embed-source',function(){\n		var $g = $(this).parents(\".accordion:first\"),\n			block_type = $g.attr(\"block-type\"),\n			gid = (''+$g.attr('id')).replace('acc-ftg-','');\n		openEmbedModal(block_type,gid);\n		return false;\n\n	});\n\n	$('#main-canvas').on('click', '.doneEditingTicker', function(){\n		var $p = $(this).parents(\".sf:first\");\n		var block_type = $p.attr(\"block-type\");\n		$p.removeClass('editingTicker').find('.ticker-item').hide().css('position', '')\n		$(this).remove()\n		$p.find('.addNewItem').addClass('editTicker').find('span').html('EDIT').end().find('small').text('EDIT TICKER')\n		fadeTickerItems()\n	});\n\n	$(\"#main-canvas\").on('click',\".addNewItem\",function(){ //ADD NEW ITEM\n		var $t = $(this),\n			$layoutGrp = $t.parents(\".layoutGrp:first\"),\n			$sf = $layoutGrp.find(\".sf:first\"),\n			repeatableBlockId = $layoutGrp.data('repeatable-block-id');\n\n		if(typeof repeatableBlockId !=='undefined'){\n			$t.addClass('loading');\n			repeatableItems.addToPage($layoutGrp,repeatableBlockId,function(){\n				$t.removeClass('loading');\n			});\n\n		} else {\n\n			if($sf.hasClass('nav')){\n				editNavBlock($layoutGrp);\n				return false;\n			} else if( $sf.hasClass('event-hub') ) {\n				loadEventHubModal($sf.prop('id')) //ie, sfid-45678;\n				return false;\n			} else if($sf.hasClass('img_gal')){\n				gallerySplashFeedId = $sf.prop('id').replace('sfid-','');\n				openPhotoGallery();\n				galleryCarousel.init($sf);\n				return false;\n			} else if( $sf.hasClass('social-links-v2') ) {\n				SocialLinksElement.plusButtonAction($sf);\n				return false;\n			} else {\n				addNewListItem($sf);\n			}\n\n		}\n\n\n	});\n\n	//DELETE A CUSTOM SECTION\n	$(\"#finetune-layout-contain\").on('click',\".section .delete-section\",function(e){\n		e.preventDefault();\n		e.stopPropagation();\n		var $section = $(this).parents('.section:first');\n		if ($section.attr('chunk') == 'album') { //SPECIAL CHECK FOR GALLERY\n			if (confirm('Are you sure you want hide your gallery?')){\n				// save the hide_gallery setting\n				finetuneEditedFields['data[EventSetting][hide_gallery]'] = 1;\n				finetuneFieldChangesMade();\n				// remove the gallery section from finetune-layout-contain\n				$('#finetune-sections').append($section.hide());\n				// hide the gallery on the page\n				$('#gallery-container').addClass('hide');\n				// remove the disabed class in the add-new-section modal\n				// $('#add-new-section').find('.addSection[block-type=\"gallery\"]').find('.nu-btn:first').removeClass('disabled');\n				$('#sectionTabWrap').removeClass('expanded')\n			}\n		} else {\n\n			if($section.hasClass('ele-wrapper')){//prevent user from deleting reserved elements - ie. title,subtitle,rsvp, etc.\n				alert('You cannot delete a reserved element.  Please hide it instead.');\n				return false;\n			}\n			if (confirm('Are you sure you want to delete this section?')){\n				var gid = ftGetId($section);\n				var $grp = 	$(\"#g-\"+gid);\n				if($grp.length > 0){\n					closeCustomSection();\n					setTimeout(function(){\n						removeGroup($grp,gid,true);\n						setWindowHeight($(\"#nestedLayoutContainer\"));\n\n					},500);\n				}\n			}\n		}\n\n		resizeSplashContainer();\n		return false;\n	});\n\n\n	$('#finetune-layout-contain').on('click', '.section .hideSecOpt', function(){\n\n		$thisText = $(this).find('.hideText')\n\n		if( $thisText.text() == 'Hide Section' ){\n			$thisText.text('Show Section')\n		} else {\n			$thisText.text('Hide Section')\n		}\n	})\n\n	$(\"#finetune-layout-contain\").on({\n		mouseenter:function(e){\n		  	var $t = $(this).parents('.section:first');\n		  	// Remove .hovering from any parents\n	      	$t.parents(\".section:first\").removeClass('hovering');\n	      	// Add .hovering to the current hovered element\n	 	 	$t.addClass('hovering').siblings('.section').addClass('sibling-active');\n	 	 	$t.find('.ele-utils:first').addClass('hovering');\n	 	 	var gid=$t.prop(\"id\").replace('ft','');\n	 	 	var $grp = $(\"#\"+gid);\n	 	 	if($grp){\n	 	 		$grp.addClass('hovering');\n\n	 	 		updateSecHovers( $grp )\n\n	 	 		return false;//prevents bubbling up to parent section containers.\n	 	 	}\n		},\n		mouseleave:function(e){ // Remove .hovering when you leave\n	  	 	var $t = $(this).parents('.section:first');\n	  	 	$t.removeClass('hovering');\n			if($t.parents(\".section\").length > 0){\n				$t.parents(\".section:first\").addClass('hovering');\n			}\n			if($(this).hasClass('ele-utils')){\n	 			$(this).addClass('hovering')\n	 		}\n			$t.siblings('.section').removeClass('sibling-active');\n			var gid=$t.prop(\"id\").replace('ft','');\n			var $grp = $(\"#\"+gid);\n			if($grp){\n				$grp.removeClass('hovering');\n			}\n			$t.find('.ele-utils:first').removeClass('hovering');\n		}\n	},'.section .title,.section.open .accordion');\n\n	$('#resultsFirstView, #addFirstView').on('click', function(){\n		event.preventDefault()\n		return false\n	})\n\n	$(\"#admin-theme-event-type\").change(function(){\n		if($(this).val()!=''){\n			var theme_id = $(\"#event-theme-input\").val();\n			var currentTheme = allThemes[theme_id];\n			if(typeof currentTheme!=='undefined'){\n				if($(\"#admin-theme-title\").val()==''){\n					$(\"#admin-theme-title\").val(currentTheme['name']+' '+$(this).val());\n				}\n				$(\"#admin-theme-abbr\").val(currentTheme['abbr']).attr(\"readonly\",true);\n				$(\"#admin-theme-photo\").val(currentTheme['image_url']);\n				if($(\"#admin-theme-parent-id\").val()=='0'||$(\"#admin-theme-parent-id\").val()==''){\n					$(\"#admin-theme-parent-id\").val(theme_id);\n				}\n			}\n		} else{\n			$(\"#admin-theme-abbr\").attr(\"readonly\",false);\n		}\n	});\n\n	$(\"#finetune-all-tools\").on('click','.content-trigger',function(){\n		//opening/closing advanced sections.\n		var $t = $(this);\n		var $c = $t.parents(\".adv-slide:first\").find(\".content:first\");\n		var h = $c.outerHeight();\n		var $toggle_content = $c.parents(\".toggle-content:first\");\n		if($t.hasClass('open')){//close it.\n			$t.removeClass('open');\n			$c.hide();\n			$toggle_content.height($toggle_content.outerHeight()-h);\n		} else{\n			//var $other_sections = $t.parents(\".accordion:first\").find(\".content-trigger.open\");\n			//$other_sections.click();\n			$t.addClass('open');\n			$c.show();\n			$toggle_content.height($toggle_content.outerHeight()+h)\n				.find(\"div.slider-wrap\").each(function(){ bindSlider($(this).find(\"input:first\"),true);});\n		}\n	});\n\n	$(\"#finetune-all-tools\").on('click','.nu-toggle .opt',function(){\n		var $t = $(this);\n		var target = $t.attr('target');\n		var $p = $t.parents(\".toggle-wrap:first\");\n		if($t.hasClass('active')){ //if it's already selected, close any open divs in here.\n			$p.find(\".content-inner.active\").find(\".content-trigger\").each(function(i){\n				var $this = $(this);\n				setTimeout(function(){\n					$this.click();//close up shop.\n				},400*i);\n			});\n		} else{\n			$t.addClass('active').siblings().removeClass('active');\n			$p.find(\".flow:first\").addClass('ofH');\n			var $i = $p.find('.toggle-content').find(\".content-inner.\"+$t.attr(\"type\"));\n			$i.addClass('active').siblings().removeClass('active');\n			var $h = $i.height();\n			$p.find(\".toggle-content\").css('height',$h).removeClass('c1 c2 c3').addClass(target);//either c1 or c2\n			setTimeout(function(){\n				$p.find(\".flow:first\").removeClass('ofH');\n			},1500);\n		}\n	});\n\n	// $(\"#main-canvas\").on({\n	// 	mouseenter:function(){\n	// 		var $t = $(this).parents(\".layoutGrp:first\");\n	// 		$t.css('z-index','2').siblings('z-index','1');\n	// 		// $e = $t.find(\".editable\"),\n	// 		// txt = ($t.prop(\"id\")=='element-title')?'Title':'Subtitle';\n	// 		// if($e.html().trim()==''){\n	// 		// 	$e.html('Add '+txt+' Here');\n	// 		// }\n	// 	}//,\n	// 	// mouseleave:function(){\n	// 	// 	var $t = $(this),\n	// 	// 	$e = $t.find(\".editable\"),\n	// 	// 	txt = ($t.prop(\"id\")=='element-title')?'Title':'Subtitle';\n	// 	// 	if($e.html().trim()=='Add '+txt+' Here'){\n	// 	// 		$e.html('');\n	// 	// 	}\n	// 	// }\n\n	// },\"#element-title,#element-subtitle\");\n\n	$(\"#title-shortcut,#subtitle-shortcut,#edit-title-link,#edit-subtitle-link\").click(function(){\n		var $t = $(\"#\"+$(this).attr(\"target\")).find(\".editable:first\");\n		if($t.length>0){\n			scrollToBlock($t,-50);\n			$t.show().focus();\n		}\n	});\n\n	$(document).on({\n		click:function(){\n			clearTimeout(tipHover);\n			$(\"#newTip\").empty().hide();\n		},\n		mouseenter:function(e){\n			tipHover=true;\n			var $t = $(this);\n			clearTimeout(tipHover);\n			tipHover = setTimeout(function(){\n				var $tip = $(\"#newTip\");\n				if($tip.length < 1){\n					var $tip = $('<span id=\"newTip\" class=\"title-tip nu-tiptip hide\" style=\"position:fixed;z-index:100;\"></span>');\n				}\n				$tip.html($t.attr(\"tip\"));\n				$t.append($tip);\n				$tip.show();\n			},400);\n		},\n		mouseleave:function(){\n			clearTimeout(tipHover);\n			$(\"#newTip\").html('').hide();\n		}\n	},\".tip-trig\");\n\n	$(\"#header-vertical-align\").change(function(){\n		var $target = getTargetById('header');\n		$target.addClass('align').find(\".layoutGrp:first\");\n		$target.removeClass('top middle bottom align-left align-right top-left top-right bottom-left bottom-right').addClass($(this).val());//('vertical-align',$(this).val());\n		var grp = ftGetGrp( $('#ft'+$target.attr('id')) );\n		if(typeof grp!=='undefined'){\n			grp['class'] = (''+grp['class']).replace(/top|middle|bottom/g,'');\n		}\n\n		var thisVal\n\n		if ( $(this).val() == 'top' || $(this).val() == 'middle' || $(this).val() == 'bottom' ){\n			thisVal = 'center'\n		} else if( $(this).val() == 'align-left' || $(this).val() == 'top-left' || $(this).val() == 'bottom-left' ){\n			thisVal = 'left'\n		} else if(  $(this).val() == 'align-right' || $(this).val() == 'top-right' || $(this).val() == 'bottom-right'  ) {\n			thisVal = 'right'\n		}\n\n		updateAlignPicker(\"title-align-input\",thisVal,true);\n		updateAlignPicker(\"subtitle-align-input\",thisVal,true);\n\n		resetHeaderCoords();\n		finetuneLayoutChangesMade();\n	});\n\n	$('#host-image-wrap').click(function(){\n		pickAndOrCropNewImage($('#host-image-url'),{\n			done: function(newSrc,dims){\n				$('#host-image-url').val(newSrc).trigger('change');\n				setChangesMade();\n				$('#host-image-img').attr('src',newSrc).show();\n				$('#element-host').find('.hosted-by-img').attr('src',newSrc).show();\n			}\n			,aspectRatio: 1 // for the square\n		});\n	});\n\n	//clicking the white label sell\n	$(\"#splugSell\").click(function(e){\n		$(\"#white-label-sell\").fireSimpleModal();\n		trackIndicativeEvent('clickedSplugUpsell');\n		return false;\n		// End White Label Open\n	})\n\n	$('#main-canvas').on('click','a.hashLink',function(e){\n		//if(finetuneOpen){//dont click through if hash.\n		$(this).focus();\n		e.preventDefault();\n		return false;\n		//}\n	});\n\n	$('#avatar-modal').on('click', '.settings-link', function(e){\n		e.preventDefault()\n		closeSimpleModal()\n		closeFinetuneBar()\n		$('body').addClass('settingsOpen').removeClass('dateVenueModal')\n		$('#nuTool').find('.toolBtn').removeClass('active')\n		return false\n	});\n\n	$('#designer-toggle').on('click', function(){\n		//ported over from edit-settings.js\n		//moved into avatar upload modal\n		var $t = $(this),\n	        designer_mode = '';\n\n		if($t.hasClass('active')){\n			$t.removeClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n			/////Added a new function to handle the grossness that was this section\n			changeLayout.basic();\n			designer_mode = 'basic';\n			trackIndicativeEvent('BasicModeToggle');\n\n		} else {\n			/////Added a new function to handle the grossness that was this section\n\n			if( $(this).hasClass('builder-toggle') ){\n\n				$t.addClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n\n				changeLayout.advanced();\n				designer_mode = 'builder';\n\n				trackIndicativeEvent('builderModeToggle');\n\n			} else {\n\n\n				var confirmMessage = '<div class=\"adv-mode-info\"><div class=\"title-wrap\"><div class=\"top-icon icon-f-tb-design\"></div><h3 class=\"semiBold\">Welcome to Designer Mode!</h3>' +\n									 '<h3 class=\"subtitle\">Let\\'s Get Started!</h3></div>' +\n									 '<div class=\"inner-wrap\"><div class=\"specify-fonts\"><h5 class=\"semiBold\">Specify Fonts</h5><p>Explore a deeper menu of font customization options.</p></div>' +\n									 '<div class=\"tweak-colors\"><h5 class=\"semiBold\">Tweak Colors</h5><p>Customize with colors not featured in our pre-set swatches</p></div>' +\n									 '<div class=\"modify-themes\"><h5 class=\"semiBold\">Modify Themes</h5><p>Make modest changes to your page\\'s layout and content hierarchy.</p></div></div></div>';\n\n				var goToMode = function(){\n					$t.addClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n					changeLayout.designer();\n\n					fakeModeLoad()\n					trackIndicativeEvent('designerModeToggle');\n				}\n\n				if( shownDesignerWarning() ){\n\n					goToMode()\n\n				} else {\n\n					SplashUI.confirm(function(confirm) {\n\n						if(confirm){\n							JSCookies.setItem('shownDesignerWarning', true, Infinity, '/', 'splashthat.com');\n							goToMode()\n						}\n\n						$('body').removeClass('designer-intro')\n\n					}, confirmMessage, 'Enter Now', 'designer-mode-modal');\n\n					$('body').addClass('designer-intro')\n\n				}\n\n			}\n\n		}\n\n	});\n\n	$('#builder-toggle').on('click', function(){\n		//ported over from edit-settings.js\n		//moved into avatar upload modal\n		var $t = $(this),\n	        designer_mode = '',\n	        goToMode = function() {\n				if($t.hasClass('active')){\n					$t.removeClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n					/////Added a new function to handle the grossness that was this section\n\n					changeLayout.viewAsUser();\n\n					changeLayout.basic();\n					designer_mode = 'basic';\n\n					JSCookies.setItem('viewAsBuilder', false)\n\n					$('#designer-toggle').removeClass('builder-toggle').siblings('span:first').text('Designer Mode')\n				} else {\n					$t.addClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n					/////Added a new function to handle the grossness that was this section\n\n					changeLayout.viewAsBuilder();\n\n					changeLayout.advanced();\n					designer_mode = 'builder';\n					trackIndicativeEvent('advancedModeToggle');\n\n					JSCookies.setItem('viewAsBuilder', true)\n\n					$('#designer-toggle').addClass('builder-toggle').siblings('span:first').text('Builder Mode')\n				}\n\n				fakeModeLoad()\n\n	        }\n\n		goToMode();\n\n	});\n\n	$('#viewSettings').click(function(event){\n		event.preventDefault();\n\n		if( $('body').hasClass('settingsOpen') ){\n			$('body').removeClass('settingsOpen')\n		} else {\n			closeFinetuneBar()\n			$('body').addClass('settingsOpen').removeClass('dateVenueModal')\n\n			resetSettingsTab()\n			//openPlannersModal();\n\n			$('#nuTool').find('.toolBtn').removeClass('active')\n			if($('#settingsFAQWrap').hasClass('loaded')) {\n        	//don't load data\n	        }\n	        else {\n				$.ajax({\n					url: constants.finetune_formBase+\"/faq/remoteFaq\",\n					data: {}\n				}).done(function(response) {\n					$('#settingsFAQWrap').html(response);\n					$(\".questionsByCategory:first\").removeClass('hide');\n\n					$('#settingsFAQWrap').find('a').each(function(){\n						$(this).attr('target', '_blank')\n					})\n\n					$('#settingsFAQWrap').addClass('loaded');\n				});\n			}\n\n			trackIndicativeEvent('settingsModalOpen');\n		}\n\n		return false;\n	});\n\n\n	// Check thru AJAX if the user has hubs to add this event to\n	function settingsModalLoadAddToHubBtn() {\n		$('.addEventToHubWrap').find('.event-hub-row').remove();\n		$.ajax({\n			url:\"/events/getHubs/\"+_event.id,\n			data: { 'get_hubs_where_published':true, 'has_any':true },\n			type: \"POST\"\n		}).done(function(response) {\n			response = $.parseJSON(response);\n			if ( typeof response['hubs'] != 'undefined' && response['hubs'] == true ) {\n				$('.addEventToHubWrap').removeClass('hide');\n\n				if ( typeof response['hubs_where_published'] != 'undefined' && response['hubs_where_published'].length > 0 ) {\n					$hub_rows = $();\n					for ( var i in response['hubs_where_published'] ) {\n						$hub_rows = $hub_rows.add(\n							$('.addEventToHubWrap').find('.event-hub-row-template:first').clone()\n							.find('.hub-name').text( response['hubs_where_published'][i]['Event']['title'] )\n												.attr('href', 'http://'+response['hubs_where_published'][i]['Event']['event_domain'] )\n												.attr('alt', response['hubs_where_published'][i]['Event']['title'] ).end()\n							.find('.event-hub-id').val( response['hubs_where_published'][i]['Event']['id'] ).end()\n							.find('.splash-feed-id').val( response['hubs_where_published'][i]['SplashFeed']['id'] ).end()\n							.removeClass('hide').removeClass('event-hub-row-template').addClass('event-hub-row')\n						);\n					}\n					$('.addEventToHubWrap .sectionTitle span').text( response['hubs_where_published'].length );\n					$('.addEventToHubWrap .sectionTitle').removeClass('hide');\n					$('.addEventToHubWrap .event-hub-row-template:first').after($hub_rows);\n					$('#addToHubLink').text('Add to another hub');\n				}\n\n				// if no hubs\n				else {\n					$('.addEventToHubWrap .sectionTitle').addClass('hide');\n				}\n			}\n		}).fail(function(jqXHR, textStatus, errorThrown) {\n			console.error('Error getting hubs: '+jqXHR.status+', '+textStatus);\n		});\n	}\n	settingsModalLoadAddToHubBtn();\n\n\n	$(\"#settings-link,#innerEditSettingsLink, #payout-change-page-action\").click(function(event){\n		event.preventDefault();\n\n		if( $('body').hasClass('settingsOpen') ){\n			$('body').removeClass('settingsOpen showSimple')\n		} else {\n			$('body').addClass('settingsOpen');\n		}\n\n		return false;\n	});\n\n	$(\"#saveEventSettings\").click(function(){	//SAVE SETTINGS MODAL\n		var $this = $(this);\n\n		if( $('#org-name-input').val().length != 0 || $('#org-email-input').val().length != 0 ){\n			// IF USER TYPED IN A PLANNER, but DINDT CLICK 'ADD PLANNER' (UNSAVED PLANNER)\n			SplashUI.confirm(function(response) {\n				if(response) saveEventSettings();\n			}, 'You have an unsaved planner. Continue?');\n		} else {\n			saveEventSettings()\n		}\n\n\n	});\n\n	//image position grid.\n	$('#finetune-all-tools,#advancedImgUtils').on('click','.squarePosWrap .squarePos',function(){\n		var $t = $(this);\n		$t.addClass('selected').siblings('.squarePos').removeClass('selected');\n		$t.parents(\".squarePosWrap:first\").find(\"input.background-position:first\").val($t.attr(\"pos\")).trigger('change');\n	});\n\n	//inline edit form change.\n	$(\"#rsvp-inline-checkbox\").change(function(){\n		$(\"#rsvp-inline-theme-style\").val($(this).val());//keep em together.\n		reloadRSVPBlock();\n		$(this).addClass('changes-made');\n		setChangesMade();\n\n		if( $(this).val() == 1 ){\n			$('body').addClass('inlineForm')\n		} else {\n			$('body').removeClass('inlineForm')\n		}\n\n	});\n\n	$(\"#rsvp-open-checkbox\").change(function(){\n		$(this).addClass('changes-made');\n		setChangesMade();\n	});\n\n	$('#finetune-all-tools').on('click', '.contentTabHead', function(){\n		$t = $(this)\n		$wrap = $(this).parents('.contentTabWrap:first')\n		if(  $('#sections-wrap').hasClass('sorting') ){\n			$('#inline-reorder-done').click()\n		}\n\n		toggleContentTab($wrap);\n		setVisibleAccordionHeight();\n 	})\n\n	$('#sections-wrap').find('.addSecBtn').mouseenter(function() {\n		$s = $('#sectionTabHead').find('.customTitle')\n		$s.text('Add Section')\n		$('#sectionTabHead').addClass('hideAfter')\n		//$s.css({\"font-family\":\"gibsonSemiBold\", \"color\":\"#000\"})\n	}).mouseleave(function() {\n		$s = $('#sectionTabHead').find('.customTitle')\n		$s.text('Custom')\n		$('#sectionTabHead').removeClass('hideAfter')\n	});\n\n	$('#sections-trig').click(function(){\n		if($(\"#sections-wrap\").hasClass('empty')){\n			$('#sections-wrap .addSecBtn').click();\n			return false\n		}\n		// closeCustomizeWrap();\n		$(\"#fontColorSelect,#fontFamilySelect\").removeClass('open');\n	});\n\n	$('#toggleCustomFont').on('click', function(){\n\n		if( $('#finetune-sections').find('.fontContain').hasClass('editCustom') ){\n			// do nothing on click if editing custom fonts\n		} else {\n			if( ! $('#customFontBtn').hasClass('save') ){\n				$('#customFontBtn').addClass('save').text('Save')\n				$('#fontText').text('Cancel').addClass('cancel').show().removeClass('done nu-btn clean s')\n				$('#finetune-sections').find('.fontContain').addClass('editCustom').removeClass('selectCombo')\n			} else {\n				cancelCustomFontSelect()\n				$('#fontText').text('Done').addClass('done')\n			}\n		}\n	})\n\n	$('#browsingFontText').on('click', '.closeBtn', function(){\n		$('#finetune-sections').find('.fontContain').removeClass('selectCombo editPrimary editSecondary')\n	})\n\n	$('#host_theme_styles').on('click', '.hideHostImg', function(){\n		var $t = $(this);\n\n		if( $t.hasClass('is-hidden') ){\n			$t.removeClass('is-hidden');\n			$('#host-img-block-wrap').show()\n			$('#finetune-hide_host_image').val(0).trigger('change')\n		} else {\n			$t.addClass('is-hidden');\n			$('#host-img-block-wrap').hide()\n			$('#finetune-hide_host_image').val(1).trigger('change')\n		}\n		setChangesMade();\n	})\n\n	$(\"#splash-container\").on('click','a.imgLink',function(e){\n		e.preventDefault();\n		return false;\n	})\n\n	$(\"#fontColorSelect\").click(function(){\n		$(\"#sections-wrap,#fontFamilySelect\").removeClass('open');\n		//closeCustomizeWrap();\n	});\n	$(\"#fontFamilySelect\").click(function(){\n		$(\"#sections-wrap,#fontColorSelect\").removeClass('open');\n		//closeCustomizeWrap();\n	});\n\n	$(\"#rsvp-bg-color-picker\").change(function(){\n		// $(\"#rsvp-submit\").css('background-color',$(this).val());\n		$(\"#rsvp-form-top\").css('border-bottom','1px solid '+$(this).val());\n	});\n\n	$(\"#headerIsBg\").change(function(){\n		updateHeaderAndBodyPicker();\n		setChangesMade();\n	});\n\n	$(\"#useThemeHeader\").change(function(){\n		setChangesMade();\n	});\n\n	$(\"#finetune-all-tools\").on('change','input.admin-field',function(){\n		setChangesMade();\n	});\n\n	$(\"#favIconInput\").change(function(){\n		var $t = $(this);\n		updateFavIcon($t.val());\n	});\n\n	ftWidth = $(\"#finetune-block\").width();\n	bottomUtilHeight = 0//$('#bottom-util').outerHeight();\n\n\n	$(\"#vanity-url-sell-instructions\").on('click',\"#backToSettingsBro\",function(){\n		$('#vanity-url-sell-instructions').hide();\n		$(\"#settings-link\").click();\n	});\n\n	$('#addVidBtn').click(function(){\n		var vidID = $('#vidInput').val().match(/youtube\\.com.*?v[\\/=](\\w+)/);\n\n		if(vidID != null){\n			vidID = vidID[1];\n			var startTime = 0;\n\n			$('#imgContentWrap').find('.latestVid').addClass('loading').html('<iframe id=\"demoPlayer\" vidID=\"'+vidID+'\" width=\"100%\" height=\"265px\" src=\"//www.youtube.com/embed/'+vidID+'?version=3&rel=0&showinfo=0&autohide=1\" frameborder=\"0\" allowfullscreen=\"\"></iframe>');\n			setTimeout(function(){\n				$('#imgContentWrap').find('.latestVid').removeClass('loading');\n			},500);\n			$('#currentImage').addClass('editVid').click();\n\n		} else {\n			alert( 'Please enter a valid URL.' );\n			$(\"#vidInput\").focus();\n		}\n\n	});\n\n	$('#allSectionsContain').on('click','.arrowLeft,.arrowRight,.layBtnWrap', function(){\n		var dir = ($(this).hasClass('arrowRight'))?'right':'left';\n		flipMode($(this),{ direction: dir, force: true });\n	});\n\n	$(\"#finetune-all-tools\").on('click','.nu-pill > div',function(){\n		$(this).addClass('active').siblings().removeClass('active').parents(\".nu-pill:first\").find(\"input:first\").val($(this).attr(\"value\")).trigger('change');\n	});\n\n	$('#topFinetune').on('click', '.closeFinetune', function(){\n		closeFinetuneBar();\n	})\n\n\n\n	$(\"#stagesWrap\")\n		.on('click','button.createNewStage',function(){\n			var $t = $(this);\n			createNewStage( { button:$t } )\n		})\n		.on('click','button.createNewBackup',function(){\n			var $t = $(this);\n			var params = {};\n			params.button = $t\n			params.isBackup = true\n\n			var backupName = 'Backup'\n			params.stageName = backupName\n\n			createNewStage( params )\n		})\n		.on('click','.publishStage, .publishBackup',function(){\n			var stage_id = $(this).parents(\".stage:first\").data('stage-id');\n\n			var msg = 'You are about to publish this stage. Are you sure you want to proceed?'\n\n			if( $(this).hasClass('publishBackup') ){\n				msg = 'You are about to publish this backup. Are you sure you want to proceed?'\n			}\n\n			SplashUI.confirm(function(resp) {\n				if(resp) {\n					publishStage( stage_id )\n				}\n			}, msg);\n\n		})\n		.on('click','.previewStage, .previewBackup',function(){\n		//	window.location = $(this).data(\"temp-href\")+'?stage='+$(this).parents(\".stage:first\").data('stage-id');\n			var $t = $(this);\n\n			var msg = 'Please confirm you want to preview this stage.  The page will be refreshed and any unsaved changes will be lost.';\n\n			if( $t.hasClass('previewBackup') ){\n				msg = 'Please confirm you want to preview this backup.  The page will be refreshed and any unsaved changes will be lost.';\n			}\n\n			SplashUI.confirm(function(resp) {\n				if(resp) {\n					if ( constants.finetune_formBase !== '' && constants.ocbDomain !== 'splashthat.com' ) // local environment\n						window.location = 'http://' + constants.ocbDomain + constants.finetune_formBase + '?stage='+$t.parents(\".stage:first\").data('stage-id');\n					else\n						window.location = 'http://' + constants.domain + '?stage='+$t.parents(\".stage:first\").data('stage-id');\n				}\n			}, msg );\n		})\n		.on('click','.scheduleStage',function(){\n			var $sch_opts = $(this).closest('.stage').find('.scheduling-opts');\n			var $stg_utils = $(this).closest('.stage').find('.stage-utils');\n			if ( $sch_opts.is(':visible') ) {\n				$sch_opts.hide();\n				$stg_utils.show();\n			}\n			else {\n				$sch_opts.css('display','inline');\n				$stg_utils.hide();\n			}\n		})\n		.on('click','.cancel-scheduling-opts',function(){\n			$(this).closest('.stage').find('.scheduling-opts').hide().end().find('.stage-utils').show();\n		})\n		.on('click','.save-scheduling-opts',function(){\n			var scheduled_for_val = $(this).parents(\".stage\").find('.mode-scheduling-opts').val();\n			var params = { stage_id: $(this).parents(\".stage\").data('stage-id'), event_id: constants.event_id, fields: { scheduled_for: scheduled_for_val } };\n			editStage(params, $(this).parents(\".stage\"));\n		})\n		.on('click','.unschedule-scheduling-opts',function(){\n			var params = { stage_id: $(this).parents(\".stage\").data('stage-id'), event_id: constants.event_id, fields: { scheduled_for: 'NULL' } };\n			editStage(params, $(this).parents(\".stage\"));\n		})\n		.on({\n			focus: function(){\n				var $t = $(this);\n				$t.data('tmp-val',$t.val()).parents(\".stage:first\").addClass('editing');\n			},\n			focusout:function(){\n				var $t = $(this);\n				if($t.val().trim()==''){\n					$t.val($t.data('tmp-val'));\n				}\n				$t.parents(\".stage:first\").removeClass('editing');\n			},\n			keyup:function(e){\n				if(e.keyCode==13){\n					$(this).focusout().parents(\".stage:first\").focus();\n					//$(\"button.createNewStage:first\").focus();//get out of the input.\n				}\n			},\n			change:function(){\n				var params = { stage_id: $(this).parents(\".stage\").data('stage-id'), event_id: constants.event_id, fields: { name: $(this).val() } };\n				editStage(params);\n			}\n		},'input.stage-input')\n		.on('click','.stage-utils .nu-btn',function(){//done editing button.\n			$(this).parents(\".stage:first\").find(\"input.stage-input\").focusout();\n		})\n		.on('click','.deleteStage, .deleteBackup',function(){\n			var $t = $(this);\n			var params = { stage_id: $(this).parents(\".stage\").data('stage-id'), event_id: constants.event_id, fields: { deleted: 1 } };\n\n			var msg = 'Are you sure you want to delete this stage?'\n\n			if ( $(this).hasClass('deleteBackup') ){\n				msg = 'Are you sure you want to delete this backup?'\n			}\n\n			SplashUI.confirm(function(resp) {\n				if(resp) {\n					editStage(params);\n					var event_stage_id = $(\"#event-stage-id\").val();\n					if(event_stage_id==params.stage_id){\n						$(\"#event-stage-id\").val(0).addClass('changes-made');\n					}\n					$t.parents(\".stage:first\").fadeOut(function(){\n						$(this).remove();\n						setTimeout(function(){\n							if($(\"div.stages-list\").find(\".stage\").length < 1){\n								$(\"#no-stages-msg\").show();\n							}\n						},1);\n\n					});\n				}\n			}, msg);\n\n		});\n\n	$(\"#stagesWrap .stages-list\").sortable({\n		handle: '.drag-handle',\n		update:function(){\n			var params = {\n				event_id: constants.event_id,\n				stages: []\n			}\n			$(\"#stagesWrap\").find(\".stages-list .stage\").each(function(){\n				params.stages.push($(this).data('stage-id'));\n			});\n			$.ajax({\n				url:\"/splash/saveStagingOrder\",\n				data: params,\n				type: 'POST',\n				dataType:'json',\n				success:function(resp){\n\n				},\n				error:function(){\n					alert('There was an error saving your changes.  Please try again.');\n				}\n			});\n\n		}\n	})\n\n	//publishing from the PREVIEW of a stage.\n	$(\"#publishStage2\").click(function(){\n		var $t = $(this);\n		if($t.hasClass('active')){//no double clicks.\n			return false;\n		} else{\n			$t.addClass('active');\n			$(\"#event-stage-id\").attr(\"switched\",true).val(constants.stage_edit).addClass('changes-made');\n			constants.stage_edit = false;//IMPORTANT.  Otherwise will submit as an edit to the stage, rather than submitting it.\n			clearTimeout(savingTimer);\n			savingTimer = setTimeout(autoSaveData, 10);\n		}\n	});\n\n\n	$('#previewPage').click(function(){//clicking the \"preview link\"\n		trackIndicativeEvent('previewPage');\n	});\n\n	$('#topImageNav').on({\n\n		click: function(){\n\n			$(this).addClass('active').siblings().removeClass('active')\n\n			$('body').removeClass('changedBgColor')\n\n			var tab = $(this).attr('tab')\n\n			if( $(this).hasClass('editVid') ){\n				tab = 'currentVid'\n\n			}\n\n			hideShowTabs(tab)\n\n			if( tab == 'video' ){\n				$('#main-canvas').find('.vidBG').removeClass('vidHid');\n			}\n\n		},\n		mouseenter: function() {\n			var $obj = $('#cropAnyPhoto').find('h3').find('.h3text');\n			var $t = $(this);\n			$thisText = $obj.text();\n\n			$('#cropAnyPhoto h3 .h3text').attr( 'lastText', $thisText )\n\n			if( $t.hasClass('upload') ){\n				$obj.text('Upload Image');\n			} else if ( $t.hasClass('gallery') ) {\n				$obj.text('Select from Gallery')\n			} else if ( $t.hasClass('editCurrent') ){\n				$obj.text('Edit Image');\n			} else if ( $t.hasClass('addVid') ){\n				$obj.text('Choose Video');\n			} else if ( $t.hasClass('addColor') ) {\n				$obj.text('Pick Color')\n			}\n		},\n		mouseleave: function() {\n			if( ! $(this).hasClass('active') ){\n				$lastText = $('#cropAnyPhoto h3 .h3text').attr('lastText')\n				if( $lastText != '' ){\n					$('#cropAnyPhoto h3 .h3text').text( $lastText )\n				} else {\n					$('#cropAnyPhoto h3 .h3text').text('Edit Image')\n				}\n			}\n		}\n	},'.topNavBtn');\n\n	$('#toggleAdvancedImgUtils').on('click', function(){\n		$advToggleBtn = $('#advancedImgUtils')\n		if( $advToggleBtn.hasClass('showAdvTools') ){\n			$advToggleBtn.removeClass('showAdvTools')\n		} else {\n			$advToggleBtn.addClass('showAdvTools')\n		}\n	})\n\n	$('#leftSideClose').on({\n		mouseenter:function(){\n			$('#event-planners-modal').addClass('hoverOnLeft')\n		},\n		mouseleave:function(){\n			$('#event-planners-modal').removeClass('hoverOnLeft')\n		},\n		click: function(event){\n			event.preventDefault()\n			closePlannersTab()\n			return false\n		}\n	})\n\n	$('#addPlannerBtn').on('click', function(event){\n\n		event.preventDefault()\n\n		$t = $('#event-planners-modal')\n		if( $t.hasClass('expanded') ){\n			closePlannersTab()\n		} else {\n			$t.addClass('expanded').removeClass('sidebar')\n			$('#edit-settings').addClass('plannersOpen')\n		}\n\n		return false\n\n	})\n\n\n	$('#event-planners-modal').on('click', function(event){\n		if( $(this).hasClass('sidebar') ){\n			event.preventDefault()\n				$(this).addClass('expanded').removeClass('sidebar')\n				$('#edit-settings').addClass('plannersOpen')\n			return false\n		}\n	})\n\n	$('#firstViewOverlay').on('click', '.nextBtn', function(){\n\n		$overlay = $('#firstViewOverlay')\n\n		if( $overlay.hasClass('showDesign') && $('body').hasClass('advMode') === false ){\n\n			$overlay.removeClass('showPlanning showDesign')\n\n			setTimeout(function(){\n				$('#nuToolBtns').find('.toolBtn').removeClass('fvFlash')\n			}, 250)\n\n			setTimeout(function(){\n				$(this).text('NICE!')\n				$overlay.find('.bigText').html('Click here to add </br>content to your page.');\n				$overlay.find('.progressText').text('2');\n				$overlay.removeClass('pointerPos1').addClass('pointerPos2');\n\n				positionTut('bottom')\n\n				$overlay.addClass('showContent')\n\n				$overlay.find('.firstViewInfo').css({'top':'', 'bottom':'-80px', 'left':'180px' })\n\n				$('#nuAddSecBtn').css('z-index', '2')\n\n			}, 480)\n\n		} else {\n\n			$overlay.removeClass('showContent')\n			$('body').addClass('addEleTut')\n\n			$('#nuAddSecBtn').css('z-index', '')\n\n			setTimeout(function(){\n\n				killFirstView()\n			}, 250)\n\n		}\n	});\n\n	$('#firstViewOverlay').on('click', '.skipText', function(){\n		killFirstView()\n	});\n	$('#secondViewOverlay').on('click', '.skipText', function(){\n		killSecondView()\n	});\n\n	function closePlannersTab(){\n		$t = $('#event-planners-modal')\n		$t.removeClass('expanded').addClass('sidebar')\n		$('#edit-settings').removeClass('plannersOpen')\n	}\n\n	function flashPlanNav(){\n\n		$('#planningToolsNav').addClass('pulse')\n\n		setTimeout(function(){\n			$('#planningToolsNav').removeClass('pulse')\n		}, 1000)\n	}\n\n	//clicking right side tabs ( theme, color and social.  form, rsvp, invite, planning are in dashboard.js)\n	$('#nuToolBtns').on('click', '.toolBtn', function(event){\n\n		if(unsavedSettings){\n			showUnsavedNotice()\n			flashPlanNav()\n			return false;\n		}\n\n		if( $('body').hasClass('noPayoutData') ){\n			$('.pop-wrap1').remove();\n			$('body').removeClass('noPayoutData')\n		}\n\n		if ( $('body').hasClass(\"noTickets\") ){\n			$('.pop-wrap2').remove();\n			$('body').removeClass('noTickets')\n		}\n\n\n		resetDesignTabs();\n\n		$('#finetune-block').attr('tab', $(this).attr('tab'))\n\n		if( $('body').hasClass('showTutorial') || $('#planningToolsNav').hasClass('unsavedChanges') ){\n			if( $(this).hasClass('theme') && $('#firstViewOverlay').hasClass('showDesign') ){\n				// IF CLICKING THEME TAB DURING TUTORIAL OPEN SIDEBAR\n				killFirstView()\n			} else {\n				// OTHERWISE, RETURN FALSE\n				event.preventDefault()\n				return false\n			}\n		}\n\n		var $t = $(this),\n			$btns = $('#nuToolBtns,#nuPlanBtns').find('.toolBtn'),\n			$fcs = $(\"#fontColorSelect\");\n		var $current = $('#nuToolBtns').find(\".active:first\");//find the active current button.\n		if($current.length > 0){\n			//close whatever open actions we may have on the previously opened tab (if applicable).\n			closeCurrentTab($current.attr(\"tab\"));\n		}\n\n		if($t.hasClass('active')){ //CLOSE the section.\n			$t.removeClass('active');\n			var thisClass = $t.attr(\"tab\");\n			if( thisClass == 'theme' ){\n				$('body').removeClass('editFonts editColors')\n				resizeColorWheel()\n\n			}\n			closeFinetuneBar();\n		} else { //OPENING the section.\n			$btns.removeClass('active');\n			$t.addClass('active');\n			openFinetuneBar();\n\n			var thisClass = $t.attr(\"tab\");\n			$(\"#topFinetune\").find(\".thisSec\").text(thisClass.toUpperCase());\n			var classes=[];\n			$btns.each(function(){\n				classes.push($(this).attr(\"tab\"));\n			});\n			$(\"#finetune-sections\").removeClass(classes.join(' ')).addClass(thisClass);\n			trackIndicativeEvent('tabOpened', { 'type' : thisClass });\n\n			if(thisClass=='fonts'){\n				bindSplashAccordion($('#fontFamilySelect'),true);\n			} else if(thisClass =='theme'){\n				$(\"#finetune-back-btn\").addClass('hide');\n				bindSplashAccordion($fcs,true);\n				setInnerTabHeight()\n			}\n			else if(thisClass=='content'){\n				$('#nestedLayoutContainer').removeClass('isBasicEle')\n				$('#sections-wrap').removeClass('sorting')\n				$('#allSectionsContain').find('.contentTabWrap').removeClass('open')\n				setTimeout(function(){\n					setWindowHeight($(\"#allSectionsContainInner\"));\n					if(inAdvancedMode()){\n						$('#finetune-layout-contain').find('.grp-wrapper').removeClass('hide');\n						$(\".ft-grp\").find('.title').removeClass('hideSideBar');\n					}\n				},10);\n				updateFinetuneSectionCountDisplay() // COUNT SECTIONS, add EMPTY CLASS IF NONE\n\n			}\n\n		}\n\n	});\n\n\n	$('#planTab').mouseenter(function(){\n		$('#nuTool').addClass('bottomOpen').removeClass('topOpen')\n	});\n\n	$('#nuToolBtns').on({\n		mouseenter:function(){\n			$('#nuTool').addClass('topOpen').removeClass('bottomOpen')\n		}\n	}, '.toolBtn.theme')\n\n\n	$('#nuToolBtns').on('mouseleave', function(){\n		$('#nuTool').removeClass('topOpen')\n	})\n\n	$('#nuPlanBtns').on('mouseleave', function(){\n		$('#nuTool').removeClass('bottomOpen')\n	})\n\n	// the newly uploaded photo bulk editor save\n	$('#galleryWrap').on('click',\".savePublish\",function(){////////,#bulkUploadStatus .formTray .savePublish, #bulkUploadStatus .formTray .saveNoPublish\",function(){\n		var field = 'caption,credit';\n		var $bus = $('#bulkUploadStatus');\n		var data = { caption: '', credit: '', publish: 0, notify: 0 };\n		data.caption = $bus.find('.photo-form-fields .field.caption').val();\n		data.credit = $bus.find('.photo-form-fields .field.credit').val();\n		if ( $(this).hasClass('savePublish') ) data.publish = 1;\n		if ( $bus.find('input.notifyTeam').is(':checked') ) data.notify = 1;\n		var ids = '';\n		var newOnes = [];\n		var $holder = $(\"#galleryNewUploads\").find(\".qq-upload-list\");\n		$holder.find(\"div.qq-upload-success\").each(function(){\n			var $p = $(this);\n			ids += $p.attr('event_photo_id')+\",\";\n			newOnes.push({id:$p.attr('event_photo_id'),src:$p.attr('src'),'full-image':$p.attr('full-image')});\n		});\n		$holder.empty();\n		var params = { event_id: constants.event_id, field: field, data: data, event_photo_id: ids };\n		var dontAddToMainGallery = false;\n		if (gallerySplashFeedId !== false) {\n			params.data.splash_feed_id = gallerySplashFeedId;\n			dontAddToMainGallery = true;\n			var $sf = $(\"#sfid-\"+gallerySplashFeedId);\n		}\n\n		if($(\"#temp-gallery-holder\").length > 0){\n			$(\"#temp-gallery-holder\").remove();\n		}\n		// do the post\n		$.post(\"/events/editEventPhoto/\"+constants.slug,params,function(result){\n\n			if ( data.publish ){\n				if(dontAddToMainGallery){\n\n					if(typeof $sf!=='undefined'){\n\n						for ( x in newOnes ){\n							//add it to the end of the carousel.\n							var $item = $sf.find(\"div.img-gal-item:first\");\n							if($item.length < 1){\n								var $item = $('<div class=\"txtL grp sh sf list-item img-gal-item wImg media\" epid=\"'+newOnes[x]['id']+'\" block-type=\"img-gal\"><div class=\"grp media image relative\">'+\n									'<img thumb-src=\"\" src=\"/images/new-loader-burst.gif\"></div></div>');\n							}\n\n							var $new_block = $item.clone().addClass('newCarouselImg');\n							$sf.find(\".slides\").append($new_block);\n							$new_block.find(\"img\").removeClass('unloaded').prop(\"src\",newOnes[x]['full-image']).attr({ \"thumb-src\":newOnes[x].src });\n\n						}\n\n						setTimeout(function(){\n							var $carousel = $sf.find(\"div.carousel\");\n							$carousel.find(\".newCarouselImg:first\").addClass('current').siblings().removeClass('current');\n\n							$carousel.activateCarousel();\n							$carousel.slideToCurrent();\n\n							$carousel.find(\"div.newCarouselImg\").removeClass('newCarouselImg');\n						},100);\n\n\n					}\n\n\n				} else {\n					//$('#event-photos').prepend(result);\n					for ( x in newOnes ){\n						var $new_block = $(\"#blank-photo\").find(\"div.photo-thumb:first\").clone();\n						$new_block.attr('event-photo-id',newOnes[x]['id']);\n						$img = $new_block.find(\"div.inner\").find(\"img.th\");\n						$img.attr({\n							\"lazy-src\":newOnes[x]['full-image'],\n							\"src\":$img.attr('loading-src'),\n							\"full-src\":newOnes[x]['full-image'],\n							\"thumb-src\":newOnes[x].src,\n							\"thumbnail-position\":'',\n							\"photo-id\":newOnes[x].id\n						});\n						lazyLoad($img[0]);\n						$(\"#gallery-thumbs\").append($new_block);\n					}\n					galleryPresetLayout();\n					galleryAddFlowScroll();\n					gallerySortInit(true);\n					//updateAllCounts();\n					$('#uploadsWrap').removeClass('finished');\n				}\n			} else {\n				loadUnapprovedUploadedPhotos(1);\n			}\n		});\n\n		// hide the form\n		$bus.find('input,textarea').each(function(){\n			$(this).val('').removeAttr('checked');\n		});\n		$bus.removeClass('open').hide();\n		closeSimpleModal();\n	});\n\n	$('#inline-reorder-init').mouseenter(function() {\n   		$('#sectionTabWrap').addClass('reorderHovered');\n  	}).mouseleave(function() {\n	    $('#sectionTabWrap').removeClass('reorderHovered');\n  	});\n\n  	$(\"#rteCloseTextShadowPicker\").click(function(){\n  		$(\"#rteTextShadowPicker\").hide();\n  		$(\"div.mce-shadow-button\").removeClass('mce-active').attr(\"aria-pressed\",false);\n  	});\n  	$(\"#rteCloseTextSpacingPicker\").click(function(){\n  		$(\"#rteTextSpacingPicker\").hide();\n  		$(\"div.mce-spacing-button\").removeClass('mce-active').attr(\"aria-pressed\",false);\n  	});\n\n  	$(\"#rteTextSpacingPicker\").on('change','input',function(){\n  		//special check for lineheight/letter spacing for title/subtitle to override the theme_style setting.\n  		var $t = $(this),\n  			gid = $t.attr(\"gid\");\n\n  		if(typeof gid!=='undefined'){\n  			var $grp = $(\"#\"+gid);\n  			if(typeof $grp!=='undefined' && $grp.hasClass('element-title')||$grp.hasClass('element-subtitle') ){\n  				var id = ($grp.hasClass('element-title'))?'title':'subtitle';\n  				var input = ($t.hasClass('letter-spacing'))?'letter-spacing':'line-height';\n\n  				if(input =='line-height'){\n  					var $obj = $(\"#\"+id+'-'+input+'-slider-nu');\n  				} else {\n  					var $obj = $(\"#\"+id+'-'+input+'-slider');\n  				}\n\n  				if(typeof $obj!=='undefined'){\n  					$obj.val($t.val()).trigger('change');\n				}\n  			}\n  		}\n  	})\n  	$(\"#rteTextShadowPicker\").on('change','input',function(){\n  		//special check for text shadow for title/subtitle to override the theme_style setting.\n  		var $t = $(this),\n  			gid = $t.attr(\"gid\");\n\n  		if(typeof gid!=='undefined'){\n  			var $grp = $(\"#\"+gid);\n  			if(typeof $grp!=='undefined' && $grp.hasClass('element-title')||$grp.hasClass('element-subtitle') ){\n  				var id = ($grp.hasClass('element-title'))?'title':'subtitle';\n  				var $obj = $(\"#\"+id+'-text-shadow-input');\n  				if(typeof $obj!=='undefined'){\n  					$obj.val($t.val()).trigger('change');\n				}\n  			}\n  		}\n  	});\n\n  	/*$(document).on('mouseenter','.rteColorPicker .sp-input',function(){\n  		if(highlightedText==false){\n	  		highlightedText = getSelectionText();\n	  		highlightedNode = getSelectionNode();\n	  	}\n  	});*/\n\n	$('#finetune-layout-contain').on('keypress', '.style-ctrl', function(e){\n		if(e.which == 13) {\n			// ENTER PRESS\n			$(this).trigger('change')\n		}\n	})\n\n  	//deleting a photo from the carousel.\n  	$(\"#main-canvas\").on('click',\".delete-carousel-img\",function(){\n  		if(confirm('Are you sure you want to delete this photo?')){\n  			var $t = $(this),\n  				$img = $t.parents(\".img-gal-item:first\"),\n  				$parent = $t.parents(\".img-gal:first\"),\n  				$next = $img.next(\".img-gal-item\"),\n  				$prev = $img.prev(\".img-gal-item\");\n\n  			$img.fadeOut(300,function(){\n  				$t.parents(\".list-item:first\").find(\".edit-tools\").find(\"a.delete\").click();\n  				deleteListItem($t.parents(\".list-item:first\"));\n\n  				$img.remove();\n  				if($next.length > 0){\n  					$next.addClass('current');\n  					$parent.find(\".scrollRightContain\").click();\n  				} else if($prev.length > 0){\n  					$prev.addClass('current');\n  					$parent.find(\".scrollLeftContain\").click();\n  				} else if($parent.find(\".img-gal-item\").length == 1){\n  					//no more. delete the section?\n  					$parent.find(\".scrollRightContain,.scrollLeftContain\").hide();\n  				} else if($parent.find(\".img-gal-item\").length < 1){\n  					$parent.find(\".scrollRightContain,.scrollLeftContain\").hide();\n  				}\n\n  			});\n  		}\n  	});\n\n  	//theme paginating.\n  	$('#theme-arrow-left,#theme-arrow-right').on('click', function(){\n  	    var $act = $('#public-themes-contain').find('.active.theme-option');\n  		if($(this).prop(\"id\")=='theme-arrow-left'){ //going LEFT\n	  		var $nxt = $act.prev('.theme-option'),\n	  			$fallback = $('#public-themes-contain').find('.theme-option:last')\n  		} else { //going RIGHT\n  			var $nxt = $act.next('.theme-option'),\n  				$fallback = $('#public-themes-contain').find('.theme-option:first')\n  		}\n  		$act.removeClass('active')\n  		if( $nxt.length > 0 ){\n  			$nxt.addClass('active')\n  		} else {\n  			$fallback.addClass('active')\n  		}\n  	});\n\n\n  	if(inAdvancedMode()){\n		$('body').addClass('advMode');\n	}\n\n  	/*$(document).on('mouseenter','.rteColorPicker .sp-input',function(){\n  		highlightedText = getSelectionText();\n  		highlightedNode = getSelectionNode();\n  	})*/\n\n	$('#finetune-sections').on('click', '.open-darr', function(){\n		$t = $(this)\n		$par = $t.parents('.collapsable:first')\n		if( $par.hasClass('open') ){\n			$par.removeClass('open')\n		} else {\n			$par.addClass('open')\n		}\n	})\n\n	$('#dropdownAvatar').click(function(e){\n		e.preventDefault()\n		$('#avatar-modal').fireSimpleModal();\n\n		//set the state of the designer mode toggler\n		if( $('#designer-toggle').hasClass('builder-toggle') ){\n			$('#builder-toggle').addClass('active').parents('.toggle-wrap:first').addClass(\"active\")\n		} else {\n			$('#builder-toggle').removeClass('active').parents('.toggle-wrap:first').removeClass(\"active\")\n		}\n\n		trackIndicativeEvent('accountModalOpen');\n\n		return false\n	});\n\n	// this is to clear (or pre-populate) the custom element form\n	function customElementLibraryClearForm(data) {\n		var data = data || false;\n		if (data !== false && data.LayoutBlock) {\n			$(\"#element-lib-title\").val(data.LayoutBlock['title']);\n			$(\"#element-lib-description\").val(data.LayoutBlock['description']);\n			$(\"#element-lib-photo-field\").val(data.LayoutBlock['thumbnail']);\n			$(\"#element-lib-photo-img\").prop('src',data.LayoutBlock['thumbnail']);\n			$(\"#element-lib-photo-tags\").val(data.LayoutBlock['tags']);\n			$(\"#add-to-element-library\").find('.save').text('Update Element');\n		} else {\n			$(\"#element-lib-title\").val('');\n			$(\"#element-lib-description\").val('');\n			$(\"#element-lib-photo-field\").val('');\n			$(\"#element-lib-photo-img\").prop('src','http://local.splashthat.com/images/st-p-z-controll.png');\n			$(\"#element-lib-photo-tags\").val('');\n			$(\"#add-to-element-library\").find('.save').text('Save Element');\n		}\n	}\n	//adding an element/set of elements to element library.\n	$(\"#finetune-all-tools\").on('click','.add-to-element-library',function(){\n		var $ftg = $(this).parents(\".ft-grp:first\");//parent container.  acc-ftg-5 -> ftg-5.\n		var ftg_id = $ftg.prop('id').replace('acc-','');\n		var grp = ftGetGrp(ftg_id);\n		if (grp && grp.layout_block_id && grp.layout_block_id > 0) {\n			var $t = $(this);\n			var color = $t.css('background-color');\n			$t.css('background-color','#e2e2e2');\n			$.ajax({\n				url: constants.finetune_formBase+'/splash/pullCustomElement',\n				type: 'post',\n				dataType: 'json',\n				data: {\n					block_id: grp.layout_block_id\n				}\n			}).done(function(response){\n				if (response && response.LayoutBlock) {\n					customElementLibraryClearForm(response);\n					$(\"#add-to-element-library\").data('ftg-id',ftg_id).fireSimpleModal({ persistent: true, persistent_hard: true });\n				}\n			}).fail(function(){\n				customElementLibraryClearForm();\n				$(\"#add-to-element-library\").data('ftg-id',ftg_id).fireSimpleModal({ persistent: true, persistent_hard: true });\n			}).always(function(){\n				$t.css('background-color','');\n			});\n\n		} else {\n			customElementLibraryClearForm();\n			$(\"#add-to-element-library\").data('ftg-id',ftg_id).fireSimpleModal({ persistent: true, persistent_hard: true });\n		}\n		return false;\n	});\n	$(\"#add-to-element-library\").on('click','.save',function(){\n		var $this = $(this);\n		var params = {\n			fields: {\n				title: $(\"#element-lib-title\").val().trim(),\n				description: $(\"#element-lib-description\").val().trim(),\n				thumbnail: $(\"#element-lib-photo-field\").val(),\n				event_id: constants.event_id,\n				tags: ','+$(\"#element-lib-photo-tags\").val()+',' //super important to add tag comma at beginning and end.\n			}\n		};\n\n		if($this.hasClass('in-progress')){\n			return false;//no dblclick\n		}\n\n		if(params.fields.title==''){\n			alert('Please fill out a valid title.');\n			$(\"#element-lib-title\").focus();\n			return false;\n		}\n		if(params.fields.description==''){\n			alert('Please fill out a valid description.');\n			$(\"#element-lib-description\").focus();\n			return false;\n		}\n		if(params.fields.thumbnail==''){\n			alert('Please fill out a valid photo.');\n			//$(\"#element-lib-title\").focus();\n			return false;\n		}\n		$this.addClass('in-progress').text('Saving..');\n		$this.parents(\".simple-modal:first\").removeClass('persistent_hard');\n\n		var ftg_id = $(\"#add-to-element-library\").data('ftg-id');\n		var $ftg = $(\"#\"+ftg_id);\n		var grp = ftGetGrp(ftg_id);\n		var layoutToSave = finetuneGetEventLayout(true,$ftg);\n		params.layout = layoutToSave;//finetuneGetEventLayout(true,$ftg);\n\n		if (grp && grp.layout_block_id) {\n			params.fields.id = grp.layout_block_id;\n		}\n\n		$.ajax({\n			url:\"/splash/saveCustomElement\",\n			data: params,\n			type: 'POST',\n			dataType: 'json',\n			success: function(response){\n				$this.removeClass('in-progress').text('Saved');\n				setTimeout(function(){\n					$this.text('Save');\n					closeSimpleModal();\n				},500);\n				if (response && response.block_id) {\n					grp.layout_block_id = response.block_id;\n					finetuneLayoutChangesMade();\n				}\n			},\n			error: function(){\n				alert('There was an error saving your changes.  Please try again.');\n				$this.removeClass('in-progress').text('Save');\n			}\n		});\n\n	});\n\n	$(\"#element-lib-photo-img,#element-lib-photo-img-btn\").click(function(){\n		pickAndOrCropNewImage($(\"#element-lib-photo-field\"),{\n			done: function(newSrc,dims){\n				//$(\"#add-to-element-library\").fireSimpleModal();\n				$(\"#element-lib-photo-field\").val(newSrc);\n				$(\"#element-lib-photo-img\").prop('src',newSrc)\n				return false;\n			}\n		});\n	});\n\n	$(\"#add-new-section\").on('click','ul.tabs a',function(e){\n		var tab = $(this).data('tab');\n		var $block = $(\"#\"+tab);\n		$(this).parents(\".tabs\").find(\".active\").removeClass('active');\n		$(this).addClass('active');\n		$block.fadeIn().siblings('.sectionType').hide();\n	});\n\n	///Modal Window on change\n	$(\".nav-modal-target\").change(function(){\n		var modalVal = $(this).val();\n		modal.linkModal(modalVal);\n	})\n\n	$(\"#splash-container .map\").on('click',\".embed-url\",function(event){//when you click a map on the page, open the embed modal instead of clicking out.\n		var $t = $(this).parents('.layoutGrp:first'),\n			block_type = $t.find('.sf:first').attr('block-type'),\n			gid = ftGetId($t);\n		event.preventDefault();\n		openEmbedModal(block_type,gid);\n		return false;\n	});\n\n	///init binding for videocheckboxes\n	$('#video-embed .videoCheckBoxes').on('click','label.autoplay-check',function(){\n		setTimeout(function(){\n		if($('.video-autoplay').val()==\"1\") {\n				videoOptions.checkAutoplay();\n			}\n			else if($('.video-autoplay').val()==\"0\"){\n				videoOptions.removeOption('autoplay');			}\n		},500);\n	});\n	$('#video-embed .videoCheckBoxes').on('click','label.controls-check',function(){\n		setTimeout(function(){\n		if($('.video-controls').val()==\"1\") {\n				videoOptions.checkControls();\n			}\n			else if($('.video-controls').val()==\"0\"){\n				videoOptions.removeOption('controls');\n			}\n		},500);\n	});\n	$('#video-embed .videoCheckBoxes').on('click','label.loop-check',function(){\n		setTimeout(function(){\n		if($('.video-loop').val()==\"1\") {\n				videoOptions.checkLoop();\n			}\n			else if($('.video-loop').val()==\"0\"){\n				videoOptions.removeOption('loop');\n			}\n		},500);\n	});\n	$('#video-embed .videoCheckBoxes').on('click','label.sound-check',function(){\n		setTimeout(function(){\n		if($('.video-sound').val()==\"1\") {\n				videoOptions.checkMute();\n			}\n			else if($('.video-sound').val()==\"0\"){\n				//TODO: add an unmute once this works\n				//videoOptions.removeOption('sound');\n			}\n		},500);\n	});\n\n\n	$(\"#simple-modal-wrap\").on('click',\"#addEventToHub\",function(){\n		var $t = $(this);\n\n		if($t.hasClass('loading')){ return false; }\n\n		$t.addClass('loading').text('Saving..');\n\n		var hub_event_id = $(\"#hub-event-id\").val();\n		var event_id = $(\"#currentEventId\").val();\n\n\n		if(hub_event_id <= 0){\n			alert('Please select a valid hub.');\n			$(\"#eventHubDD\").addClass('pulse');\n			setTimeout(function(){\n				$(\"#eventHubDD\").removeClass('pulse');\n			},2000);\n			$t.removeClass('loading').text('Save');\n			return false;\n		}\n		var params = { hub_event_id: hub_event_id,  event_ids: event_id.split(',') };\n		if( $(\"#featureHubListing\").val()=='1' ){\n			params.featured = 1;\n		} else{\n 			params.featured = 0;\n		}\n\n		$.ajax({\n			url:\"/events/addEventToHub/\",\n			type: \"POST\",\n			data: params,\n		})\n		.done(function(response, status) {\n\n			response = $.parseJSON ( response );\n\n			if ( typeof response['saved'] != 'undefined' && response['saved'] == true ) {\n				$t.removeClass('loading').text('Saved.');\n				setTimeout(function(){\n					$t.text('Save');\n					closeSimpleModal();\n				},1000);\n				$(\"#reloadEventProfile\").click();\n				settingsModalLoadAddToHubBtn();\n			}\n			else {\n				alert('There was an error saving.  Please try again.');\n				$t.removeClass('loading').text('Save');\n				if ( typeof response['errors'] != 'undefined' ) {\n					console.log('Errors in adding event to hub: '+response['errors']);\n				}\n			}\n		})\n		.fail(function(xhr, options, error ) {\n			alert('There was an error saving.  Please try again.');\n			$t.removeClass('loading').text('Save');\n		});\n	});\n\n	// on the settings modal, this is the button to unpublish the current event from a hub\n	$(\"#edit-settings\").on('click','.removeFromHubBtn',function() {\n\n		$hub_row = $(this).closest('.event-hub-row');\n		var params = {\n			hub_event_id : $hub_row.find('.event-hub-id').val(),\n			splash_feed_id : $hub_row.find('.splash-feed-id').val()\n		}\n\n		$hub_row.find('.removeFromHubBtn').addClass('hide').end()\n			.find('.loader-splash').removeClass('hide');\n\n		$.ajax({\n			url:\"/events/removeEventFromHub/\"+_event.id,\n			type: \"POST\",\n			data: params,\n		})\n		.done(function(response, status) {\n\n			response = $.parseJSON ( response );\n\n			if ( typeof response['deleted'] != 'undefined' && response['deleted'] == true ) {\n				$hub_row.find('.loader-splash').addClass('hide').end()\n					.find('.removedMsg').show();\n				$('.addEventToHubWrap .header span').text( parseInt($('.addEventToHubWrap .header span').text()) -1 );\n			}\n			else {\n				alert('There was an error deleting.  Please try again.');\n				if ( typeof response['errors'] != 'undefined' ) {\n					console.info('Errors in adding event to hub: '+response['errors']);\n				}\n				$hub_row.find('.removeFromHubBtn').removeClass('hide').end()\n					.find('.loader-splash').addClass('hide');\n			}\n		})\n		.fail(function(xhr, options, error ) {\n			alert('There was an error deleting.  Please try again.');\n			$hub_row.find('.removeFromHubBtn').removeClass('hide').end()\n					.find('.loader-splash').addClass('hide');\n		});\n\n	});\n\n	//important!  populateColorCombos MUST be called prior to the generate color wheel check.\n	populateColorCombos();\n  	var colors = $(\"#event-swatch-input\").val().split(';');\n  	if(colors.length > 0){\n	  	generateColorWheel(colors);\n	} else {//this should be replaced with a fallback for splash v2.0 and less.\n	  	generateColorWheel(['#313729','#3b7b77','#789290']);\n  	}\n\n	addElementButtons();\n	initializeVenueMap();\n	initializeEmbedMap();\n	resizeColorWheel()\n	finetuneActivateOnPageEditables();\n	updateHoverColors();\n	// splash.fontActions.populateFontCombos()\n	addElementScroll()\n\n	splash.fontActions.init();\n	//coachBeacon.init(coachBeacon.beaconArray);\n\n\n});//END OF DOCUMENT READY. end doc\n\n//needed for youtube API...which doesnt work on local machines?\nfunction onYouTubePlayerReady(playerId) {\n      var ytplayer = document.getElementById(\"player\");\n      console.log(ytplayer)\n    }\n\nfunction triggerChangeOnTitles(){\n	// FIXES ISSUE WHERE SOME SECONDARY H1s WOULD NOT SAVE FONT\n	$('#splash-container').find('h1').each(function(){\n		$(this).parents('.title:first').trigger('change')\n	})\n}\n\nfunction closeThemeSlideshow(){\n	$('#theme-modal').removeClass('slideshow').find('.theme-option.active').removeClass('active');\n}\n\nfunction resizeJuicy(){\n\n	$this =  $('#finetune-sections').find('.juicyOpen').find('.mainToggleBtn')\n	if( $this.length > 0 ){\n		var openHeight = windowHeight - $this.position().top - bottomUtilHeight - 30;\n		$this.css('height', openHeight );\n	}\n}\n\nfunction positionTut(thisPos){\n	var thisHeight\n\n	var $fvInfo = $('.firstViewInfo')\n\n	if( thisPos == 'top' ){\n		thisHeight = $('#nuToolBtns').outerHeight()\n\n		if(thisHeight <= 150){\n			thisHeight = 204\n		}\n\n		$fvInfo.css({'height': thisHeight+ 'px', 'top': '94px'})\n	//	$fvInfo.css({'height': thisHeight+ 'px', 'top': $('#nuToolTop').offset().top+'px'})\n	} else if (thisPos == 'bottom'){\n		thisHeight = $('#nuPlanWrap').outerHeight()\n\n		thisTop = $('#nuPlanWrap').offset().top\n\n		if( thisHeight <= 80 ){\n			// if tabs are in the super small state where 3 of 4 are hidden\n			thisTop = thisTop - ( ( $('#planTab').outerHeight() * 3 ) - 4 )\n		}\n\n		thisTop = thisTop + 130\n\n		if(thisHeight <= 150){\n			thisHeight = 204\n		}\n\n		$fvInfo.css({'height': thisHeight + 'px', 'top': thisTop+'px'})\n	}\n\n	if( thisHeight < 250 ){ // make inner text smaller if small size\n		$fvInfo.addClass('smallTut')\n	} else {\n		$fvInfo.removeClass('smallTut')\n	}\n\n}\n\n\nfunction initTutorial(){\n\n	if( $('body').hasClass('showTutorial') && ! $('body').hasClass('tutStarted') ) {\n\n		$('body').addClass('tutStarted')\n\n		$('#nuToolBtns').find('.toolBtn:first').addClass('fvFlash')\n\n		positionTut('top')\n\n		$('#firstViewOverlay').addClass('showDesign')\n	}\n\n}\n\n\nfunction getToolbarOpts(opts){\n\n	if(typeof opts!=='undefined' && opts.simpleRTE!=='undefined' && ! opts.hideAligner ){\n		//return \"undo redo | bold italic | fontSizer fontFamily | colorPicker | aligner shadow spacing | code closeButton\";\n		return \"fontFamily fontSizer | bold italic aligner\";\n	} else if ( typeof opts!=='undefined' && opts.hideAligner !== 'undefined'){\n		return \"fontFamily fontSizer | bold italic colorPicker | showAll | shadow spacing link imgPicker | removeformat code | closeButton\";\n	} else  {\n		//return \"undo redo | bold italic | fontSizer imgPicker | fontFamily | colorPicker | lineHeight | aligner link | shadow spacing | removeformat code closeButton\";\n		return \"fontFamily fontSizer | bold italic aligner  colorPicker | showAll | shadow spacing link imgPicker | removeformat code | closeButton\";\n	}\n}\n\nfunction resetColorText(){\n	var editText = $('#fontColorSelect').find('.option.active').text().trim();\n	if( editText == '' ){\n		editText = 'Custom'\n	}\n	$('#fontColorSelect').find('.editColorText:first').text( editText )\n}\n\nfunction closeFinetuneBar(){\n	$('#nestedLayoutContainer').removeClass('isBasicEle')\n\n	$('body').removeClass('finetuneOpen')\n	$('#nuToolBtns').find('.toolBtn').removeClass('active')\n	$(\"#finetune-block\").removeClass('isScrolling');\n	finetuneOpen=false;\n\n	closePlanningTools();\n	setTimeout(function(){\n		galleryThumbFlow();\n	},500);\n\n}\n\nfunction openFinetuneBar(tab,force){\n\n	if( !finetuneOpen || force!=null) { //only open if not already opened (or we're forcing it open).\n\n		$('#finetune-all-tools').css('margin-left', '0em');\n		$body.addClass('finetuneOpen');\n		closeGuiders();\n		closePlanningTools();\n		finetuneOpen = true;\n		if(tab!=null){\n			var $tab = $(\"#nuTool\").find(\".toolBtn[tab='\"+tab+\"']\");\n			if($tab.length > 0){\n				$tab.removeClass('active').click();//remove active and open this tab!\n			}\n		}\n\n		if(galleryExistsOnPage()){\n			setTimeout(function(){\n				galleryThumbFlow();\n			},500);\n		}\n\n	}\n}\n\n	$(\"#inactivity-email\").keyup(function(e){\n		if(e.keyCode==13){//focus to next input on enter.\n			$(\"#inactivity-pw\").focus();\n		}\n	});\n\n	$(\"#inactivity-pw\").keyup(function(e){\n		if(e.keyCode==13){\n			//on enter,submit.\n			$(\"#remoteSignIn\").click();\n		}\n	});\n	$(\"#logged-out-modal\").on( 'click', '#remoteSignIn', function() {\n		var $t = $(this);\n		if($t.hasClass('loading')){\n			return false;\n		}\n\n		$t.addClass('loading');\n		var loginUrl = '';\n		if(constants.ocbDomain=='splashthat.com'){\n			loginUrl = 'https://';\n		} else {\n			loginUrl = 'https://'+constants.ocbDomain+'/sites/view/';\n		}\n		loginUrl += constants.domain;\n		loginUrl += '/users/login';\n\n		$.ajax({\n			url: loginUrl,\n			type: 'post',\n			dataType:'json',\n			data: { data: { User: { email: $(\"#inactivity-email\").val(), password: $(\"#inactivity-pw\").val(), remoteLogin: 1 } } },\n			statusCode: {\n				401: function(response) {\n					handleSaveError( 'locked', response.message);\n				}\n			},\n			success:function(response){\n				if( response.success ) {\n					closeSimpleModal();\n					$t.removeClass('loading');\n					setChangesMade();\n				}\n				else\n				{\n					$t.removeClass('loading');\n					$(\"#logged-out-modal\").find('.inactive-error')\n										  .html('#3212: There was an error logging you in.  Please try again.')\n										  .show();\n				}\n			},\n			error:function(){\n				$(\"#logged-out-modal\").find('.inactive-error')\n									  .html('#3212: There was an error logging you in.  Please try again.')\n									  .show();\n				$t.removeClass('loading');\n			}\n		})\n	});\n\n\nfunction closeJuicy(thisJuicy){\n	$this = thisJuicy\n	$juicy.removeClass('juicyOpen')\n	$this.css('height', '' );\n}\n\nfunction hideShowTabs(thisTab){\n	if( typeof thisTab !== 'undefined' ){\n		var tab = thisTab\n	} else{\n		var tab = $('#topImageNav').find('.active:first').attr('tab')\n	}\n	$('#imgContentWrap').attr('tab', tab).find('.imgTab').hide().end()\n		.find(\"div[tab='\"+tab+\"']\").show()\n}\n\nvar tipHover = false,\n	mouseCoords = {x:0,y:0},\n	openColorPicker = false,\n	cropImageJcrop=false,\n	jumpToInviteTemplate = false,\n	openDatePicker = false,\n	currentFocusedInput=false,\n	scrolling=false,\n	dragging=false,\n	$body = $(\"body\"),\n	bottomUtilHeight = 40;\n	ftWidth=272,\n	finetuneOpen=false,\n	silentTrigger=false,\n	inCustomSection = false,\n	currentSection = false,\n	highlightedText = false,\n	highlightedNode = false,\n	$simpleModalWrap=$(\"#simple-modal-wrap\");\n\n// $image can be an $('<img />') or an $('<input />')\n// this will update the src or value of $image\n// done(new_image_src)\nfunction pickAndOrCropNewImage($image,opts){\n\n	var opts = opts || {};\n	var defaultOpts = {\n		aspectRatio: null,\n		done: function(newSrc,newDims) {}\n	};\n\n	var $cropAnyPhoto = $(\"#cropAnyPhoto\");\n	$('#cropAnyPhoto').removeClass('editBG editHead isColor isImage isVideo');\n\n	if(opts.helperText) {\n		$('#imgFirstView').find('.upload-image-tip').show().html(opts.helperText);\n	} else {\n		$('#imgFirstView').find('.upload-image-tip').hide().html('');\n	}\n\n	if(opts.classesToAdd){\n		setTimeout(function(){\n			$(\"#cropAnyPhoto\").addClass((''+opts.classesToAdd));\n		},100);\n	}\n	if(opts.isColor && opts.isColor){\n		setTimeout(function(){\n			$(\"#imgColorPickerTab\").click();\n		},10);\n	}\n\n	if(opts.group_id){\n		$(\"#cropAnyPhoto\").data('group-id',opts.group_id);\n	} else {\n		$(\"#cropAnyPhoto\").data('group-id',false);\n	}\n\n	opts = $.extend(true,{},defaultOpts,opts);\n	cropImage(\n		$image,\n		opts.aspectRatio,\n		function(cropSelected,src_used,newlyuploaded,dims) {\n			var newlyUploadedSrc = newlyUploadedSrc || false;\n			if (cropSelected !== false){\n				$.ajax({url:'/events/cropExistingImage/'+constants.slug,type:'post',dataType:'json',\n					data:{ c:cropSelected, src:src_used },\n					success:function(response){\n						if ( typeof response.status != 'undefined' && response.status == 'success' ){\n							if ( typeof response.new_src != 'undefined' ){\n								// get width and height from response too?\n								var dims = response.dims || null;\n								opts.done(response.new_src,dims);\n							} else opts.done(src_used,dims);\n						}\n					}\n				});\n			} else {\n				opts.done(src_used,dims);\n			}\n		}\n	);\n}\n\nfunction cropImage($image,aspectRatio,_saveCallback,_cancelCallback){\n	var $image = $image || [];\n\n	if ( $image.length == 1 ){\n\n		// so we can take an image or a hidden input!\n		var getSrc = function() { // {{{\n\n			if ($image.hasClass('use-parent-bg')) {\n				var mysrc = (''+$image.parents('.media.image:first').css('background-image'));\n				mysrc = stripUrl(mysrc);\n				return mysrc;\n			} else if (typeof $image.attr('src')!=='undefined') {//<img> tag.\n				return $image.attr('src');\n			} else if (typeof $image.attr('value')!=='undefined') {//input.\n				return $image.attr('value');\n			}\n			return '';\n		}; // }}}\n		var setSrc = function(s) { // {{{\n			src = s;\n			//if ($image.is('img')) {\n				//$image.attr('src',s);\n			//} else if ($image.is('input')) {\n				//$image.prop('value',s);\n			//}\n		}; // }}}\n\n		var $block = $(\"#cropAnyPhoto\");\n		if($block.data(\"group-id\")){\n			$block.addClass('isBgImg').removeClass('isImg');\n		} else {\n			$block.removeClass('isBgImg').addClass('isImg');\n		}\n		var $photo = $block.find('.photoResize');\n		if($photo.length < 1){\n			$photo = $(\"#photoResize\");\n		}\n		var newly_uploaded_src = false;\n		var src = getSrc();\n		var selected=false;\n		var set = null;//[];//[0,0,10000,10000];\n		var dims = null;\n		var $gal = $block.find('#splashGallery');\n\n		//max dimension constraint for image uploads\n		var blockType = $image.parents('.wImg.media[data-img-block-type]').data('img-block-type') || false;\n		var uploadParams = { // {{{\n			onSubmit: function($item,d){\n				$(\"#imgContentWrap\").find('.latestPhoto').prepend( $(\"<div class='thisLoader loading'><div class='nu-loader med'></div></div>\") )\n			},\n			onProgress: function($item,d){},\n			onComplete: function($item,d){\n\n\n\n				if (d && d.response && d.response.filename && d.response.filename != '') {\n					var new_src = d.response.filename;\n					var r = Math.random();\n					if (new_src && (''+new_src).match(/\\/c\\.H\\./) == 1) {\n						var l_src = (''+new_src).replace(/\\/c\\.H\\./,'/c.L.');\n					}\n					var iL=new ImageLoader(new_src+'?'+r);\n					iL.loadEvent=function(u){\n						setTimeout(function(){\n							setSrc(u);\n							$(\"#currentImage\").removeClass('editVid').click();\n							$('#cropUploader').find('.qq-upload-list').fadeOut(400,function(){ $(this).empty().show(); });\n						}, 10);\n					};\n					iL.load();\n					src = new_src;\n					newly_uploaded_src = new_src;\n					$image.data('jcropSet',null);\n					$photo.attr(\"src\",src).css({width:'auto',height:'auto'});\n				}\n			},\n			params: {}\n		};\n		if(blockType) uploadParams.params['image_block_type'] = blockType;\n\n		$block.find('#cropUploader').empty();\n		newFileUploader('cropUploader', uploadParams); // }}}\n\n		var ctimer;\n		$photo.attr(\"src\",src).css({width:'auto',height:'auto'});\n		var initiateCrop = function() { // {{{\n			if(cropImageJcrop){\n				cropImageJcrop.destroy();\n			}\n\n			//$('#imgContentWrap').removeClass('upload gallery video editCurrent editVid color').addClass('editCurrent')\n			$('#cropAnyPhoto').removeClass('isImage isColor isVideo')\n\n			$block.find('.jcrop-holder').remove();\n			selected = false;\n			src = $photo.attr('src');\n			set = $image.data('jcropSet');\n			src = src.replace(/\\?.*$/,'');\n\n			var parts = src.split('/');\n			var filename = parts.pop();\n\n			// cropped splash image\n			if (filename.match(/^c\\.H\\.s\\./)) {\n				// croppedSplash: c.H.s.89.splashimg.jpg\n				filename = filename.replace(/^c\\.H\\.s\\.[^\\.]{2}\\./,'');\n				parts.push(filename);\n				src = parts.join('/');\n				src = '/img/events/splash/' + filename;\n				//src = src.replace(constants.event_id+'/assets','splash');\n\n			// cropped existing\n			} else if (filename.match(/^c\\.H\\./)) {\n				// original: 123.file-na.me.jpg\n				// cropped:  c.H.45.123.file-na.me.jpg\n				// cropped2: c.H.67.123.file-na.me.jpg\n				filename = filename.replace(/^c\\.H\\.[^\\.]{2}\\./,'');\n				parts.push(filename);\n				src = parts.join('/');\n\n			} else {\n				parts.push(filename);\n				src = parts.join('/');\n			}\n			$photo.attr(\"src\",src).css({width:'auto',height:'auto'});\n\n			//$('#imgContentWrap').removeClass('upload gallery video editCurrent editVid color').addClass('editCurrent')\n			$('#cropAnyPhoto').removeClass('isImage isColor isVideo').find('.h3text').text('Edit Image')\n\n			clearTimeout(ctimer);\n			ctimer = setTimeout(function(){\n				var opts = {\n					aspectRatio: aspectRatio,\n					boxWidth: 560,boxHeight: 800,\n					onSelect: function(c){\n						selected = c;\n						$image.data('jcropSet',[c.x,c.y,c.x2,c.y2]);\n						//c.W = $photo.width();\n						//c.H = $photo.height();\n						//var data = {};\n						//data.xpercentage = c.x/c.W;\n						//data.ypercentage = c.y/c.W;\n						//data.wpercentage = c.w/c.W;\n					},\n					onRelease: function(){\n						selected = false;\n						$image.data('jcropSet',null);\n					}\n				};\n				opts.boxHeight = $block.height() - $block.find('.bottomBar:first').height() - 42;\n				opts.boxWidth = $block.find('.latestPhoto').width() - 10;\n\n				if (set && set.length == 4) {\n					opts.setSelect = set;\n				} else {\n					//dont select anything ;)\n					//opts.setSelect = [0,0,10000,10000];\n				}\n\n				var s = $photo.Jcrop(opts,function(){\n					cropImageJcrop = this;\n					dims = $photo.width()+'x'+$photo.height();\n					setTimeout(function(){\n						$(\"#imgContentWrap\").find(\".latestPhoto\").find(\"div.thisLoader\").remove();\n					},500);\n				});\n\n			},100);\n		}; // }}}\n\n		$block.find(\"#imgColorPickerTab\").unbind('click').click(function(e){\n			$('#cropAnyPhoto h3 .h3text').text('Pick Color')\n			$(this).addClass('active').siblings().removeClass('active');\n			addColorPickerToModal()\n		});\n\n		$('#imgContentWrap').find('.vidTime').unbind('focus').focus(function(e){\n			$('#imgContentWrap').find('.add-link-check').addClass('checked')\n			$('#addImageLinkToggle').attr('value', '1')\n		})\n\n		$('#vidFirstView').on('click', '.add-link-check', function(){\n			setTimeout(function(){\n				if( $(this).hasClass('checked') == false ){\n					$('#vidStartTime').val('')\n				}\n			}, 10)\n		});\n\n		$block.find('#currentImage').unbind('click').click(function(e){ // {{{\n			var $t = $(this);\n			if(!$t.hasClass('disabled') ){\n\n				$('#cropAnyPhoto').removeClass('isImage isColor isVideo')\n\n				if( $t.hasClass('editVid') ){\n					setTimeout(function(){\n						//$('#imgContentWrap').addClass('editVid').removeClass('editCurrent');\n					}, 10);\n				}\n\n				$t.addClass('active').siblings().removeClass('active');\n\n				$('#advancedImgUtils').removeClass('showAdvTools')\n				//$gal.hide();\n\n				$('#imgFirstView').find('.qq-upload-drop-area').css('display', 'none');\n				initiateCrop();\n\n			}\n		}); // }}}\n		$block.find('#disableCrop').unbind('click').click(function(e){ // {{{\n			if (cropImageJcrop) {\n				cropImageJcrop.release();\n			}\n		}); // }}}\n\n		$block.find('#photoPickerGallery').unbind('click').click(function(e){ // {{{\n			$(this).addClass('active').siblings().removeClass('active');\n\n			$('#cropAnyPhoto h3 .h3text').text('Select from Gallery')\n\n			// hide the cropper\n			$('#imgFirstView .qq-upload-drop-area').css('display', 'none');\n			if(cropImageJcrop){\n				cropImageJcrop.destroy();\n			}\n			$block.find('.jcrop-holder').remove();\n			// lock the modal width\n			// show the picker\n			$gal.show();\n\n			$(\"#all-image-cats\").addClass('open')\n			// if the picker isn't loaded.. load it!\n			if (!$gal.hasClass('loaded') && !$gal.hasClass('loading')) {\n				$gal.addClass('loading');\n				$.ajax({url: '/events/photo_picker/'+constants.slug, dataType: 'json'})\n					.done(function(data){\n						if (data && data.categories && data.photos) {\n\n							var cats = '';\n\n							for(var x in data.categories){\n								xtras = '';\n								if(x==0){\n									xtras = 'prompt';//first one gets active (aka prompt) class.\n								}\n								cats+='<div class=\"grp p0 category '+xtras+'\" cat-id=\"'+data.categories[x]['id']+'\">'+data.categories[x]['name']+'</div>';\n							}\n							$(\"#all-image-cats\").find(\".categories\").html(cats);\n\n\n							var $photos = $gal.find('.photo-content');\n							// populate the photos // {{{\n							$photos.find('.photo').remove();\n							var $blankP = $photos.find('.blank:first').clone();\n							$blankP.removeClass('blank hide').attr('style','').addClass('photo');\n							for (var i in data.photos) {\n								var photo = data.photos[i];\n								var $ph = $blankP.clone();\n								$ph.attr('cat-id',photo.cat)//binding for image gallery div.photo - important bind right here!\n									.find('img:first').attr('src',photo.tmb).attr('full-src',photo.url)\n									.parents('.thePhoto:first').css('background-image', 'url(\"'+photo.tmb+'\")' )\n								$ph.click(function(e){\n									var newSrc = $(this).find('img:first').attr('full-src');\n									// set up the new photo in the cropper\n									//setSrc(newSrc);\n									src = newSrc;\n									newly_uploaded_src = newSrc;\n									$image.data('jcropSet',null);\n									$photo.attr(\"src\",src).css({width:'auto',height:'auto'});\n									$(\"#currentImage\").removeClass('editVid').click();\n									$(\"#imgContentWrap\").find('.latestPhoto').prepend( $(\"<div class='thisLoader loading'><div class='nu-loader med'></div></div>\") )\n									// init the cropper\n									//initiateCrop();\n								});\n								$photos.append($ph);\n							} //// }}}\n\n\n\n							// unlock the modal width\n\n							$gal.addClass('loaded').removeClass('loading');\n						}\n					});\n			}\n		}); // }}}\n\n		//on scroll of the image editor gallery. change the active category on the fly.\n		$block.find(\".photo-content\").unbind('scroll').scroll(function(){\n			if(!scrolling){\n\n				var $s = $(\"#splashGallery\");\n				var blockHeight = $s.find(\"div.photo-content:first\").outerHeight();\n				var st = $s.offset().top;\n\n				//loop through each photo until we find a match.\n				$s.find(\"div.photo\").each(function(){\n					if(( $(this).position().top ) > (st - blockHeight - $(this).outerHeight() + 25) ){//+25 for margin considerations.  finetuned it to be perfect.\n						var cat_id = $(this).attr(\"cat-id\");\n						var $b = $(\"#all-image-cats\").find(\"div[cat-id='\"+cat_id+\"']:first\");\n						$b.addClass('prompt').siblings().removeClass('prompt');\n						return false;\n					}\n				});\n			}\n		});\n\n		//binding for photo category clicking/scrolling\n		$block.find(\"#all-image-cats\").on('click',\"div.category\",function(e){\n			var $photos = $(\"#splashGallery\").find(\".photo-content\");\n			var $t = $(this);\n			var id = $t.attr('cat-id');\n			$t.siblings().removeClass('prompt');\n			$t.addClass('prompt');\n			var $first = $photos.find('.photo[cat-id=\"'+id+'\"]:first');\n			if ($first.length) {\n			 	scrolling = true;\n				$photos.stop().animate({\n					scrollTop: ($first.position().top + $photos.scrollTop())\n				}, 500,'easeInOutExpo',function(){\n					setTimeout(function(){\n					scrolling = false;\n\n					},100);\n				});\n			}\n		});\n\n		//IMAGE MODAL SAVE IMAGE\n		$block.find('.save').unbind('click').click(function(e){ // {{{\n			e.preventDefault();\n			var type = false;\n			if($block.hasClass('editHead')){\n				type = 'header';\n			} else if($block.hasClass('editBG')){\n				type = 'body';\n			}\n\n\n			if( ! $('#currentImage').hasClass('editVid') ){//STANDARD CASE.  SAVING AN IMAGE.\n\n\n				$('#main-canvas').find('.vidBG').hide().addClass('vidHid');\n				//if (cropImageJcrop) {\n					//selected = cropImageJcrop.tellSelect();\n				//}\n				if(type!==false){\n					flipDropDown( $(\"#\"+type+\"-bg-type\"),'image',true );\n				}\n\n\n				if ( _saveCallback ){ _saveCallback(selected,src,newly_uploaded_src,dims); }\n				closeSimpleModal();\n				if(cropImageJcrop){\n					cropImageJcrop.destroy();\n				}\n				$block.find('.jcrop-holder').remove();\n				setTimeout(function(){\n				},1);\n\n				//updateThemeCards();\n			} else {//SAVE VIDEO BG BACKGROUND\n\n				var vidID = $('#demoPlayer').attr('vidID');\n\n\n				insertVideoBG( type, vidID )\n\n				closeSimpleModal();\n\n			}\n\n\n		}); // }}}\n\n		$block.find('.cancel').unbind('click').click(function(e){ // {{{\n			e.preventDefault();\n			//if ( _saveCallback ){ _saveCallback(false,src,newly_uploaded_src,dims); }\n			if ( _cancelCallback ){ _cancelCallback(); }\n			closeSimpleModal();\n				if(cropImageJcrop){\n					cropImageJcrop.destroy();\n				}\n				$block.find('.jcrop-holder').remove();\n			setTimeout(function(){\n			},1);\n		}); // }}}\n\n		// Click to show / hide add link input on image picker modal\n		//#addImageLinkToggle\n		$block.find('.add-link-check input').unbind('change').change(function(e){\n			var $t = $(this);\n			if($t.val() == 1){\n				$t.parents('.add-link:first').addClass('checked')\n				setTimeout(function(){\n					$(\"#image-link-url\").focus();\n				},10);\n\n			} else {\n				$t.parents('.add-link:first').removeClass('checked')\n			}\n		});\n\n		if (src != '' && src != 'none') {\n\n			$('#cropAnyPhoto').removeClass('editHead editBG');\n\n			if( src.match(/\\?stp/)||src.match(/st-p-/)||src.match(/empty-bg/)||src.match(/walrus.png|bear.png|giraffe.png/) ){//if the file ends with \"?stp\" - it's a placeholder.\n				//initiateCrop();\n				if($image.prop(\"id\")=='header-image-source'||$image.prop(\"id\")=='body-image-source'){\n					$(\"#photoPickerGallery\").click();//if header or body image, show gallery, not upload by default.\n					$block.addClass('noLinkOpt');\n				} else{\n					$('#uploadImage').click();//if clicking a placeholder, default to upload new.\n					$block.removeClass('noLinkOpt');\n				}\n\n			} else{// because.. why not\n\n					if($image.prop(\"id\")=='header-image-source'||$image.prop(\"id\")=='body-image-source'){\n						$block.addClass('noLinkOpt');\n					} else{\n						$block.removeClass('noLinkOpt');\n					}\n					initiateCrop();\n\n				if( ! $('#main-canvas').find('.vidBG').hasClass('vidHid') /*&& $(event.target).parents('.nu-btn:first').is('#changeHeaderInline')*/ && $('#main-canvas').find('#player').length != 0 ){\n\n					$block.find('.latestPhoto,.uploadPhoto').hide();\n\n					$('#imgFirstView .qq-upload-drop-area').css('display', 'none');\n\n					$('#currentImage').addClass('active').siblings().removeClass('active');\n\n					$('#advancedImgUtils').removeClass('showAdvTools')\n\n					//$('#imgContentWrap').removeClass('upload gallery video').addClass('editCurrent editVid')\n\n					$('#cropAnyPhoto').removeClass('isImage isColor isVideo')\n\n				} else {\n\n					$('#currentImage').addClass('active').siblings().removeClass('active');\n\n					$('#cropAnyPhoto').removeClass('isImage isColor isVideo')\n\n				}\n\n				hideShowTabs()\n\n			}\n		} else { //if no image, show them the gallery.\n\n			$('#uploadImage').click();//if clicking a placeholder, default to upload new.\n			$block.removeClass('noLinkOpt');\n		}\n\n		$block.fireSimpleModal({persistent:true});\n\n	}else if ( _saveCallback ){ _saveCallback(false); }\n}\n\n\nfunction insertVideoBG( headOrBG, vidID, insert ){\n	//insert script tag for video backgrounds if it's not already there.\n\n	if( insert == 'force' ){\n		$('body').removeClass('hasVidBG')\n		$('#ytAPIsrc').remove()\n	}\n\n\n	if(!$('body').hasClass('hasVidBG')){\n		$('body').addClass('hasVidBG')\n		var tag = document.createElement('script');\n		tag.src = \"/js/vidBG.js\";\n		tag.id = \"ytAPIsrc\";\n		var firstScriptTag = document.getElementsByTagName('script')[0];\n		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n	}\n\n	var startTime = $('#vidStartTime').val().trim();\n	if (startTime == '') {\n		startTime = 0;\n	} else if( startTime.match(':') ){\n		hms = startTime.split(':');//break apart. expected in format hour:minute:seconds (or just seconds).\n		if( hms.length == 3){\n			startTime = parseInt(hms[0]*3600) + parseInt(hms[1]*60) + parseInt(hms[2])\n		} else if ( hms.length == 2 ){\n			startTime = parseInt(hms[0]*60) + parseInt(hms[1])\n		}\n	}\n\n\n	var thisVid\n	if( vidID && vidID != false ){\n		$('#vidUrl').val( vidID )\n		thisVid = vidID\n	} else {\n		thisVid = $('#vidUrl').val()\n	}\n\n\n\n	thisVid = 'kIZJx259Kug'\n\n\n	if( thisVid != '' ){\n\n		if( $('#main-canvas').find('.vidBG').length == 0 ){\n			var vidEmbed = '<div class=\"vidBG\"><div id=\"player\" video-id=\"'+thisVid+'\" start=\"'+startTime+'\"></div></div>';\n			var $header = getTargetById('header');\n			$header.prepend( $(vidEmbed) );\n\n\n		} else {\n\n			player.loadVideoById( thisVid );\n			$('#main-canvas').find('.vidBG').show();\n			$('#player').attr({ 'start': startTime, 'video-id':thisVid });\n\n		}\n\n		if(headOrBG!==false){ // set to either 'header' or 'body'\n			$(\"#\"+headOrBG+\"-bg-vid-id\").val(thisVid).addClass('changes-made').trigger('change');\n			$(\"#\"+headOrBG+\"-bg-vid-start\").val(startTime).addClass('changes-made').trigger('change');\n			$(\"#\"+headOrBG+\"-bg-vid-type\").val(\"youtube\").addClass('changes-made').trigger('change');\n			flipDropDown($(\"#\"+headOrBG+\"-bg-type\"),'video',true);\n		}\n\n\n		if(insert == 'force'){\n\n			if(typeof YT != 'undefined'){\n\n				function onReady(event) {\n				   	event.target.mute()\n				 	//player.playVideo()\n				}\n\n				function onPlayerStateChange(event) {\n\n				    if(event.data === YT.PlayerState.ENDED){\n				        event.target.seekTo(0)\n				    }\n\n					event.target.mute()\n\n				    if(event.data == 1 && parseInt($('#player').attr('startTime')) != 0){\n				    	event.target.seekTo( parseInt( $('#player').attr('startTime') ) )\n				    }\n\n				}\n\n				player = new YT.Player('player', {\n			        height: '100%',\n			        width: '100%',\n			        videoId: $(\"#player\").attr(\"video-id\"),\n			        playerVars: { 'loop': 1, 'autoplay': 1,'autohide':1,'rel':'0','showinfo':'0','controls':'0','start':startTime },\n			        events: {\n			            onReady: onReady,\n			            onStateChange: onPlayerStateChange\n			        }\n			    });\n		    }\n\n		}\n\n	}\n\n}\n\n\nfunction galleryAddFlowScroll(){\n	// scroll the window DOWN\n	scrollToBlock($('#galleryThumbBottom'))\n	setTimeout(function(){\n		var $preset = $('#gallery-preset-selector').find('.options .active:first');\n		// if have a preset layout -- re layout!\n		if ( $preset.length == 1 ){\n			$preset.click();\n		}\n\n		galleryThumbFlow();\n	},90);\n}\n\n//updating color for header and background\n//used to display the color picker in the modal.\nfunction addColorPickerToModal(){\n	var id = false,\n		no_opacity = false;\n	var group_id = $(\"#cropAnyPhoto\").data(\"group-id\");\n	var $liveGroup = ftGetLayoutGrp(group_id);\n	var grp = ftGetGrp($liveGroup);\n	if(!grp['styles']){ grp['styles']={}; }\n	var bodyLegacyCheck = (isLegacyEvent() && $(\"#cropAnyPhoto\").hasClass('editBG'))?true:false;\n\n	//set last-img attribute for the sake of cancelling the selection.\n	$liveGroup.data('last-img', $liveGroup.css('background-image') )\n\n	$(\"#imgModalColorPicker\").spectrum({\n		flat: true,\n		showInput: true,\n		showAlpha: true,\n		preferredFormat: \"hex\",\n		showPalette: true,\n		className: 'imgModalColorPicker',\n		palette: constants.palette,\n		beforeShow:function(color){\n			if(color.alpha=='0'){\n				no_opacity=true;\n			}\n		},\n		move: function(color) {\n			if(no_opacity && color.alpha=='0'){\n				//if they open the picker and opacity is set to 0, crank up the opacity to full!\n				var c = ''+(color.toRgbString()).replace(', 0)',', 1)');\n				$(this).spectrum(\"set\", c);\n				no_opacity=false;\n			}\n			if(bodyLegacyCheck){\n				$(\"#splash-container\").css('background',color.toRgbString());\n			} else {\n				updateBackgroundSettings( $liveGroup, 'color', color.toRgbString() );\n			}\n			$body.removeClass('changedBgColor');\n		},\n		change: function(color){\n\n			var formatted_color = color.toRgbString();\n			updateColorPalette(formatted_color);\n			if(bodyLegacyCheck){\n				$(\"#splash-container\").css('background',color.toRgbString());\n				$(\"#body-bg-type\").val('color').trigger('change');\n				$(\"#body-bg-color\").val(color.toRgbString()).trigger('change');\n				$(\"#body-image-source\").val('').trigger('change');\n				setChangesMade();\n				closeSimpleModal();\n\n\n			} else {\n				updateBackgroundSettings( $liveGroup, 'color', formatted_color, grp );\n\n			}\n			if(id=='header'){\n				$(\"#header-image-changed\").val(0).trigger('change');\n			}\n			$body.removeClass('changedBgColor');\n\n			updateThemeCards();\n			closeSimpleModal();\n		},\n		hide: function(color){\n			$body.removeClass('changedBgColor');\n		}\n	});\n}\n\n$('#cropAnyPhoto').on('click', '.close-modal', function(event){\n	// IF USER CHANGES COLOR AND THEN CLICKS 'X' ON NUIMAGEMODAL WHEN bg type is image\n 	event.preventDefault()\n	var group_id = $(\"#cropAnyPhoto\").data(\"group-id\");\n	var $liveGroup = ftGetLayoutGrp(group_id);\n	var grp = ftGetGrp($liveGroup);\n	if(grp['bg-type'] && grp['bg-type']=='image' && $liveGroup.data('last-img') && $liveGroup.css('background-image')=='none'){\n		$liveGroup.css('background-image',$liveGroup.data('last-img'));\n	}\n	$(\"#imgColorPickerTab\").removeClass('adminPane');\n	closeSimpleModal()\n	return false\n})\n\n	function setVisibleAccordionHeight(){\n\n		var $accordion = $(\"#finetune-layout-contain\").find(\".section.open .accordion:first\");\n		var $asc = $('#allSectionsContain');\n		var $elementsContain = $('#elementsContain');\n\n		var h = windowHeight - bottomUtilHeight;\n\n		$('#finetune-sections').css('height',h+'px');\n		if($accordion.length>0){//WHEN YOU CLICK INTO A CUSTOM BLOCK/ADMIN ACCORDION\n\n			var $t = $accordion.parents('.section:first');\n			$('#finetune-block').removeClass('isScrolling');\n\n			// move the whole thing up to the right place\n			var targetsTop = $t.offset().top;\n			var elementsTop = $elementsContain.offset().top;\n			targetsTop -= elementsTop;\n			targetsTop += $asc.scrollTop();\n			$asc.css('height','auto');\n			$elementsContain.css('top','-'+targetsTop+'px');\n			$elementsContain.addClass('view-bolt');\n\n			h -= $('#elementsHeader').outerHeight(true);\n			h -= $t.find('> .title:first').outerHeight(true);\n			h -= 30; // margins...\n			//h -= 30; // margins...\n			$accordion.css('height',h+'px');\n\n\n\n		} else { //EVERYTHING ELSE. NO ACCORDIONS OPEN.\n\n			$elementsContain.css('top','0px').removeClass('view-bolt');\n\n			h -= $('#elementsHeader').outerHeight(true);\n			h -= $('#topBodyContain').outerHeight(true);\n\n			$asc.css('height', h+'px')\n\n			innerHeight = $('#finetune-layout-contain').outerHeight() + $('#buttonTabWrap').outerHeight() + $('#basicsTabWrap').outerHeight() + $('#addReorderTools').outerHeight()\n			if ( innerHeight > h ){\n\n				if($body.hasClass('finetuneOpen')){\n					$('#finetune-block').addClass('isScrolling')\n				}\n\n				if( $('#basicsTabWrap').hasClass('open') || $('#buttonTabWrap').hasClass('open') ){\n					$('#finetune-block').removeClass('isScrolling')\n				} else {\n					h -= $('#addReorderTools').outerHeight(true);\n					$asc.css('height', h+'px')\n				}\n			} else {\n				$('#finetune-block').removeClass('isScrolling')\n			}\n\n		}\n\n		checkForScroll()\n\n	}\n\n\n\nvar	savingInterval = 4000;\nvar searchKeyUpTimer;\nvar savingTimer;\nvar changesTimer;\n\n\n	function setChangesMade(type,no_changes){\n		clearTimeout(changesTimer);\n		changesTimer = setTimeout(function(){\n			changes_made = true;\n			if ( typeof type !== 'undefined' ){\n				if ( type == 'gallery' ) {\n					gallery_changes_made = true;\n				}\n			} else {\n				type = null;\n			}\n\n			if($(\"#autosave-checkbox\").val()=='1' || type=='silent'){\n				$(\"body\").addClass('has-changes autosave');\n				clearTimeout(savingTimer);\n				if(type=='silent'){\n					savingTimer = setTimeout(autoSaveData, 0);\n				} else {\n					savingTimer = setTimeout(autoSaveData, savingInterval);\n				}\n			}\n			else{\n				$(\"body\").addClass('has-changes').removeClass('autosave');\n			}\n		},200);\n\n\n	}\n\n\n	var finetuneLayoutHasChanged = false;\n	function finetuneLayoutChangesMade() {\n		finetuneLayoutHasChanged = true;\n		setChangesMade();\n	}\n\n	/*********************************************\n	 * ---------- Inline Editor Stuff ---------- *\n	 *********************************************/\n	var finetuneFieldsHaveChanged = false;\n	function finetuneFieldChangesMade() {\n		finetuneFieldsHaveChanged = true;\n		setChangesMade();\n	}\n	function finetuneActivateOnPageEditables(force)\n	{	//console.time(\"activating\");\n		var force = force || false;\n		if(force){\n			finetuneDeActivateOnPageEditables();\n		}\n		var $mc = $(\"#main-canvas\");\n\n		// Event\n		finetuneActivateEditable($('#element-title').find(\"h1\").find(\"span:first\"),'data[EventSetting][theme_styles][title][text]',{ hiJackRTE: true, /*singleField:true,*/ noPane: true /*, noRTE: true*/ });\n		finetuneActivateEditable($('#element-subtitle').find(\"h2\").find(\"span:first\"),'data[EventSetting][theme_styles][subtitle][text]',{ hiJackRTE: true, /*singleField:true,*/ noPane: true });\n		finetuneActivateEditable($('#event-description-text'),'data[Event][description_text]',{/*singleField:true,*/ /*advRTE: true,*/ noPane: true });\n		finetuneActivateEditable($(\"#element-hash > div:first\"),'data[EventSetting][twitter_hash]',{singleField: true });\n\n		// EventSetting\n		finetuneActivateEditable($('#rsvp-button'),'data[EventSetting][rsvp_link_text]',{ /*singleField:true,*/ /*noRTE:true,*/ simpleRTE: true, noPane: true });\n		finetuneActivateEditable($('#element-host-name'),'data[EventSetting][theme_styles][host][text]',{ singleField:true });\n\n		// host image\n		var $hostImage = $('#element-host').find('#host-img-block');\n		if ($hostImage.length == 1 && ! $hostImage.parents(\"div.layoutGrp:first\").hasClass('locked-full') ) { // {{{\n			var hostImageTools = function() {\n				var $image = $hostImage;\n				var $img = $image.parent();\n				var src = $image.attr('src');\n				var update = function(new_src){\n					if (new_src && (''+new_src).match(/\\/c\\.H\\./) == 1) {\n						var l_src = (''+new_src).replace(/\\/c\\.H\\./,'/c.L.');\n						var r = Math.random();\n						$image.attr('src',l_src+'?'+r);\n\n						var iL=new ImageLoader(new_src+'?'+r);\n						iL.loadEvent=function(u){\n							setTimeout(function(){\n								$image[0].setAttribute('src',u);\n							},500);\n						};\n						iL.load();\n\n					} else {\n						$image.attr('src',new_src+'?'+Math.random());\n					}\n\n					var $linkUrl = $(\"#image-link-url\");\n					var val = $linkUrl.val();\n					if($(\"#addImageLinkToggle\").val()=='1'){\n						if(val!='' && val.indexOf(\"https://\")==-1){\n							val = 'http://'+val.replace('http://','');\n						} else {\n							val = '';\n						}\n						finetuneEditedFields['data[EventSetting][theme_styles][host_link]'] = val;\n						if($image.parent().hasClass('imgLink')){\n							$image.parent().prop(\"href\",val);\n						} else{\n							$image.wrap('<a href=\"'+val+'\" target=\"_blank\" class=\"imgLink\"></a>');\n						}\n					} else{\n						finetuneEditedFields['data[EventSetting][theme_styles][host_link]'] = '';\n						if($image.parent().hasClass('imgLink')){\n							$image.unwrap();\n						}\n					}\n\n					finetuneEditedFields['data[EventSetting][twitter_profile_image]'] = new_src;\n					finetuneFieldChangesMade();\n				};\n				var imageEditTools = function(){\n					$img.find(\".imgEditTools\").remove();\n					$img.append('<div class=\"img-utils imgEditTools crop abs tl w100 h100 center align middle txtC pointer\"><span class=\"inline middle semiBold\">EDIT</span></div>');\n					$img.find(\".crop\").click(clickToCrop);\n					$image.addClass('crp-enabled');\n					$img.find(\".deleteImg\").click(function(){\n						$image.remove();\n						makeUploader();\n						$img.find('.edit-tools').remove();\n					});\n				}\n				var makeUploader = function(){\n					var myindex = 'sfid-'+sfid+'-image';\n					$img.append('<div id=\"'+myindex+'\" class=\"img-uploader\"></div>');\n					newFileUploader(myindex,{\n						onSubmit: function($item,d){},\n						onProgress: function($item,d){},\n						onComplete: function($item,d){\n							if (d && d.response && d.response.filename && d.response.filename != '') {\n								$image = $('<img />');\n								$img.append($image);\n								update(d.response.filename);\n								imageEditTools();\n								$('#'+myindex).remove();\n							}\n						}\n					});\n				}\n				var clickToCrop = function(){\n\n					var aspectRatio = 1;\n					$(\"#cropAnyPhoto\").data(\"group-id\",false);\n\n					cropImage($image,aspectRatio,function(response,src_used,new_src){\n						var new_src = new_src || false;\n						if (response!==false){\n							if (!src || new_src) {\n								src = src_used;\n							}\n\n							var $imgParent = $image.parents('.image:first')\n							$imgParent.addClass('updating').append($(\"<div class='thisLoader small loading'><div class='nu-loader small'></div></div>\"));\n\n							$.ajax({url:'/events/cropExistingImage/'+constants.slug,type:'post',dataType:'json',\n								data:{ c:response, src_used:src_used, src:src },\n								success:function(response){\n									if ( typeof response.status != 'undefined' && response.status == 'success' ){\n										if ( typeof response.new_src != 'undefined' ){\n											src = response.new_src;\n											update(src);\n										}else update(src);\n										setTimeout(function(){\n											$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n										},100);\n									}\n								},\n								error:function(response){\n									$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n								}\n							});\n\n							setTimeout(function(){//fallback in case this thing gets stuck. happens all the time.\n								$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n							},15000);\n						} else {\n							src = src_used;\n							update(src_used);\n						}\n					});\n				}\n				if($image.parent().hasClass('imgLink')){//if this section has a link, show it!\n					//linkified. check the respective boxes.\n					//add checked two levels up.  weird but that's how the css is set up to deal with this section.\n					$(\"#addImageLinkToggle\").val(1).parent().addClass('checked').parent().addClass('checked');\n					$(\"#image-link-url\").val($image.parent().prop(\"href\"));\n				} else{//reset link properties if none set.\n					$(\"#addImageLinkToggle\").val(0).parent().removeClass('checked').parent().removeClass('checked');\n					$(\"#image-link-url\").val('');\n				}\n\n				if ($image.length == 1 && !$image.hasClass('crp-enabled')){\n					imageEditTools();\n				}\n			}\n			hostImageTools();\n		} // }}}\n\n\n		finetuneActivateEditable($('#rsvp-legal-expl'),'data[EventSetting][rsvp_legal]',{ rawText: true });\n\n		// $mc.find(\"div.carousel\").activateCarousel().end()\n		// 	.find(\"div.layoutGrp\").addEditTools().end()\n		// 	.find(\"div.edit-tools\").remove();\n\n		$mc.find(\".carousel\").each(function(){\n			$(this).activateCarousel();\n		});\n\n		//hit the parent group.\n		$mc.find(\".edit-tools\").remove()\n\n		$mc.find(\"div.layoutGrp\").each(function(){\n			$(this).addEditTools();\n		});\n\n		// SplashFeed elements AND THEIR CHILDRENERNLNONEORNONERO\n		$mc.find('div.element .sf').each(function(){\n			var $splashFeed = $(this);\n\n			var sfid = (''+$splashFeed.attr('id')).replace('sfid-','');\n\n			var $pLock = $splashFeed.parents(\"div.layoutGrp[lock]:first\");\n			if( typeof $pLock!=='undefined' && $pLock.length > 0){\n				var lock = 'partial';\n				if($pLock.attr(\"lock\")=='full'){\n					lock = 'full';\n				}\n			}\n			if(lock=='full'){\n				$splashFeed.addClass('locked-full');\n			}\n\n			if ($splashFeed.parent().hasClass('children')) {//has children\n\n				var $t = $splashFeed.find('.title:first');\n				var $b = $splashFeed.find('.body:first');\n\n				if( $.inArray($splashFeed.attr('block-type'),['list-item','speaker-item','schedule-item','schedule-list-item','image-item','sponsor-item']) > -1 ) {\n					if ($t.length == 1) {\n						finetuneActivateEditable($t,'data[SplashFeed]['+sfid+'][title]',{advRTE: true, noPane: true, hideAligner: true});\n					}\n					if ($b.length == 1) {\n						finetuneActivateEditable($b,'data[SplashFeed]['+sfid+'][body]',{advRTE: true, noPane: true, hideAligner: true});\n					}\n\n					$splashFeed.addClass('hideAligner')\n\n				} else {\n					// IF NORMAL\n					if ($t.length == 1) {\n						finetuneActivateEditable($t,'data[SplashFeed]['+sfid+'][title]',{advRTE: true, noPane: true});\n					}\n					if ($b.length == 1) {\n						finetuneActivateEditable($b,'data[SplashFeed]['+sfid+'][body]',{advRTE: true, noPane: true});\n					}\n				}\n\n			} else {//parent\n				var $t = $splashFeed.find('> .title:first');\n				var $b = $splashFeed.find('> .body:first');\n				if ($t.length == 1 && !$splashFeed.hasClass('attendees')) {\n					finetuneActivateEditable($t,'data[SplashFeed]['+sfid+'][title]',{singleField:true});\n				}\n				if ($b.length == 1 && !$splashFeed.hasClass('countdown') && !$splashFeed.hasClass('attendees')) { // body in countdown element isn't editable\n					finetuneActivateEditable($b,'data[SplashFeed]['+sfid+'][body]');////noRTE:true });\n				}\n				if ( $splashFeed.hasClass('countdown') ) {\n					finetuneActivateEditable($b.find('.before_text'),'data[SplashFeed]['+sfid+'][options][before_text]');\n					finetuneActivateEditable($b.find('.days_text'),'data[SplashFeed]['+sfid+'][options][days_text]');\n					finetuneActivateEditable($b.find('.hours_text'),'data[SplashFeed]['+sfid+'][options][hours_text]');\n					finetuneActivateEditable($b.find('.minutes_text'),'data[SplashFeed]['+sfid+'][options][minutes_text]');\n					finetuneActivateEditable($b.find('.seconds_text'),'data[SplashFeed]['+sfid+'][options][seconds_text]');\n				} else if ( $splashFeed.hasClass('attendees') ) {\n					finetuneActivateEditable($t.find('.attendee-count-text'),'data[SplashFeed]['+sfid+'][options][attendee_count_text]');\n				}\n			}\n\n			// image cropper\n			if ( $splashFeed.hasClass('wImg') && !$splashFeed.hasClass('locked-full') ) { //skip the image gallery items. {{{\n				var $img = $splashFeed.find('> .image:first');\n				if ($img.length == 1) {\n					var $image = $img.find('img:first');\n					var src = $image.attr('src');\n					var update = function(new_src,dims){\n						var dims = dims || false;\n						if (new_src && (''+new_src).match(/\\/c\\.H\\./) == 1) {\n							var l_src = (''+new_src).replace(/\\/c\\.H\\./,'/c.L.');\n							var r = Math.random();\n							//$image.attr('src',l_src+'?'+r);\n\n							var iL=new ImageLoader(new_src+'?'+r);\n							iL.loadEvent=function(u){\n								setTimeout(function(){\n									if($splashFeed.attr(\"block-type\")=='image' || $splashFeed.hasClass('img-gal-item') ){\n										$image.prop(\"src\",u);\n									} else{\n										$img.css('background-image',\"url('\"+u+\"')\");\n									}\n									//$image[0].setAttribute('src',u);\n\n								},500);\n							};\n							iL.load();\n\n						} else {\n							if($splashFeed.attr(\"block-type\")=='image' || $splashFeed.hasClass('img-gal-item') ){\n								$image.prop(\"src\",new_src+'?'+Math.random());\n\n							} else{\n								//$image.attr('src',new_src+'?'+Math.random());\n								$img.css('background-image',\"url('\"+new_src+'?'+Math.random()+\"')\");\n							}\n						}\n						if($splashFeed.hasClass('img-gal-item')){\n							var photo_id = (''+$splashFeed.prop(\"id\")).replace('epid-','');\n							updateEventPhoto(photo_id, { image: new_src } );\n						}\n\n						var $parent = $img.parents(\".list-item:first\");\n						$parent.removeClass('is-placeholder');\n						clearPlaceholderStyles($img)\n						if($parent.hasClass('no-shape')){//either a legacy image shape or no shape at all.\n							//$image.attr(\"src\",new_src+'?'+Math.random());\n							$image.attr(\"src\",'/images/st-p-nu-square.png');\n						}\n\n						if(new_src.match(/\\?stp/)||new_src.match(/st-p-/)){//if the file ends with \"?stp\" - it's a placeholder.\n\n							if($img.find(\".removePlaceholder\").length < 1){\n								$img.find(\".imgEditTools\").html('<div class=\"removePlaceholder inline\">REMOVE</div><div class=\"addImage inline\">ADD</div>');\n								$img.find(\".removePlaceholder\").click(function(){\n									$img.parents(\".list-item:first\").find(\".delete:first\").click();\n									return false;\n								});\n							}\n						} else{\n							if($img.find(\".editExistingImg\").length < 1){\n								$img.find(\".imgEditTools\").html('<span class=\"editExistingImg inline middle nu-btn clean\">EDIT</span>');\n							}\n						}\n\n						if(sfid.match('/epid/')){ //event photo id. no need to do more here.\n							return false;\n						}\n\n						finetuneEditedFields['data[SplashFeed]['+sfid+'][image_url]'] = new_src;\n						var $linkUrl = $(\"#image-link-url\");\n\n						var val = $linkUrl.val();\n						if($(\"#addImageLinkToggle\").val()=='1'){\n							if( val!='' && val.indexOf(\"https://\")!=0 && val.indexOf(\"http://\")!=0 && val.indexOf(\"/\")!=0 && val.indexOf(\"#\")!=0 ){\n								val = 'http://'+val;\n							}\n							finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = val;\n							if($image.parent().hasClass('imgLink')){\n								$image.parent().prop(\"href\",val);\n							} else{\n								$image.wrap('<a href=\"'+val+'\" target=\"_blank\" class=\"imgLink\"></a>');\n							}\n						} else{\n							finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = '';\n							if($image.parent().hasClass('imgLink')){\n								$image.unwrap();\n							}\n						}\n\n						var options = $splashFeed.data('splashFeedOptions');\n						if (!options) {\n							options = {};\n							$splashFeed.data('splashFeedOptions',options);\n						}\n						var ratio = false;\n						if (dims !== false) {\n							var parts = (''+dims).split('x');\n							if (parts.length == 2) {\n								var width = parseInt(parts[0]);\n								var height = parseInt(parts[1]);\n								if (height > width) {\n									ratio = 'portrait';\n								}\n							}\n						}\n						if (ratio !== false) {\n							options.saved_img_ratio = ratio;\n						} else if (typeof options.saved_img_ratio != 'undefined') {\n							delete options.saved_img_ratio;\n						}\n						if (ratio == 'portrait') {\n							$img.addClass('img-portrait');\n						} else {\n							$img.removeClass('img-portrait');\n						}\n\n						finetuneEditedFields['data[SplashFeed]['+sfid+'][options]'] = $.extend({},options);\n\n						finetuneFieldChangesMade();\n					};\n					var imageEditTools = function(){\n\n						var $imgInner = $img.find(\"img:first\");\n						//var src = $imgInner.prop(\"src\");\n						var src = stripUrl($img.css('background-image'));\n\n						// var $t = $(this),\n						// 	$img = $(this).find(\"img:first\"),\n						// 	src = $img.prop(\"src\");\n						if(src.match(/\\?stp/)||src.match(/st-p-/)){//if the file ends with \"?stp\" - it's a placeholder.\n							// $img.append('<div class=\"img-utils imgEditTools crop abs tl w100 h100 center align middle txtC pointer\"><div class=\"removePlaceholder inline middle txtC\"><span class=\"nu-btn clean noEdge red-bg\"><span class=\"big\">Remove</span><span class=\"small\">&#10006;</span></div><div class=\"addImage inline middle txtC\"><span class=\"nu-btn clean\"><span class=\"big\">Add Image</span><span class=\"small\">&#10010;</span></span></div></div>');\n\n							$img.append('<div class=\"img-utils imgEditTools crop abs tl w100 h100 center align middle txtC pointer\"><span class=\"editExistingImg inline middle semiBold nu-btn clean\">EDIT</span></div>');\n							$img.parents(\".list-item:first\").addClass('is-placeholder');\n\n							checkPlaceholderWidth($img)\n\n						} else{\n							$img.append('<div class=\"img-utils imgEditTools crop abs tl w100 h100 center align middle txtC pointer\"><span class=\"editExistingImg inline middle semiBold nu-btn clean\">EDIT</span></div>');\n							$img.parents(\".list-item:first\").removeClass('is-placeholder');\n							clearPlaceholderStyles($img)\n						}\n						//$img.append('<div class=\"img-utils imgEditTools crop abs tl w100 h100 center align middle txtC pointer\"><span class=\"inline middle semiBoldItalic\">EDIT</span></div>');\n						$img.find(\".crop\").click(clickToCrop);\n						$image.addClass('crp-enabled');\n\n						$img.find(\".deleteImg\").click(function(){\n							$image.remove();\n							makeUploader();\n							$img.find('.edit-tools').remove();\n						});\n						$img.find(\".removePlaceholder\").click(function(){\n							$img.parents(\".list-item:first\").find(\".delete:first\").click();\n							return false;\n						});\n					}\n					var clickToCrop = function(){\n\n						var aspectRatio = null;\n						if ($splashFeed.hasClass('square') || $splashFeed.hasClass('nu-square')) { aspectRatio = 1; }\n						if ($splashFeed.hasClass('circle') || $splashFeed.hasClass('nu-circle')) { aspectRatio = 1; }\n						if ($splashFeed.hasClass('landscape') || $splashFeed.hasClass('nu-landscape')) { aspectRatio = 3/2; }\n						if ($splashFeed.hasClass('portrait') || $splashFeed.hasClass('nu-portrait')) { aspectRatio = 3/4; }\n						if($image.parent().hasClass('imgLink')){//if this section has a link, show it!\n							//linkified. check the respective boxes.\n							//add checked two levels up.  weird but that's how the css is set up to deal with this section.\n							$(\"#addImageLinkToggle\").val(1).parent().addClass('checked').parent().addClass('checked');\n							$(\"#image-link-url\").val($image.parent().prop(\"href\"));\n						} else{//reset link properties if none set.\n							$(\"#addImageLinkToggle\").val(0).parent().removeClass('checked').parent().removeClass('checked');\n							$(\"#image-link-url\").val('');\n						}\n						if( /*!$image.parents(\".list-item:first\").hasClass('no-shape') &&*/ $.inArray($splashFeed.attr(\"block-type\"),['image','event-hub-item'])<0 ) {//dont do this for hero.\n							$image.addClass('use-parent-bg');//only add if the parent is NOT a legacy shape.\n						}\n\n						$(\"#cropAnyPhoto\").data(\"group-id\",false);\n						cropImage($image,aspectRatio,function(response,src_used,new_src,orig_dims){\n							var new_src = new_src || false;\n							var orig_dims = orig_dims || false;\n							if (response!==false){\n								if (!src || new_src) {\n									src = src_used;\n								}\n								$image.addClass('updating');\n\n								$imgParent = $image.parents('.image:first')\n								$imgParent.addClass('updating').append($(\"<div class='thisLoader small loading'><div class='nu-loader med'></div></div>\"));\n\n								//$(\"<div id='imgLoader' class='thisLoader small loading'><div class='nu-loader med'></div></div>\").insertAfter( $image )\n\n								$.ajax({url:'/events/cropExistingImage/'+constants.slug,type:'post',dataType:'json',\n									data:{ c:response, src_used:src_used, src:src },\n									success:function(response){\n										if ( typeof response.status != 'undefined' && response.status == 'success' ){\n											var dims = (response.dims) ? response.dims : false;\n											if ( typeof response.new_src != 'undefined' ){\n												src = response.new_src;\n												update(src,dims);\n											}else update(src,dims);\n										}\n										setTimeout(function(){\n											$image.removeClass('updating');\n											$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n//											$('#imgLoader').remove()\n										},100);\n									},\n									error:function(){\n										setTimeout(function(){//fallback in case this thing gets stuck. happens all the time.\n											$image.removeClass('updating');\n											$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n										},100);\n									}\n								});\n								setTimeout(function(){//graceful fallback in case this thing gets stuck. happens all the time.\n									$image.removeClass('updating');\n									$imgParent.removeClass('updating').find(\"div.thisLoader\").remove();\n								},15000);\n							} else {\n								src = src_used;\n								update(src_used,orig_dims);\n							}\n						}); /**/\n					}\n\n					if ($image.length == 1 && !$image.hasClass('crp-enabled')){\n						imageEditTools();\n					}\n				}\n			} // }}}\n\n			if($splashFeed.hasClass('list-item') ){ //if it's a list child item, put it INSIDE  the block. // {{{\n				//timepicker binding.\n				if(!$splashFeed.hasClass('tp-enabled')){\n					var $tp = $splashFeed.find(\".timePicker\");\n					if($tp.length > 0){\n						$splashFeed.addClass('tp-enabled');\n						var $th = $tp.find(\"input.timeHolder\");\n						$th.prop(\"readonly\",false);\n\n						$th.change(function(){\n							var c= 'start';\n							finetuneEditedFields['data[SplashFeed]['+sfid+'][title]'] = $th.val();//either start or end time being submitted based on what's changed. booyah.\n							finetuneFieldChangesMade();\n						}).keyup(function(e){\n							if(e.keyCode==13){\n								$th.parents(\".list-item:first\").find(\".body:first\").focus();\n							}\n						});\n					}\n				}\n			}\n		});\n\n\n\n		// list item sorting\n		$mc.find(\".children\").each(function(){ // {{{\n			var $t = $(this);\n			//if(!$t.hasClass('ui-sortable') && $t.find(\".list-item\").length > 0){\n			if($t.find(\".list-item\").length > 0 && !$t.parents(\".sf:first\").hasClass('locked-full') ){\n				if($t.hasClass('ui-sortable')){\n					$t.sortable('destroy');\n				}\n				$t.sortable({\n					handle: '.drag-handle',\n					cancel: '.noDrag',\n					revert: true,\n					tolerance:\"pointer\",\n					start: function(event, ui) {\n						$t.append(ui.item); // move the dragging element to the end\n					},\n					stop: function(event, ui){\n						//get the new order of our sorted kids.\n						$t.find(\".list-item\").each(function(i){\n							var item_id = (''+$(this).prop(\"id\")).replace('sfid-','');\n							finetuneEditedFields['data[SplashFeed]['+item_id+'][sort_order]'] = i;\n						});\n\n						finetuneFieldChangesMade();\n					}\n				});\n			}\n		}); // }}}\n\n		addHeaderHovers();\n		addElementButtons();\n\n		$mc.find(\".container-ele\").each(function(){\n			$(this).find(\".drop-area\").sortable({\n				connectWith: \".drop-area\",\n				items: '.layoutGrp',\n				handle: '.drag-handle',\n				cancel: '.noDrag',\n				scroll: true,\n				helper: function(event, element) {\n			        return element.clone().appendTo(\"body\");\n			    },\n				start: function(event,ui){\n					undoColumnSort.pop();\n					undoColumnSortPrev.pop();\n					undoColumnSortParent.pop();\n					$body.addClass(\"isDragging\");\n					var movedGroupId = ui.item[0].id,//get the id of the moved item.\n						$movedGroup = $(\"#\"+movedGroupId),//get the object\n						$prevGroup = $movedGroup.prev('.layoutGrp'),//find the previous sibling (if any)\n						$movedFt = $(\"#ft\"+movedGroupId),//finetune block for the moved item.\n						$parent = $movedGroup.parents(\".layoutGrp:first\");// parent element\n					undoColumnSort.push($movedGroup);\n					undoColumnSortPrev.push($prevGroup);\n					undoColumnSortParent.push($parent);\n				},\n				update: function(event,ui){\n					$body.removeClass(\"isDragging\")\n					var movedGroupId = ui.item[0].id,//get the id of the moved item.\n						$movedGroup = $(\"#\"+movedGroupId),//get the object\n						$prevGroup = $movedGroup.prev('.layoutGrp'),//find the previous sibling (if any)\n						$movedFt = $(\"#ft\"+movedGroupId);//finetune block for the moved item.\n					if($prevGroup.length > 0){//if we do find a previous sibling, move the dragged object after it in the sidebar!\n						var prevGroupId = $prevGroup.prop(\"id\");\n						$(\"#ft\"+prevGroupId).after($movedFt);\n					} else { //if no previous sibling, find it's parent container and move it to the start of that block in the sidebar.\n						var $parent = $movedGroup.parents(\".layoutGrp:first\");\n						var parentId = $parent.prop(\"id\");\n						$(\"#ft\"+parentId).children('.accordion').after($movedFt);\n					}\n					addElementButtons();//re-add buttons.\n					updateNestAttr();//update th nest attribute order.\n					finetuneLayoutChangesMade(); //called to save new order\n					trackIndicativeEvent('onPageElementMoved');\n					//undo on page dragging\n					var undoMessage = 'Would you like to undo your last move?';\n					SplashUI.ask(function( response ) {\n						// UNDO FUNCTION GOES HERE\n						if(response){\n							onpageUndo()\n						}\n					}, undoMessage, 'undo', 5000);\n				}\n			});\n		});\n\n\n		// //console.timeEnd('activating');\n	} // }}}\n\n	function onpageUndo() {\n		if(undoColumnSortPrev[0].length > 0) {\n			$(\"#\"+undoColumnSortParent[0].prop('id')).children(\"#\"+undoColumnSortPrev[0].prop('id')).after(undoColumnSort[0]);\n		}\n		else {\n			$(\"#\"+undoColumnSortParent[0].prop('id')).prepend(undoColumnSort[0]);\n		}\n		undoColumnSort.pop();\n		undoColumnSortPrev.pop();\n		undoColumnSortParent.pop();\n		trackIndicativeEvent('onPageUndo');\n	}\n\n	function finetuneDeActivateOnPageEditables(_callback)\n	{ // {{{\n		if(typeof tinymce!=='undefined' && tinymce.editors.length > 0){\n			tinymce.remove('.editable');\n		}\n		$('.element .editable').each(function(){\n			finetuneDeActivateEditable($(this));\n		});\n		$('#main-canvas')\n			.find('div.layoutGrp').removeClass('locked-full locked-partial').end()\n			.find('.hasTiny').removeClass('hasTiny').end()\n			.find('.crp-enabled').removeClass('crp-enabled').end()\n			.find('.tp-enabled').removeClass('tp-enabled').end()\n			.find('.edit-tools,.element .img-utils,.element .img-uploader').remove();\n\n		$(\"#changeHeaderInline,#changeBgInline\").remove();\n\n\n		if(_callback!=null && typeof _callback=='function'){\n			_callback()\n		}\n	} // }}}\n\n\n	var finetuneEditableOpts = {\n		singleField: false,\n\n		// got some new plugins/options! see: http://www.tinymce.com/tryit/full.php\n		tinymceOpts:{\n\n			height: 36,\n			//selector: \".editable\",\n			inline: true,\n			menubar: false,\n			plugins: [\n				'image',//,'contextmenu',\n				'textcolor',\n				'tabfocus','autolink',\n				// 'splashImage',\n				'listBtn',\n				'link','code','paste'\n			],\n			paste_as_text: true,\n			relative_urls: false,\n			convert_urls: false,\n			paste_text_sticky: true,\n			paste_text_sticky_default: true,\n			//theme: \"modern\",\n			//width: '100%',\n			// toolbar: \"undo redo | bold italic | fontSizer imgPicker | fontFamily | colorPicker | lineHeight | aligner link | shadow spacing | removeformat code closeButton\",\n			toolbar: getToolbarOpts(),\n			element_format: 'html',\n			file_browser_callback: function(field_name, url, type, win) { // {{{\n				var $input = $(win.document.getElementById(field_name));\n\n				$input.after($f);\n				var $f = $('<input type=\"file\" />');\n				$input.after($f);\n\n				$f[0].onchange = function(){\n\n					var file = this.files[0];\n					if (!file || !file.type.match(/image.*/)) {\n						alert(\"Only image files can be uploaded\");\n						return;\n					}\n					//this.setStyle({ display: 'none' });\n					$f.hide();\n					//this.setProgress(0);\n\n					var fd = new FormData(); // https://hacks.mozilla.org/2011/01/how-to-develop-a-html5-image-uploader/\n					fd.append(\"newAsset[]\", file);\n					fd.append(\"returnImage\", \"1\");\n					var xhr = new XMLHttpRequest();\n					xhr.open(\"POST\", '/events/customStyleEditor/'+constants.event_id);\n\n					xhr.onload = function() {\n						try {\n							var res = JSON.parse(xhr.responseText);\n						} catch(e) {\n							//return this.onError();\n							alert('errr');\n						}\n						//this.onUploaded(res);\n\n					};\n					//xhr.onerror = this.onError.closure(this);\n					xhr.onerror = function(){ alert('er'); };//this.onError.closure(this);\n					xhr.upload.onprogress = function(e) {\n						//this.setProgress(e.loaded / e.total);\n					}///.closure(this);\n					xhr.send(fd);\n				}\n\n				setTimeout(function(){ $f.click(); },0);\n\n			}, // }}}\n			// init_instance_callback: function (inst) {\n			// 	//inst.execCommand('mceAutoResize');\n			// 	//var $toolbar = $('#'+inst.currentTarget.id);//.offset()\n			// 	//alert($toolbar);\n			// 	//$toolbar.css('width','547px');\n			// },\n\n			setup : function(editor) {\n				addCustomRTEButtons(editor);\n			}\n\n		} // end tinymceOpts }}}\n	}\n\n	$('#dev-tools-btn, #dev-tools-btn-layout').on('click', function(){\n		$(\"#simple-modal-wrap\").css('background', 'rgba(0,0,0, 0.85)');\n		trackIndicativeEvent('ClickedOnWrenchIcon');\n	})\n\n	$('#simple-modal-wrap').on('click', function(e){\n		// hack for removing custom asset editor class when closing modal\n		if( $(e.target).hasClass('simple-modal-flow-control') ){\n			$('body').removeClass('custom-editor')\n		}\n	})\n\n\n	function fixMceMenu(type){\n		$('#rteTextShadowPicker,#rteTextSpacingPicker').hide();\n		$body = $('body')\n		$body.removeClass('sizeMenu colorMenu lineHeightMenu fontFamilyMenu alignerMenu')\n		if( typeof type != undefined && type != false ){\n			$body.addClass(type);\n		}\n	}\n\n	var finetuneEditedFields = {};\n	var finetuneOrigFields = {};\n	var finetuneNewBlockIds = [];\n	var firstTiny = false;\n	function finetuneActivateEditable($field,fieldName,opt)\n	{ // {{{\n		var opt = opt || {};\n		opt = $.extend(true,{},finetuneEditableOpts,opt);\n		if ($field.length == 1) {\n			if (!$field.hasClass('editable')) {\n\n				if(typeof $field.attr(\"lock\")!=='undefined'){\n					var lock = 'partial';\n					if($field.attr(\"lock\")=='full'){\n						lock = 'full';\n					}\n				} else {\n					var $pLock = $field.parents(\"div.layoutGrp[lock]:first\");\n					if( typeof $pLock!=='undefined' && $pLock.length > 0){\n						var lock = 'partial';\n						if($pLock.attr(\"lock\")=='full'){\n							lock = 'full';\n						}\n					}\n				}\n				var $par =  $field.parents('.layoutGrp:first')\n				if(typeof lock!=='undefined'){\n					$par.removeClass('locked-full locked-partial').addClass(\"locked-\"+lock);//(\".edit-tools,.core-edit-tools\").remove();//partial & full locks both remove delete option.\n					if(lock=='full'){//no editing, sorry pal.\n						return false;\n					}\n				}\n\n				$field.addClass('editable');\n				finetuneOrigFields[fieldName] = $field.html().trim();\n				if (opt.singleField != false) {\n					$field.addClass('singleField');\n				}\n\n				// console.log('this field ', $field)\n				//var thisType = $par.find('.sf:first').attr('block-type')\n				//$par.addClass( thisType ) //THIS BASTARD ADDS THE BLOCK TYPE TO THE PARENT LAYOUT GROUP AS A CLASS AFTER THE PAGE LOADS AND ONLY IN FINETUNE MODE.  THIS IS UNRELIABLE.\n\n				var myEditorRendered = false;\n				if (opt.noRTE) {\n					myEditorRendered = true;\n					$field.attr({'contenteditable':'true','spellcheck':'false'});\n				}\n\n				var myFtTimeout;\n				$field.on('focus.finetune', function() {\n					if (myEditorRendered === true) {\n						clearTimeout(myFtTimeout);\n						var $this = $(this);\n						currentFocusedInput = $field.prop(\"id\");\n						//var selection = tinyMCE.activeEditor.selection;\n\n						setTimeout(function(){ //needs the set timeout for first-time focus.  Without it, the initialization is not complete.\n							updateEditorOpts();\n						},10);\n\n\n						$('#main-canvas').find('.editing').removeClass('editing');\n						var $mygrp = $this.parents('.grp:first').addClass('editing');\n\n						$body.addClass('editWithMCE')\n						if( $mygrp.hasClass('hideAligner') /*|| $mygrp.parents('.list-item:first').hasClass('schedule-item') */ ){\n							$body.addClass('hideAlignerRTE')\n						} else {\n							$body.removeClass('hideAlignerRTE')\n						}\n\n						$this.data({ 'enter': $this.html(), 'before': $this.html() });\n						return $this;\n					}\n\n				}).on('paste.finetune', function(e) {\n					// some stuff\n					var $this = $(this);\n					// mark existing tags with something...\n					$this.find('*').each(function(){\n						$(this).attr('c','e');\n					});\n					setTimeout(function(){\n						$this.find('[c!=\"e\"]').each(function(){\n							$(this).replaceWith($(this).html());\n						});\n						$this.find('*').removeAttr('c');\n					},0);\n				}).on('keyup.finetune', function() {\n					//currentFocusedInput = $field.prop(\"id\");\n					var $this = $(this);\n					updateEditorOpts();\n\n					var text = $this.html();\n					if ($this.data('before') !== text) {\n						$this.data('before', text);\n						$this.trigger('change');\n					}\n				}).on('blur.finetune', function() {\n\n					var $this = $(this);\n					var text = $this.html();\n					if ($this.data('enter') !== text) {\n						$this.data('enter', text);\n						$this.trigger('change');\n					}\n\n					var $mygrp = $this.parents('.grp:first');\n					var gid = (''+$mygrp.attr('id')).replace('g-','');\n\n					myFtTimeout = setTimeout(function(){\n						$mygrp.removeClass('editing');\n					},150);\n\n					$(\".mce-shadow-button.mce-active\").removeClass('mce-active');\n					$body.removeClass('editWithMCE');\n\n					$(\"#rteTextShadowPicker, #rteTextSpacingPicker\").hide();\n					$(\"div.mce-tinymce\").removeClass('has-hovered');\n\n\n				}).on('focusout.finetune',function(){\n					$(\"div.mce-tinymce\").removeClass('has-hovered')\n					$(\"#rteTextSpacingPicker,#rteTextShadowPicker\").hide();\n					$(this).parents(\".layoutGrp:first\").removeClass('hovering the-focus');\n\n					//if( $('body').hasClass('editWithMCE') ){\n					//	$('body').find('.mce-tinymce-inline').find('.mce-container-body').removeClass('showAll')\n					//	}\n\n					//$(\"div.mce-abs-layout\").removeClass('showAll');\n					//$(\".mce-show-all\").removeClass('active');//close active classes on focusout.\n				})\n				.on('keydown.finetune', function(event) {\n				 	if (event.keyCode==13) {\n				 		$(this).parents(\".layoutGrp:first\").addClass('hovering the-focus').parents('.layoutGrp').removeClass('hovering the-focus');\n						var x = window.scrollTop;\n						setTimeout(function(){\n							$(window).scrollTop((''+x));\n						},1);\n					 	//none of these do any good.\n					 	//event.preventDefault();\n						//event.stopPropagation();\n					 	//return false;//enter\n				 	}\n			 	})\n			 	.on('change.finetune', function() {\n					var $this = $(this);\n\n					$this.removeClass('newbie');\n					/*var options = $this.data('splashFeedOptions');\n					if (!options) {\n						options = {};\n						if(typeof options['newbie']!=='undefined'){\n							delete(options['newbie']);\n						}\n						$this.data('splashFeedOptions',options);\n					}*/\n\n					var html = $this.html();\n					if (html != '<p><br data-mce-bogus=\"1\"></p>' || html !='<div><br data-mce-bogus=\"1\"></div>') {\n						// if($this.prop(\"id\")=='rsvp-button'){\n						// 	$(\"#rsvp-button\").quickfit({ max:45, min: 30 });\n						// }\n						finetuneEditedFields[fieldName] = $this.html().trim();\n						finetuneFieldChangesMade();\n						if (leaveInheritedStateIntact == false) { // my brain hurts\n							$this.parents('.element:first').removeAttr('inherited-theme');\n						}\n					}\n					return $this;\n\n				/**/\n				}).on('click.finetune', function(){\n						//setTimeout(function(){ $field.focus(); },500);\n					if (!$field.hasClass('hasTiny') && (typeof opt.noRTE==='undefined'||!opt.noRTE)) {\n						myTiny();\n\n					} else{\n						if(!$field.hasClass('editing')){\n							$field.focus();\n						}\n					}\n\n				}).on('click.finetune','img',function(e){\n					var $image = $(this);\n					// if($image.attr(\"data-mce-src\")!=='undefined'){\n					// 	return;//this should not apply to tinymce-added images. for now.\n					// }\n					var src = $image.attr('src');\n					var update = function(new_src){\n						$image.attr('src',src+'?'+Math.random());\n					};\n					cropImage($image,null,function(response,src_used){\n						if (response!==false){\n							$.ajax({url:'/events/cropExistingImage/'+constants.slug,type:'post',dataType:'json',\n								data:{ c:response, src_used:src_used, src:src },\n								success:function(response){\n									if ( typeof response.status != 'undefined' && response.status == 'success' ){\n										if ( typeof response.new_src != 'undefined' ){\n											src = response.new_src;\n											update(src);\n										}else update();\n									}\n								}\n							});\n						}\n					}); /**/\n				});\n\n				var myTiny = function() {\n					var myEditor;\n					// //console.time(\"clicked!\");\n\n					// on the fly tinymce\n					if (!$field.hasClass('hasTiny') && (typeof opt.noRTE==='undefined'||!opt.noRTE)) {\n\n						$field.addClass('hasTiny');\n						if (!$field.attr('id')) {\n							$field.attr('id',fieldName.replace(/[^a-z0-9]/gi,''));\n						}\n\n						opt.tinymceOpts.selector = 'div#'+$field.attr('id');\n\n						if(opt.hideAligner){\n							opt.tinymceOpts.toolbar = getToolbarOpts(opt);\n							opt.tinymceOpts.setup = function(editor) {\n								addCustomRTEButtons(editor,opt);\n							}\n						} else if(opt.simpleRTE){\n							opt.tinymceOpts.toolbar = getToolbarOpts(opt);\n							opt.tinymceOpts.setup = function(editor) {\n								addCustomRTEButtons(editor,opt);\n							}\n						}\n						else if(opt.hiJackRTE){//hiJack the buttons!\n							var field_id = ($field.parents(\"#element-title\").length > 0)?'title':'subtitle';\n							opt.tinymceOpts.toolbar = getToolbarOpts();\n							opt.tinymceOpts.setup = function(editor) {\n								addCustomRTEButtons(editor,{field_id:field_id});\n							}\n						}\n\n						myEditor = tinymce.createEditor($field.attr('id'),opt.tinymceOpts);\n\n						myEditor.on('change',function(e){\n							//ridiculous that we have to make this check, but a special check to make sure that the links all have 'http' in front of them.\n							$field.find(\"a[data-mce-href]\").each(function(){\n								var raw_href = $(this).attr(\"data-mce-href\").trim();\n\n								if(raw_href.substring(0,1)!='#' && raw_href.indexOf(\"http\")==-1 && !raw_href.match(/mailto/g) ){\n									$(this).prop(\"href\",\"http://\"+raw_href).attr(\"data-mce-href\",'http://'+raw_href);\n								}\n							});\n							//equally as ridiculous as the check above. this time, for images.\n							$field.find(\"img[data-mce-src]\").each(function(){\n								var raw_src = $(this).attr(\"data-mce-src\");\n								if(raw_src.substring(0,1)!='#' && raw_src.indexOf(\"http\")==-1){\n									$(this).prop(\"src\",\"http://\"+raw_src).attr(\"data-mce-src\",'http://'+raw_src);\n								}\n							});\n							$field.trigger('change');\n						});\n						myEditor.render();\n\n						myEditorRendered = true;\n						$field.click();\n					}\n				}\n				if (firstTiny === false && !$field.hasClass('hasTiny') && (typeof opt.noRTE==='undefined'||!opt.noRTE)) {\n					$field.parents('.grp:first').addClass('firstTiny');\n					setTimeout(function(){\n						$field.click();\n						setTimeout(function(){\n							$field.blur();\n							setTimeout(function(){\n								$field.parents('.grp:first').removeClass('firstTiny');\n							},100);\n						},0);\n					},1500);\n					firstTiny = true;\n				}\n			}\n\n		}\n\n	} // }}}\n	function finetuneDeActivateEditable($field)\n	{ // {{{\n		$field.removeClass('editable singleField')\n			.removeAttr(\"contenteditable\")\n			.off('focus.finetune focusout.finetune input.finetune paste.finetune keyup.finetune blur.finetune keydown.finetune change.finetune paste.finetune mouseover.finetune click.finetune');\n\n	} // }}}\n	/*************************************************\n	 * ---------- End Inline Editor Stuff ---------- *\n	 *************************************************/\n\n	function autoSaveData(){\n\n		// //console.time(\"grabbing inputs.\");\n		var $button = $(\"#save-details-design\");\n		var $body = $(\"body\");\n		if ($body.hasClass('has-theme-changes')) {\n			var $changed_inputs = finetuneGetThemeStyleInputs(true);\n			finetuneLayoutChangesMade();\n			// put all custom block fields in finetuneEditedFields\n			finetuneMarkAllCustomBlockFields();\n			// $(\"#event-theme-input\").removeAttr(\"last-theme-id\");\n		} else {\n			var $changed_inputs = $(\"input.changes-made,textarea.changes-made,select.changes-made\");\n		}\n		if($(\"#autosave-checkbox\").val()=='1'){\n			var autosave=true;\n		} else{\n			var autosave=false;\n		}\n\n		if(isLegacyEvent() && $(\"#is-legacy-has-updated\").val() == ''){\n			$(\"#is-legacy-has-updated\").val(1).trigger('change');\n		}\n\n		$body.addClass('in-progress');\n		$button.addClass('in-progress');\n\n		// //console.timeEnd(\"grabbing inputs.\");\n\n		if($changed_inputs.length || finetuneLayoutHasChanged || finetuneFieldsHaveChanged){\n			//var params = [];\n			var postData = getChangedInputsArray($changed_inputs);\n			if (finetuneLayoutHasChanged !== false) {\n				postData['data[EventSetting][layout]'] = finetuneGetEventLayout();\n				finetuneLayoutHasChanged = false;\n			}\n			if (finetuneFieldsHaveChanged !== false) {\n				postData = $.extend({},postData,finetuneEditedFields);\n				if (finetuneNewBlockIds.length > 0) {\n					for (var x in finetuneNewBlockIds) {\n						var tmpId = finetuneNewBlockIds[x][0];\n						var newId = finetuneNewBlockIds[x][1];\n						for (var i in postData) {\n							//var reg = new RegExp('data\\[SplashFeed\\]\\['+tmpId+'\\]');\n							var reg = new RegExp('data.SplashFeed..'+tmpId+'.');\n							if ((''+i).match(reg)) {\n								postData[(''+i).replace(reg,'data[SplashFeed]['+newId+']')] = postData[i];\n								delete postData[i];\n							}\n						}\n					}\n				}\n				finetuneEditedFields = {};\n				finetuneFieldsHaveChanged = false;\n			}\n			//special check for staging events.  pass through if editing a non-live stage.\n			if(typeof constants.stage_edit!=='undefined' && constants.stage_edit!==false){\n				postData['data[EventSetting][stage_edit]'] = constants.stage_edit;\n			} else if(typeof $(\"#event-stage-id\").attr(\"switched\")!=='undefined'){\n				postData['data[EventSetting][stage_switch]'] = $(\"#event-stage-id\").val();\n			}\n\n			//special check if you want to force a hard redirect.  simply set constants.force_redirect to true.\n			if(typeof constants.force_redirect!=='undefined' && constants.force_redirect){\n				postData['data[force_redirect]'] = true;\n			}\n\n			$.ajax({\n				url:\"/events/saveEventData/\"+constants.event_id,\n				type: 'post',\n				data: postData,\n				dataType: 'json',\n				statusCode: {\n					401: function(response) {\n						handleSaveError( false );\n					},\n					403: function(response) {\n						handleSaveError( true, 'Whoops.  Looks like there was an error saving your data.  Please refresh the page and try again.');\n					}\n				},\n				success: function(response){\n\n					if ( typeof response !== 'undefined' && response!=null && typeof response.status != 'undefined' && response.status == 'success' ){\n\n						if (typeof response.SplashFeed !== 'undefined' && typeof response.SplashFeed.newIds !== 'undefined') {\n							var socContentId = gallerySplashFeedId;\n\n							for (var i in response.SplashFeed.newIds) {\n								var tmpId = response.SplashFeed.newIds[i][0];\n								var newId = response.SplashFeed.newIds[i][1];\n								finetuneNewBlockIds.unshift([tmpId,newId]);\n								replaceSFIDEverywhere(tmpId,newId);\n\n								// to get the new id from the layout array, recall autosave data now.\n								// finetuneLayoutChangesMade = true;\n								finetuneLayoutHasChanged = true;\n								changes_made = true;\n								setChangesMade('silent');\n								//finetuneLayoutChangesMade(); // to get the new id from the layout array dude...\n\n								if(typeof socContentId!=='undefined' && socContentId == tmpId){\n									gallerySplashFeedId = newId;\n								}\n\n							}\n						}\n\n						if (typeof response.domainError == 'undefined' || response.domainError == '0'){\n							$changed_inputs.removeClass('changes-made');\n							$button.removeClass('in-progress');\n\n							$body.addClass('changes-saved').removeClass('has-changes in-progress has-theme-changes');\n							changes_made = false;\n							$('#his-changed').val(0);\n							setTimeout(function(){\n								$body.removeClass('changes-saved');\n								var ts = new Date();\n								$(\"#save-details-design\").attr(\"title\", \"Last saved at \"+ts.toLocaleTimeString() );\n							},2500);\n\n							// if the domain changed, this will be set to the new url\n							if(typeof response.redirect !=='undefined'){\n								domain_changes = true;\n								window.location = response.redirect;\n							}\n						}\n						// domain saving error\n						else if ( typeof response.domainError != 'undefined' && response.domainError == '0' ) {\n							setTimeout(function(){\n								setVisibleAccordionHeight();\n							},100);\n							handleSaveError(true, \"There was a problem saving your Custom Domain.\\nPlease try again.\");\n						}\n\n						updateJSEventProperties(postData);\n\n					} else {\n						handleSaveError( false );\n					}\n				}\n			});\n		} else{\n			$button.removeClass('in-progress');\n			$body.removeClass('has-changes in-progress').addClass('changes-saved');\n			setTimeout(function(){\n				changes_made = false;\n				$body.removeClass('changes-saved');\n				//$button.text('Save').removeClass('changes-saved');\n			},2500);\n		}\n		// second ajax call for saving the gallery order - gallerysort.js\n		if ( gallery_changes_made ){\n			saveGalleryOrder(function(response){\n				gallery_changes_made = false;\n				//disableGallerySort();\n			});\n		}\n\n	}//end autosave data\n\n\n	if ( google !== false ){\n		var geocoder = new google.maps.Geocoder();\n	}else var geocoder = false;\n\n	function geocodePosition(pos) {\n		if ( geocoder === false ) return false;\n		geocoder.geocode({\n			latLng: pos\n		}, function(responses) {\n			if (responses && responses.length > 0) {\n				updateMarkerAddress(responses[0].formatted_address);\n			} else {\n				updateMarkerAddress('Cannot determine address at this location.');\n			}\n		});\n	}\n\n	function geocodeAddress(address){\n		if ( geocoder === false ) return false;\n		geocoder.geocode({\n			address: address\n		}, function(responses) {\n			if (responses && responses.length > 0) {\n\n				if(responses[0].geometry.location){\n					$(\"#venue-lat-map-embed,#venue-lat\").val(responses[0].geometry.location.lat());//.trigger('change');\n					$(\"#venue-lng-map-embed,#venue-lng\").val(responses[0].geometry.location.lng());//.trigger('change');\n				}\n				//updateMarkerAddress(responses[0].formatted_address);\n				//marker.setPosition(responses[0].geometry.location);\n				updateMarkerPosition(responses[0].geometry.location);\n				//map.setCenter(responses[0].geometry.location);\n				//$(\"#map-container\").show();//(100);//();\n			}\n			// } else {\n			// 	updateMarkerAddress('Cannot determine address at this location.');\n			// }\n		});\n	}\n\n	function updateMarkerPosition(latLng) {\n		$(\".venueLatLng\").find(\".lat\").val(latLng.lat()).trigger('change');\n		$(\".venueLatLng\").find(\".lng\").val(latLng.lng()).trigger('change');\n	}\n\n	function updateMarkerAddress(str) {\n		$(\".venueLatLng\").find(\".address\").html(str);\n	}\n\n	var marker;\n	var map;\n\n	function initializeVenueMap() {\n		if ( google === false ) return false;\n\n		var input = document.getElementById('venue-search');\n		var autocomplete = new google.maps.places.Autocomplete(input);\n\n        google.maps.event.addListener(autocomplete, 'place_changed', function(e) {\n\n        	trackIndicativeEvent('venueChanged');\n\n	    	var place = autocomplete.getPlace();\n	      	var address = '';\n\n	          var address_fields = { name: place.name, street_number: '', address: '', city: '', state: '', zip: ''};\n	          if (place.address_components) {\n\n	             for ( var i in place.address_components ){\n	               if ( place.address_components[i].types[0] == 'postal_code' ) address_fields.zip = place.address_components[i].long_name;\n	               else if ( place.address_components[i].types[0] == 'street_number' ) address_fields.street_number = place.address_components[i].long_name;\n	               else if ( place.address_components[i].types[0] == 'route' ) address_fields.address = place.address_components[i].long_name;\n	               else if ( place.address_components[i].types[0] == 'locality' ) address_fields.city = place.address_components[i].long_name;\n	               else if ( place.address_components[i].types[0] == 'administrative_area_level_1' ) address_fields.state = place.address_components[i].short_name;\n	               else if ( place.address_components[i].types[0] == 'country' ) address_fields.country = place.address_components[i].long_name;\n	             }\n	          }\n\n			// Updating Timezone to the one of the new venue\n			timezoneDetector.getTimezone( place.geometry.location.lat(), place.geometry.location.lng(), function( data ) {\n\n				if( data.timeZoneId!=null ) {\n					//if there's an id, we have a match.\n					var $tz = $('#timezone-selector');\n					var $opt = $tz.find(\"option[tz-name='\"+data.timeZoneId+\"']:first\");\n\n					// Only do a timezone update in case it has changed\n					if ( $tz.find('option:selected').val() != $opt.prop(\"value\") ) {\n						if($opt.length < 1){ //if no match keep looking.\n							var offset = data.rawOffset/3600;//returned in seconds. convert to seconds.\n							//var $opt = $tz.find(\"option[offset='\"+offset+\"']:first\");\n							var new_option = '<option tz-name=\"'+data.timeZoneId+'\" value=\"-1\">(GMT '+offset+':00) '+data.timeZoneName+'</option>';\n							$tz.find(\"optgroup:last\").append(new_option);\n							$tz.val('-1').trigger('change');\n							//$tz.val('-1').trigger('change');\n							$(\"#timeZoneContain .timeZoneText\").val(data.timeZoneName);\n							//$(\"#tz-offset\").val(offset);\n							//$(\"#tz-identifier\").val(data.timeZoneId);\n						} else{\n							$tz.val($opt.prop(\"value\")).trigger('change');\n						}\n\n						// After the timezone is updated, we emphasize it for a few seconds. Nice and beautiful\n						$('#timezone-link span').addClass('emphasis').hide().fadeIn();\n						setTimeout( function() {\n							$('#timezone-link span').removeClass('emphasis');\n						}, 7000);\n					}\n				}\n			});\n\n		        address_fields.address = address_fields.street_number +' '+ address_fields.address;\n				$(\"#venue-name\").val(address_fields.name);\n				$(\"#venue-address\").val(address_fields.address);\n				$(\"#venue-city\").val(address_fields.city);\n				$(\"#venue-state\").val(address_fields.state);\n				$(\"#venue-country\").val(address_fields.country);\n				$(\"#venue-zip\").val(address_fields.zip);\n				if(typeof place.geometry!=='undefined'){\n					$(\"#venue-lat\").val(place.geometry.location.lat())//.addClass('changes-made');//.trigger('change');\n					$(\"#venue-lng\").val(place.geometry.location.lng())//.addClass('changes-made');//.trigger('change');\n				}\n				setCheck($(\"#venue-tbd\"),0);\n				var $maps_on_page = $(\"#splash-container\").find(\"div.map.sf\");\n				if($maps_on_page.length == 1){\n					getGoogleMapImg(function(data){\n						var address_string = createNewMapString(address_fields),\n							sfid = $maps_on_page.prop('id').replace('sfid-','');\n\n						$maps_on_page.find(\"div.embed\").find(\"img:first\").prop('src',data.image);\n						$maps_on_page.find(\"div.body\").html(address_string);\n\n						finetuneEditedFields['data[SplashFeed]['+sfid+'][embed_code]'] = '<img src=\"'+data.image+'\" />';\n						finetuneEditedFields['data[SplashFeed]['+sfid+'][body]'] = address_string;\n						//finetuneLayoutChangesMade();\n						finetuneFieldChangesMade();\n					});\n				}\n\n\n		        updateVenueText();\n				$('a.address-search').click();\n\n				return;\n        });\n\n\n	}\n\n	function initializeEmbedMap() {\n		if ( google === false ) return false;\n		var latLng = new google.maps.LatLng( _event.venue.lat, _event.venue.lng);\n		var input = document.getElementById('venue-search-map-embed');\n		var autocomplete = new google.maps.places.Autocomplete(input);\n        google.maps.event.addListener(autocomplete, 'place_changed', function(e) {\n			var place = autocomplete.getPlace();\n	        updatePlace(place);\n\n        });\n\n	}\n\n	function updatePlace(place){\n		var address = '';\n		var address_fields = { name: place.name, street_number: '', address: '', city: '', state: '', zip: ''};\n      	if (place.address_components) {\n        	for ( var i in place.address_components ){\n        		if ( place.address_components[i].types[0] == 'postal_code' ) address_fields.zip = place.address_components[i].long_name;\n	        	else if ( place.address_components[i].types[0] == 'street_number' ) address_fields.street_number = place.address_components[i].long_name;\n       			else if ( place.address_components[i].types[0] == 'route' ) address_fields.address = place.address_components[i].long_name;\n       			else if ( place.address_components[i].types[0] == 'locality' ) address_fields.city = place.address_components[i].long_name;\n       			else if ( place.address_components[i].types[0] == 'administrative_area_level_1' ) address_fields.state = place.address_components[i].short_name;\n	 	        }\n     	}\n     	if(address_fields.street_number!=''){\n	        address_fields.address = address_fields.street_number +' '+ address_fields.address;\n     	}\n\n     	//searchForMap(address_fields,place);\n		$(\"#map-embed-placeholder,#map-hidden-img,#map-embed .thisLoader\").addClass('loading');\n		$(\"#venue-name-map-embed\").val(address_fields.name);\n		$(\"#venue-address-map-embed\").val(address_fields.address);\n		$(\"#venue-city-map-embed\").val(address_fields.city);\n		$(\"#venue-state-map-embed\").val(address_fields.state);\n		$(\"#venue-zip-map-embed\").val(address_fields.zip);\n\n		if(typeof place.geometry!=='undefined'){\n			$(\"#venue-lat-map-embed,#venue-lat\").val(place.geometry.location.lat());\n			$(\"#venue-lng-map-embed,#venue-lng\").val(place.geometry.location.lng());\n		}\n		$(\"#venue-map-url\").val(place.url);\n\n		getGoogleMapImg(function(data){\n			$('#map-embed-placeholder').hide().removeClass('loading');\n			$(\"#map-hidden-img\").prop(\"src\",data.image).removeClass('loading');\n			$('#map-embed .thisLoader').removeClass('loading');\n		});\n		var address_string = createNewMapString(address_fields);\n		$(\"#map-embed-title\").val(address_string);\n		$(\"#map-address-text\").val(address_string);//.show();no need to show this anymore.  just plug it in.\n	}\n\n	function getGoogleMapImg(_callback){\n\n		var params = {\n			event_id:constants.event_id,\n			lat: $(\"#venue-lat\").val(),\n			lng: $(\"#venue-lng\").val(),\n			width: $(\"#map-embed-width\").val(),\n			height: $(\"#map-embed-height\").val(),\n			zoom: $(\"#map-embed-zoom\").val()\n		};\n\n		//takes the result of a google places autocomplete, does a server-side lookup via the lat/lng coords\n		//and returns a cdned img path via the static maps api.\n		$.ajax({\n			url:\"/splash/getGoogleMap\",\n			dataType: 'json',\n			type: 'POST',\n			data: params,\n			success: function(data,textStatus,jqXHR){\n				//with the resulting image, do what you will via custom callback function elsewhere.\n				if(typeof data.image !== 'undefined' && typeof _callback == 'function'){\n					_callback(data);\n				}\n			}\n		});\n		// alert(address_string);\n\n	}\n\n	function createNewMapString(address_fields){\n		var address_string ='';\n		if(address_fields.name!='' && typeof address_fields.name!=='undefined' && address_fields.name!='undefined'){\n			address_string+='<p style=\"font-size:16px;\"><strong>'+address_fields.name+'</strong></p>';\n			if(address_fields.address!=''&&address_fields.address!=address_fields.name){\n				address_string+='<p style=\"font-size:14px;\">'+address_fields.address+'</p>';\n			}\n		} else if(address_fields.address!='' && address_fields.address!=='undefined'){\n			address_string+='<p style=\"font-size:16px;\"><strong>'+address_fields.address+'</strong></p>';\n		}\n\n		if( (address_fields.city!=''  && address_fields.city!=='undefined')\n		|| (address_fields.state!=''  && address_fields.state!=='undefined')\n		|| (address_fields.zip!=''  && address_fields.zip!=='undefined')\n		){\n			address_string+='<p style=\"font-size:14px;\">';\n			var has_citystateorzip = true;\n		}\n\n		if(address_fields.city!=''  && address_fields.city!=='undefined'){\n			address_string+=address_fields.city;\n			if(address_fields.state!=''){\n				address_string+=', '+address_fields.state+' ';\n			} else{\n				address_string+=\" \";\n			}\n		} else if(address_fields.state!='' && address_fields.state!=='undefined'){\n			address_string+=address_fields.state+' ';\n		}\n		if(address_fields.zip!='' && address_fields.zip!=='undefined'){\n			address_string+=address_fields.zip;\n		}\n		if(typeof has_citystateorzip!=='undefined'){\n			address_string+='</p>';\n		}\n		return address_string;\n	}\n\n	function updateVenueText(){\n		var venue = { \n			venue_name: $(\"#venue-name\"),\n			address: $(\"#venue-address\"),\n			city: $(\"#venue-city\"),\n			state: $(\"#venue-state\"),\n			zip: $(\"#venue-zip\"),\n			country: $(\"#venue-country\"),\n			tbd: $(\"#venue-tbd\")\n		};\n		var value = { venue_name: venue.venue_name.val(), address: $.trim(venue.address.val()),\n			city: $.trim(venue.city.val()), state: $.trim(venue.state.val()), zip: $.trim(venue.zip.val()) }\n\n		if( venue.tbd.val()=='1' && $(\"#finetune-hide_where\").val()!='1'){\n			$body.addClass('venue-tbd');\n		} else{\n			$body.removeClass('venue-tbd');\n		}\n\n		$(\"#venue-name,#venue-address,#venue-city,#venue-state,#venue-zip,#venue-tbd,#venue-country\").addClass(\"changes-made\");\n		var title = value.venue_name;\n		var address = value.address + \" \" + value.city + \" \" + value.state + \" \" + value.zip;\n		var raw_addy = address.replace(\" \",'').trim();\n		if ( raw_addy==\"\" && title != '' ){\n			address = title;\n		}\n		//$(\".venueLatLng .address\").html(address);\n		geocodeAddress(address);\n\n\n		//updateSplashField('where',value,$(\"#element-where\"));\n		var $venue_name = $(\"#element-where-venue\").find(\".venue-name\"),\n			$venue_address = $(\"#element-where-address\").find(\".venue-address\"),\n			$venue_city = $(\"#element-where-city\").find(\".venue-city\"),\n			$venue_state = $(\"#element-where-state\").find(\".venue-state\"),\n			$venue_zip = $(\"#element-where-zip\").find(\".venue-zip\");\n\n		if(value.venue_name!=''){\n			$venue_name.html(value.venue_name).removeClass('hide')\n			$body.removeClass('bigAddress bigCsz');\n			if(value.address==''){\n				$body.addClass('noAddress');\n			}\n		} else{\n			$venue_name.html('').addClass('hide');\n			if(value.address!=''){\n				$body.addClass('bigAddress').removeClass('bigCsz noAddress');\n			} else if(value.city!=''||value.state!=''||value.zip!=''){\n				$body.addClass('bigCsz').removeClass('bigAddress');\n			}\n		}\n\n\n		value.address = $.trim(value.address)\n\n		if(value.address!=''){\n			$body.removeClass('noAddress');\n			$venue_address.html(value.address).removeClass('hide');\n		} else{\n			$body.addClass('noAddress');\n			$venue_address.html('').addClass('hide');\n		}\n\n		if(value.city!=''){\n			$body.removeClass('noCity');\n			$venue_city.html(value.city).removeClass('hide');\n		} else{\n			$body.addClass('noCity');\n			$venue_city.html('').addClass('hide');\n		}\n\n		if(value.state!=''){\n			$body.removeClass('noState');\n			$venue_state.html(value.state).removeClass('hide');\n		} else{\n			$body.addClass('noState');\n			$venue_state.html('').addClass('hide');\n		}\n\n		if(value.zip!=''){\n			$body.removeClass('noZip');\n			$venue_zip.html(value.zip).removeClass('hide');\n		} else{\n			$body.addClass('noZip');\n			$venue_zip.html('').addClass('hide');\n		}\n\n		setChangesMade();\n	}\n\n	function updateSplashField(field_type,set_value,$block){\n\n		var params = { event_id: constants.event_id, type: field_type };\n		if(set_value!=null){\n			params.value = set_value;\n		}\n		if(field_type=='date'){ //reload date.\n\n			if($(\"#date-tbd\").val()=='1'){\n				params.start = 'TBD';\n			}\n			else{\n				params.start = { date: $(\"#event_date\").val(), time: $(\"#event-start-timepicker\").val() };\n				params.end = { date: $(\"#event_date_end\").val(), time: $(\"#event-end-timepicker\").val() };\n			}\n\n			_event.date.tbd = $(\"#date-tbd\").val() == '1';\n			CountdownElement.updateAll();\n\n			if($(\"#hide_date\").val()==1){\n				params.hide_date = true;\n			}\n			else if($(\"#hide_time\").val()==1){\n				params.hide_time = true;\n			}\n			if($(\"#hide_end_date\").val()==1){\n				params.hide_end_date = true;\n			}\n			if(params.hide_date){\n				$(\"li.add-to-cal\").hide();\n			} else {\n				$(\"li.add-to-cal\").show();\n			}\n			params.format = $(\"#finetune-date-format\").val();\n\n			updateSplitWhenBlocks(params);\n\n		} else if(field_type=='gallery'){\n			params.gallery_layout_preset = $(\"#galleryLayoutPresetInput\").val();\n		}\n		else if(field_type=='facebook_comments'){\n			var $block = $(\"#facebook-comments-container\");\n			params.domain = 'http://'+constants.domain;\n		}\n		else if ( field_type == 'twitter' ){\n			var $b = $(\"#twitterAccountInfo\");\n			params.twitter_hash = $('#hashtag-input').val();\n			params.twitter_handle = $b.find('input.screen_name_field').val();\n			params.twitter_pref = params.value;//$('#feedDisplayOptions').find('input[type=radio]:checked').val();\n		} else if( field_type == 'host'){\n			//$(\"#manual-host-name\").change();\n			//$(\"#no-twitter-options\").find(\"input.logo-id,input.logo-image\").trigger('change');\n			$(\"#element-host\").find(\".host-name\").find(\"span\").text($(\"#manual-host-name\").val());//.quickfit();\n			return;\n		}\n\n		$block.css('height',$block.height()+'px');\n		$block.load(\"/splash/pullField\",params,function(success){\n			if(field_type=='facebook_comments' && params.value=='1'){\n				FB.XFBML.parse();\n				scrollToBlock($block)\n			} else if(field_type=='date'){\n				var $date_block = $(\"#element-when\");\n				if($date_block.length){\n					var date_str = '';//$date_block.find(\"li.day-year\").text();\n					date_str+=$date_block.find(\"li.date\").text();\n					date_str+=', '+$date_block.find(\"li.time\").text();\n					$(\"#planning-tools-header\").find(\".date-time\").text(date_str);\n				}\n				reloadRSVPBlock();//after we change the event date, reload rsvp block.\n			}\n\n			else if(field_type=='gallery'){\n				//if ( set_value == 'sort' ){\n					gallerySortInit();\n				//}\n			}\n			else if(field_type=='guest-list' && params.value==1){\n				scrollToBlock($block);\n			}\n\n			galleryThumbFlow(true);\n        	//$(\"#gallery-thumbs\").masonry('reload');//assume any time a block is changed we're reloading the masonry call.\n			$block.css('height','inherit');\n		});\n\n		setChangesMade();\n\n	}\n\n\n$.fn.toggleAccordion = function(skipToggle){\n	var $t = $(this);\n	var id = $t.prop(\"id\");\n	var $inner = $t.parents(\".mainCard:first\");//$p.find(\".content-inner:first\");\n	var $p = $t.parents(\".toggle-wrap:first\");\n\n	if(skipToggle!=null){\n		//no need to update.\n	}	else {\n		if ( $inner.hasClass('is-hidden') ) {//show the section\n			$inner.removeClass('is-hidden').css('overflow', 'hidden');\n			if(!$inner.hasClass('noContent')){\n				$inner.removeClass('expanded');\n			}\n		} else {//hide the section\n			if($inner.hasClass('expanded')){\n				$inner.addClass('is-hidden').removeClass('expanded').css('overflow','hidden');\n			} else{\n				$inner.addClass('is-hidden');\n			}\n\n			//check to see if we have advanced sections that are open.  should close if true.\n			var $trig = $p.find(\".content-inner:first\").find(\".content-trigger:first\");\n			if($trig.length >0 && $trig.hasClass('open')){\n				$trig.click();\n			}\n		}\n	}\n\n	var target_id = $t.attr(\"target\"),\n		target_type = $t.attr(\"target-type\");\n\n	if(typeof target_id!=='undefined' && target_id!=''){\n		if (typeof target_type!=='undefined' && target_type == 'exact') {\n			var $target = $(\"#\"+target_id);\n		} else {\n			var $target = $(\"#\"+target_id).parents(\"div.layoutGrp:first\");\n		}\n\n		if($target.length < 1){\n			$target = $(\"#main-canvas\").find(\"div.layoutGrp.\"+target_id);\n			//a fallback for finding the parent group if child isn't present. this is the case\n			//when rsvp button is hidden and we're trying to hide the block.\n		}\n\n		if($target.length > 0){\n			if($t.val()=='1'){//setting to 1, hide the element.\n				$target.hide();\n			}\n			else{\n				$target.show().find(\".element:first\").show();//show the parent and inner\n				if(typeof $first_target!=='undefined'){\n					scrollToBlock($first_target,-20);\n				} else{\n					scrollToBlock($target,-20);\n				}\n\n			}\n		}\n	}\n}\n\nvar changes_made = false;\nvar domain_changes = false;\nvar page_action_changes = false;\nvar gallery_changes_made = false;\nvar finetune_block_moved = false;\nvar gallery_block_viewed = false;\n\nfunction newFileUploader(index,options){\n	var options = options || {};\n\n	var defaultOptions = {\n		url: \"/events/fileUpload/\"+constants.event_id,\n		multiple: false,\n		cropToSquare: false,\n		allowedExtensions: ['png','jpg','jpeg','gif'],\n		resize: false,\n		params: {}\n	}\n\n	options = $.extend({},defaultOptions,options);\n\n	var template = ''+\n		'<div class=\"qq-uploader\">' +\n			'<div class=\"qq-upload-drop-area grp\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n			'<div class=\"qq-upload-button nu-btn m clean\"><i class=\"ico-upload\"></i> Upload an Image</div>' +\n			'<div class=\"qq-upload-list\"></div>' +\n		'</div>';\n	var filetemplate = ''+\n		'<div class=\"new-uploaded-file\">'+\n			'<div style=\"display:none;\">'+\n				'<div class=\"qq-upload-file\">Filename.ext</div>'+\n				'<div class=\"qq-upload-size\">0.0kb</div>'+\n				'<div class=\"qq-upload-cancel\" href=\"#\">Cancel</div> '+\n				'<div class=\"qq-upload-failed-text\">Failed</div>'+\n			'</div>'+\n			'<div class=\"qq-upload-spinner\"></div>'+\n			'<div class=\"progress-bar\">'+\n				'<div class=\"progress\"></div>'+\n			'</div>'+\n		'</div>';\n\n	var totals = {\n		size: 0,\n		count: 0,\n		sizeDone: 0,\n		countDone: 0\n	}\n\n	ajaxFileUploaders[index] = new qq.FileUploader({\n		element: document.getElementById(index),\n		action: options.url,\n		params: options.params,\n		multiple: options.multiple,\n		//debug: true,\n		sizeLimit: 9 * 1024 * 1024,\n		allowedExtensions: options.allowedExtensions,\n		onCancel: function(){\n			if (options.onCancel) {\n				options.onCancel();\n			}\n		},\n		messages: {\n			//typeError: \"{file} has invalid extension. Only {extensions} are allowed.\",\n			typeError: \"Freeze!  It looks like you tried to upload a file type outside our jurisdiction. \\n\\nWe're currently accepting the following file types:\\n{extensions}\",\n			//sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n			sizeError: \"Whoa, looks like the file you're trying to upload is too large.\\nPlease keep it to files under {sizeLimit}.\",\n			minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n			emptyError: \"{file} is empty, please select files again without it.\",\n			onLeave: \"The files are being uploaded, if you leave now the upload will be cancelled.\"\n		},\n		onSubmit: function(id,filename){\n			var $item = $(ajaxFileUploaders[index]._getItemByFileId(id));\n			var size = ajaxFileUploaders[index]._handler.getSize(id);\n			totals.size += size;\n			totals.count++;\n			var d = {size:size,totals:totals};\n			if (options.onSubmit){\n				options.onSubmit($item,d);\n			}\n		},\n		onProgress: function(id,filename,loaded,total){\n			var $item = $(ajaxFileUploaders[index]._getItemByFileId(id));\n\n			var percent = (loaded/total)*100;\n			$item.find(\".progress\").css('width',percent+'%');\n\n			var d = {percent:percent,totals:totals};\n			if (options.onProgress) {\n				options.onProgress($item,d);\n			}\n		},\n		onComplete: function(id, fileName, response){\n			var $item = $(ajaxFileUploaders[index]._getItemByFileId(id));\n			totals.countDone++;\n			totals.sizeDone += ajaxFileUploaders[index]._handler.getSize(id);\n			var d = {response:response,totals:totals};\n			if (options.onComplete){\n				options.onComplete($item,d);\n			}\n		},\n		template: template,\n		fileTemplate: filetemplate\n	});\n}\n\n\n\n/*** Uploading Stuff ****/\nvar ajaxFileUploaders = [];\nfunction createUploader(index,mode,_onCompleteCallback){\n	// these are the defaults for the header image uploader\n	var action = \"/events/upload_photo\";\n	var multiple=true;\n	var cropToSquare = false;\n	var template = '';\n	var filetemplate = $('#ajaxFileUpload_header .fileTemplate').html();\n	var afe = ['png','jpg','jpeg','gif'];\n	var noResize = false;\n	// these are the settings for the logo image upload!\n	if ($.inArray(mode,['logo','hostLogo','eventListing','speakerLogo','presenterLogo','bgImage','bgImageCustom'])>-1){\n		multiple=false;\n		action = \"/events/upload_logo\";\n\n		var template = '<div class=\"qq-uploader\">' +\n			'<div class=\"qq-upload-drop-area\" style=\"display:none;\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n			'<div class=\"nu-btn clean inline-block qq-upload-button icon-picture txtC\">Choose Image</div>' +\n			'<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n			'</div>';\n\n		if(mode=='bgImage' || mode=='presenterLogo'){\n			cropToSquare=false;\n			noResize = true;\n		} else if(mode=='bgImageCustom'){\n			var setWidth = 600;\n			var onlyResizeLargerThanSetWidth = 1;\n			cropToSquare=false;\n			var template = '<div class=\"qq-uploader\">' +\n				'<div class=\"qq-upload-drop-area\" style=\"display:none;\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n				'<div class=\"nu-btn clean inline-block qq-upload-button icon-picture\">Choose Image</div>' +\n				'<div class=\"message\">*Images wider than '+setWidth+'px will be resized.</div>' +\n				'<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n				'</div>';\n		}\n\n		var filetemplate =  '<li class=\"indented\"><div class=\"new-uploaded-file\">'+\n			'<img class=\"event-image hide\" src=\"\">'+\n			'<span class=\"qq-upload-file hide\">datadump.txt</span>'+\n			'<span class=\"qq-upload-size\"></span>'+\n			'<a class=\"qq-upload-cancel\" href=\"#\">Cancel</a> '+\n			'<span class=\"qq-upload-failed-text\">Failed</span>'+\n			'<div id=\"\" class=\"upload-file-form\">'+\n				'<div class=\"qq-upload-spinner\">'+\n					'<img alt=\"loading...\" style=\"width:16px;height:16px;\" src=\"/img/ajax-loader2.gif\">'+\n					'<div class=\"progress-bar-holder\"><div class=\"progress-bar\"></div></div>'+\n				'</div>'+\n			'</div>'+\n			'</div></li>';\n\n	}else if ( mode == 'event_photos' ){\n		// event photo upload\n		action = \"/events/uploadEventPhoto\";\n		//params = { ajaxUpload: true, event_id: constants.event_id, event_photos: true }\n		template = ''; // if template is empty, the markup with all of the qq classes HAS to be in the <div id=\"index\"> already\n		filetemplate = $(\"#\"+index+\" .fileTemplateHtml:first\").html();\n	} else if(mode=='eventImage'){\n		var template = '<div class=\"qq-uploader\">' +\n			'<div class=\"qq-upload-drop-area\"><span><img src=\"/images/ui/folder-open-green.png\" />Drop image here to upload</span></div>' +\n			'<div class=\"gray btn qq-upload-button\">Click here to upload your flyer</div>' +\n			'<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n			'</div>';\n		var filetemplate =  '<li class=\"indented\"><div class=\"new-uploaded-file\">'+\n			'<img class=\"event-image hide\" src=\"\">'+\n			'<span class=\"qq-upload-file hide\">datadump.txt</span>'+\n			'<span class=\"qq-upload-size\"></span>'+\n			'<a class=\"qq-upload-cancel\" href=\"#\">Cancel</a> '+\n			'<span class=\"qq-upload-failed-text\">Failed</span>'+\n			'<div id=\"\" class=\"upload-file-form\">'+\n				'<div class=\"qq-upload-spinner\">'+\n					'<img alt=\"loading...\" style=\"width:16px;height:16px;\" src=\"/img/ajax-loader2.gif\">'+\n					'<div class=\"progress-bar-holder\"><div class=\"progress-bar\"></div></div>'+\n				'</div>'+\n			'</div>'+\n			'</div></li>';\n		//params: { event_id: constants.event_id, ajaxUpload: true, nosave:true },\n\n	}\n\n\n	if ( mode == 'hostLogo' ) { cropToSquare = true;\n		var template = '<div class=\"qq-uploader\">' +\n				'<div class=\"qq-upload-drop-area\"><span><img src=\"/images/ui/folder-open-green.png\" /> Or drop files here to upload</span></div>' +\n				'<div class=\"txtC icons3-avatar gray btn qq-upload-button bigger em1\"></div>' +\n				'<ul class=\"qq-upload-list uploadList '+mode+'\"></ul>' +\n				'</div>';\n	}\n	var params = { event_id: constants.event_id, ajaxUpload: true, saveEventImageToDB: false, cropToSquare: cropToSquare};\n	if(noResize){\n		params.noResize=true;\n	}\n	if(mode=='eventImage'){\n		delete params.saveEventImageToDB;\n	}\n	if(typeof setWidth!=='undefined'){\n		params.setWidth = setWidth;\n	}\n	if(typeof onlyResizeLargerThanSetWidth!=='undefined'){\n		params.onlyResizeLargerThanSetWidth = onlyResizeLargerThanSetWidth;\n	}\n\n	var totalSizeToUpload = 0;\n	var totalCountToUpload = 0;\n	var totalSizeUploaded = 0;\n	var totalCountUploaded = 0;\n\n	if ($('#'+index).length == 0) {\n		////console.log('NO INDEX FOR UPLOADER: '+index+' - '+mode);\n	}\n	ajaxFileUploaders[index] = new qq.FileUploader({\n		element: document.getElementById(index),\n		action: action,\n		params: params,\n		multiple: multiple,\n		//debug: true,\n		onProgress: function(id,filename,loaded,total){\n			if ( mode == 'event_photos' ){\n				var $item = $('#bulkUploadStatus');\n				var uploaded = totalSizeUploaded + loaded;\n				var percent = (uploaded/totalSizeToUpload);\n				var width = $item.find(\".progress-bar-holder\").width();\n				var offset = Math.floor(width - ( width * percent ));\n                $item.find(\".progress-bar\").css('right',offset+'px');\n			}else{\n				var item = ajaxFileUploaders[index]._getItemByFileId(id);\n				var percent = (loaded/total);\n				var width = $(item).find(\".progress-bar-holder\").width();\n				var offset = width - ( width * percent );\n				$(item).find(\".progress-bar\").css('right',offset+'px');\n			}\n		},\n		sizeLimit: 9 * 1024 * 1024,\n		allowedExtensions: afe,\n		onCancel: function(){\n			return false;\n		},\n		messages: {\n			//typeError: \"{file} has invalid extension. Only {extensions} are allowed.\",\n			typeError: \"Freeze!  It looks like you tried to upload a file type outside our jurisdiction. \\n\\nWe're currently accepting the following file types:\\n{extensions}\",\n			//sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n			sizeError: \"Whoa, looks like the file you're trying to upload is too large.\\nPlease keep it to files under {sizeLimit}.\",\n			minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n			emptyError: \"{file} is empty, please select files again without it.\",\n			onLeave: \"The files are being uploaded, if you leave now the upload will be cancelled.\"\n		},\n		onComplete: function(id, fileName, result){\n			var item = ajaxFileUploaders[index]._getItemByFileId(id);\n\n			if (typeof result.success != 'undefined' && result.success){\n				$(\".qq-upload-drop-area\").hide();\n				if ( mode == 'event_photos' ){\n					// need to show the image thumbnail\n					totalSizeUploaded += ajaxFileUploaders[index]._handler.getSize(id);\n					totalCountUploaded++;\n					$('#bulkUploadStatus').find('.textStatus .completed').html(totalCountUploaded)\n					$('#bulkUploadStatus').find(\".latestPhoto img\").attr('src',result.thumbnail);\n					$(item).attr('src',result.thumbnail).attr('full-image',result.filename);\n					$(item).attr('event_photo_id',result.event_photo_id);\n					//$(item).find(\"span.image\").text(result.filename);\n					// set the id of the event_photo\n					//$(item).addClass('event_photo unapproved');\n					// update the image count\n					//var newCount = $(item).parent().find(\"li.event_photo\").length;\n					//$(\".photos .header-bar span.count\").html(newCount);\n					//$('#db-photo-count').html(newCount);\n					// update the filesize total(s)\n					//formatEventPhotoBytes(result.size);\n				}\n				else {\n\n					// since these only ever allow one image per button, remove any previously uploaded images\n					$(item).siblings(\"li\").remove();\n\n					if ( result.logo_id ){\n						if ( mode == 'hostLogo' ){\n							var $item = $(item);\n							// set this param logo_id to the returned one.. just in case this was an insert\n							qq.extend(ajaxFileUploaders[index]._options.params,{logo_id:result.logo_id});\n							// set the hidden image (filename) field to the newly return filename\n							$item.parents(\".logo-box\").find(\"input.logo-image\").val(result.filename).change();\n							$item.parents(\".logo-box\").find(\".logo-wrapper div.mask\").css('background-image','url(result.filename)');\n							// set the hidden input of the logo id to this new id also\n							$item.parents(\".logo-box\").addClass('has-image').find(\"input.logo-id\").val(result.logo_id).change();\n							// update the onloaded image\n							$item.parents(\".logo-upload\").find(\"img.logo-image\").attr('src',result.filename).show();\n							$item.parents(\".logo-upload\").find(\"a.removeLogo\").hide();\n\n							var params = { name: $(\"#manual-host-name\").val(), img: $(\"div.logo-upload\").find(\"input.logo-image\").val() };\n\n							$item.remove();\n\n							updateSplashField('host',params,$(\"#hosting-block\"));\n\n						}\n\n					}\n				}\n\n			}else if (result.error){\n				$(item).find(\".qq-upload-failed-text\").html(\"Error: \"+result.error);\n				if ( mode == 'event_photos' ){\n					//alert('Error: '+result.error);\n					totalSizeToUpload -= ajaxFileUploaders[index]._handler.getSize(id);\n					totalCountToUpload--;\n					$('#bulkUploadStatus').find('.textStatus .total').html(totalCountToUpload);\n					$('#bulkUploadStatus').find('.error').append('<p>Error: '+fileName+' -  '+result.error+'</p>');\n				}\n			}else if ( mode == 'event_photos' ){\n				//alert('Error: '+result.error);\n				totalSizeToUpload -= ajaxFileUploaders[index]._handler.getSize(id);\n				totalCountToUpload--;\n				$('#bulkUploadStatus').find('.textStatus .total').html(totalCountToUpload);\n				$('#bulkUploadStatus').find('.error').append('<p>Error: '+fileName+' - There was an error uploading this file.</p>');\n			}\n\n			if ( typeof _onCompleteCallback != 'undefined' && _onCompleteCallback != null ){\n				_onCompleteCallback(result);\n			}\n			// finished the bulk upload!\n			if ( mode == 'event_photos' ){\n				if ( totalCountUploaded == totalCountToUpload ){\n				//	alert('done.');return false;\n                    var $bus = $('#bulkUploadStatus');\n					$bus.parent().addClass('finished').removeClass('uploading');\n					$bus.find('.textStatus .completed').html(totalCountUploaded)\n					$bus.find('.textStatus .total').html(totalCountToUpload)\n					$bus.find('.cancel').hide();\n					$bus.find('.bigStatus').html('Complete');\n					$bus.addClass('open');\n					var m = totalCountUploaded + ' Photos';\n					if ( totalCountUploaded == 1 ){\n                        m = 'a Photo';\n                        $bus.find(\"textarea\").attr(\"placeholder\",'Add Caption').end().find(\"input[type='text']\").attr(\"placeholder\",'Add Credit');\n                    }\n					$bus.find('.formTray .message span').html(m);\n					totalSizeToUpload = 0;\n					totalSizeUploaded = 0;\n					totalCountToUpload = 0;\n					totalCountUploaded = 0;\n				}\n			}\n		},\n		onSubmit: function(id,filename){\n			if (mode=='header'){\n				$('#ajaxFileUpload_header .qq-upload-button').hide();\n			}\n			else if ( mode == 'event_photos' ){\n				$('#'+index).find('.no-photos').hide();\n				//$('.photo-status').show();\n				//$('#publishPhotos').show();\n				//$('.unapproved-photo-block').show().find('h4:first').text('There are Unapproved Photos').end().find('ul').html();\n				var $bus = $('#bulkUploadStatus');\n				$bus.parent().addClass('uploading');\n				// initialize the BUS\n				if ( !$bus.is(':visible') ){\n					$bus.find('.textStatus .completed').html('0');\n					$bus.find('.latestPhoto img').attr('src','');\n					$bus.find('.progress-bar').css('right','900px');\n					$bus.find('.cancel').show();\n					$bus.find('.error').html('');\n					$bus.find('.qq-upload-list').html('');\n					$bus.find('.bigStatus').html('Transferring...');\n					$bus.show();\n				}\n				totalSizeToUpload += ajaxFileUploaders[index]._handler.getSize(id);\n				totalCountToUpload++;\n				$bus.find('.textStatus .total').html(totalCountToUpload);\n\n				if(gallerySplashFeedId !== false && typeof gallerySplashFeedId!=='undefined') {\n					qq.extend(ajaxFileUploaders[index]._options.params,{ splash_feed_id:gallerySplashFeedId });\n			    } else{\n			    	qq.extend(ajaxFileUploaders[index]._options.params,{ splash_feed_id:0 });\n			    }\n			}\n		},\n		template: template,\n		// template for one item in file list\n		fileTemplate: filetemplate\n	});\n}\n/***** End Uploading Stuff *****/\n\nfunction loadUnapprovedUploadedPhotos(force_open){\n	$(\"#social-pane-contain-uploads\").removeClass('loaded');\n}\nfunction updateUnapprovedPhotoCount(){\n	var photo_count = $(\"#social-pane-contain-uploads\").find(\"li.event_photo\").length;\n	if(photo_count>0){\n		$(\"#inbox-count\").show().html(photo_count);\n	} else{\n		$(\"#inbox-count\").hide().html(0);\n	}\n}\n\nfunction scrollToBlock($block,offset,noAnimate,force){\n	if(constants.prevent_scroll==true){ return false; }\n	else if(openRTE){ return false; }//dont scroll if editing rte!\n	else if(offset==null){ offset=0; }\n	if($block.length > 0){\n		//check just in case there's multiple blocks.\n		//This is needed for any blocks that also pull custom-block-list-item.ctp - ie. speakers, sponsors and image blocks.\n		if($block.length > 1){\n			$block = $block[0];\n			if($block instanceof jQuery == false){\n				$block = $($block);//wrap it if its not a jquery object.\n			}\n		}\n		var inViewPort = elementInViewport($block);\n		if(!inViewPort||force!=null){\n			if(noAnimate!=null){\n				$('html, body').stop().animate({\n			    	scrollTop: $block.offset().top+offset\n			  	}, 0);\n			} else{\n				$('html, body').stop().animate({\n			    	scrollTop: $block.offset().top+offset\n			  	}, 1000,'easeInOutExpo');\n				if(currentSection!=$block.prop(\"id\")){\n					$block.addClass('section-glow');\n				  	setTimeout(function(){\n					  	$block.removeClass('section-glow');\n				  	},3000);\n			  	}\n		  	}\n		} else {\n			if(currentSection!=$block.prop(\"id\") || force!=null){\n				$block.addClass('section-glow');\n				currentSection = $block.prop(\"id\");\n				setTimeout(function(){\n\n				  	$block.removeClass('section-glow');\n			  	},3000);\n			}\n		}\n	}\n}\nfunction isScrolledIntoView($elem)\n{\n    var docViewTop = $(window).scrollTop();\n    var docViewBottom = docViewTop + $(window).height();\n\n    var elemTop = $elem.offset().top;\n    var elemBottom = elemTop + $elem.height();\n    //return ((elemBottom >= docViewTop) && (elemTop <= docViewBottom));\n    return ((docViewTop < elemTop) && (docViewBottom > elemBottom));\n}\n\nfunction changeCssProperty($target,cssProp,cssValue){\n	var toUpdate = {};\n	if(typeof cssProp=='object'){\n		toUpdate = cssProp;//already objectified.  multiple calls.\n		for(key in toUpdate){\n			if(!isNaN(toUpdate[key]) && toUpdate[key]!='' && key!='z-index'){\n				toUpdate[key]+='em';//append px as a fallback.\n			}\n		}\n	} else if(cssProp==false){\n		return;\n	}else{//string. just one argument passed through.\n		if( !isNaN(cssValue) && cssValue!='' && cssProp!='z-index' ){\n			cssValue+='em';\n		}\n		toUpdate[cssProp] = cssValue;\n		if(cssProp=='background-color'){ //if were changing the background color, unset bg image.\n			toUpdate['background-image'] = '';\n		}\n	}\n\n	$target.css(toUpdate);\n}\n\nfunction checkPlaceholderWidth( $img ){\n	if( $img.outerWidth() < 70 ){\n		$img.parents(\".list-item:first\").addClass('super-compact-img-util').removeClass('compact-img-util')\n	} else if( $img.outerWidth() < 165 ){\n		$img.parents(\".list-item:first\").addClass('compact-img-util').removeClass('super-compact-img-util')\n	} else {\n	    $img.parents(\".list-item:first\").removeClass('compact-img-util super-compact-img-util')\n	}\n}\n\nfunction clearPlaceholderStyles( $img ){\n	$img.parents(\".list-item:first\").removeClass('compact-img-util super-compact-img-util')\n}\n\nfunction handleSaveError( problem, message ) {\n	var $button = $(\"#save-details-design\");\n	$(\"#logged-out-modal\").find('.inactive-error').hide();\n	// if( problem )\n	// {\n	// 	if ( problem == 'locked' )\n	// 	{\n	// 		$(\"#logged-out-modal\").find('.inactive-error').html( message );\n	// 		setTimeout(window.location = '/login', 3000);\n	// 	}\n	// 	else\n	// 	{\n	// 		alert( message );\n	// 	}\n	// } else{\n	// 	$(\"#logged-out-modal\").fireSimpleModal({ persistent: true });\n 	console.log(\"ERROR ON PAGE #210\");\n	// 	return false;\n	// }\n\n	$button.removeClass('in-progress');\n	$body.removeClass('in-progress').addClass('has-changes');//error saving. make them save again.\n\n	changes_made = false;\n	themeStylesChanged=false;\n}\nvar monthNames = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n	\"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\" ];\n\nvar openRTE = false;\n\n$('#adminEventSettings').find('span[field]').click(function(){\n	var $this = $(this);\n	var field = $this.attr('field');\n	var value = $this.attr('value');\n	if(field=='active' && !confirm('Are you SURE you want to ban this event?')){\n		return false;\n	}\n\n	if ( $this.hasClass('on') ){\n		$this.removeClass('on');\n		value = 0;\n	}else {\n		$this.addClass('on')\n	}\n\n	var postData = {};\n	postData[field] = value;\n\n	// put it in a form saveEventData understands\n	if(field == 'white_label'){\n	postData = { data: { Event: postData } };\n	} else if(field=='active'){\n		postData['adminBan'] = true;\n		postData = { data: { Event: postData } };\n	}\n	else{\n		postData = { data: { EventSetting: postData } };\n	}\n\n\n	// mark as sending\n	$this.addClass('disabled').removeClass('error');\n	$.post(\"/events/saveEventData/\"+constants.event_id,postData,function(response){\n		if ( typeof response != 'undefined' ){\n			$this.removeClass('disabled');\n		}else $this.removeClass('disabled').addClass('error');\n	});\n\n});\n\n\nfunction hideRTE(){\n	$(\"#finetune-edit-buttons\").hide();\n	openRTE = false;\n}\n\nfunction themeStylesChanged(){\n	finetuneGetThemeStyleInputs().addClass('changes-made');\n	setChangesMade();\n}\n\nfunction addNewNamedElement(){\n	var element = prompt(\"Name of Element?\\n - where-blocks\\n - when-blocks\\n - spacer\");\n	if (element != '') {\n		element = (''+element).toLowerCase();\n\n		if (element == 'when-blocks') {\n			addNewSection(\n				{ \"group\": [ { \"group\": [ { \"element\": \"when-month\", \"styles\": { \"padding-top\": \"0em\", \"padding-right\": \"0em\", \"padding-bottom\": \"0em\", \"padding-left\": \"0em\", \"background-color\": \"rgba(0, 0, 0, 0.1)\", \"font-size\": \"0.8em\", \"letter-spacing\": \"0.05em\" }, \"bgimage\": \"\", \"class\": \"uppercase\" }, { \"element\": \"when-day\", \"styles\": { \"font-size\": \"2em\", \"padding-bottom\": \"0em\" } }, { \"element\": \"when-time\", \"styles\": { \"font-size\": \"1.04em\", \"padding-bottom\": \"0em\" }, \"class\": \"\" } ], \"class\": \"event_start\", \"styles\": { \"padding-top\": \"0em\", \"padding-right\": \"0em\", \"padding-bottom\": \"0em\", \"padding-left\": \"0em\" } }, { \"group\": [ { \"element\": \"when-end-month\", \"class\": \"uppercase\", \"styles\": { \"font-size\": \"0.8em\", \"letter-spacing\": \"0.05em\", \"padding-top\": \"0em\", \"padding-right\": \"0.02em\", \"background-color\": \"rgba(0, 0, 0, 0.1)\", \"padding-bottom\": \"0em\" }, \"bgimage\": \"\" }, { \"element\": \"when-end-day\", \"styles\": { \"font-size\": \"2em\", \"padding-bottom\": \"0em\" } }, { \"element\": \"when-end-time\" } ], \"class\": \"event_end\", \"width\": \"2-4\", \"styles\": { \"padding-top\": \"0em\", \"padding-right\": \"0em\", \"padding-bottom\": \"0em\", \"padding-left\": \"0em\" } }, { \"element\": \"when-tbd\" } ], \"width\": \"1-3\", \"styles\": { \"style\": \"solid\", \"background-color\": \"rgba(58, 58, 58, 0.05)\", \"text-align\": \"center\", \"padding-top\": \"0em\", \"padding-right\": \"0em\", \"padding-bottom\": \"1em\", \"padding-left\": \"0em\", \"border\": { \"radius\": \"6px\", \"style\": \"\", \"width\": \"\", \"color\": \"\" } }, \"bgimage\": \"\", \"class\": \"ofH mega-date-wrap\" }\n\n			);\n		} else if (element == 'where-blocks') {\n			addNewSection({group: [\n				{element: 'where-venue'},\n				{element: 'where-address'},\n				{element: 'where-city'},\n				{element: 'where-state'},\n				{element: 'where-zip'},\n				{element: 'where-tbd'}\n			]});\n		} else {\n			addNewSection({element: element});\n		}\n	}\n}\n\n// This functions is used to add an element to the splash page\nfunction addNewSection(params,toMaster,_callback){\n	var toMaster = toMaster || false;\n	var addElementToMasterGrp = function($layout,ele) {\n		var $layout = ($layout) ? $.extend(true,{},$layout) : {};\n		if ($layout && $layout['master_group'] && $layout['master_group'] == 1) {\n			if (!$layout['group']) {\n				$layout['group'] = [];\n			}\n			$layout['group'].push(ele);\n		}\n		else if ($layout && $layout['group']) {\n			for (var $i in $layout['group']) {\n				var $g = $layout['group'][$i];\n				$layout['group'][$i] = addElementToMasterGrp($g,ele);\n			}\n		}\n		return $layout;\n	}\n\n	var addElementToModalGrp = function($layout,ele) {\n		var $layout = ($layout) ? $.extend(true,{},$layout) : {};\n		if ($layout && $layout[fullLayout.group.length-1].hasClass('isModal')) {\n			if (!$layout['group']) {\n				$layout['group'] = [];\n			}\n			$layout['group'].push(ele);\n		}\n		else if ($layout && $layout['group']) {\n			for (var $i in $layout['group']) {\n				var $g = $layout['group'][$i];\n				$layout['group'][$i] = addElementToModalGrp($g,ele);\n			}\n		}\n		return $layout;\n	}\n	var resize=false;\n\n	if (params && params.element) {\n\n		var $master_group = findMasterGroup();\n		trackIndicativeEvent('addSection', { 'type': params.element });\n		if($(\"#add-new-section\").data('appendToBlock')){\n			var appendToBlock = $(\"#add-new-section\").data('appendToBlock');//expects format g-5\n			if( appendToBlock.match(/after-/) ){\n				var appendId = ftGetId(appendToBlock.replace(/after-/,''));\n				params.appendToBlock = 'ftg-'+appendId;\n				params.afterBlock = true;\n			} else {\n				var appendId = ftGetId(appendToBlock);\n				params.appendToBlock = 'ftg-'+appendId;\n			}\n		}\n\n		if( params.appendToBlock || $master_group.length > 0 ){ //if there's a valid parent, no need to rebuild the page here.  simply add it to the parent.\n			var $newFtg = finetuneGroupMarkup(params);	//get the markup for the sidebar - returns html in the format <div id=\"ftg-53\"><!--content in here--></div>\n			if(params.appendToBlock){\n				var $parentFtg = $(\"#\"+params.appendToBlock );//objectify the parameter. ie. $(\"#ftg-52\");\n			} else { //fall back to the master group.\n				var $parentFtg = $(\"#ft\"+$master_group.prop('id') );//objectify the parameter. ie. $(\"#ftg-52\");\n			}\n			if(typeof params.afterBlock!=='undefined'){\n				$parentFtg.after($newFtg); //ie. $(\"#ftg-52\").after(<div id=\"ftg-53\">...</div>)\n			} else {\n				$parentFtg.append($newFtg); //ie. $(\"#ftg-52\").append(<div id=\"ftg-53\">...</div>)\n			}\n			var parent_gid = ftGetId($parentFtg);//ftg-52 -> 52\n			var fullLayout = finetuneGetEventLayout(null,$newFtg);\n			var newFtGrp = ftGetGrp($newFtg);\n		} else {\n			var fullLayout = finetuneGetEventLayout();\n		}\n\n		if (fullLayout.group) {\n			var layoutParams = {};\n			if( parent_gid ){\n				layoutParams['appendToBlock'] = parent_gid;\n				if(typeof params.afterBlock!=='undefined'){\n					layoutParams['afterBlock'] = true;\n				}\n				if(typeof $newFtg !== 'undefined'){\n					//subtract 1 because the group count is auto-incremented.\n					layoutParams['startingGrpCount'] = parseInt(ftGetId($newFtg)) - 1;\n				}\n			}\n\n			$body.addClass('loading-page');\n			if (toMaster && $master_group.length == 1) {\n				fullLayout = addElementToMasterGrp(fullLayout,params);\n			} else {\n				fullLayout.group.push(params);\n			}\n\n			constants.prevent_scroll = true;\n			finetuneDesignApplyThemeLayout(fullLayout, layoutParams, function(){\n				$body.removeClass('loading-page');\n				constants.prevent_scroll = false;\n			});\n\n		}\n		finetuneLayoutChangesMade();\n		setTimeout(function(){\n			$(window).trigger('resize');\n			var $e = $('#finetune-layout-contain').find('.section.ele-wrapper .element[e=\"'+params.element+'\"]:first');\n			if ($e.length == 1) {\n				var $ftg = $e.parents(\".ft-grp:first\");\n				updateNestAttr($ftg);\n				$ftg.find('>.title:first').click();\n			}\n		},0);\n\n	} else if (params && params.group ) {\n\n		if($(\"#add-new-section\").data('appendToBlock')){\n			var appendToBlock = $(\"#add-new-section\").data('appendToBlock');//expects format g-5\n			if( appendToBlock.match(/after-/) ){\n				var appendId = ftGetId(appendToBlock.replace(/after-/,''));\n				params.appendToBlock = 'ftg-'+appendId;\n				params.afterBlock = true;\n			} else {\n				var appendId = ftGetId(appendToBlock);\n				params.appendToBlock = 'ftg-'+appendId;\n			}\n		}\n\n		//if params.appendToBlock (expecting an ftg-id, like \"ftg-52\" ), we're going to add a section without rebuilding the entire page.\n		//much more efficient and speedy.\n		if( params.appendToBlock ){\n\n			var $newFtg = finetuneGroupMarkup(params);	//get the markup for the sidebar - returns html in the format <div id=\"ftg-53\"><!--content in here--></div>\n			var $parentFtg = $(\"#\"+params.appendToBlock);//objectify the parameter. ie. $(\"#ftg-52\");\n			$parentFtg.append($newFtg); //ie. $(\"#ftg-52\").append(<div id=\"ftg-53\">...</div>)\n			var parent_gid = ftGetId($parentFtg);//ftg-52 -> 52\n			var fullLayout = finetuneGetEventLayout(null,$newFtg);\n			var newFtGrp = ftGetGrp($newFtg);\n\n		} else {\n			var fullLayout = finetuneGetEventLayout();\n		}\n\n\n		if (fullLayout.group) {\n\n			var layoutParams = {};\n\n			if(params.cloningFromElementLibrary){\n				params.group.cloningFromElementLibrary = true;\n			}\n			var $master_group = findMasterGroup();\n\n			if( params.appendToBlock ){\n				layoutParams['appendToBlock'] = parent_gid;\n				if(params.afterBlock){\n					layoutParams['afterBlock'] = true;\n				}\n				if(typeof $newFtg !== 'undefined'){\n					//subtract 1 because the group count is auto-incremented.\n					layoutParams['startingGrpCount'] = parseInt(ftGetId($newFtg)) - 1;\n				}\n				//nothing to do here. add if necessary.\n\n			} else { //Only do this if NOT appending to another block.\n				if (toMaster && $master_group.length == 1) {\n					if(params.modalId){\n						fullLayout.group.push(params);\n						//addnewSection();\n					}else {\n						fullLayout = addElementToMasterGrp(fullLayout,params);\n					}\n				} else {\n					fullLayout.group.push(params);\n				}\n\n			}\n\n			constants.prevent_scroll = true;\n			finetuneDesignApplyThemeLayout(fullLayout, layoutParams, function(){\n				if(typeof newFtGrp!=='undefined'){\n					//THIS MUST BE DONE AFTER THE FACT to prevent these settings from saving to the new group.\n					if( newFtGrp['is_repeatable'] ){\n						delete newFtGrp['is_repeatable'];\n					}\n					if ( newFtGrp['appendToBlock'] ){\n						delete newFtGrp['appendToBlock'];\n					}\n				}\n				$(window).trigger('resize');\n				constants.prevent_scroll = false;\n				if(toMaster){\n					scrollToBlock($(\"#splash-container\").find(\".onPageAddSec:last\"));\n				}\n			});\n\n		}\n\n		finetuneLayoutChangesMade();\n	} else {\n		if(params && params.blockToClone){\n			// get the blank\n			var $originalBlock = params.blockToClone;\n			var originalGrp = ftGetGrp($originalBlock);\n			if(typeof originalGrp.element_type!=='undefined' && originalGrp.element_type!=''){\n				params.block_type = originalGrp.element_type;\n			} else {\n				params.block_type = $originalBlock.find(\".element > .sf\").attr(\"block-type\");\n			}\n\n			var $checkForChildren = $originalBlock.find(\".list-item:first\");\n			var $checkForEmbed = $originalBlock.find(\".embed\");\n\n			if($checkForChildren.length > 0){\n				params.child_type = $checkForChildren.attr(\"block-type\");\n			}\n			if($checkForEmbed.length > 0){//checking for an embed code.\n				params.embed_code = $checkForEmbed.html();\n			}\n\n\n			var $block = $originalBlock.clone();\n			$block = $('<div class=\"blank-group\">'+$block.wrap('<p/>').html()+'</div>');\n			$block.find('.crp-enabled').removeClass('crp-enabled').end()\n				.find(\".editable\").removeClass('editable hasTiny').end()\n				.find(\".tp-enabled\").removeClass('tp-enabled').end()\n				.find(\".edit-tools\").remove();\n			$block.removeAttr(\"id\").find(\".editable\").each(function(){\n				$(this).removeAttr(\"id\").find(\".edit-tools\").remove();\n				finetuneDeActivateEditable($(this));\n			});\n			$block.find(\".sf\").removeAttr(\"id\");\n\n		} else {\n			// get the blank\n			if(params.cloneObj){ //optional parameter to pass in.  Block is already found. just clone it.\n				var $block = params.cloneObj.clone();\n			} else {\n				var $blank_block = $(\"#blank-groups\").find('.sf[block-type=\"'+params.block_type+'\"]:first');\n				var $block = $blank_block.parents(\".blank-group\").clone();\n				var blank_block_opts = {};\n				blank_block_opts['parent'] = $blank_block.data('splashFeedOptions');\n				$.each( $blank_block.find('.children .sf'), function( index, sf ) {\n					blank_block_opts[index] = $(sf).data('splashFeedOptions');\n				});\n			}\n			trackIndicativeEvent('addSection', { 'type': params.block_type });\n		}\n\n		// assign a temporary sfid\n		var tid = Math.ceil(Math.random()*9000);\n		var sfid = 'new-'+tid;\n		$block.find(\".element > .sf\").prop(\"id\",'sfid-'+sfid);\n\n		// if we have children, give them csfids based on sfid AND mark fields for saving\n		var $children = $block.find('.children:first');\n		if ($children.length == 1) {\n			var x = 0;\n			$children.find('.sf').each(function(){\n				var csfid = sfid+'-'+''+x;\n				var $this = $(this);\n				$this.prop(\"id\",'sfid-'+csfid);\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][type]'] = params.child_type;\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][parent_splash_feed_id]'] = sfid;\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][title]'] = $this.find(\".title\").html();\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][body]'] = $this.find(\".body\").html()\n				if ($this.hasClass('wImg')) {\n					var $img = $this.find('.media.image:first');\n					var src = stripUrl($img.css('background-image'));\n					if ($img.length == 1 && src != '') {\n						finetuneEditedFields['data[SplashFeed]['+csfid+'][image_url]'] = src;\n					}\n				}\n\n				x++;\n			});\n		}\n\n		// set the block_type to save to this splash_feed row\n		finetuneEditedFields['data[SplashFeed]['+sfid+'][type]'] = params.block_type;\n\n		// hero image url saving\n		if (params.block_type == 'image') {\n			var $parentImg = $block.find('.image img:first');\n			if ($parentImg.length > 0 && $parentImg.length == '1') {//for hero, this makes sure the starter image url is sent.\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][image_url]'] = $parentImg.attr('src');\n			}\n		}\n\n		//checking to save the button being added on the fly\n		if (params.block_type == 'button') {\n			var website = $block.find(\".button-link\").prop('href');\n			if(typeof website!=='undefined' && website.match(/#/)){\n				website = '#'+website.split('#')[1];\n			}\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = website;\n		}\n\n		// set up for adding this new block to the admin layout tree\n		var element = 'custom-block-'+sfid;\n		$block.find('> .element:first').attr('id','element-'+element);\n\n		if (typeof EventSettingLayout==='undefined'){\n			EventSettingLayout = {};\n		}\n		if (typeof EventSettingLayout.elementNames == 'undefined') {\n			EventSettingLayout.elementNames = {};\n		}\n\n		var grp = {element:element};\n		// any group defaults passed from SplashFeed\n		var s = [];\n		var extra_classes = [];\n\n		if (typeof $block.attr('group')!=='undefined') {\n			var defaultGrp = $.parseJSON($block.attr('group'));\n			$.extend(true,grp,defaultGrp);\n		} else if(typeof params.blockToClone!=='undefined'){\n			var defaultGrp = originalGrp;\n			$.extend(true,grp,defaultGrp);\n			grp.element = element;\n			if(originalGrp['class']){\n				extra_classes.push(originalGrp['class']);\n			}\n		}\n\n		if(typeof defaultGrp!=='undefined'){\n			if (typeof grp.styles!=='undefined'){\n				for (var k in grp.styles) {\n					s.push( styleMarkup(grp.styles[k],k) );\n				}\n			}\n			if(typeof grp.width!=='undefined'){\n				extra_classes.push('w'+grp.width);\n			}\n			// if(typeof grp.position!=='undefined'){\n			// 	extra_classes.push('p-'+grp.position);\n			// }\n		}\n\n		EventSettingLayout.elementNames[element] = params.block_type;//important! has to be above finetuneGroupMarkup.\n\n		// admin layout tree block markup\n		var $newGroup = finetuneGroupMarkup(grp,1,params.block_type);\n		$newGroup.attr(\"block-type\",params.block_type);\n		// create the on-page markup from the blank\n		var group_num = $newGroup.prop(\"id\").replace(/^ftg./,'');\n		var $new_block = $('<div id=\"g-'+group_num+'\" class=\"grp layoutGrp element-'+element+' '+extra_classes.join(' ')+'\" style=\"'+s.join(';')+'\">'+$block.html()+'</div>');\n		$new_block.css('font-family',$(\"#secondary-font-input\").val()).find(\"h1,h2,h3\").css('font-family',$(\"#secondary-font-input\").val());\n\n\n		// assign the default data from the blank block to the new block\n		if ( typeof blank_block_opts != 'undefined' ) {\n			if ( typeof blank_block_opts['parent'] != 'undefined' ) {\n				$new_block.find('.sf:first').data('splashFeedOptions', blank_block_opts['parent'] );\n				finetuneEditedFields['data[SplashFeed]['+$new_block.find('.sf:first').attr('id').replace(/^sfid./,'')+'][options]'] = blank_block_opts['parent'];\n			}\n			$.each( $new_block.find('.children .sf'), function( index, sf ) {\n				$(sf).data('splashFeedOptions', blank_block_opts[index]);\n				finetuneEditedFields['data[SplashFeed]['+$(sf).attr('id').replace(/^sfid./,'')+'][options]'] = blank_block_opts[index];\n			});\n		}\n\n		// need to put the on-page $new_block into #main-canvas. either in the master group or at the bottom\n		var $master_group = findMasterGroup();\n		if(params.blockToClone && !params.appendToContainer){//if adding a clone\n			$originalBlock.after($new_block);\n			var $parent_group = $new_block.parents(\".layoutGrp:first\");//take the FIRST parent block of the new block.\n			if($parent_group.length > 0){\n				var $master_section = $(\"#ft\"+$parent_group.prop(\"id\"));\n			}\n		} else if($(\"#add-new-section\").data(\"appendToBlock\")){\n			var appendToBlock = $(\"#add-new-section\").data('appendToBlock');\n			if(appendToBlock.match(/after-/)){\n				var afterBlock = true;\n				var $block = $(\"#\"+appendToBlock.replace(/after-/,''));//ie $(\"#g-7\")\n				$block.after($new_block);\n			} else {\n				var $block = $(\"#\"+appendToBlock);//ie $(\"#g-7\")\n				$block.append($new_block);\n			}\n			//$block.find(\".onPageAddSec:first\").before($new_block);\n			$(\"#add-new-section\").data('appendToBlock',false);\n			var mgid = $block.prop(\"id\");//g-7\n			var $master_section = $(\"#ft\"+mgid);\n		} else if($master_group.length > 0){\n			if($master_group.hasClass('container-ele')) {\n				$master_child = $master_group.children('.layoutGrp:first');\n				$master_child.append($new_block);\n				var new_block_gid = $master_child.prop('id');//ie g-50.\n				var $master_section = $(\"#ft\"+new_block_gid);//ftg-50\n			}\n			else {\n				$master_group.append($new_block);\n				var new_block_gid = $master_group.prop('id');//ie g-50.\n				var $master_section = $(\"#ft\"+new_block_gid);//ftg-50\n			}\n\n		} else{\n			$(\"#main-canvas\").append($new_block);\n		}\n\n		// need to put the ftgrpmarkup in the sections tree\n		if ($master_section && $master_section.length == 1) {\n			if(typeof afterBlock!=='undefined'){//if we're adding AFTER the block, then don't append- Use .after() instead.\n				$master_section.after($newGroup);\n			} else {\n				$master_section.append($newGroup);\n			}\n			$master_section.removeClass('hide');\n\n		} else{\n			$('#finetune-layout-contain').append($newGroup);\n		}\n\n		// make sure the gallery section is always at the bottom of sections\n		//var $gallsection = $(\"#finetune-layout-contain\").find(\".section[chunk='album']\");\n		//if ($gallsection.length > 0) {\n			//$(\"#finetune-layout-contain\").append($gallsection);\n		//}\n\n		// apply and save children mode and img_shape\n		var mode = (grp && grp.mode) ? grp.mode : '';\n		var img_shape = (grp && grp.img_shape) ? grp.img_shape : '';\n\n		if (mode != '' || img_shape != '') {\n			if ($children.length > 0) {\n				if(params.blockToClone){//if adding a clone\n					var sf_data = $originalBlock.find(\".media:first\").data();\n					var saved_img_ratio = (sf_data && sf_data['splashFeedOptions'] && sf_data['splashFeedOptions']['saved_img_ratio'])?sf_data['splashFeedOptions']['saved_img_ratio']:''\n				}\n\n				$new_block.find(\".children:first\").find('.sf').each(function(){\n					var $t = $(this);\n					var csfid = (''+$t.attr('id')).replace(/^sfid./,'');\n					if (mode != '') {\n						$t.addClass(mode);\n						finetuneEditedFields['data[SplashFeed]['+csfid+'][options][mode]'] = mode;\n					}\n					if (img_shape != '') {\n						$t.addClass(img_shape);\n						finetuneEditedFields['data[SplashFeed]['+csfid+'][options][img_shape]'] = img_shape;\n						if(saved_img_ratio!=''){\n							finetuneEditedFields['data[SplashFeed]['+csfid+'][options][saved_img_ratio]'] = saved_img_ratio;\n						}\n					}\n				});\n			} else {\n				if (mode != '') {\n					$new_block.find(\".sf:first\").addClass(mode);\n					finetuneEditedFields['data[SplashFeed]['+sfid+'][options][mode]'] = mode;\n				}\n				if (img_shape != '') {\n					$new_block.find(\".sf:first\").addClass(img_shape);\n					finetuneEditedFields['data[SplashFeed]['+sfid+'][options][img_shape]'] = img_shape;\n				}\n			}\n		}\n\n		// for maps, we save width, height and zoom\n		if ( params.block_type == 'map' ) {\n			if ( typeof params.width != 'undefined' ) {\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][options][width]'] = params.width;\n			}\n			if ( typeof params.height != 'undefined' ) {\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][options][height]'] = params.height;\n			}\n			if ( typeof params.zoom != 'undefined' ) {\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][options][zoom]'] = params.zoom;\n			}\n		}\n\n		finetuneActivateOnPageEditables();\n		if(typeof params.value!=='undefined'){\n			$new_block.find(\".body\").html(params.value);\n		}\n		if (typeof params.embed_code!=='undefined'){\n			if(typeof params.website!=='undefined'){\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = params.website;\n				$new_block.find(\".grp.embed\").html('<a href=\"'+params.website+'\" class=\"embed-url\">'+params.embed_code+'</a>').trigger('change');\n			} else {\n				$new_block.find(\".grp.embed\").html(params.embed_code).trigger('change');\n			}\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][embed_code]'] = params.embed_code;\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][title]'] = params.title||params.embed_code;\n		}\n		if(typeof params.body!=='undefined'){\n			if(typeof params.embed_code!=='undefined'){\n				if(params.block_type=='map'){//kill the extra <h2>\n					$new_block.find(\".body\").html((''+params.body).replace(/\\n/g,\"<br>\"));\n				} else {\n					$new_block.find(\".body\").html('<h2>'+(''+params.body).replace(/\\n/g,\"<br>\")+'</h2>');\n				}\n			} else{\n				$new_block.find(\".body\").append(params.body);\n			}\n		}\n\n		var $parentDropArea = $new_block.parents(\"div.drop-area:first\");//if this is within a column container, remove the \"not-edited\" class.\n		if($parentDropArea.length > 0){\n			var parentGrp = ftGetGrp($parentDropArea);\n			if(parentGrp && parentGrp['class']){\n				parentGrp['class'] = parentGrp['class'].replace(/not-edited/g,'');\n			}\n			$parentDropArea.removeClass('not-edited');\n		}\n\n		leaveInheritedStateIntact = true;\n		$new_block.find(\".body\").trigger('change').end()\n			  .find(\".title\").trigger('change').end()\n			  .find(\".timeHolder\").trigger('change');\n		leaveInheritedStateIntact = false;\n		var gid = 'g-'+group_num;\n		var $ftg = $('#ftg-'+group_num);\n		setTimeout(function(){\n			scrollToBlock($new_block,-50,null,true);\n			//if(typeof $ftg !== 'undefined'){\n				updateNestAttr($ftg);\n\n				//add highlight to new section\n				setTimeout(function(){\n					$ftg.children('span.title').addClass('dragging')\n				},200)\n				setTimeout(function(){\n					$ftg.children('span.title').removeClass('dragging')\n				},400)\n				var $accordion = $('#acc-ftg-'+group_num);\n				if(!$accordion.hasClass('bound')){\n					var grp = ftGetGrp($ftg);\n					if(params.block_type && params.block_type=='event-hub'){\n						var $blank_group = $(\"#blank-groups .event-hub\");\n						var options = $blank_group.data('splashFeedOptions');\n						if(options){\n							grp['options'] = options;\n						}\n\n						if(grp['options']){\n							finetuneEditedFields['data[SplashFeed]['+sfid+'][options]'] = grp['options'];\n						}\n						if(grp['mode']){\n							finetuneEditedFields['data[SplashFeed]['+sfid+'][mode]'] = grp['mode'];\n						}\n					}\n				}\n			//}\n		},10);\n		if(typeof $containerScroll!=='undefined' && $containerScroll) {\n			setTimeout(function(){\n				setTimeout(function(){\n					$ftg.children('span.title').addClass('dragging')\n					},200)\n					setTimeout(function(){\n						$ftg.children('span.title').removeClass('dragging')\n						$containerScroll = false;\n						scrollToBlock($new_block,-50,null,true);\n					},400)\n			},5000)\n		}\n		$(\"#allSectionsContain\").scrollTop( $(\"#allSectionsContain\").height() );\n		$(\"#nestedLayoutContainer\").scrollTop( $(\"#finetune-layout-contain\").height() );//scroll to bottom so we can see new section.\n		setWindowHeight($(\"#nestedLayoutContainer\"));\n		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n		updateMainCanvasCClasses();\n		closeCustomSection();\n		addElementButtons();\n		updateFLCxN();\n\n\n		// countdown element, initiate it\n		if ( params.block_type == 'countdown' ) {\n			CountdownElement.init( $new_block.find('.sf') );\n		}\n		// attendees element, initiate it\n		else if ( params.block_type == 'attendees' ) {\n			AttendeesElement.init( $new_block.find('.sf') );\n		}\n\n\n		if(!inAdvancedMode()){\n			makeGrpsSortable(true);\n			$('.moveCursor').addClass('hide');\n\n		}\n\n		if ( params.block_type == 'comments' ) {\n			CommentsElement.firstTimeLoad( $new_block.find(\".sf.comments:first\") );\n		}\n\n		if ( params.block_type == 'img_gal' ) {\n			galleryCarousel.init($new_block.find(\".sf\"));\n		}\n\n	}\n\n\n	if(_callback){\n		if(typeof $new_block!=='undefined'){\n			_callback($new_block);\n		} else {\n			_callback();\n		}\n	}\n\nmakeGrpsSortable();\n}\n\nvar leaveInheritedStateIntact = false;\nfunction finetuneMarkAllCustomBlockFields() { // {{{\n	var $allInheritedBlocks = $('#main-canvas').find('.element[inherited-theme=\"true\"]');\n	leaveInheritedStateIntact = true;\n	$allInheritedBlocks.each(function(){\n		var $block = $(this).find('> .sf:first');\n		var sfid = (''+$block.attr('id')).replace('sfid-','');\n		// types and parent ids and images of any children\n		finetuneEditedFields['data[SplashFeed]['+sfid+'][type]'] = $block.attr('block-type');\n		if ($block.hasClass('wImg')) {\n			var $img = $block.find('> .image:first img:first');\n			if ($img.length == 1) {\n				finetuneEditedFields['data[SplashFeed]['+sfid+'][image_url]'] = $img.attr('src');\n			}\n		}\n		var $children = $block.find('.children:first');\n		if ($children.length) {\n			$children.find('.sf').each(function(){\n				var $child = $(this);\n				var csfid = (''+$child.attr('id')).replace('sfid-','');\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][type]'] = $child.attr('block-type');\n				finetuneEditedFields['data[SplashFeed]['+csfid+'][parent_splash_feed_id]'] = sfid;\n				if ($child.hasClass('wImg')) {\n					var $img = $child.find('.image:first img:first');\n					if( $img.parents(\".list-item:first\").hasClass('no-shape')){\n						var src = $img.attr('src');\n					} else {\n						var src = $img.parents(\".image:first\").css('background-image');\n						src = stripUrl(src);\n					}\n					if ($img.length == 1) {\n						finetuneEditedFields['data[SplashFeed]['+csfid+'][image_url]'] = src;\n					}\n				}\n			});\n		}\n		// now all editable fields... title, body\n		$block.find('.editable').each(function(){\n			$(this).trigger('change');\n		});\n\n		// now for the pièce de résistance\n		saveSplashFeedChildOptions($block.parents('.layoutGrp:first'));\n	});\n	leaveInheritedStateIntact = false;\n\n	finetuneFieldChangesMade();\n\n} // }}}\n\nfunction updateEmbed(params){\n	var $grp = $(\"#g-\"+params['group_id']);\n	if($grp.length > 0){\n		var $embed = $grp.find(\".grp.embed\"),\n			sfid = $embed.parents(\".sf:first\").prop(\"id\").replace('sfid-','');\n\n		if(typeof params.website!=='undefined'){\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = params.website;\n			$embed.html('<a href=\"'+params.website+'\" class=\"embed-url\">'+params.embed_code+'</a>').trigger('change');\n		} else {\n			$embed.html(params.embed_code).trigger('change');\n		}\n		finetuneEditedFields['data[SplashFeed]['+sfid+'][embed_code]'] = params.embed_code;\n		finetuneEditedFields['data[SplashFeed]['+sfid+'][title]'] = params.title||params.embed_code;\n\n		// for embed maps, we save width height and zoom, so that when duplicating the page we have this info\n		if ( typeof params.width != 'undefined' && typeof params.height != 'undefined' && typeof params.zoom != 'undefined' ) {\n			json_opts = $('#sfid-'+sfid).data('splashFeedOptions');\n			json_opts.width = params.width;\n			json_opts.height = params.height;\n			json_opts.zoom = params.zoom;\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][options]'] = JSON.stringify(json_opts);\n		}\n\n		if(typeof params.title!=='undefined'){\n			var $accordion = $(\"#acc-ftg-\"+params['group_id']);\n			if($accordion.length > 0){//update the embed title.\n			 	$accordion.find(\".blockEmbedHolder\").find(\".form-wrap .title\").html('<p>'+params.title+'</p>');\n				$accordion.find(\".title:first\").text(params.title);\n				$(\"#ftg-\"+params['group_id']).find(\".title\").text(params.title.toLowerCase());\n			}\n		}\n		if(typeof params.body!=='undefined' && params.body!=''){\n			$grp.find(\".body\").html('<h2>'+(''+params.body).replace(/\\n/g,\"<br>\")+'</h2>');\n		}\n\n		$grp.find(\".body\").trigger('change');\n		$grp.find(\".title\").trigger('change');\n\n  		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n	}\n}\n\n//<<<2.0>>> - is this still needed? closeCustomSection() is called in most places now.\nfunction backToFineTune(backId){\n	$(\"#fineTuneForm .inner-pane:first\").css('margin-left','0em');\n	if(!inCustomSection){//if we're going back from a custom section, no need to close the custom section.  it is annoying.\n		$(\"#sections-wrap\").removeClass('open');\n	}\n\n	if($(\"#gatherSocialContent\").hasClass('pressed')){//if they're closing the section, close the gallery adder.\n		$(\"#gatherSocialContent\").click();\n	}\n\n	$(\"#fontComboContain\").removeClass('editing');\n\n	inCustomSection=false;\n\n	setVisibleAccordionHeight();\n\n}\n\nfunction inDesignerMode(){\n	if(constants.designer_mode == 'designer'){\n		return true;\n	} else {\n		return false;\n	}\n}\n\nfunction inAdvancedMode(){\n	if( constants.designer_mode == 'builder'){\n		return true;\n	} else {\n		return false;\n	}\n}\n\nfunction inBuilderView(){\n	if( constants.is_builder == 1 ){\n		return true;\n	} else {\n		return false;\n	}\n}\n\nfunction shownDesignerWarning(){\n	if( JSCookies.getItem('shownDesignerWarning') == 'true' ){\n		return true;\n	} else {\n		return false;\n	}\n}\n\n\nfunction finetuneGetThemeStyleInputs(alsoChangesMadeInputs) {\n	var alsoChangesMadeInputs = alsoChangesMadeInputs || false;\n	var sel = '[name^=\"data[EventSetting][theme_styles]\"]';\n	if (alsoChangesMadeInputs) {\n		sel += ',input.changes-made,textarea.changes-made,select.changes-made';\n	}\n	return $('#finetune-block').find(sel);\n}\n\nfunction finetuneDesignPopulateThemeStyles(theme_styles,forceTrigger,_callback)\n{ // {{{\n\n	if(forceTrigger==null){\n		forceTrigger = false;\n	}\n\n	if (!theme_styles) { return; }\n	var lastThemeId = $(\"#event-theme-input\").attr(\"last-theme-id\");\n\n	if(forceTrigger){\n\n		var header_image = $(\"#header-image-source\").val();\n		var dims = $(\"#header-image-dims\").val();\n		if($(\"#header-image-changed\").val() == '1' ){ //if the header has been changed, update it.\n			var $group = getTargetById('header');\n			updateGroupImage($group,{ 'src': header_image, 'dims': dims });\n			$group.find(\"img.bg:first\").prop(\"src\",header_image);\n		} else if(theme_styles['header']['image']) {\n			$(\"#header-image-source\").val(theme_styles['header']['image']);\n		}\n\n		//update swatch combos.\n		$(\"#event-swatch-input\").val(theme_styles['swatch']);\n		$(\"#theme-color-combos\").val(theme_styles['color_combos']);\n		$(\"#theme-link-combos\").val(theme_styles['link_combos']);\n		$(\"#theme-font-combos\").val( theme_styles['font_combos'] );\n		\n		if(theme_styles['selected_font_combo'] && theme_styles['selected_font_combo']!=''){\n			$(\"#event-font-combo\").val( theme_styles['selected_font_combo']);\n			$(\"#primary-font-input,#secondary-font-input\").val('');\n		} else {\n			//clean legacy fallback.\n			$(\"#event-font-combo\").val('');\n			$(\"#primary-font-input\").val(theme_styles['main']['primary_font']);\n			$(\"#secondary-font-input\").val(theme_styles['main']['secondary_font']);		\n		}\n\n		populateColorCombos({ force: true });\n		splash.fontActions.init(); // reinitiliaze font combos with new combos.\n\n	 	var rsvp_inline = theme_styles.rsvp_inline||0,\n	 		currentVal = $(\"#rsvp-inline-checkbox\").val();\n\n		if(currentVal!=theme_styles.rsvp_inline){//either 0 or 1\n			$(\"#rsvp-inline-theme-style\").val(rsvp_inline).trigger('change');\n			setCheck($(\"#rsvp-inline-checkbox\"),rsvp_inline,forceTrigger);\n		}\n\n		if(typeof theme_styles.headerIsBg!=='undefined'){\n			var val = theme_styles.headerIsBg||0;\n			setCheck($(\"#headerIsBg\"),val,forceTrigger);\n		} else {\n			setCheck($(\"#headerIsBg\"),0);\n		}\n\n		var val = theme_styles.tieBgToHeader||0;\n		setCheck($(\"#tieBgToHeader\"),val,forceTrigger);\n\n		//this deals with hiding any sections that were already hidden after switching.\n		$(\"#finetune-hide_when,#finetune-hide_where,#finetune-all-tools input.hide_field_check\").each(function(){\n			$(this).toggleAccordion(true);\n		});\n		$(\"#finetune-hide_when,#finetune-hide_where\").trigger('change');\n\n		if (_callback && typeof(_callback) === \"function\") {\n	        _callback();\n	    }\n	    return;\n	}\n\n} // }}}\n\nfunction styleMarkup(v,k){// {{{\n	var styles = [];\n\n	if (v && (typeof v == 'array' || typeof v == 'object') ){\n		for (var sk in v) {\n			var sv = v[sk];\n			if(sv!='' && sv!='em' && sv!='px'){\n				if (!isNaN(sv)) {\n					if(sv>6){\n						sv += 'px';\n					} else{\n						sv += 'em';\n					}\n				}\n				styles.push(k+'-'+sk+':'+sv);\n			}\n\n		}\n	} else if (k == 'transform') {\n		styles.push('-webkit-transform: '+v);\n		styles.push('-moz-transform: '+v);\n		styles.push('-ms-transform: '+v);\n		styles.push('transform: '+v);\n	} else if ( k == 'hide' || k == 'hidden' || k =='bg-type' ){\n		return;\n	} else {\n		if(v!='' && v!='em' && v!='px' && k!='z-index'){\n			if(!isNaN(v)){\n				if(v=='1'&&k=='hide'){\n					k='display';v='none';\n				} else{\n					if(v>6){\n						v += 'px';\n					} else{\n						v += 'em';\n					}\n				}\n			}\n			styles.push(k+':'+v);\n		} else if(k == 'z-index'){\n			styles.push(k+':'+v);\n		}\n	}\n	return styles.join(';');\n} // }}}\n\nfunction buildSwatches(swatches){\n	var swatch_classes = [];\n	//expects multi-array in format swatchX => array(bg => colorx, text => colory), where colorx and colory are indices.\n	for(var swatch in swatches){\n		for(var key in swatches[swatch]){\n			var val = swatches[swatch][key];\n			if(val!=''){\n				swatch_classes.push(swatch+'-'+key+'-'+val);//ie. swatch1-bg-2, swatch4-text-3.\n			}\n		}\n	}\n	return swatch_classes.join(' ');\n}\n\nfunction quickGroupMarkup(group,x,skipCustomCheck,myGroupCount) { // {{{\n	var skipCustomCheck = skipCustomCheck || false;\n	var x = x || 1;\n	var s = [];\n	var image = false;\n	//groupCount++;\n\n	var c = generateClassesFromGroup(group);\n	var attr = generateAttributesFromGroup(group);\n\n	if (group.bgimage) {\n		c.push('img');\n		s.push(\"background-image:url('\"+group.bgimage+\"')\");\n		image = group.bgimage;\n	}\n\n	if (group.element && $.inArray(group.element,hiddenElements) > -1) {\n		if (typeof group.styles == 'undefined') {\n			group.styles = {};\n		}\n		group.styles.hidden = \"1\";\n	}\n\n	if (group.styles) {\n		for (var k in group.styles) {\n			s.push(styleMarkup(group.styles[k],k));\n			if (k == \"hidden\" && group.styles[k] == \"1\") {\n				c.push('hide');\n				s.push('display:none');\n			}\n		}\n	}\n\n	var attr_str = '';\n	for(var y in attr){\n		attr_str+=y+'=\"'+attr[y]+'\" ';//ie lock=\"true\" bob=\"funny\" etc.\n	}\n\n	var markup = '<div id=\"g-'+myGroupCount+'\" class=\"grp '+c.join(' ')+' x'+x+' layoutGrp\" style=\"'+s.join(';')+'\" '+attr_str+'>';\n	// NO\n	if (image !== false && group.eventImage) {\n		markup += '<img class=\"bg\" src=\"'+image+'\" />';\n	}\n	//markup += innermarkup;\n\n	markup += '</div>';\n\n	return markup;\n} // }}}\n\nfunction finetuneDesignApplyThemeLayout(layout,params,_callback){ // {{{\n	var layout = $.extend(true,{},layout) || false,\n		theme_id = params.theme_id || false,\n		customLayoutLibrary = false,\n		$mc = $(\"#main-canvas\");\n\n	if (layout == false) {\n		if(typeof _callback=='function'){\n			_callback();\n		}\n		return;\n	}\n	// save what we have now for reverting later on\n	var existingLayout = $.extend(true,{},finetuneGetEventLayout());\n	var existingCustoms = [];//this array is blocks that were manually added by the user.  We want these to stick around on theme switch.\n	var inheritedCustoms = [];//this array is blocks that the page will INHERIT from the theme you are switching to.\n	var hiddenElements = [];\n	// set up the on-page version of the layout markup\n	if(params.appendToBlock){ //this is only a partial upgrade. cannot start groupCount at 0.\n		if(params.startingGrpCount){\n			var groupCount = params.startingGrpCount;\n		}\n		else {\n			//I don't believe this is ever called anymore, but it is a fallback just in case.  Regardless, it is wrong logic!\n			var groupCount = $(\"#main-canvas\").find(\"div.layoutGrp\").length;\n		}\n	} else {\n		var groupCount = 0;\n	}\n\n	var elementsToPull = [];\n	var elementsToPullTypes = {};\n	var pullOnlyForOptions = {};\n\n	var scrapeCustoms = function(lay){ // {{{\n		if (lay.element) {\n			if ((''+lay.element).match(/^custom.block./)) {\n				if($.inArray(lay.element,existingCustoms)<0 && $.inArray(lay.element,inheritedCustoms)<0){\n					var type = $('#element-'+lay.element+' > .sf:first').attr('block-type');\n					existingCustoms.push([lay.element,type]);\n				}\n			} else if (lay.element == 'gallery') {\n				existingCustoms.push(['gallery','gallery']);\n			}\n			if (lay.styles && lay.styles.hidden && lay.styles.hidden == \"1\") {\n				hiddenElements.push(lay.element);\n			}\n		} else if (lay.group) {\n			for (var i in lay.group) {\n				scrapeCustoms(lay.group[i])\n			}\n		}\n	} // }}}\n\n\n	var layoutMarkup = function(lay,x,skipCustomCheck,forceElementPull) { // {{{\n		var skipCustomCheck = skipCustomCheck || false;\n		var forceElementPull = forceElementPull || false;\n		var x = x || 1;\n		var markup = '';\n		for (var i in lay) {\n			if (i !== 'hidden' && i != 'cloningFromElementLibrary') {\n				markup += groupMarkup(lay[i],x,skipCustomCheck,forceElementPull);\n			}\n		}\n		return markup;\n	} // }}}\n\n	var groupMarkup = function(group,x,skipCustomCheck,forceElementPull) { // {{{\n		var skipCustomCheck = skipCustomCheck || false;\n		var forceElementPull = forceElementPull || false;\n		var x = x || 1;\n		var s = [];\n		var image = false;\n		groupCount++;\n		var c = generateClassesFromGroup(group);\n		var attr = generateAttributesFromGroup(group);\n\n		if(group['cloningFromElementLibrary']){\n			forceElementPull = true;\n			customLayoutLibrary = true; //super duper important. sets the variable to true for the duration of the outer function call.\n			delete group['cloningFromElementLibrary'];//important. don't want it to be saved with the case.\n		}\n\n		if (group.bgimage) {\n			c.push('img');\n			s.push(\"background-image:url('\"+group.bgimage+\"')\");\n			image = group.bgimage;\n		}\n\n		var myGroupCount = groupCount;\n		var innermarkup = '';\n		if (group.group && group.group.length > 0) {\n			innermarkup += layoutMarkup(group.group,x+1,skipCustomCheck,forceElementPull);\n		} else if (group.element) {\n			innermarkup += elementMarkup(group,skipCustomCheck,forceElementPull);\n		}\n\n		if (group.element && $.inArray(group.element,hiddenElements) > -1) {\n			if (typeof group.styles == 'undefined') {\n				group.styles = {};\n			}\n			group.styles.hidden = \"1\";\n		}\n\n		if (group.styles) {\n			for (var k in group.styles) {\n				s.push(styleMarkup(group.styles[k],k));\n				if (k == \"hidden\" && group.styles[k] == \"1\") {\n					c.push('hide');\n					s.push('display:none');\n				}\n			}\n		}\n\n		var attr_str = '';\n		for(var y in attr){\n			attr_str+=y+'=\"'+attr[y]+'\" ';//ie lock=\"true\" bob=\"funny\" etc.\n		}\n\n		var markup = '<div id=\"g-'+myGroupCount+'\" class=\"grp '+c.join(' ')+' x'+x+' layoutGrp\" style=\"'+s.join(';')+'\" '+attr_str+'>';\n		// NO\n		if (image !== false && group.eventImage) {\n			markup += '<img class=\"bg\" src=\"'+image+'\" />';\n		}\n\n		markup += innermarkup;\n\n		markup += '</div>';\n		return markup;\n	} // }}}\n\n	var fixDateVenueWhiteSpace = function(){\n		//this deals with adding a needed space for venue and date.\n		$(\"#splash-container\").find(\"div.mega-location-wrap,div.mega-date-wrap\").find(\".layoutGrp:visible\").each(function(){\n			$(this).before(' ');\n		});\n	}\n\n	var elementMarkup = function(group,skipCustomCheck,forceElementPull) { // {{{\n		var skipCustomCheck = skipCustomCheck || false;\n		var forceElementPull = forceElementPull || false;\n		var elementName = group.element;\n		var elementMarkup = '';\n		var $exist = $('#element-'+elementName);\n\n		if(group['cloningFromElementLibrary']){\n			forceElementPull = true;\n			customLayoutLibrary = true; //super duper important. sets the variable to true for the duration of the outer function call.\n			delete group['cloningFromElementLibrary'];//important. don't want it to be saved with the case.\n		}\n\n		var joy = false;\n		if (!skipCustomCheck && params.themeSwitch && elementName.match(/^custom.block./) && group.element_type && !forceElementPull) {\n			for (var i in existingCustoms) {\n				// if we haven't already found one\n				if (joy === false) {\n					var ele = existingCustoms[i][0];\n					var type = existingCustoms[i][1];\n					if (ele != elementName && type == group.element_type) {\n						elementName = ele;\n						joy = i;\n					} else if (ele == elementName && type == group.element_type) {\n						// what the hell guys\n						existingCustoms.splice(i,1); // delete this existing custom\n					}\n				}\n			}\n			if (joy !== false) {\n				existingCustoms.splice(joy,1); // delete this existing custom\n			}\n		}\n\n		if (joy === false) {\n			if ($exist.length == 1 && !forceElementPull) {\n				elementMarkup += $exist.html();\n				$exist.remove();\n			} else {\n				elementsToPull.push(group.element);\n				if (group.element_type) {//optional\n					elementsToPullTypes[group.element] = group.element_type;\n				}\n				if (forceElementPull) {\n					elementName += '-pulling';\n					elementMarkup = '<div class=\"thisLoader loading element-library-loader\"><div class=\"nu-loader small\"></div></div>';\n				}\n			}\n		} else {\n			// elementName was changed to the found one\n			var $joyExist = $('#element-'+elementName);\n			if ($exist.length == 1 && $joyExist.length == 1) {\n				elementMarkup += $joyExist.html();\n				$joyExist.remove();\n				group.element = elementName;\n				// steal options from the existing one's children\n			} else if ($exist.length == 0 && $joyExist.length == 1) {\n				elementMarkup += $joyExist.html();\n				$joyExist.remove();\n				elementsToPull.push(group.element);\n				if (group.element_type) {\n					elementsToPullTypes[group.element] = group.element_type;\n				}\n				// pullOnlyForOptions will steal child options\n				pullOnlyForOptions[group.element] = elementName;\n				group.element = elementName;\n\n			} else if ($exist.length == 1 && $joyExist.length == 0) {\n				// wtf guys\n				elementMarkup += $exist.html();\n				$exist.remove();\n			} else if ($exist.length == 0 && $joyExist.length == 0) {\n				elementsToPull.push(group.element);\n				if (group.element_type) {\n					elementsToPullTypes[group.element] = group.element_type;\n				}\n			}\n		}\n\n		var rawBlockId = elementName.replace('custom-block-','');\n		var markup = '<a class=\"nav-jump\" id=\"to'+rawBlockId+'\" name=\"to'+rawBlockId+'\"></a>';\n		markup += '<div id=\"element-'+elementName+'\" class=\"element\">';\n		markup += elementMarkup;\n		markup += '</div><!-- end element-'+elementName+' -->';\n		return markup;\n	} // }}}\n\n	// this actually removes things from #main-canvas\n	var newHTML = layoutMarkup(layout.group);\n\n	if(params.themeSwitch){//important! this has to happen before we wipe out the layout of the page below.\n		$mc.find('.element[inherited-theme=\"true\"]').each(function(){\n			inheritedCustoms.push((''+$(this).attr('id')).replace('element-',''));\n		});\n	}\n\n	if(params.appendToBlock){ //only a partial adding of content to page instead of rebuilding the entire thing. this is obviously preferred.\n		if(params.afterBlock){\n			$(\"#g-\"+params.appendToBlock).after(newHTML);\n		} else {\n			$(\"#g-\"+params.appendToBlock).append(newHTML);\n		}\n	} else {\n		//more efficient than looping through each layoutgroup and then appending it all before lastClear.\n		newHTML += '<div id=\"lastClear\" class=\"clear\"></div>';\n		$mc.html(newHTML);\n		finetuneLayoutInit(layout);\n	}\n\n	// add any of my existing custom elements to the end of the new layout and to main-canvas master_group or end\n	if (params.themeSwitch) {\n\n		var $masterGroup = findMasterGroup();\n		var mgid = $masterGroup.prop(\"id\");//in form \"g-id\".\n		var $masterSection = $(\"#ft\"+mgid);\n\n		scrapeCustoms(existingLayout);//this call is only needed when rebuilding the whole page.\n\n		for (var i in existingCustoms) {\n			if ($('#element-'+existingCustoms[i][0]).attr('inherited-theme')) {\n				// don't put us back if we were inherited and not already edited!\n			} else {\n				var ele = existingCustoms[i][0],\n					type = existingCustoms[i][1],\n					html = groupMarkup({element: ele, element_type: type},1,true),\n					$ftg_html = finetuneGroupMarkup({element: ele, element_type: type}),\n					mygrp = {element: ele, element_type: type},\n					$html_obj = $(html);\n\n				if ($html_obj.hasClass('hide')) {\n					mygrp['styles'] = {hide: 1};\n				}\n\n				if ($masterGroup.length == 1) {\n\n					var addElementToMasterGrp = function($layout,ele) {\n						var $layout = ($layout) ? $.extend(true,{},$layout) : {};\n						if ($layout && $layout['master_group'] && $layout['master_group'] == 1) {\n							if (!$layout['group']) {\n								$layout['group'] = [];\n							}\n							$layout['group'].push(ele);\n						}\n						else if ($layout && $layout['group']) {\n							for (var $i in $layout['group']) {\n								var $g = $layout['group'][$i];\n								$layout['group'][$i] = addElementToMasterGrp($g,ele);\n							}\n						}\n						return $layout;\n					}\n					layout = addElementToMasterGrp(layout,mygrp);\n\n					$masterGroup.append($html_obj);\n					$masterSection.append($ftg_html);\n				} else {\n										// layout.group.push(mygrp);\n					$('#lastClear').before($html_obj);\n					$('#finetune-layout-contain').append($ftg_html);\n				}\n			}\n		}\n	}\n\n	// this will hide/show the necessary sections\n	$(\"#finetune-layout-contain\")\n		.find(\".adminBlock\").addClass('hide')\n		.end().find('.section.open').removeClass('open');\n\n	var pull_params = { elements: elementsToPull, theme_id: theme_id };\n	if(customLayoutLibrary){\n		pull_params.layout_block_id = true;\n	}\n\n	// now to pull the missing elements from das server\n	if (elementsToPull.length > 0) {\n\n		$.ajax({\n			url: '/splash/pullElements/'+constants.event_id,\n			type: 'post', data: pull_params\n		}).done(function(response){\n			var $r = $(response);\n			for (var i in elementsToPull) {\n				var $ele = $r.find('.element[pulled-id=\"'+elementsToPull[i]+'\"]:first');\n				if ($ele.length == 1) {\n					// if we just wanted the options.. copy them\n					if (typeof pullOnlyForOptions[elementsToPull[i]] != 'undefined') {\n						var pulledChildOpts = getSplashFeedChildOptions($ele);\n						var $targetEle = $('#element-'+pullOnlyForOptions[elementsToPull[i]]);\n						if ($targetEle.length == 1) {\n							$childrens = $targetEle.find('.children > .sf');\n							if ($childrens.length > 0) {\n								var allMyModes = '';\n\n								if (typeof elementsToPullTypes[elementsToPull[i]] != 'undefined') { // {{{\n\n									var group_id = $targetEle.parents(\".layoutGrp:first\").prop(\"id\");//should be in format 'g-$groupnumber';\n									var $acc = $(\"#acc-ft\"+group_id);//now find the corresponding accordion for this group so we can assign the proper mode for this new item.\n									//assuming we get in, grab the mode of this block so we can apply it to the new item.\n									if($acc.length > 0){\n										if(!$acc.hasClass('bound')){\n											var block_type = elementsToPullTypes[elementsToPull[i]];\n											var $modes = $acc.find(\".modes[type='\"+block_type+\"']\");\n											if($modes.length>0){\n												$modes.find(\".nu-btn\").each(function(){\n													allMyModes += $(this).attr(\"value\")+' ';\n												});\n											}\n										} else {\n											var $mode = $acc.find(\"input.mode\");\n											var mode = $mode.val();\n											$mode.parents(\".modes:first\").find(\".nu-btn\").each(function(){\n												allMyModes += $(this).attr(\"value\")+' ';\n											});\n											var $img_shapes = $acc.find(\"input.img_shape\");\n											var img_shape = $img_shapes.val();\n											$img_shapes.parents(\".shapes:first\").find(\".nu-btn\").each(function(){\n												allMyModes += $(this).attr(\"value\")+' ';\n											});\n										}\n									}\n								} // }}}\n\n								$childrens.each(function(){\n									var $me = $(this);\n									for(i=0;i<layoutOptions.modes.length;i++){\n										$me.removeClass(layoutOptions.modes[i]);\n									}\n									$me.removeClass(layoutOptions.shapes.join(' '));\n									var options = $me.data('splashFeedOptions');\n									if (!options) {\n										options = {};\n										$me.data('splashFeedOptions',options);\n										if (pulledChildOpts.length > 0) {\n											var opts = pulledChildOpts.shift();\n											$.extend(true,options,opts); // this should put the new values into the options array to save.. AND in splashFeedOptions\n										}\n									}\n									if (options && options.mode) {\n										$me.addClass(options.mode);\n									}\n									if (options && options.img_shape) {\n										$me.addClass(options.img_shape);\n									}\n									var mysfid = (''+$me.attr('id')).replace('sfid-','');\n									finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]'] = $.extend(true,{},options);\n									finetuneFieldChangesMade();\n								});\n							}\n						}\n					} else {\n						var onPageSelector = '#element-'+elementsToPull[i];\n						if (customLayoutLibrary) {\n							onPageSelector += '-pulling';\n						}\n						$(onPageSelector).replaceWith($ele);\n						var pulledEventId = $ele.attr('pulled-from-event-id');//checking here to see if this element was pulled from this event.\n						if(elementsToPull[i].match(/^custom.block./) && pulledEventId!=null && constants.event_id != pulledEventId ){\n							$ele.attr(\"inherited-theme\",true);\n						}\n						if (elementsToPull[i] == 'gallery') {\n							gallerySortInit();\n							$('#gallery-container').removeClass('hide');\n							setTimeout(function(){\n								$('#gallery-thumbs').find('img.lazy').each(function(){\n									lazyLoad(this);\n								});\n							},1); // FORK\n						}\n\n						//at this point, we need to make sure the content saves.\n						//$ele.find(\".title\")\n						//$ele.find(\".\")\n						//$ele.find(\".title,.body\").trigger('change');\n\n						var newIdReplace = $ele.attr('newIdReplace');\n						if (newIdReplace) {\n							var ar = (''+newIdReplace).split(';');\n							if (ar.length == 2) {\n								if( params.appendToBlock ) {\n									//nothing to do here.\n								} else {\n									finetuneNewBlockIds.unshift(ar);\n								}\n							}\n							// layout = replaceNewSplashFeedIdsInLayout(layout,ar[0],ar[1]);\n							// meche replace the id='element-themeid' with id='element-ar[1]' EVERYWHERE - on page.. and on the left\n							replaceSFIDEverywhere(ar[0],ar[1]);\n							var newName = 'Block';\n							if (elementsToPullTypes[elementsToPull[i]]) {\n								newName = elementsToPullTypes[elementsToPull[i]];\n							}\n\n							EventSettingLayout.elementNames['custom-block-'+ar[0]] = newName;\n							EventSettingLayout.elementNames['custom-block-'+ar[1]] = newName;\n						}\n						if (elementsToPull[i] == 'facebook-comments') {\n							if ( typeof FB != 'undefined' ) FB.XFBML.parse($ele[0]);\n						}\n					}\n				}\n				//Insert else if length is 0 if you need to remove the empty element blocks on theme switch -- seems to be an issue only on local right now\n			}\n			finetuneActivateOnPageEditables( true );\n			finetuneLayoutChangesMade();\n			// finetuneLayoutInit(layout);\n		}).fail(function(){ }).always(function(){ });\n	}\n\n	finetuneActivateOnPageEditables( true );\n\n	makeGrpsSortable();\n\n	if(galleryExistsOnPage()){\n		galleryThumbFlow();\n	}\n\n	fixDateVenueWhiteSpace();\n\n	if(typeof _callback=='function'){\n		_callback();\n	}\n\n} // }}}\n\nfunction replaceSFIDEverywhere(bad,good) { // {{{\n	var bad = bad || ''\n	var good = good || '';\n\n	if (bad != '' && good != '') {\n		$('#sfid-'+bad).attr('id','sfid-'+good);\n		$('#element-custom-block-'+bad).attr('id','element-custom-block-'+good);\n		$('#main-canvas').find('.layoutGrp.element-custom-block-'+bad)\n			.removeClass('element-custom-block-'+bad)\n			.addClass('element-custom-block-'+good);\n		if (EventSettingLayout && EventSettingLayout.elementNames && typeof EventSettingLayout.elementNames['custom-block-'+bad] != 'undefined') {\n			EventSettingLayout.elementNames['custom-block-'+good] = EventSettingLayout.elementNames['custom-block-'+bad];\n		}\n		var $section = $('#finetune-layout-contain').find('.ele-wrapper[group-type=\"custom-block-'+bad+'\"]:first');\n		if ($section.length == 1) {\n			$section.attr('group-type','custom-block-'+good);\n			$section.find('.element[e=\"custom-block-'+bad+'\"]').attr('e','custom-block-'+good);\n			var grp = $section.data('grp');\n			if (grp && grp.element) {\n				grp.element = 'custom-block-'+good;\n			}\n		} else {\n			////console.log('trouble in paradise');\n		}\n	}\n} // }}}\n\nvar finetuneRevertState = {\n	'themeChange': false\n};\nfunction captureRevertState(type) { // {{{\n	var type = type || false;\n	var objFromFormNames = function (formArray){ // {{{\n		var form = {};\n		for ( i in formArray ){\n			var keyVal = keyValObjFromFormName(i,formArray[i]);\n			if ( typeof form[keyVal.key] != 'undefined' ){\n				form[keyVal.key] = $.extend(true,form[keyVal.key],keyVal.value);\n			}\n			else {\n				form[keyVal.key] = keyVal.value;\n			}\n		}\n		return form;\n	} // }}}\n	var keyValObjFromFormName = function (name,value){ // {{{\n		var ret = { key: '', value: false };\n		var tmp = name.split(/\\[/);\n		if ( tmp.length == 1 ){\n			ret.key = name.replace(/\\]/,'');\n			ret.value = value;\n		}else{\n			ret.key = tmp.shift().replace(/\\]/,'');\n			var keyVal = keyValObjFromFormName(tmp.join('['),value);\n			ret.value = {};\n			ret.value[keyVal.key] = keyVal.value;\n		}\n		return ret;\n	} // }}}\n	if (type == 'themeChange' && finetuneRevertState.themeChange == false) {\n		var themeChange = {};\n		var postData = getChangedInputsArray(finetuneGetThemeStyleInputs());\n		var form = objFromFormNames(postData);\n		if (form.data && form.data.EventSetting && form.data.EventSetting.theme_styles) {\n			themeChange.theme_styles = form.data.EventSetting.theme_styles;\n		}\n		themeChange.assets = $(\"#theme-css-assets\").html();\n\n		themeChange.layout = finetuneGetEventLayout(); // entire layout array\n		finetuneRevertState.themeChange = themeChange;\n	} else if (type == 'returnForDebug') {\n		var debug = {};\n		var postData = getChangedInputsArray(finetuneGetThemeStyleInputs());\n		var form = objFromFormNames(postData);\n		if (form.data && form.data.EventSetting && form.data.EventSetting.theme_styles) {\n			debug.theme_styles = form.data.EventSetting.theme_styles;\n		}\n		debug.layout = finetuneGetEventLayout(); // entire layout array\n		return debug;\n	} else if (type == 'theme_styles') {\n		var debug = {};\n		var postData = getChangedInputsArray(finetuneGetThemeStyleInputs());\n		var form = objFromFormNames(postData);\n		if (form.data && form.data.EventSetting && form.data.EventSetting.theme_styles) {\n			debug.theme_styles = form.data.EventSetting.theme_styles;\n		}\n		return debug.theme_styles || false;\n	}\n} // }}}\n\nfunction updateBackgroundSettings($liveGroup,bg_type,val,grp){\n\n	if(grp){\n		grp['bg-type'] = bg_type;\n	}\n	var params = { 'bg-type': bg_type };\n	if(bg_type == 'color'){ //BACKGROUND COLOR\n		if(grp){\n			grp['styles']['background-color'] = val;\n			grp['styles']['background-image'] = \"\";\n			delete grp['bgimage'];\n		}\n		params['background-image'] = 'none';\n		params['background-color'] = val;\n\n	} else if(bg_type == 'none'){ //NO BACKGROUND\n		params['background-image'] = 'none';\n		params['background-color'] = '';\n		if(grp){\n			grp['styles']['background-color'] = \"\";\n			grp['styles']['background-image'] = \"\";\n			delete grp['bgimage'];\n		}\n	} else { //IMAGE\n\n		params['background-position'] = grp['styles']['background-position']||'';\n		params['background-size'] = grp['styles']['background-size']||'';\n		params['background-repeat'] = grp['styles']['background-repeat']||'';\n		params['background-attachment'] = grp['styles']['background-attachment']||'scroll';\n		params['background-image'] = (val!=null)?val:grp['styles']['background-image'];\n		if( ! params['background-image'].match(/^url/) ){//if the background image does not have a URL in the front, add it.\n			params['background-image'] = \"url('\"+params['background-image']+\"')\";\n		}\n		if (params['background-size'] == 'flyer') {\n			var $dims = $(\"#img-modal-photo-dimensions\");\n			if ($dims.length == 1 && (''+$dims.val()).match(/^[0-9]*x[0-9]*$/)) {\n				var parts = (''+$dims.val()).split('x'),\n					w = parts[0],\n					h = parts[1],\n					targetWidth = $liveGroup.width(),\n					height = (targetWidth * h) / w;//algebra!\n				// landscape v. portrait\n				params['background-size'] = (w < h) ? 'auto 100%' : '100% auto';\n				height = (height/16).toFixed(2);// to ems!\n				if(grp){\n					if(grp['styles']['height']){//temp saving old height in case you switch.\n						$liveGroup.data('old-height',grp['styles']['height']);\n					}\n					grp['styles']['height'] = height;\n				}\n\n				params['height'] = height + 'em';\n\n\n			} else {\n				params['background-size'] = 'cover';\n				if(grp){\n					grp['styles']['background-size']='cover';\n				}\n\n				if($liveGroup.data('old-height')){\n					params['height'] = $liveGroup.data('old-height');\n					grp['styles']['height'] = params['height'];\n					$liveGroup.data('old-height',false);\n				}\n				else {\n					params['height'] = \"\";\n					if(grp && grp['styles'] && grp['styles']['height']){ //if not flyer, need to delete the height from layout group.\n						delete grp['styles']['height'];\n					}\n				}\n			}\n		} else {\n			if($liveGroup.data('old-height')){\n				params['height'] = $liveGroup.data('old-height');\n				grp['styles']['height'] = params['height'];\n				$liveGroup.data('old-height',false);\n			} else {//no longer needed? chris.\n				// params['height'] = \"\";\n				// if(grp && grp['styles'] && grp['styles']['height']){ //if not flyer, need to delete the height from layout group.\n				// 	delete grp['styles']['height'];\n				// }\n			}\n\n		}\n	}\n	$liveGroup.css(params);\n	var $accordion = ftGetAccordion($liveGroup);\n	if($accordion.hasClass('bound')){\n		//only need to do this if accordion is already bound.  otherwise the grp object will properly populate upon opening the section.\n		$accordion.find(\".currentBackground\").css(params);\n	}\n\n	if(grp){\n		finetuneLayoutChangesMade();\n	}\n	if($liveGroup.hasClass('event-bg-url')) {\n		$('#splash-container .tieBgToHeader').each(function(){\n			var $t = $(this);\n			if(!$t.hasClass('event-bg-url')){\n				var grp = ftGetGrp($t);\n				if(bg_type == 'image') {\n					if(!grp['styles']){ grp['styles'] = {}; }\n					grp['styles']['background-image'] = params['background-image'];\n				}\n				updateBackgroundSettings($t,bg_type,val,grp);\n			}\n		});\n	}\n	setTimeout(function(){\n		$liveGroup.removeClass('loading');\n	},1000);\n\n\n}\n\n\n// Design toolbar change actions\n$(document).ready(function(){\n\n	$(document).on('click', 'div.mce-floatpanel .mce-btn', function(event){\n		// attached this func to mce-btn instead of the link modal dropdown\n		// b/c the shadow pciker and stuff don't disappaear until this fires,\n		// meaning it would stay in place until disappearing when clicking the dropdown\n\n		if( $(this).find('.mce-i-link').length > 0 ){\n			// checks if link opt\n			fixMceMenu(false)\n		}\n\n	})\n\n	$(\"#finetune-all-tools\").on({\n		focus: function(){\n			$(this).parents(\".bx\").addClass('isFocused').siblings().removeClass('isFocused');\n		},\n		focusout: function(){\n			$(this).parents(\".bx\").removeClass('isFocused');\n		}\n	},'.box-controls input');\n\n	$(\"#finetune-all-tools\").on('click','.box-controls .arm', function(){\n		$(this).parents(\".bx\").find(\"input:first\").focus();\n	});\n\n	// @cc\n	$(\"#finetune-all-tools\").on('click','.box-controls .bx .unit-dropdown', function(){\n		var $this = $(this);\n		var $c = $('#finetune-all-tools').find('.bx.dd-open');\n		var $parent = $this.parents('.bx:first');\n		if( ! $parent.hasClass('dd-open') ) {\n			$parent.addClass('dd-open');\n		}\n	});\n\n	$(\"#finetune-all-tools\").on({\n		mouseenter:function(){\n			$(this).parents(\".box-controls:first\").addClass('allSides');\n		},\n		mouseleave:function(){\n			$(this).parents(\".box-controls:first\").removeClass('allSides');\n		}\n	},'.box-controls .forAllSides');\n\n	$(\"#finetune-all-tools\").on('change','input.border-top-width,input.border-right-width,input.border-bottom-width,input.border-left-width,input.border-width',function(){\n		var $t = $(this),\n			prop = $(this).data('css-prop'),\n			id = $t.prop(\"id\").trim(),\n			key=false,\n			$parent = $t.parents(\".box-controls:first\");\n\n\n		if($t.hasClass('border-width')){\n			$parent.addClass('all-linked').find(\"input\").val($t.val());\n		} else {\n			$parent.removeClass('all-linked');\n		}\n\n		if(typeof $t.attr(\"target\")!=='undefined'){\n			if($t.attr(\"no-parent\")){\n				var $target = $(\"#\"+$t.attr(\"target\"));\n			} else{\n				var $target = $(\"#\"+$t.attr(\"target\")).parents(\".layoutGrp:first\");\n			}\n		} else if(typeof $t.attr(\"grp\")!=='undefined'){//grp layout option.\n			var $g = $t.parents('.ft-grp:first');\n			var grp = ftGetGrp($g);\n			if(typeof grp.styles=='undefined'){grp.styles={};}\n			var gid = (''+$g.attr('id')).replace('acc-ftg-','');\n			var $target = $('#g-'+gid);\n			key = 'border';\n			var $picker = $t.parents(\".border-picker:first\");\n			if($picker.hasClass('img-bdr')){\n				key = 'img-border';\n				$target = $target.find(\".image img\");\n			}\n			grp.styles[key] = getBorderProperties($picker);\n\n			if(typeof grp.styles[key]['width']!=='undefined' && grp.styles[key]['width'].match(/,/g)){\n				var bdrprops = formatBorderWidth(grp.styles[key]['width']);\n				grp.styles[key]['width'] = bdrprops.wi;\n				grp.styles[key]['style'] = bdrprops.st;\n			}\n			if(key=='img-border'){\n				saveSplashFeedChildOptions(gid,key,grp.styles[key]);\n			}\n\n		}\n		else {\n			var $target = getTargetById(id);\n		}\n		if(!$target){ return false; }\n\n		var bdr_style = $t.parents(\".border-picker:first\").find(\"input.bdr-s\").val()||'solid';\n		var styles = {};\n		styles[prop] = $t.val()+'px';\n		styles['border-style'] = bdr_style;\n		$target.css(styles);\n\n		if(key!==false){\n			finetuneLayoutChangesMade();\n		} else{\n			//themeStylesChanged();//this might be the wrong function. double check\n			setChangesMade();\n		}\n	});\n\n	//switching from static, relative, abs, or fixed.\n	$(\"#finetune-all-tools\").on('change','input.meta-position',function(){\n		$(this).parents(\".layout-ctrl:first\").attr(\"position-type\",$(this).val());\n	});\n\n	$(\"#finetune-all-tools\").on('change','input.border-radius',function(){\n		//update the visual representation of the border radius.\n		$(this).parents(\".ui-borderRadius:first\").css('border-top-left-radius',$t.val()+'px');\n	});\n\n	//title,subtitle,description color,border color pickers.\n	//changing font color controls.\n\n	var swatchTime\n\n\n	//Handles all color picker logic -- other than RTE\n	$(\"#finetune-all-tools, #splash-container\").on('click',\"input.meta-color\",function(){\n		var $t = $(this),\n			id = $t.prop(\"id\"),\n			prop = 'color',\n			key=false,\n			box_shadow=false,\n			text_shadow=false,\n			no_opacity = false;\n			//$borderPicker = false;\n\n		if(typeof $t.attr(\"grp\")!=='undefined'){//grp layout option.\n			if(typeof $t.attr(\"gid\")!=='undefined'){\n				var $g = $(\"#acc-ft\"+$t.attr(\"gid\"));//aka $(\"#acc-ftg-19\");\n			}\n			else if($t.parents('.layoutGrp').length > 0) {\n				var $g = $(\"#acc-ft\"+$t.parents('.layoutGrp').attr('id'));\n			}\n			else {\n				var $g = $t.parents('.ft-grp:first');\n			}\n\n			var gid = ftGetId($g);\n			var grp = ftGetGrp($g);\n			var $target = ftGetLayoutGrp(gid);\n			if(typeof grp.styles=='undefined'){grp.styles={};}\n\n			key = 'border';\n			var $picker = $t.parents(\".border-picker\");\n			if($t.hasClass('bdr-color') && $picker.hasClass('img-bdr')){\n				key = 'img-border';\n				$target = $target.find(\".image img\");\n				grp.styles[key] = getBorderProperties($picker);\n			}\n\n			finetuneLayoutChangesMade();\n		}\n		else {\n			id = id.trim();\n			var $target = getTargetById(id);\n		}\n\n		if( !$target ){\n			return false;\n		}\n\n		if($t.hasClass('bg-input')){\n			prop = 'background-color';\n		} else if($t.hasClass('bdr-color')){\n			prop = 'border-color';\n			//$borderPicker = $t.parents(\".bdr-contain:first\").find(\"input.bdr-w:first\");\n		} else if ($t.hasClass('box-shadow-color')){\n			box_shadow=true;\n			prop = false;\n		}\n		else if($t.hasClass('text-shadow-color')){\n			text_shadow=true;\n			prop = false;\n		}\n\n		$t.spectrum({\n			showInput: true, showAlpha: true, preferredFormat: \"rgb\", clickoutFiresChange: true,\n			showPalette: true, palette: constants.palette,\n			beforeShow:function(color){\n				if(color.alpha=='0'){\n					no_opacity=true;\n				}\n			},\n			show: function(){\n				openColorPicker = true;\n\n				if( $('body').hasClass('advMode editColors') ){\n					clearTimeout( swatchTime )\n					$('#advColorWrap').addClass('editingSwatch')\n				}\n			},\n			move: function(color) {\n					// //console.time(\"moving\");\n				if(no_opacity && color.alpha=='0'){\n					//nice little trick here.  if they open the picker and opacity is set to 0,\n					//crank up the opacity to full!\n					var c = ''+(color.toRgbString()).replace(', 0)',', 1)');\n					$t.spectrum(\"set\", c);\n					no_opacity=false;\n				}\n\n				if( $t.hasClass('bg-input') ){\n					$t.parents('.editBgWrap:first').find('.bg-opt.color i').css('background-color', color.toRgbString())\n				}\n\n                changeCssProperty($target,prop,color.toRgbString());\n\n				if(text_shadow){\n					$t.val(color.toRgbString()).trigger('change');\n				} else if(box_shadow){\n					$t.val(color.toRgbString()).trigger('change');\n				}\n\n			},\n			change: function(color){\n\n				changeCssProperty($target,prop,color.toRgbString());\n				$t.css('background',color.toRgbString()).val(color.toRgbString()).addClass('changes-made');\n\n				if(typeof grp!=='undefined'){//update GROUP settings on the fly\n					if(prop=='background-color'){\n						grp.styles['background-color'] = color.toRgbString();\n						grp['bgimage']='';\n					} else if(prop=='color'){\n						grp.styles['color'] = color.toRgbString();\n					} else if(prop=='border-color'){\n						grp.styles[key]['color'] = color.toRgbString();\n						if(key=='img-border'){\n							saveSplashFeedChildOptions(gid,key,grp.styles[key]);\n						}\n						updateBorderForObject($target,grp.styles);\n					}\n					finetuneLayoutChangesMade();\n				} else{\n					setChangesMade();\n				}\n\n				updateColorPalette(color.toRgbString());\n				$t.spectrum(\"destroy\");\n\n			},\n			hide: function(color) {\n\n				swatchTime = setTimeout( function(){\n					if( $('body').hasClass('editColors') ){\n						$('#advColorWrap').removeClass('editingSwatch')\n					}\n				}, 100)\n\n				$body.removeClass('changedBgColor');\n				$t.trigger('mouseleave')\n				changeCssProperty($target,prop,color.toRgbString());\n				$t.removeClass('open-color-picker').spectrum(\"destroy\");\n\n			}\n		});\n\n		setTimeout(function(){\n			$t.addClass('open-color-picker').spectrum(\"show\");//ROSS, is this .open-color-picker class being scoped properly?  Seeing\n			//getButtonFontColor();//ROSS, still needed?\n		},1);\n		if($target.hasClass('element-rsvp')){//if changing the rsvp button foreground/background, run convertTo2Oh.\n			convertTo2OH('rsvp');\n		}\n	});\n\n	//when changing the border color, if the style is set to \"none\", change it to solid (along with the width to 1px).\n	$(\"#finetune-all-tools\").on('change','input.bdr-color',function(){\n		var $t = $(this);\n		var $parent = $t.parents(\".border-picker:first\");\n		var $border_style = $parent.find(\"input.border-style\");\n		var $border_width = $parent.find(\"input.border-width\");\n		if($border_style.val()=='none' || $border_style.val()==''){\n			flipDropDown($border_style,'solid',true);\n			$parent.find(\".border-top-width,.border-bottom-width,.border-left-width,.border-right-width\").val('1').trigger('change');\n		}\n	});\n\n	$(\"#finetune-all-tools\").on('click','.font-picker .font-family div',function(e){\n		var $t = $(this);\n		$t.addClass('active').siblings().removeClass('active');\n		var $p = $t.parents(\".font-picker\");\n		$p.find(\".current .family\").text($t.html()).css('font-family',$t.attr(\"v\"));\n		$p.find(\"input.font-family\").val($t.attr(\"v\")).trigger('change');\n	});\n\n	$(\"#finetune-all-tools\").on('focusout','input.sliderInput',function(){\n		//on focusOut of slider inputs, update the slider value if possible.\n		var $t = $(this), min = $t.attr(\"min\"), max = $t.attr(\"max\"), unit = $t.attr(\"unit\");\n		var formatted = $t.val().replace(unit,'')*1;//strip out unit.  ie 151px -> 151, 2.5em -> 2.5\n		if(formatted >= min && formatted <= max){\n			//only proceed if its in the slider range.\n			// $slider.find(\".slider\").slider(\"value\",formatted);\n			$t.parents(\".slider-wrap:first\").find(\".slider\").slider(\"value\",formatted);\n		}\n	});\n\n\n	var lineTime;\n\n\n	$(\"#finetune-all-tools\").on('click',\".icon-f-tb-remove,.icon-f-tb-add\",function(){\n		//master controls for changing style control.\n		var $t = $(this);\n		var $input = $t.parents(\".box-center:first\").find('input.main-control:first');\n		var currentVal = $input.val()*1;\n		if(isNaN(currentVal)){\n			currentVal = 0;\n		}\n		if($t.hasClass('icon-f-tb-add')){\n			$input.val(currentVal+1).trigger('change');\n		} else {//subtract\n			var v = currentVal-1;\n			if(v<0){ v = 0;	}\n			$input.val(v).trigger('change');\n		}\n	});\n\n	//changing font size, font and align controls. one function to rule them all.\n	$(\"#finetune-all-tools\").on('change',\"input.style-ctrl\",function(){\n		var $t = $(this);\n		// if($t.parents(\"div.rteControl\").length > 0){\n		// 	return false;//no need to bring RTE controls in here. they get their own calls.\n		// }\n		var isRTE = false;\n		if($t.hasClass('main-control')){\n			$t.parents(\".box-controls\").find(\"input.nu-input:not(.main-control)\").val($t.val()).trigger('change');\n			return;\n		}\n\n		if(typeof $t.attr(\"target\")!=='undefined'){\n			if(typeof $t.attr(\"no-parent\")!=='undefined'){\n				$target = $(\"#\"+$t.attr(\"target\"));\n			} else{\n				var $target = $(\"#\"+$t.attr(\"target\")).parents(\".layoutGrp:first\");\n				if($t.attr(\"target\")=='element-when'){\n					var targets = [];\n					$(\"#main-canvas\").find(\".when-ss\").each(function(){\n						targets.push($(this).parents(\".layoutGrp:first\")[0]);\n					});\n					$target = $(targets);\n				} else if($t.attr(\"target\")=='element-where'){\n					var targets = [];\n					$(\"#main-canvas\").find(\".where-ss\").each(function(){\n						targets.push($(this).parents(\".layoutGrp:first\")[0]);\n					});\n					$target = $(targets);\n				} else if($t.attr(\"target\")=='element-time'){//exception to the rule.\n					$target = getTargetById($t.prop(\"id\"));\n				} else{\n					$target = $(\"#\"+$t.attr(\"target\")).parents(\".layoutGrp:first\");\n				}\n			}\n		} else if (typeof $t.attr(\"grp\")!=='undefined'){//GROUPS!!\n\n			if(typeof $t.attr(\"gid\")!=='undefined'){//happens in RTE.\n				var $g = $(\"#acc-ft\"+$t.attr(\"gid\"));//aka $(\"#acc-ftg-19\");\n				isRTE = true;\n			} else {//the normal solution.  in the finetune bar already.\n				var $g = $t.parents('.ft-grp:first');\n			}\n\n			var grp = ftGetGrp($g);\n			var gid = ftGetId($g);\n			var $target = $('#g-'+gid);\n\n		}\n		else{\n			var id = $t.prop(\"id\");\n			$target = getTargetById(id);\n		}\n\n\n		var value = $t.val();\n		var prop = $t.data(\"css-prop\");\n		if(typeof prop==='undefined'){\n			return false;\n		} else if($target==false){\n			return false;\n		}\n\n		if(!isNaN(value)&&value!=''){//dont add px if we're dealing with values like 'auto' or 'inherit'\n			if(typeof $t.attr(\"unit\")!=='undefined'){//ie em,px,deg.\n				value+=$t.attr(\"unit\");\n			} else if(typeof $t.attr(\"no-unit\")!=='undefined'){\n				//do nothing here. no units.\n			} else{\n				value+='px';\n			}\n		}\n\n		if($t.attr(\"unit\")=='auto'){\n			value = 'auto';\n		}\n\n		var isHeadTarget = false;\n\n		if( $target.hasClass('element-title') || $target.hasClass('element-subtitle') ){\n			isHeadTarget = true;\n		}\n\n		if( isRTE == true && prop == 'line-height'){\n			$target.find('h1').css('line-height', value).end().find('h2').css('line-height', value);\n			clearTimeout(lineTime);\n			lineTime = setTimeout(function(){\n				$target.find('.editable:first').trigger('change')\n				if(  isHeadTarget == true ){\n					dynamaHead()\n				}\n			}, 250)\n		}\n\n		//CSS value is changed here.\n		changeCssProperty($target,prop,value);\n\n		if( $target.hasClass('element-title') || $target.hasClass('element-subtitle') ){\n			silentTrigger = true\n		}\n\n		if(!silentTrigger){//if silentTrigger = true, be cool! no need to scroll.\n			scrollToBlock($target);\n		}\n\n\n		if( prop.match(/padding|margin/)!=null ){\n			// if prop is either margin or padding \"padding-top\", etc\n			updateSecHovers( $target )\n		}\n\n		if(typeof grp!=='undefined'){\n			if(typeof grp.styles=='undefined'){grp.styles={};}\n			grp.styles[prop] = value;\n			finetuneLayoutChangesMade();\n		} else{\n			setChangesMade();\n		}\n\n	});\n\n	//keyword:number input - preventing text in number inputs.\n	$(\"#finetune-all-tools\").on('keypress', \"input[type=number]\", function(e){\n		if($(this).parents().hasClass('box-controls')){\n			if($(this).val().length == 3) {\n\n			}\n		}\n		// Allow: backspace, delete, tab, escape, enter and .\n        if ( event.keyCode == 46 || event.keyCode == 8 ) {\n		// let it happen, don't do anything\n    	}\n    	else {\n    		// Ensure that it is a number and stop the keypress\n    		if (event.keyCode < 48 || event.keyCode > 57 ) {\n    			event.preventDefault();\n    		}\n    	}\n	});\n\n\n	$(\"#finetune-all-tools\").on('change','input.text-shadow-color,input.text-shadow-x,input.text-shadow-y,input.text-shadow-blur',function(){\n		var $t = $(this);\n		var $p = $t.parents(\".shadow-picker:first\");\n		var value = getShadow($p);\n		var $input = $p.find(\"input.text-shadow\");\n		$input.val(value).trigger('change');\n	});\n\n	$(\"#finetune-all-tools\").on('change','input.text-shadow',function(){\n		var $t = $(this);\n		var $p = $t.parents(\".shadow-picker:first\");\n		if($t.attr(\"target\")=='element-time'){\n			var $target = getTargetById($t.prop(\"id\"));\n		} else if (typeof $t.attr(\"grp\")!=='undefined'){//GROUPS!!\n			if(typeof $t.attr(\"gid\")!=='undefined'){//from the RTE color picker.\n				var $g = $(\"#acc-ft\"+$t.attr(\"gid\"));\n			} else {\n				var $g = $t.parents('.ft-grp:first');\n			}\n\n			var grp = ftGetGrp($g);\n			var gid = (''+$g.attr('id')).replace('acc-ftg-','');\n			var $target = $('#g-'+gid);\n\n		} else{\n			var	$target = $(\"#\"+$t.attr(\"target\")).parents(\".layoutGrp:first\");\n		}\n\n\n		$target.css('text-shadow',$t.val());\n		if(typeof grp!=='undefined'){\n			if(typeof grp.styles=='undefined'){grp.styles={};}\n			grp.styles['text-shadow'] = $t.val();\n			finetuneLayoutChangesMade();\n		} else{\n			setChangesMade();\n		}\n	});\n\n	$('#splash-container').on({\n		mouseenter:function(){\n			$('#element-rsvp').addClass('rsvpHover')\n		},\n		mouseleave:function(){\n\n			setTimeout(function(){\n\n				if ( ! $('body').hasClass('clickingRsvpColor') ){\n					$('#element-rsvp').removeClass('rsvpHover')\n				}\n			}, 20 )\n\n		}\n	}, '#element-rsvp .edit-tools')\n\n	$(\"#finetune-all-tools\").on('change','input.box-shadow-color,input.h-shadow,input.v-shadow,input.shadow-blur',function(){\n		var $t = $(this);\n		var $p = $t.parents(\".box-shadow-picker:first\");\n		var value = getShadow($p);\n		var $input = $p.find(\"input.box-shadow\");\n		$input.val(value).trigger('change');\n	});\n\n	$('#splash-container').on({\n		mouseenter: function(){\n			updateRsvpColorPicker()\n		},\n		click:function(){\n			$(\"#element-rsvp\").focus();\n		}\n	}, '.element-rsvp' );\n\n\n	$(\"#finetune-all-tools\").on('change','input.shadow-toggle',function(){\n		var $t = $(this);\n		var $p = $t.parents(\".shadow-picker:first\");\n		if($t.val()=='1'){\n			var shadow = getShadow($p);\n			$p.find(\".shadow-sliders\").show().end()\n				.find(\"input.shadow-input\").val(shadow).trigger('change');\n		} else{\n			$p.find('.shadow-sliders').hide().end()\n				.find(\"input.shadow-input\").val('none').trigger('change');\n		}\n	});\n\n	$(\"#finetune-all-tools\").on('change','input.box-shadow',function(){\n		var $t = $(this);\n		var $p = $t.parents(\".box-shadow-picker:first\");\n		if($t.attr(\"target\")){\n			if($t.attr(\"no-parent\")){\n				var $target = $(\"#\"+$t.attr(\"target\"));\n			} else{\n				var $target = $(\"#\"+$t.attr(\"target\")).parents(\".layoutGrp:first\");\n			}\n		} else if(typeof $t.attr(\"grp\")!=='undefined'){//grp layout option.\n			var $g = $t.parents('.ft-grp:first');\n			var grp = ftGetGrp($g);\n			var gid = (''+$g.attr('id')).replace('acc-ftg-','');\n			var $target = $('#g-'+gid);\n		} else{\n			var	$target = getTargetById($t.prop(\"id\"));\n		}\n\n		if($p.hasClass('img-box-shadow')){\n			$target = $target.find(\".image img\");\n			$target.css('box-shadow',$t.val());\n			grp.styles['img-box-shadow'] = $(this).val();\n			saveSplashFeedChildOptions(gid,'img-box-shadow',grp.styles['img-box-shadow']);\n		} else{\n			$target.css('box-shadow',$t.val());\n			if(typeof grp!=='undefined'){\n				if(typeof grp.styles=='undefined'){grp.styles={};}\n				grp.styles['box-shadow'] = $(this).val();\n			}\n		}\n		if(typeof grp!=='undefined'){\n			finetuneLayoutChangesMade();\n		} else{\n			setChangesMade();\n		}\n	});\n\n	$(\"#tie-bg-to-header\").change(function(){\n		setChangesMade();\n	});\n\n	///////HIDING TOGGLE CONTROLS///////\n\n\n	function setForPlaceholderText( $liveGroup ){\n\n		if ( $liveGroup.hasClass('element-title') || $liveGroup.hasClass('element-subtitle')\n			 || $liveGroup.hasClass('element-hash') ){\n\n				var $e = $liveGroup.find('.editable');\n\n				var id = false;\n\n				if($liveGroup.hasClass('element-subtitle')){\n					id = 'element-subtitle';\n				} else if($liveGroup.hasClass('element-title')){\n					id = 'element-title';\n				} else if($liveGroup.hasClass('element-hash')){\n					id = 'element-hash';\n				}\n\n				console.log( id , 'id bro')\n\n				//make sure it's not an image in the field.  before replacing.\n				if($e.text().replace(' ','').trim()=='' && $e.find(\"img\").length < 1){\n					if(id=='element-subtitle'){\n						$liveGroup.find(\".editable\").text('Add Your Event Subtitle Here.').trigger('change');\n					} else if(id =='element-title'){\n						$liveGroup.find(\".editable\").text('Add Your Event Title Here.').trigger('change');\n					} else if(id=='element-hash'){\n						$liveGroup.find(\".wrap\").text('#YourEventHashTag').trigger('change');\n					}\n				}\n\n		} else if ( $liveGroup.hasClass('element-host') ){\n\n			var $host_name = $(\"#element-host-name\")\n			if($host_name.text().trim()==''){\n				//check for placeholder when reshowing.\n				$host_name.html('Enter Host Name Here.');\n			}\n\n		} else if ( $liveGroup.hasClass('mega-date-wrap') && $(\"#date-tbd\").val()=='1' ){\n			// BRING THIS BACK AFTER FIXING BUG WITH IT\n			// ( COMes through as  \" February 5 2014 - Date TBD\")\n			//$body.addClass('date-tbd');\n		}\n\n	}\n\n\n	$(\"#basicsTabWrap\").on('click', '.cardHead .nu-checkbox', function(event){\n\n		event.preventDefault()\n		var $t = $(this)\n\n		var $mainCard = $t.parents('.mainCard:first');\n		var thisTarget = $mainCard.attr('target')\n\n		var $layoutGrp = $('.' + thisTarget)\n\n		if( $layoutGrp.length < 1 ){\n			//this layout grp doesnt exist\n			return false\n		}\n\n		var gid = ftGetId( $layoutGrp )\n\n		var $accordion = ftGetAccordion( $layoutGrp );\n		var $ftgroup = ftGetFtGrp( $layoutGrp );\n\n		var grp = ftGetGrp($layoutGrp );\n\n		if( !grp.styles ){\n			grp.styles = {}\n		}\n\n\n		if( !grp.styles['hidden'] ){\n			grp.styles['hidden'] = 0\n		}\n		// if it makes it this far, we're assumign the block exists on the page\n		if ( ! $mainCard.hasClass('is-hidden') && grp.styles['hidden'] == 0 ) {\n			grp.styles['hidden'] = 1;\n			$ftgroup.addClass('section-hidden');\n			$layoutGrp.hide();\n			$mainCard.addClass('is-hidden')\n		} else {\n			$ftgroup.removeClass('section-hidden');\n			$layoutGrp.show();\n\n			setForPlaceholderText( $layoutGrp )\n\n			$mainCard.removeClass('is-hidden')\n			scrollToBlock($layoutGrp,-20);\n			delete grp['styles']['hidden'];\n		}\n\n		finetuneLayoutChangesMade();\n\n		return false;\n\n	})\n\n	///////END HIDING TOGGLE CONTROLS/////\n\n	var theFocusClear;\n\n	// hovering class\n	$('#main-canvas').on({\n		mouseenter: function(e) {\n			var $t = $(this);\n\n			clearTimeout(theFocusClear);\n			theFocusClear= setTimeout(function(){\n\n				//$(this).parents().removeClass('hovering');\n				if(dragging){ return false; }\n				if( $t.parents(\".parentWrap\").length > 0 ){\n					return false;\n				} else if($t.parents(\".mega-date-wrap\").length > 0){//special case for when/where - only give it one hovering class.\n					$('#main-canvas').find('div.the-focus').removeClass('the-focus');\n					$t.parents(\"div.mega-date-wrap:first\").addClass(\"hovering the-focus\");\n					return false;\n				} else if($t.parents(\"div.mega-location-wrap\").length > 0){\n					$('#main-canvas').find('div.the-focus').removeClass('the-focus');\n					$t.parents(\"div.mega-location-wrap:first\").addClass(\"hovering the-focus\");\n					return false;\n				}\n\n				if($t.hasClass('locked-full')){ $t.addClass(\"hovering-locked\"); return false; }\n\n				$('#main-canvas').find('div.the-focus').removeClass('the-focus');\n				$t.addClass('hovering the-focus');\n				layoutFunction.highlightSidebar($t);\n				layoutFunction.checkToolsViewport($t);\n				layoutFunction.checkBtnViewPort($t);\n\n			},10);\n\n			if(e && e.stopPropagation){\n				e.stopPropagation();\n			}\n\n		},\n		mouseleave: function() {\n			var $t = $(this);\n			// clearTimeout(theFocusClear);\n			// theFocusClear= setTimeout(function(){\n				$t.removeClass('the-focus hovering hovering-locked');\n		  	 	if( $t.parents(\".layoutGrp\").length > 0 ){\n					$t.parents(\".layoutGrp:first\").addClass('hovering the-focus');\n				}\n				layoutFunction.removeHighlight($t);\n				$t.find('.edit-tools').removeClass('topofpagerotate').children('.inner').children().removeClass('topofpagerotate-icons');\n			//}, 10);\n		}\n	},'div.layoutGrp');\n\n	$(\"#main-canvas\").on({\n		mouseenter:function(){\n			$(this).parents(\".layoutGrp:first\").addClass('hovering the-focus');\n		}\n	},'div.layoutGrp .list-item')\n\n	//INLINE DESIGN LINKS\n	$(\"#main-canvas\").on('click','.edit-tools .bolt-jump',function(e){\n		var	$t = $(this);\n		var $grp = $t.parents(\"div.layoutGrp:first\");\n		var gid = ftGetId($grp);\n		var $ftg = ftGetFtGrp(gid);\n		openFinetuneBar('content',true);\n		if($('body').hasClass('designerMode')) {\n			openCustomSection($ftg);\n			$('#allSectionsContain').addClass('hide');\n			changeLayout.ftContain.find('.ft-grp').removeClass('hide');\n			$(\"#admin-group-clusters\").append(changeLayout.ftContain);\n			$('#nestedLayoutContainer').removeClass('hide');\n			$(\"#nestedLayoutContainer\").css({ \"height\":\"\", \"max-height\":\"\"});\n\n		}\n		else {\n			openFinetuneBar('content',true);//opens finetune and sets it to content tab.\n			closeCustomSection(); //important!  closes the current section if we're in a custom block.\n			setTimeout(function(){\n				if($('body').hasClass('designerMode')) {\n					$('#allSectionsContain').addClass('hide');\n					$('#nestedLayoutContainer').removeClass('hide');\n				}\n				openCustomSection($ftg,{ scrollToBlock: false });\n			},10);\n			return false; //super important.  other actions bound to this event, that mess this process up.\n		}\n	});\n\n	//editing background image from edit tools.\n	$(\"#splash-container\").on('click','.edit-tools .edit-bg',function(){\n		var $group = $(this).parents(\".layoutGrp:first\");\n		populateAdvancedImgControls($group);\n		var img_src = stripUrl($group.css('background-image'));\n		pickAndOrCropNewImage($('<input type=\"hidden\" value=\"'+img_src+'\" />'),{\n			done: function(newSrc,dims){\n				if($group.length > 0){\n					updateGroupImage($group,{ 'src': newSrc, 'dims': dims });\n				}\n\n				trackIndicativeEvent('changeSectionBgImage');\n			},\n			group_id: $group.prop('id')\n		});\n	});\n\n	$(\"#main-canvas\").on({\n		click:function(e){\n			var $t = $(this)\n				$parent = $t.parents(\".edit-tools:first\"),\n				$grp = $t.parents(\".layoutGrp:first\"),\n				gid = ftGetId($grp),\n				$ftg = $('#ftg-'+gid);\n\n			if( $grp.hasClass('element-host') ){\n				// if clicking the layout-jump on the HOST element\n				var grp = ftGetGrp($ftg);\n				if(!grp['class']){//if no class object, create it.\n					grp['class']='';\n				}\n				if ( grp['class'].indexOf('host-center') != -1 ){ // if host-center, change to host-left\n					grp['class'] = grp['class'].replace(/host\\-/g, '')+ ' host-left';\n					$grp.addClass('host-left').removeClass('host-center host-top')\n				} else if ( grp['class'].indexOf('host-left') != -1 ){ // if host-left, change to host-top\n					grp['class'] = grp['class'].replace(/host\\-/g, '') + ' host-top';\n					$grp.addClass('host-top').removeClass('host-center host-left')\n				} else { // if host-top (or aynthing else), changet to host-center\n					grp['class'] = grp['class'].replace(/host\\-/g, '') + ' host-center';\n					$grp.addClass('host-center').removeClass('host-left host-top')\n				}\n\n				finetuneLayoutChangesMade()\n			} else {\n				closeCustomSection(); //important!  closes the current section if we're in a custom block.\n				var $accordion = $('#acc-ftg-'+gid);\n				var grp = ftGetGrp($ftg);\n				if( ! $accordion.hasClass('bound') ){//if not bound, bind it.\n					bindAndPopulateAccordion($accordion,grp, true);\n				}\n				$sf = $grp.find('.sf');\n				if($grp.hasClass('element-gallery')){\n					var $current = $ftg.find(\".modes .layBtnWrap.active\");\n					var $next = $current.next('.layBtnWrap');\n					if($next.length < 1){\n						$next = $ftg.find(\".modes .layBtnWrap:first\");\n					}\n					$next.addClass('active').siblings('.layBtnWrap').removeClass('active');\n					var newVal = $next.find(\".nu-btn:first\").attr('value');\n					$(\"#galleryLayoutPresetInput\").val(newVal).trigger('change');\n\n				}\n				else if ( $sf.hasClass('nav') || $sf.hasClass('countdown') || $sf.hasClass('attendees') || $sf.hasClass('social-links-v2') ) {\n\n					// function in finetune-layout.js to process the layout change\n					layoutJump($sf);\n\n				} else {\n					$thisArrow = $ftg.find('.arrowRight')\n					flipMode($thisArrow,{ direction: 'right', force: true });\n				}\n\n			}\n			trackIndicativeEvent('changeSectionLayout');\n\n		}\n	}, '.edit-tools .layout-jump' );\n\n	$(\"#main-canvas\").on({\n		click:function(e){\n			var $t = $(this)\n				$parent = $t.parents(\".edit-tools:first\"),\n				$grp = $t.parents(\".layoutGrp:first\"),\n				gid = ftGetId($grp),\n				$ftg = $('#ftg-'+gid);\n\n			if($grp.find('.sf').hasClass('comments')){\n\n				$sf = $grp.find('.sf');\n				sfid = $sf.attr('id').replace('sfid-',''); // get splash feed id\n\n				// obtain or create the options array for this element\n				var options = $sf.data('splashFeedOptions');\n				if ( typeof(options) == 'undefined' ) options = {};\n				options['sorting'] = CommentsElement.toggleSorting($sf);\n\n				// extend clones the options array\n				finetuneEditedFields[ 'data[SplashFeed]['+sfid+'][options]' ] = $.extend({},options);\n				finetuneFieldChangesMade();\n\n				CommentsElement.refreshComments($grp.find('.sf.comments'));\n			}\n		},\n	}, '.edit-tools .change-sorting' );\n\n	//function for shuffling photos\n	$(\"#splash-container\").on('click',\".shuffle-photos\",function(){\n		$(\"#galleryLayoutPresetInput\").val('shufflePhotos');\n		galleryPresetLayout('shufflePhotos');\n	});\n	//switching columns in a container element.\n	$(\"#main-canvas\").on('click','.edit-tools .column-switch',function(){\n		var $container = $(this).parents(\".container-ele:first\");\n		//var col_count = $container.find(\".drop-area\").length;\n		// if(col_count == 2){\n		var col_opts = ['container-1col','container-2col','container-2col-altA','container-2col-altB','container-3col','container-4col'];\n		// }\n		//a list of all possible saving opts.\n		//var col_opts = ['container-1col','container-2col','container-2col-altA','container-2col-altB','container-3col','container-4col'];\n		var match = false;\n		for(var x in col_opts){\n			if(!match && $container.hasClass(col_opts[x])){\n				match = x*1;//set match to the index.\n			}\n		}\n		var next = match+1;\n		if(col_opts[next]){\n			var newOption = col_opts[next];\n		} else {\n			var newOption = col_opts[0];\n		}\n		$container.addClass('trans').removeClass(col_opts.join(' ')).addClass(newOption);\n		var $dropAreas = $container.find(\".drop-area\");\n		var $firstBlock = $container.find(\".drop-area:first\");\n\n		var gid = $firstBlock.prop('id');//g-34\n		var $firstBlockFtg = $(\"#ft\"+gid);//first block ftg.\n\n		//loop through columns > first column and move any found groups into the first column.\n		$container.find(\".drop-area:gt(0)\").each(function(){\n			var $blocks = $(this).find(\"> .layoutGrp\");//only grab the first LAYER of layout groups.  parents only.\n			if($blocks.length > 0){\n				$blocks.each(function(){//move all the ftgs into the first column ftg.\n					var $t = $(this);\n					var gid = $t.prop(\"id\");\n					var $block_ftg = $(\"#ft\"+gid);\n					$firstBlockFtg.append($block_ftg);\n					$firstBlock.append($t);\n				});\n				// $firstBlock.append($blocks);\n			}\n		});\n		//remove all columns besides the first.\n		setTimeout(function(){\n\n			$container.find(\".drop-area:gt(0)\").each(function(){\n				var $t = $(this);\n				var $ftg = $(\"#ft\"+$t.prop('id'));\n				$ftg.remove();\n				$t.remove();\n			});\n\n		},10);\n\n		//2 column check\n		if( $.inArray(newOption, ['container-2col', 'container-2col-altA', 'container-2col-altB'] ) > -1 ){\n			$dropAreas.removeClass('w1-1 w1-3 w1-4 w2-3').addClass('w1-2');\n			var cols = 2;\n		} else if(newOption=='container-3col'){//3 columns\n			$dropAreas.removeClass('w1-1 w1-2 w1-4 w2-3').addClass('w1-3');\n			var cols = 3;\n		} else if(newOption=='container-4col'){//4 columns\n			$dropAreas.removeClass('w1-1 w1-2 w1-3 w2-3').addClass('w1-4');\n			var cols = 4;\n		} else if(newOption=='container-1col'){//1 column\n			var cols = 1;\n			$dropAreas.removeClass('w1-1 w1-2 w1-3 w2-3 w1-4');\n		}\n\n		if(cols > 1){\n\n			var markup = '';\n			//var grp_count = $(\"#main-canvas\").find(\".layoutGrp\").length+500;//arbitrary high group # to prevent crossover.\n			var $newFtgs = [];\n			for(var x = 1; x < cols; x++){\n				var $newFtg = finetuneGroupMarkup(\n					{'width':'w1-'+cols, 'name':'Column '+(x+1), 'class':'not-edited', 'contain':true, 'drop-area':true }\n				);\n				var newGid = $newFtg.prop('id').replace('ftg-','')*1;//ftg-129 -> 129\n\n				markup += quickGroupMarkup(\n					{'width':'w1-'+cols, 'name':'Column '+(x+1), 'class':'not-edited', 'contain':true, 'drop-area':true },\n					1,\n					null,\n					newGid\n				);\n				$firstBlockFtg.parent().append($newFtg);\n				//$newFtgs.push($newFtg);\n			}\n\n			//$ftg.after($newFtgs);//now, they're in the finetune nav.\n\n			// finetuneGroupMarkup($group,x,block_type_override)\n			// for(var x = 1; x < cols; x++){\n			// }\n\n			setTimeout(function(){\n				$firstBlock.after(markup);//add the\n				var $nextBlock = $firstBlock.next(\".drop-area\");\n				if(newOption=='container-2col-altA'){\n					$firstBlock.removeClass('w1-1 w1-2 w2-3').addClass('w1-3');\n					$nextBlock.removeClass('w1-1 w1-2 w1-3 w1-4').addClass('w2-3');\n				} else if(newOption=='container-2col-altB'){\n					$firstBlock.removeClass('w1-1 w1-2 w1-3').addClass('w2-3');\n					$nextBlock.removeClass('w1-1 w1-2 w2-3 w1-4').addClass('w1-3');\n				}\n\n				var grp = ftGetGrp($firstBlockFtg);\n				grp['width'] = 'w1-'+cols;\n\n				//REDISTRIBUTE SECTIONS!\n				var $items = $firstBlock.find(\"> .layoutGrp\");//the number of top level elements within.\n				if($items.length > 1){\n					var currentColumn = 1;//start with the second column.\n\n					//loop through each item and distribute to the next column.\n					$items.each(function(){\n						if(currentColumn>1){//only deal with cols > first one.\n							var $item = $(this);\n							var $target =  $container.find(\"> .layoutGrp:eq(\"+(currentColumn-1)+\")\");\n							var $ftg = $(\"#ft\"+$target.prop('id'));\n							var $itemftg = $(\"#ft\"+$item.prop('id'));\n							$target.append($item).removeClass('not-edited');\n							$ftg.append($itemftg);\n						}\n						currentColumn++;\n						if(currentColumn>cols){\n							currentColumn = 1;\n						}\n					});\n\n				}\n				setTimeout(function(){\n					addElementButtons();\n				},10);\n\n			},20);\n		} else {\n			addElementButtons();\n		}\n\n		setTimeout(function(){\n\n			finetuneActivateOnPageEditables();\n			finetuneLayoutChangesMade();\n		},2000)\n	});\n\n\n	$(\"#main-canvas\").on('click','.edit-tools .shape-jump',function(e){\n		var $t = $(this)\n			$parent = $t.parents(\".edit-tools:first\"),\n			$grp = $t.parents(\".layoutGrp:first\");\n\n		closeCustomSection(); //important!  closes the current section if we're in a custom block.\n\n		var gid = ftGetId($grp);\n		var $ftg = $('#ftg-'+gid);\n		var $accordion = ftGetAccordion($grp);\n		if(!$accordion.hasClass('bound')){\n			var grp = ftGetGrp($ftg);\n			bindAndPopulateAccordion($accordion,grp, true);\n		}\n\n		$thisArrow = $ftg.find('.img_shape-chooser')\n		flipMode($thisArrow,{ direction: 'right', force: true });\n		trackIndicativeEvent('changeSectionShape')\n\n	});\n\n\n	//CLONE SECTION\n	$(\"#main-canvas\").on('click','.edit-tools .clone-section',function(e){\n		var $parent = $(this).parents(\".layoutGrp:first\");\n		addNewSection({ blockToClone: $parent });\n		trackIndicativeEvent('clonedBlock');\n	});\n\n	//Cloning from within the accordion.\n	$(\"#finetune-all-tools\").on('click','.clone-section',function(){\n		var $parent = $(this).parents(\".ft-grp:first\");\n		var $layoutGrp = ftGetLayoutGrp($parent);\n		addNewSection({ blockToClone: $layoutGrp });\n		trackIndicativeEvent('clonedBlock');\n	});\n\n	//INLINE HIDE/DELETE LINKS\n\n\n	$(\"#main-canvas\").on('click','.edit-tools .delete-jump',function(e){\n		e.preventDefault();\n		var $layoutGrp = $(this).parents(\".layoutGrp:first\")\n		//layoutGrp will be something like <div id=\"g-52\" class=\"layoutGrp element-title\">...</div>\n		var element = getElementFromLayoutGrp( $layoutGrp );\n\n		//$id = hidden input in design tab of sidebar.\n		var $id = $(\"#finetune-hide_\"+element);\n		var $mainCard = $id.parents('.mainCard:first')\n		var gid = ftGetId( $layoutGrp );\n		var $ftgroup = ftGetFtGrp( $layoutGrp );\n		var grp = ftGetGrp( $layoutGrp );\n		\n		var hideSec = function(){\n			if(!grp['styles']){\n				grp['styles'] = {};\n			}\n\n			trackIndicativeEvent('hideElement', { 'type': element });\n			grp.styles['hidden'] = 1;\n			$ftgroup.addClass('section-hidden');\n			$layoutGrp.hide();\n			$mainCard.addClass('is-hidden')\n			finetuneLayoutChangesMade();\n\n		}\n\n		var showSec = function(){\n\n			$ftgroup.removeClass('section-hidden');\n			$layoutGrp.show();\n			setForPlaceholderText( $layoutGrp )\n			trackIndicativeEvent('undoHideElement', { 'type': element });\n			$mainCard.removeClass('is-hidden')\n			scrollToBlock($layoutGrp,-20);\n			if(grp['styles'] && grp['styles']['hidden']){\n				delete grp['styles']['hidden'];\n			}\n			finetuneLayoutChangesMade();\n\n		}\n\n		if($id.length > 0){\n\n			// IF FOUND\n			var secTitle = $id.parents('.mainCard:first').find('.cardHead span').text().trim()\n			if( element == 'rsvp' ){\n				secTitle = 'Button'\n			}\n\n			hideSec()\n\n			var undoMessage = 'You just hid ' + secTitle + '.';\n			SplashUI.ask(function( response ) {\n				// UNDO FUNCTION GOES HERE\n				if(response){\n					showSec()\n				}\n			}, undoMessage, 'undo', 5000);\n		}\n	});\n\n\n	$(\"#main-canvas\").on('click','.edit-tools .test-link',function(e){\n		var $t = $(this);\n		var $layoutGrp = $t.parents(\".layoutGrp:first\");\n		if($layoutGrp.hasClass('element-rsvp')){\n			if( ! $('#rsvp-modal').hasClass('afterRsvp') ){\n				$(\"#rsvp-form-top\").find(\".rsvp-text\").text($(\"#rsvp-button\").text());\n			}\n			if( $('#main-canvas').hasClass('link') && typeof $('#rsvp-button').attr('href')!=='undefined' ) {\n				window.open( $('#rsvp-button').attr('href') ); // open new window if ext Link\n			} else {\n				showRsvpForm();\n			}\n			trackIndicativeEvent('testButton');\n		} else {\n			if($t.hasClass('nav-test')){//nav element.\n				var $this = $t.parents(\".nav-item:first\").find(\"a:first\");\n				trackIndicativeEvent('testCustomNavLink');\n			} else {\n				var $this = $t.parents(\".layoutGrp:first\").find(\".button-link:first\");\n				trackIndicativeEvent('testCustomButtonLink');\n			}\n			jumpToNavBlock($this,e);\n			e.preventDefault();\n			e.stopPropagation();\n		}\n		return false;\n	});\n\n	//toggle the theme modal\n	$('#currentThemeCard2').on('click', function(){\n		$(\"#theme-modal\").fireSimpleModal();\n		loadThemeTab($(\"#public-themes-contain\"), { type: 'public-themes'});\n		trackIndicativeEvent('themeModalOpen');\n		return false;\n	});\n\n	//close the theme slideshow.\n	$('#theme-modal').on('click', '.close-theme-slideshow', function(){\n		closeThemeSlideshow();\n		return false;\n	});\n\n	//nav linkifying\n	$('#main-canvas').on('click','.edit-tools .nav-link',function(){\n		var $layoutGrp = $(this).parents(\".layoutGrp:first\");\n		editNavBlock($layoutGrp);\n		linkingModal.getHeight();\n		return false;\n	});\n\n	$(\"#nav-link-target\").change(function(){\n		if($(this).val()!='ext'){\n			$(\"#nav-link-ext-href\").hide().val('');\n		} else{\n			$(\"#nav-link-ext-href\").show().val('').focus();\n		}\n	});\n\n	$(\"#nav-embed\").on('change',\"input.nav-action-input\",function(){\n		var $t = $(this);\n		var $parent = $t.parents(\".row:first\");\n		$parent.find(\"div.inner.\"+$t.val()).show().siblings().hide();\n		if($.inArray($t.val(), ['top','button','rsvp','button','custom-content']) > - 1 ){//special cases for top of page and button.  override the input value.\n			$parent.find(\"input.nav-link-target\").val($t.val());\n		} else if($t.val() == 'section'){\n			flipDropDown($parent.find('input.nav-link-target'),'');//flpi the section dropdown to \"SELECT SECTION\", rather than blank or preserving last pick\n		}\n	});\n\n	//DELETE A NAV ITEM\n	$(\"#nav-embed\").on('click',\"a.delete-item\",function(e){\n		e.preventDefault();\n		var $nav_item = $(this).parents(\".row:first\");\n		if($nav_item.hasClass('newNavItem')){\n			$nav_item.remove();\n		} else{\n			$nav_item.hide().attr(\"deleted\",\"1\");\n		}\n		return false;\n	});\n\n	//ADD A NEW NAV ITEM\n	$(\"#nav-embed\").find(\".addNewNavItem\").click(function(){\n		addNewNavItem();\n	});\n\n	$(\"#nav-embed\").find(\"a.saveLink\").click(function(){//SAVING NAV ITEMS\n		//loop through each nav item and\n		var button = false;\n		if( $(\"#nav-embed\").attr('block-type')=='button' ){ // special case for button, which also uses the nav embed modal.\n\n			var $t = $(\"#nav-items-list\").find(\"li.navLi:first\");\n			var linkVal = $t.find(\"input.nav-action-input\").val();\n			var linkText = $t.find(\"input.nav-name\").val();\n			var sfid = $(\"#nav-embed\").attr('sfid').replace('sfid-','')*1;\n			var $splashFeed = $(\"#sfid-\"+sfid);\n\n			var options = $splashFeed.data('splashFeedOptions');\n			if (!options) {\n				options = {};\n				$splashFeed.data('splashFeedOptions',options);\n			}\n\n			var external_link = false;\n			if(linkVal=='external'){\n				external_link = true;\n				linkVal = $t.find(\"input.external-link\").val().trim();\n				if(linkVal.indexOf('https://')==-1 && linkVal.indexOf('mailto:')==-1 && linkVal.indexOf('tel://')==-1){//ensure that it's a proper link.\n					linkVal = 'http://'+linkVal.replace('http://','');\n				}\n			} else if(linkVal=='section'){\n				linkVal = $t.find(\"input.nav-link-target\").val();\n			} else if(linkVal=='custom-content'){\n				linkVal = $t.find(\"input.nav-modal-target\").val();\n				linkVal = 'modal-'+linkVal; //ie. modal-e654 -> #modal-e654\n				options['target'] = '';\n			}\n\n			if(external_link){//hashify the url. ie. rsvp -> #rsvp, to41231 -> #to41231\n				options['target'] = '_blank';\n			} else {\n				linkVal = '#'+linkVal; //ie. modal-e654 -> #modal-e654\n				options['target'] = '';\n			}\n\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][options]'] = $.extend(true,{},options);\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][website]'] = linkVal;\n			finetuneEditedFields['data[SplashFeed]['+sfid+'][title]'] = linkText;\n			if($splashFeed.find('.button-link').children().length > 0){\n				$splashFeed.find('.button-link').prop('href',linkVal);\n				$splashFeed.find('.button-link span').html(linkText);\n			}\n			if(!$splashFeed.find('.button-link').children().length > 0) {\n				$splashFeed.find('.button-link').prop('href',linkVal).html(linkText);\n			}\n			finetuneFieldChangesMade();\n			closeSimpleModal();\n			return false;\n		}\n\n\n		var errors = false;\n		$(\"#nav-items-list\").find(\"li\").each(function(){\n			var $t = $(this);\n			var params = {\n				id: $t.attr(\"sfid\"),\n				linkType: $t.find(\"input.nav-action-input\").val(),\n				linkText: $t.find(\"input.nav-name\").val().trim(),\n				extLink: false\n			};\n\n			if(typeof params['id']!=='undefined' || $t.hasClass('newNavItem')){ //skip the blank one.\n				if($t.hasClass('newNavItem')){\n					var $splashFeed = $(\"#\"+$(\"#nav-embed\").attr(\"sfid\"));\n					if($splashFeed.length > 0){\n						var $nav_item = addNewListItem($splashFeed,true);\n					}\n				} else {\n					var $nav_item = $(\"#\"+params.id);\n				}\n				setTimeout(function(){\n					if(typeof $nav_item!=='undefined'){\n						if(typeof $t.attr(\"deleted\")!=='undefined'){\n							deleteListItem($nav_item);\n						} else {\n							if(params.linkType =='external'){\n								params.extLink = $t.find(\"input.external-link\").val().trim();\n								if(params.extLink == ''){\n									//$(\"#nav-embed\").find(\".error-area\").text('Please fill out a valid path').fadeIn(300);\n									//$t.find(\"input.external-link\").addClass('error').focus();\n									//errors = true;\n									//return false;\n								} else if(params.extLink.indexOf(\"https://\")==-1){//ensure that it's a proper link.\n									params.extLink = 'http://'+params.extLink.replace('http://','');\n								}\n							}\n							if( !button && params.linkText==''){\n								// $t.find(\"input.nav-name\").addClass('error').focus();\n								// $(\"#nav-embed\").find(\".error-area\").text('Please fill out a valid path').fadeIn(300);\n								errors = true;\n								//return false;\n							}\n							var linkText = $nav_item.find(\".body\").text();\n							if(params.extLink!==false){\n								$nav_item.find(\".body\").html('<a class=\"nav-jump\" target=\"_blank\" href=\"'+params.extLink+'\">'+params.linkText.trim()+'</a>').trigger('change');\n							} else {\n								params.linkTo = $t.find(\"input.nav-link-target\").val();\n								$nav_item.find(\".body\").html('<a class=\"nav-jump\" href=\"#'+params.linkTo+'\">'+params.linkText.trim()+'</a>').trigger('change');\n							}\n						}\n					}\n				},0);\n\n			}\n		});\n		setTimeout(function(){\n			if(!errors){\n				$(\"#nav-embed\").find(\".error-area\").hide();\n				closeSimpleModal();\n			}\n		},0);\n\n	});\n\n	//changing date by clicking on page.\n	$(\"#main-canvas\").on('click','.when-ss',function(){\n		//has to be an on.click event since the inner contents of the section can be changed on the fly.\n		$(\"#settingsTxt\").text('EDIT DATE & TIME');\n		$(\"#edit-settings\").addClass('onlyDate').removeClass('onlyVenue')\n		$body.addClass('settingsOpen dateVenueModal')\n		resetSettingsTab()\n		return false;\n	}).on('click','.where-ss',function(){ //changing venue by clicking on page.\n		$(\"#settingsTxt\").text('EDIT LOCATION');\n		$(\"#edit-settings\").addClass('onlyVenue').removeClass('onlyDate')\n		$body.addClass('settingsOpen dateVenueModal')\n		resetSettingsTab()\n		return false;\n	}).on('click', '.edit-date', function(){\n		// ON CLICK OF EDIT DATE OR EDIT VENUE BTN IN HOVERING TOOLBAR.\n		var $this = $(this)\n		var nuText = 'Edit DATE & TIME'\n		var nuClass = 'onlyDate'\n		var oldClass = 'onlyVenue'\n\n		if( $this.attr('title') == 'Venue' ){ // IF EDIT VENUE BTN\n			nuClass = 'onlyVenue'\n			oldClass = 'onlyDate'\n		}\n\n		$(\"#settingsTxt\").text( nuText );\n		$(\"#edit-settings\").addClass( nuClass ).removeClass( oldClass )\n		$body.addClass('settingsOpen dateVenueModal')\n		resetSettingsTab()\n		return false;\n	}).on('click', '.edit-social', function(){\n		// ON CLICK OF EDIT SOCIAL LINKS BUTTON.\n		var $this = $(this)\n		var nuText = 'Edit Social Links'\n		$body.addClass('settingsOpen')\n		resetSettingsTab('share');\n		return false;\n	})\n\n	$('#fake-modal-back').on('click', function(){\n		closeFakeModal();\n	})\n\n	$('#finetune-all-tools .cardHead').mouseenter(function(){\n		var $t = $(this).parents(\".mainCard\");\n		var $target = getTargetFromObject($t);\n		if($target!==false){\n			$target.addClass('hovering');\n		}\n	}).mouseleave(function(){\n		var $t = $(this).parents(\".mainCard\");\n		var $target = getTargetFromObject($t);\n		if($target!==false){\n			$target.removeClass('hovering');\n		}\n	}).click(function(e){\n		var $t = $(this).parents(\".mainCard\");\n		var $target = getTargetFromObject($t);\n		if($('body').hasClass('designerMode') && ! $(e.target).hasClass('hide-text') ){\n			console.log( 'has profile')\n\n			$('#nestedLayoutContainer').addClass('isBasicEle')\n\n			var $ftgGrp = ftGetFtGrp($target);\n			openCustomSection($ftgGrp);\n			$('#allSectionsContain').addClass('hide');\n			changeLayout.ftContain.find('.ft-grp').removeClass('hide');\n			$(\"#admin-group-clusters\").append(changeLayout.ftContain);\n			$('#nestedLayoutContainer').removeClass('hide');\n			$(\"#nestedLayoutContainer\").css({ \"height\":\"\", \"max-height\":\"\"});\n		}\n		if(!$t.hasClass('is-hidden')){\n			scrollToBlock($target,-20);\n		}\n	});\n\n	$('#add-new-named-element').click(addNewNamedElement);\n	/* end click code for customize section */\n\n	$('#eventStateWrap').on({\n		click:function(){\n			$('#rsvpTixTab').click()\n		},\n		mouseenter:function(){\n			$txt = $('#eventStateWrap').find('.eventStateTxt')\n			$txt.attr( 'status-text', $txt.text() ).text('Edit Status')\n		},\n		mouseleave:function(){\n			$txt = $('#eventStateWrap').find('.eventStateTxt')\n			$txt.text( $txt.attr('status-text') )\n		}\n	})\n\n\n	///\n	// Theme modal nav\n	$('#themes-hdr').on('click', '.section', function(){\n		var $this = $(this);\n		var $value = $this.attr('section');\n		var $target = $('#theme-modal');\n\n		$this.addClass('active').siblings().removeClass('active');\n\n\n		$target.removeClass('slideshow show-current-theme');\n		closeThemeSlideshow();\n\n		var $block = $(\"#public-themes-contain\");\n\n		// if ( $value == 'public-themes' ) {\n		if ( $value == 'current-theme') {\n			$target.addClass('slideshow show-current-theme');\n		} else if ( $value == 'my-themes' ) {\n			var $block = $(\"#my-themes-contain\");\n		} else if ( $value == 'admin-themes slideshow show-current-theme' ) {\n			var $block = $(\"#admin-themes-contain\");\n		}\n\n		$block.show().siblings('.theme-gallery').hide();\n		loadThemeTab($block, {type: $value });\n\n	});\n\n\n	// UNCOMMENT FOR LIVE\n	if( isLegacyEvent() && $('#is-legacy-has-updated').val() == '' ) {\n\n		// IF LEGACY FIRST LOAD -- WE CANT CHECK FOR EMPTY SWATCH COMBOS\n		// SO THIS CHECK LOOKS AT THE FONT COMBO INPUT BEING EMPTY TO DETERMINE\n		// A FIRST LOAD LEGACY PAGE\n\n		convertOldSwatch()\n		splash.legacyFontActions.convertFont()\n\n		if( $(\"#autosave-checkbox\").val()==1 ){\n			setCheck($(\"#autosave-checkbox\"),0);\n			SplashUI.ask(function( response ) {\n				// UNDO FUNCTION GOES HERE\n				if(response){\n					SplashUI.hideGrowl();\n				}\n			}, 'Autosave has been temporarily disabled. Please be sure to manually save changes using the save icon in the bottom of the toolbar.', 'Dismiss', 30000);\n		}\n\n	}\n\n	if( constants.rsvp_method === 'collect' ){\n		checkForNuRSVPs()\n	} else if ( constants.rsvp_method === 'tickets' ){\n		checkForNuTickets()\n	}\n\n	$('#stagesWrap').on('click', '.stageTab', function(){\n		$t = $(this)\n\n		$t.addClass('active').siblings().removeClass('active')\n\n		if( $('#stagesWrap').attr('show') == 'stages' ){\n			$('#stagesWrap').attr('show', 'backups')\n		} else {\n			$('#stagesWrap').attr('show', 'stages')\n		}\n\n	})\n\n	$('#main-canvas').on('click', '#gallery-placeholder', function(e){\n\n		if( $(e.target).hasClass('noClick') ){\n			return false;\n		}\n\n		openPhotoGallery();\n\n		return false\n	});\n\n\n	if( window.location.search.indexOf('action=responses') > -1 ){\n		setTimeout(function(){\n			$('#responseTab').click();\n		}, 1000)\n	}\n\n}); // end doc ready // end document ready\n\nvar modeLoadTimeout\n\n\nfunction publishStage( stage_id ){\n	$(\"#event-stage-id\").val(stage_id).attr(\"switched\",true).addClass('changes-made');\n	constants.stage_edit = false;//IMPORTANT.  Otherwise switching the stage will not be submitted.\n	clearTimeout(savingTimer);\n	savingTimer = setTimeout(autoSaveData, 0);\n}\n\nfunction chooseTheme(){\n\n	var backupName = constants.thisTheme + ' Backup'\n\n	var params = { }\n	params.stageName = backupName\n	params.isBackup = true\n\n	createNewStage( params, triggerThemeUndoAlert )\n\n	var headType = $('#header-bg-type').val()\n\n	clearTimeout(savingTimer);\n	var $this = $('#theme-modal').find('.theme-option.active')\n\n	finetuneDeActivateOnPageEditables();//important! kill before we save.\n	//closeCustomRTEPickers();\n	closeSimpleModal();\n	var theme_id = $this.attr(\"value\")*1;\n	//get a hold of current theme value right off the bat before any processes start so we get the correct value!\n	var last_theme_id = $(\"#event-theme-input\").val();\n	var $theme_input = $(\"#event-theme-input\"),\n		$themeLoaderText = $(\"#splashLoader\").find(\"div.thisText\").find(\"span.active:first\");\n	constants.theme_id = theme_id;\n	constants.thisTheme = allThemes[theme_id]['abbr']\n\n	$('#theme-label-name').text( constants.thisTheme )\n\n	$theme_input.attr(\"last-theme-id\",last_theme_id);//set the last theme id so we can reference down the line.\n\n	if(theme_id > 0 && typeof allThemes[theme_id]!=='undefined'){\n		if($this.hasClass('loading')){//||$this.hasClass('active')){ // meche testing mechtesting\n			return false;//no double clicks for this one.\n		}\n		$this.addClass('loading current-theme').siblings().removeClass('current-theme');\n		//setTimeout(function(){\n\n			if($themeLoaderText.next().length > 0){\n				$themeLoaderText.removeClass('active').next().addClass('active');\n			} else {\n				$themeLoaderText.removeClass('active').parent().find(\"span:first\").addClass('active');\n			}\n\n			var $customEventCss = $(\"#custom-event-css\");\n			var $themeCssAssets = $(\"#theme-css-assets\");\n			$themeCssAssets.empty();\n			$(\"#legacy-layout-css\").remove();\n			if($customEventCss.length > 0){\n				$themeCssAssets.append($customEventCss);\n			}\n			if (allThemes[theme_id]['has_assets']=='1'){//only add assets if the theme has them.\n				//var cssFile = constants.cdnUrl+'/themes/'+theme_id+'/custom.css';\n				var cssFile = '';\n				if (allThemes[theme_id]['theme_css'] != ''){\n					var cssFile = constants.cdnUrl+allThemes[theme_id]['theme_css'];\n				}\n				$themeCssAssets.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"'+cssFile+'\" />')\n				setTimeout(function(){\n					$(window).height();\n				},0);\n			}\n\n			$body.addClass('loading-theme has-changes has-theme-changes').attr(\"theme\",allThemes[theme_id]['abbr']);\n		//},0);\n\n\n		$('#footer').css({'width': '', 'padding-bottom': ''})// RESETS INLINE WIDTH STYLE ON FOOTER FROM CUSTOM JS STUFF\n		$('#main-canvas').css('margin-bottom', '').find(\"div.st-content-wrap\").css('padding-bottom',\"\");\n\n		constants.prevent_scroll = true;//important.  prevents scroll to block on change events.\n\n		$(\"#changeThemeBtn\").find(\".current-theme:first\").text(allThemes[theme_id]['name']);\n		updateThemeCards();//updates selected theme.\n\n		setTimeout(function(){\n			//captureRevertState('themeChange');\n			//update the current theme background image.\n		 	var theme_img = allThemes[theme_id]['image_url']\n\n           // setTimeout(function(){\n\n                finetuneDesignApplyThemeLayout(allThemes[theme_id]['layout'], { 'themeSwitch': true, 'theme_id': theme_id } );\n                finetuneDesignPopulateThemeStyles(allThemes[theme_id]['theme_styles'],true,function(){\n					trackIndicativeEvent('changedTheme', { 'theme_id': theme_id, 'theme_name': allThemes[theme_id]['name'] });\n                    //i know this is technically happening on the callback of finetuneDesignPopulateThemeStyles,\n                    //but this appears to happen BEFORE that function is finished running.\n                    //do not rely on $theme_input value in finetuneDesignPopulateThemeStyles - instead use the last-theme-id attribute.\n                    $theme_input.val(theme_id).addClass('changes-made');\n                    $(\"#all-themes\").find(\".theme-title\").text(allThemes[theme_id]['name']);\n\n                    $this.removeClass('loading');\n                    $(window).scrollTop(0);\n\n                    setTimeout(function(){\n\n                    	$body.removeClass('loading-theme loading-page isLegacy');\n\n                   	 	constants.prevent_scroll = false;\n                    	//autoSizeContent();\n                    	if( $('#splash-container').find('div.autoWindowHeight').length > 0 ){\n							autoWindowSizes();\n						}\n\n                    },0);\n\n                });\n            //},10);\n\n		},250);\n\n	}\n	$this.addClass('selected')//.find('.action-word').html('');//APPLY THEME');\n	$(\"#event-theme-input\").val(theme_id).trigger('change');\n}\n\nfunction triggerThemeUndoAlert( stage_id ){\n	var undoMessage = 'You just changed themes.';\n	SplashUI.ask(function( response ) {\n		// UNDO FUNCTION GOES HERE\n\n		if(response){\n\n			// fake load\n			$('body').addClass('loading loading-page fake-load')\n\n			var $stageList = $(\"#stagesWrap\").find(\".stages-list\");\n\n			var $thisStage = false\n\n			/*\n			$stageList.find(\".stage\").find('input.stage-input').each(function(){\n				if( $(this).data('stage_id') == stage_id ){\n					$thisStage = $(this)\n				}\n			})\n			*/\n\n		//	var stage_id = $thisStage.data('stage_id')\n			publishStage( stage_id )\n\n		}\n	}, undoMessage, 'undo', 10000);\n}\n\nfunction getURLParameter(name) {\n  return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,\"\"])[1].replace(/\\+/g, '%20'))||null\n}\n\n//function createNewStage( params, _callback ){\nfunction createNewStage( params, _callback ){\n\n	var thisData =  { event_id: constants.event_id }\n\n	var $newStage = $(\"#blank-stage\").clone();\n\n	if( typeof params.isBackup !== 'undefined' && params.isBackup !== false ){\n		$newStage = $(\"#blank-backup\").clone();\n		thisData.isBackup = true;\n	}\n\n\n	var hasButton = false\n	if( typeof params.button !== 'undefined' && params.button !== false ){\n\n		$button = params.button\n		hasButton = true\n\n		if( $button.hasClass('in-progress')){\n			return false;\n		}\n		$button.addClass('in-progress').text('Adding..');\n\n	}\n\n	if( typeof params.stageName !== 'undefined' && params.stageName !== false ){\n		thisData.stage_name = params.stageName\n	}\n\n	thisData.splash_theme_id = $('#event-theme-input').val()\n\n	thisData.active_stage = false\n\n	if( document.location.href.indexOf('stage=') > -1 ){\n		// IF PREVIEWING A STAGE\n		thisData.active_stage = getURLParameter('stage');\n	}\n\n	$.ajax({\n		url:\"/splash/saveNewStage\",\n		data: thisData,\n		type: 'POST',\n		dataType: 'json',\n		success:function(response){\n\n			if(response['event_stage_id'] && !params.isBackup ){ // ONLY DO THIS IF NOT BACKUP\n				$(\"#event-stage-id\").val(response['event_stage_id']).addClass('changes-made');\n			}\n\n			if(response['current_stage']){\n				$(\"#stagesWrap\").find(\".stage.active\").removeClass('active');\n				$newStage.find(\".stage:first\").addClass('active');\n			}\n			$(\"#no-stages-msg\").hide();\n			setTimeout(function(){\n\n				if( hasButton ){\n\n					var thisText = 'New Stage'\n\n					if( thisData.isBackup == true ){\n						thisText = 'New Backup'\n					}\n\n					$button.removeClass('in-progress').text( thisText );\n\n				}\n				var $stageList = $(\"#stages-tab\");\n\n				if( thisData.isBackup == true ){\n					$stageList = $(\"#backups-tab\");\n				}\n\n				$stageList.prepend($newStage.html());\n				setTimeout(function(){\n					$stageList.find(\".stage:first\").data('stage-id',response['event_stage_id']);\n					if(response['name']){\n						$stageList.find(\".stage:first\").find('input.stage-input').val(response['name']);\n					}\n\n					if( typeof _callback == 'function' ){\n						_callback( response['event_stage_id'] )\n					}\n\n				},10);\n			},10);\n		},\n		error:function(msg){\n\n			if( thisData.isBackup == false ){\n				alert('There was a problem adding your stage.');\n			}\n\n			if( hasButton ){\n				$button.removeClass('in-progress').text('New Stage');\n			}\n		}\n	})\n}\n\n\nfunction checkForNuRSVPs(){\n\n	var cookieCount = JSCookies.getItem('rsvpTotal-'+constants.event_id)\n	//var cookieCount = 0\n\n	if( cookieCount === null || typeof cookieCount=='undefined' || cookieCount == 'undefined' ){//if this value has never been set, set it to the current rsvp count.\n		JSCookies.setItem('rsvpTotal-'+constants.event_id, constants.rsvp_total)\n	} else if( typeof constants.rsvp_total !== 'undefined' && constants.rsvp_total > 0 && constants.rsvp_total > cookieCount ){\n		//if the current RSVP Count is GREATER than the stored cookie value, update and show the badge\n		var nuCount = constants.rsvp_total - cookieCount\n\n		if( nuCount.toString().length > 4 ){\n			// IF NUMBER IS IN THOUSANDS: 1000, 2000 ETC\n			// CONVERT to 1K, 2K, 20k ETC 1000\n			nuCount = nuCount.toString().slice(0, -3) + 'K' //ie, 10000 -> 10K\n		}\n\n		$('#rsvpBadge').text('+'+nuCount).removeClass('hide')\n	}\n\n}\n\nfunction checkForNuTickets(){\n\n	var cookieCount = JSCookies.getItem('ticketTotal-'+constants.event_id)\n\n	if( cookieCount === null || typeof cookieCount=='undefined' || cookieCount == 'undefined'){//if first time setting this value, set it to the current # of tickets sold.\n		JSCookies.setItem('ticketTotal-'+constants.event_id, constants.ticket_total)\n	} else if( typeof constants.ticket_total !== 'undefined' && constants.ticket_total > 0 && constants.ticket_total > cookieCount ){\n\n		var nuCount = constants.ticket_total - cookieCount\n\n		if( nuCount.toString().length > 4 ){\n			// IF NUMBER IS IN THOUSANDS: 1000, 2000 ETC\n			// CONVERT to 1K, 2K, 20k ETC\n			nuCount = nuCount.toString().slice(0, -3) + 'K'\n		}\n\n		$('#rsvpBadge').text('+'+nuCount).removeClass('hide')\n\n	}\n\n}\n\n\n$('#imgContentWrap').on('click', '.advImgTitle', function(){\n\n	$('#advancedImgUtils').toggleClass('showAdvTools')\n})\n\nfunction fakeModeLoad(){\n\n	closeSimpleModal()\n\n	$('body').addClass('loading loading-page fake-load')\n\n	modeLoadTimeout = setTimeout(function(){\n\n		$('body').removeClass('loading loading-page fake-load')\n\n	}, 1000)\n\n}\n\nfunction resetSettingsTab(defaultTab){\n	var $mainTab = $('#edit-settings').find('.sections-nav .section.main')\n	$mainTab.addClass('active').siblings().removeClass('active')\n	var thisOpt = (defaultTab!=null)?defaultTab:$mainTab.attr('data-opt')\n	$(\"#settings-content\").find('.settings-stuff[data-opt=\"'+ thisOpt +'\"]').addClass('active').siblings().removeClass('active')\n}\n\nfunction generatePaddingMarginString( styleArray ){\n\n	var nuArr = []\n\n	if( styleArray.length == 1 ){\n		nuArr['top'] = styleArray[0]\n		nuArr['right'] = styleArray[0]\n		nuArr['bottom'] = styleArray[0]\n		nuArr['left'] = styleArray[0]\n	} else if( styleArray.length == 2 ){\n		nuArr['top'] = styleArray[0]\n		nuArr['right'] = styleArray[1]\n		nuArr['bottom'] = styleArray[0]\n		nuArr['left'] = styleArray[1]\n	} else if( styleArray.length == 3 ){\n		nuArr['top'] = styleArray[0]\n		nuArr['right'] = styleArray[1]\n		nuArr['bottom'] = styleArray[2]\n		nuArr['left'] = styleArray[1]\n	} else if( styleArray.length == 4 ){\n		nuArr['top'] = styleArray[0]\n		nuArr['right'] = styleArray[1]\n		nuArr['bottom'] = styleArray[2]\n		nuArr['left'] = styleArray[3]\n	}\n\n	return nuArr\n\n}\n\n//keyword:padding margin\nfunction updateSecHovers( $grp ){	//update on page section hovers.\n	var $box\n	if( $grp.hasClass('p-grp') ){ // WRAPPER GROUPS ALL HAVE THIS P-GRP CLASS\n		$box = $grp.find('> .edit-tools .box-model')\n	} else { // IF NOT A WRAPPER GROUP -- INDIVIDUAL ELEMENT\n		$box = $grp.find('.element .edit-tools .box-model')\n	}\n\n	var thisPad = $grp.css('padding')\n	var thisMar = $grp.css('margin')\n\n	if( typeof thisPad !== 'undefined' && typeof thisMar !== 'undefined' ){\n\n		// get padding\n		var padArray = thisPad.split(' ')\n\n		var nuPad = generatePaddingMarginString( padArray )\n\n		//ie. box-shadow = 0 0px 0 inset, 2px 0 0 inset, 3px 0 -2px inset, etc.\n		nuPad['shadow'] = '0 ' + nuPad['top'] + ' 0 inset, -' + nuPad['right'] + ' 0 0 inset, 0 -' + nuPad['bottom'] +' 0 inset, ' + nuPad['left'] + ' 0 0 inset'\n\n		// get margin\n		var marArray = thisMar.split(' ')\n\n		var nuMar = generatePaddingMarginString( marArray )\n\n		nuMar.shadow = '0 -' + nuMar.top + ' 0, ' + nuMar.right + ' 0 0, 0 ' + nuMar.bottom +' 0, -' + nuMar.left + ' 0 0'\n\n		$box.find('.box-padding').css('box-shadow', nuPad.shadow ).end()\n			.find('.box-margin').css('box-shadow', nuMar.shadow )\n\n	} else {\n		// if undefined, return false\n		return false\n	}\n\n}\n\nfunction saveEventSettings(){\n\n	var $this = $('#saveEventSettings')\n\n	if($(\"#edit-settings\").hasClass('onlyDate') || $(\"#edit-settings\").hasClass('onlyVenue')){\n		closeFakeModal();\n		closeSimpleModal();\n		return false;\n	}\n\n	if(isPrivateEvent() && $.trim($(\"#private-code\").val())==''){\n		alert('An access code is required for private events');\n		$(\"#private-code\").focus();\n		return false;\n	}\n\n	if($(\"#finetune-main-title\").val().trim()==''){\n		alert('A title is required for your event.');\n		$(\"#finetune-main-title\").focus();\n		return false;\n	}\n	if($(\"#valid-domain\").val()=='0'){\n		alert('Please enter a valid domain.');\n		$(\"#event-domain-field\").focus();\n		return false;\n	}\n\n	if ($body.hasClass('has-theme-changes')) {\n		var $changed_inputs = finetuneGetThemeStyleInputs(true);\n		finetuneLayoutChangesMade();\n		// put all custom block fields in finetuneEditedFields\n		finetuneMarkAllCustomBlockFields();\n		//$(\"#event-theme-input\").removeAttr(\"last-theme-id\");\n	} else {\n		var $changed_inputs = $(\"input.changes-made,textarea.changes-made,select.changes-made\");\n	}\n\n	var postData={};\n	if($changed_inputs.length || finetuneLayoutHasChanged || finetuneFieldsHaveChanged){\n\n		postData = getChangedInputsArray($changed_inputs);\n\n		if (finetuneLayoutHasChanged !== false) {\n			postData['data[EventSetting][layout]'] = finetuneGetEventLayout();\n			finetuneLayoutHasChanged = false;\n		}\n\n		if (finetuneFieldsHaveChanged !== false) {\n			postData = $.extend({},postData,finetuneEditedFields);\n			if (finetuneNewBlockIds.length > 0) {\n				for (var x in finetuneNewBlockIds) {\n					var tmpId = finetuneNewBlockIds[x][0];\n					var newId = finetuneNewBlockIds[x][1];\n					for (var i in postData) {\n						//var reg = new RegExp('data\\[SplashFeed\\]\\['+tmpId+'\\]');\n						var reg = new RegExp('data.SplashFeed..'+tmpId+'.');\n						if ((''+i).match(reg)) {\n							postData[(''+i).replace(reg,'data[SplashFeed]['+newId+']')] = postData[i];\n							delete postData[i];\n						}\n					}\n				}\n			}\n			finetuneEditedFields = {};\n			finetuneFieldsHaveChanged = false;\n		}\n	}\n\n	postData['data[Event][title]'] = $(\"#finetune-main-title\").val();\n	postData['data[Event][domain]'] = $(\"#event-domain\").val();\n\n	postData['data[Event][type]'] = $(\"#event-type\").val();\n	postData['data[Event][type_id]'] = $(\"#event-type-id\").val();\n\n	postData['data[EventSetting][rsvp_method]'] = $(\"#rsvp_method_input\").val();\n	postData['data[EventSetting][private]'] = $(\"#privacy-check\").val();\n	postData['data[EventSetting][private_code]'] = $(\"#private-code\").val();\n	postData['data[EventSetting][private_type]'] = $(\"#private-type-input\").val();\n	postData['data[EventSetting][invite_link_privacy_bypass]'] = $(\"#privacy-invite-bypass\").val();\n\n	// Custom RSVP Template on Spladmin Panel\n	var rsvp_conf_temp = $('#custom-rsvp-input').val();\n	if(rsvp_conf_temp === 'default') {\n		postData['data[EventSetting][rsvp_conf_template]'] = '';\n	} else {\n		postData['data[EventSetting][rsvp_conf_template]'] = rsvp_conf_temp;\n	}\n\n	if($this.hasClass('in-progress')){\n		return false;\n	}\n	$this.addClass('in-progress').text('Saving...');\n	var ecParams = getEventCollabsToSave();\n	saveEventContacts(ecParams, function(){\n\n		saveEventData( postData, $this, function(response) {\n\n			// if the domain changed, this will be set to the new url\n			if(typeof response!='null' && typeof response.redirect !=='undefined' && (domain_changes || page_action_changes) ){\n				window.location = response.redirect;\n			} else{\n				$this.text('Saved').removeClass('in-progress');\n				setTimeout(function(){\n					$this.text('Save');\n					closeFakeModal();\n					closeSimpleModal();\n				},500);\n\n				updateJSEventProperties (postData);\n			}\n		});\n	});\n}\n\n// Save event data, passed in the post Data parameter\nfunction saveEventData ( postData, $button, callback ) {\n\n	$.ajax({\n		url:\"/events/saveEventData/\"+constants.event_id,\n		type: 'post',\n		data: postData,\n		dataType: 'json',\n		statusCode: {\n			401: function(response) {\n				handleSaveError( false );\n			},\n			403: function(response) {\n				handleSaveError( true, 'Whoops.  Looks like there was an error saving your data.  Please refresh the page and try again.');\n			}\n		}\n	})\n	.done( function (response) {\n		\n		if ( typeof callback == 'function' ) {\n			callback(response);\n		}\n	})\n	.fail( function () {\n		alert('There was an error saving your changes.  Please try again.');\n		$button.text('Save').removeClass('in-progress');\n	});\n}\n\n\nfunction updateRsvpColorPicker(){\n\n	var $btn = $('#splash-container').find('.element-rsvp')\n	var bgColor = $btn.css('background-color')\n	var txtColor = $btn.css('color')\n\n	$('#rsvp-bg-color-picker-on-page').val(bgColor).css('background-color', bgColor)\n	$('#rsvp-color-input-on-page').val(txtColor).css('background-color', txtColor)\n\n\n}\n\n// this function is executed when settings are saved, and it updates elements on the page that depend on event settings\n// and other variables with its properties\nfunction updateJSEventProperties (postData) {\n\n	// Refresh the countdown elements on the page, only if the start date was modified\n	if ( typeof postData['data[Event][event_date]'] !== 'undefined' ) {\n		_event.date.start = postData['data[Event][event_date]'] +\" \"+ am_pm_to_hours(postData['data[Event][event_time]']);\n		_event.date.tbd = postData['data[Event][tbd][date]'] == '1';\n	}\n\n	if ( typeof postData['data[Event][event_date_end]'] !== 'undefined' ) {\n		_event.date.end = postData['data[Event][event_date_end]'] +\" \"+ am_pm_to_hours(postData['data[Event][event_time_end]']);\n	}\n\n	_event.venue.name = typeof postData['data[Event][venue_name]'] != 'undefined' ? postData['data[Event][venue_name]'] : _event.venue.name;\n	_event.venue.address = typeof postData['data[Event][address]'] != 'undefined' ? postData['data[Event][address]'] : _event.venue.address;\n	_event.venue.city = typeof postData['data[Event][city]'] != 'undefined' ? postData['data[Event][city]'] : _event.venue.city;\n	_event.venue.state = typeof postData['data[Event][state]'] != 'undefined' ? postData['data[Event][state]'] : _event.venue.state;\n	_event.venue.zip_code = typeof postData['data[Event][zip_code]'] != 'undefined' ? postData['data[Event][zip_code]'] : _event.venue.zip_code;\n	_event.venue.country = typeof postData['data[Event][country]'] != 'undefined' ? postData['data[Event][country]'] : _event.venue.country;\n	_event.venue.lat = typeof postData['data[EventSetting][lat]'] != 'undefined' ? postData['data[EventSetting][lat]'] : _event.venue.lat;\n	_event.venue.lng = typeof postData['data[EventSetting][lng]'] != 'undefined' ? postData['data[EventSetting][lng]'] : _event.venue.lng;\n	_event.venue.tbd = typeof postData['data[EventSetting][venue_tbd]'] != 'undefined' ? postData['data[EventSetting][venue_tbd]'] : _event.venue.tbd;\n\n	// If the event venue was updated, then execute the venue updated callback (for refreshing things on custom JS that depend on it)\n	if ( typeof postData['data[Event][venue_name]'] !== 'undefined' ) {\n\n		if ( typeof customAfterUpdatingWheres == 'function' ) {\n			customAfterUpdatingWheres();\n		}\n	}\n\n	// -- Social Settings, update of page on the fly after settings saving ---------------\n	if ( typeof postData['data[EventSetting][social_settings][twitter][body]'] != 'undefined' ) {\n		_event.social.twitter.body = postData['data[EventSetting][social_settings][twitter][body]'].trim();\n		if ( _event.social.twitter.body == '' ) {\n			_event.social.twitter.body = _event.finetune.social_defaults.twitter.body;\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][facebook][name]'] != 'undefined' ) {\n		_event.social.facebook.name = postData['data[EventSetting][social_settings][facebook][name]'].trim();\n		if ( _event.social.facebook.name == '' ) {\n			_event.social.facebook.name = _event.finetune.social_defaults.facebook.name;\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][facebook][description]'] != 'undefined' ) {\n		_event.social.facebook.description = postData['data[EventSetting][social_settings][facebook][description]'].trim();\n		if ( _event.social.facebook.description == '' ) {\n			_event.social.facebook.description = _event.finetune.social_defaults.facebook.description;\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][linkedin][name]'] != 'undefined' ) {\n		_event.social.linkedin.name = postData['data[EventSetting][social_settings][linkedin][name]'].trim();\n		if ( _event.social.linkedin.name == '' ) {\n			_event.social.linkedin.name = _event.finetune.social_defaults.linkedin.name;\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][linkedin][description]'] != 'undefined' ) {\n		_event.social.linkedin.description = postData['data[EventSetting][social_settings][linkedin][description]'].trim();\n		if ( _event.social.linkedin.description == '' ) {\n			_event.social.linkedin.description = _event.finetune.social_defaults.linkedin.description;\n		}\n	}\n	// Show/hide of social buttons on the fly\n	if ( typeof postData['data[EventSetting][social_settings][twitter][hide]'] != 'undefined' ) {\n		_event.social.twitter.hide = postData['data[EventSetting][social_settings][twitter][hide]'].trim();\n		if ( _event.social.twitter.hide == '0' ) {\n			$('#social-btn-tw').removeClass('hide');\n		} else if ( _event.social.twitter.hide == '1' ) {\n			$('#social-btn-tw').addClass('hide');\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][facebook][hide]'] != 'undefined' ) {\n		_event.social.facebook.hide = postData['data[EventSetting][social_settings][facebook][hide]'].trim();\n		if ( _event.social.facebook.hide == '0' ) {\n			$('#social-btn-fb').removeClass('hide');\n		} else if ( _event.social.facebook.hide == '1' ) {\n			$('#social-btn-fb').addClass('hide');\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][linkedin][hide]'] != 'undefined' ) {\n		_event.social.linkedin.hide = postData['data[EventSetting][social_settings][linkedin][hide]'].trim();\n		if ( _event.social.linkedin.hide == '0' ) {\n			$('#social-btn-li').removeClass('hide');\n		} else if ( _event.social.linkedin.hide == '1' ) {\n			$('#social-btn-li').addClass('hide');\n		}\n	}\n	if ( typeof postData['data[EventSetting][social_settings][email][hide]'] != 'undefined' ) {\n		_event.social.email.hide = postData['data[EventSetting][social_settings][email][hide]'].trim();\n		if ( _event.social.email.hide == '0' ) {\n			$('#social-btn-email').removeClass('hide');\n		} else if ( _event.social.twitter.hide == '1' ) {\n			$('#social-btn-email').addClass('hide');\n		}\n	}\n\n}\n\nvar tabTimer;\n\nfunction setInnerTabHeight(){\n	/// set DESIGN TAB INNDER HEIGHT\n		$sec = $('#finetune-sections')\n\n		var height = $('#nuTool').outerHeight() - ( $sec.find('.sectionHead:first').outerHeight() )\n\n\n		clearTimeout( tabTimer )\n\n		tabTimer = setTimeout(function(){\n			if( $('.themeContain').get(0).scrollHeight > height + 10  ){\n				// IF IN DESIGNER MODE AND IF DESIGNER TAB IS OVERFLOWING\n				// MAKE DESIGNER MODE TOGGLE GO INLINE\n\n				$('.themeContain').addClass('isScrolling')\n			} else {\n				$('.themeContain').removeClass('isScrolling')\n			}\n\n		}, 50)\n\n		$sec.find('.themeContain:first').css('height', height+'px')\n\n\n}\n\n$('#finetune-layout-contain').on('click', '.layout-ctrl > label', function(){\n		var $t = $(this).parents('.layout-ctrl:first');\n		if( $t.hasClass('open') && !$t.hasClass('link-to-swatch-holder') && !$t.hasClass('link-to-font-holder') ){\n			$t.removeClass('open');\n		} else {\n			$t.addClass('open').siblings('.layout-ctrl:not(.link-to-swatch-holder,.link-to-font-holder)').removeClass('open');\n		}\n})\n\nfunction updateThemeCards(){\n	if(constants.theme_switch){\n		return false;\n	}\n\n	var bgImg = '';\n	var theme_id = constants['theme_id'];\n\n	if( !allThemes[theme_id] ){\n		// IF ALL THEMES ARRAY DOESNT EXIST, USE THEME IMAGE FROM LOAD\n		bgImg = 'url(' + constants.thisThemeImg + ')';\n	} else {\n		// IF ALL THEMES ARRAY EXISTS, USE IT TO CHANGE TO CORRECT IMAGE\n		bgImg = 'url(' + allThemes[ theme_id ].image_url + ')';\n	}\n\n	$(\"#currentThemeCard2\").data('isBound',true).css('background-image', bgImg )\n\n}\n\n\nfunction getTargetById(id){\n	var $target=false;\n	//a function to check what element should be updated, based on which input is being updated.\n	if(id=='header'){\n		return $(\"#splash-container\").find(\"div.event-bg-url:first\");\n	} else if(id=='body'){\n		$target = $(\"#splash-container\").find(\"div.event-body:first\")\n		if($target.length < 1){\n			$target = $(\"#splash-container\");\n		}\n		return $target;\n	}\n\n	if($.inArray(id,['time-font-input','time-align-input','time-font-size-slider','time-color-input',\n		'time-letter-spacing-slider','time-transform-slider','time-text-shadow-input']) >= 0){\n		$target = $(\"#element-when\").find(\".time\");\n	} else if($.inArray(id,['body-text-color','body-bg-color','body-background-repeat','body-background-size','body-background-position','body-background-attachment'])>-1){\n		// $target = $(\"#splash-container\");\n		$target = getTargetById('body');\n	} else if(id=='where-color-input'||id=='venue-size-input'||id=='where-font-input'){\n		$target = $(\"#element-where\").find(\".venue_name\");\n	} else if(id=='body-link-color'){\n		$target = $(\"#main-canvas a,#element-hash\");\n	} else if( $.inArray( id, ['header-bg-color','header-border-color','header-border-width','header-border-radius','header-box-shadow-input','header-shadow-blur-slider','header-box-shadow-color','header-h-shadow-slider','header-v-shadow-slider']) >= 0 ){\n		$target = getTargetById('header');\n	} else if( $.inArray( id, ['canvas-border-width','canvas-border-radius','canvas-border-color','canvas-box-shadow-color']) >= 0 ){\n		$target = $(\"#main-canvas\");\n	} else if(id=='main-1-color-input' || id=='canvas'){\n		$target = $(\"#splash-container, #main-canvas .link-p1-bg, .link-p1-txt, .element-description_text,.element-host\");\n	} else if(id=='main-2-color-input'){\n\n		if( $.inArray( constants.thisTheme, ['st-flyer-v2','st-flyer-v3','st-poster-v2','st-poster-v3'] ) >= 0 ){\n			$target = $(\"#main-canvas\").find(\".element-rsvp:not(.inlineForm),#main-canvas .element-rsvp.inlineForm #rsvp-submit, .link-p2-txt\");\n		} else {\n			$target = $(\"#main-canvas\").find(\".element-rsvp:not(.inlineForm),#main-canvas .element-rsvp.inlineForm #rsvp-submit ,.element-title,.element-subtitle,.link-p2-txt\");\n		}\n\n	} else if(id=='main-3-color-input' || id == 'button'){\n		$target = $(\"#main-canvas .element-rsvp:not(.inlineForm),#main-canvas .element-rsvp.inlineForm #rsvp-submit, #main-canvas .link-p3-bg\");\n	} else if(id=='main-4-color-input'){\n		$target = $(\"#main-canvas a, #main-canvas .element-hash\");\n	} else if(id=='main-5-color-input'){\n		$target = $(\"#main-canvas, #main-canvas .link-canvas-bg\");\n	} else if(id=='primary-font-input'){\n		if(typeof fontSelectors!=='undefined' && fontSelectors.primary!=='undefined'){\n			$target = $(fontSelectors.primary.join(',')+',#main-canvas .font-p1');\n		} else {//fallback. should never be called.\n			//$target = $(\"#main-canvas\").find(\".element-rsvp,.element-title,.element-subtitle,.font-p1\");\n		}\n	} else if(id =='secondary-font-input'){\n		$target = $(fontSelectors.secondary.join(',')+\"#splash-container,#main-canvas .font-p2\");//,.element-description_text\");\n	} else if(id =='legacy-primary-font'){\n		$target = $(fontSelectors.legacyPrimary.join(',')+\",#main-canvas .font-p1\");//,.element-description_text\");\n	} else if( id == 'submit-color-input' || id == 'submit-bg-color-picker' ){\n		$target = $(\"#rsvp-submit, #purchase-button\");\n	}\n\n	return $target;\n}\n\nfunction getBorderProperties($p){//grabs the current border properties and returns in object format.\n	//var styles = formatBorderWidth($p.find(\".bdr-w\").val());\n	var properties = {\n		radius: $p.find(\".bdr-r\").val(),\n		style: $p.find(\".bdr-s\").val(),\n		width: $p.find(\".bdr-w-all\").val(),\n		color: $p.find(\".bdr-color\").val()\n	};\n	return properties;\n}\n\nfunction updateBorderForObject($obj,border){ // {{{\n	if (!border.style) {\n		border.style = 'solid';\n	}\n	$obj.css({\n		'border-color':border['color'],\n		'border-style':border['style'],\n		'border-width':border['width'],\n		'border-radius':border['radius']\n	});\n} // }}}\nfunction updateElementBorder(id,border_obj,forceTrigger){//very useful function.  called to deal with setting all border props on the fly.\n	var w = '0', s='solid', r=border_obj['radius']||'0px', c=border_obj['color']||'#000';\n	if(border_obj['style']){\n\n		s=border_obj['style'];\n	}\n	if(border_obj['width']){\n		w=border_obj['width'].replace('px','');\n	}\n	var width = ''+w+','+s;\n	var wArr = width.split(',');\n	if(wArr.length > 2){//fallback for faulty borders coming through. catches 1,solid,solid, 0,dashed,'', etc.\n		w = wArr[0];\n		width = wArr[0]+','+wArr['1'];\n	}\n\n	$parent = $(\"#\"+id+\"-border-width\").parents('.bdr-contain:first')\n\n	flipDropDown($(\"#\"+id+\"-border-width\"),width,forceTrigger);\n	flipDropDown($(\"#\"+id+\"-border-radius\"),r,forceTrigger)\n	$(\"#\"+id+\"-border-color\").val(c).css('background',c);\n\n	// if( w == '0' ){\n	// 	$parent.addClass('hideColorPkr')\n	// }\n\n	return { 'style':s,'width':w.replace('px','')+'px','color':c,'radius':r };\n}\n\nfunction formatBorderWidth(val,reverse){\n	if(reverse==null){\n		var obj = {};\n		var stwi = (''+val).split(',');\n		obj.wi = stwi.shift()+'px' || '0px';\n		obj.st = stwi.shift() || 'solid';\n		return obj;\n	} else{ //do the opposite!  get it into string format\n		if(typeof val['width']==='undefined'){\n			val['width'] = 0;\n		} else if(val['width'].match(/,/)){//straggler - in the form \"width,style\"\n	        var w = val['width'].split(',');\n			val['width'] = w[0]+'px'||'0px';\n			val['style'] = w[1]||'solid';\n		}\n		var width = val['width'].replace('px','');\n		var style = val['style'];\n		return width+','+style;//ie 0,solid or 4,dashed\n	}\n}\n\nfunction checkIfEmptyBorder($w){\n	if($w.val()=='' || $w.val()=='0' || $w.val()=='0,solid'){\n		return true;\n	} else{\n		return false;\n	}\n}\n\nfunction isValidUrl(str) {\n  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n  if(!pattern.test(str)) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction toggleElementHide($obj,params){\n\n	if(typeof params.force!=='undefined' && params.force==true){\n		$obj.val(params.val).addClass('changes-made').toggleAccordion(true);//trigger('change');//set to 0 or 1 AND trigger change.\n		return;\n	} else {\n		$obj.val(params.val);//set to 0 or 1.\n	}\n\n	var $target = $(\"#\"+$obj.attr(\"target\"));\n	var $p = (params.inner ==null)?$obj.parents(\".mainCard\"):$obj.parents(\".content-inner:first\");\n	if (params.val == '1') {\n		$p.addClass('is-hidden');\n		$obj.parent().addClass('is-hidden');\n		if(typeof $target !== 'undefined'){\n			$target.hide();\n		}\n	} else {\n		$p.removeClass('is-hidden');\n		$obj.parent().removeClass('is-hidden').parents(\".content-inner:first\").removeClass('is-hidden');\n		if(typeof $target !== 'undefined'){\n			$target.show();\n		}\n	} // }}}\n}\n\n// Section Hiding // {{{\n\n$(\"#finetune-layout-contain\").on('click','.hide-sec-btn',function(){\n	var $ftgroup = $(this).parents(\".ft-grp:first\");\n	var $liveGroup = ftGetLayoutGrp($ftgroup);\n	var grp = ftGetGrp($ftgroup);\n	if(typeof grp.styles=='undefined'){grp.styles={};}\n	if(grp['styles']['hidden'] && grp['styles']['hidden']==1){\n		var val = 0;\n	} else {\n		var val = 1;\n	}\n\n	hideGroup($liveGroup,val);\n})\n\n$('#finetune-layout-contain').on('click', '.section .hideSecOpt', function(){\n\n		$thisText = $(this).find('.hideText')\n\n		if( $thisText.text() == 'Hide Section' ){\n			$thisText.text('Show Section')\n		} else {\n			$thisText.text('Hide Section')\n		}\n	})\n\n\nfunction getShadow($p){\n	var $input = $p.find(\"input.shadow-input:first\");\n	if($input.hasClass('box-shadow')){\n		var x = $p.find(\"input.h-shadow\").val().replace('px','')+'px',\n			y = $p.find(\"input.v-shadow\").val().replace('px','')+'px',\n			b = $p.find(\"input.shadow-blur\").val().replace('px','')+'px';\n	}\n	else{\n		var x = $p.find(\"input.text-shadow-x\").val().replace('px','')+'px',\n			y = $p.find(\"input.text-shadow-y\").val().replace('px','')+'px',\n			b = $p.find(\"input.text-shadow-blur\").val().replace('px','')+'px';\n	}\n	var c = $p.find(\"input.shadow-color\").val();\n	if(c==''||c=='undefined'){ c='#000'; }\n	//if(x=='0px'&&y=='0px'&&b=='0px'){\n	//	return 'none';\n	//} else{\n		return x+' '+y+' '+b+' '+c;\n	//}\n}\n\nfunction updateShadow(id,shadow,boxShadowPicker,prefix){\n	if(typeof id=='object'){\n		var $t = id;\n	} else{\n		var $t = $(\"#\"+id);\n	}\n\n	var $p = $t.parents(\"div.shadow-picker:first\");\n		x=0,y = 0,b=0,c='#000',$sToggle = $p.find(\"input.shadow-toggle:first\");\n	if(shadow=='none'||shadow==''||typeof shadow=='undefined'||typeof shadow=='Array'||typeof shadow=='object'){\n		shadow='0px 0px 0px #000';\n		//shadow='none';\n	}\n\n	var parts = shadow.split(' ');//in expected format \"x-offset y-offset blur color\"\n	if(parts.length > 1){\n		x = parts[0].replace('px',''),\n		y = parts[1].replace('px',''),\n		b = parts[2].replace('px','');\n		c = '';\n		for(var i = 3;i<parts.length;i++){//this loop is needed as color could be in hex, rgb or rgba format.\n			if(parts[i].trim()!=''){\n				c+=parts[i];\n			}\n		}\n	}\n\n	if(boxShadowPicker!=null){\n		var s1 = $p.find(\"input.h-shadow:first\"),\n			s2 = $p.find(\"input.v-shadow:first\"),\n			s3 = $p.find(\"input.shadow-blur:first\");\n	} else{\n		var s1 = $p.find(\"input.text-shadow-x:first\"),\n			s2 = $p.find(\"input.text-shadow-y:first\"),\n			s3 = $p.find(\"input.text-shadow-blur:first\");\n	}\n\n	updateSliderValue(s1,x);\n	updateSliderValue(s2,y);\n	updateSliderValue(s3,b);\n\n	$p.find(\"input.shadow-color:first\").val(c).css('background-color',c);\n	if($t.hasClass('shadow-input')){//should always be the case.\n		$t.val(shadow);\n		var val = 1;\n		if(shadow==''||shadow.match(/0px 0px 0px/g)){//shadow=='0px 0px 0px #000'||shadow=='rgb(0, 0, 0) 0px 0px 0px'){\n			val = 0;\n		}\n		setCheck($sToggle,val);\n	}\n\n}\n\nfunction updateSliderValue($id,value,force){\n	if($.inArray(value,['none','inherit','auto','normal','NaN'])>-1){\n		$id.val(0);\n		return;//just dont replace it.\n	} else if(value=='undefined'||typeof value=='undefined'){\n		value = '0';\n	} else if(value=='100%'){\n		var max = $id.attr(\"max\")||'100',\n			$slider = $id.val(max).parents(\"div.slider-wrap:first\"),\n			$sliderInput = $slider.find(\"div.slider:first\");\n\n		if($sliderInput.hasClass('bound')){\n			$sliderInput.slider(\"value\",max);\n		} else{\n			$sliderInput.attr(\"tmp-val\",max);\n		}\n		return;\n	} else if(value=='autosize'){\n		var min = $id.attr(\"min\")||'0';\n		//ideally, this would be setting the value of the input to 'autosize' and not '0.1',\n		//but apparently the slider can't handle that.  breaks the slider functionality.\n		var $slider = $id.val(min).parents(\"div.slider-wrap:first\");\n		var $sliderInput = $slider.find(\"div.slider:first\");\n		if($sliderInput.hasClass('bound')){\n			$sliderInput.slider(\"value\",min);\n		} else{\n			$sliderInput.attr(\"tmp-val\",min);\n		}\n		return;\n	}\n\n\n	var m = $id.attr(\"unit\")||'px',\n		rep = (!isNaN(value))?value+m:value;\n\n	$id.val(rep);\n	value = (''+value).replace('px','');//just because its still giving us trouble.\n	var $slider = $id.parents(\"div.slider-wrap:first\");\n	if ($slider.length == 1) {\n		var $sliderInput = $slider.find(\"div.slider:first\");\n		if($sliderInput.hasClass('bound')){//if already bound, then no problem.\n			//$slider.find(\"input.sliderInput\").val(rep);\n			$sliderInput.slider(\"value\",(''+value).replace(m,''));\n		} else{\n			//$slider.find(\"input.sliderInput\").val(rep);\n			$sliderInput.attr(\"tmp-val\",(''+value).replace(m,''));\n		}\n	}\n}\n\nfunction updateInputValue($input,value,force){\n	if($.inArray(value,['none','inherit','normal','NaN'])>-1){\n		$input.val(0);\n	} else {\n		var unit = value.replace(/[0-9]/g,'');//strip out units, if applicable.\n		if(unit.trim()!=''){\n			var $unitdd = $input.parent().find(\".unit-dropdown:first\");\n			if($unitdd.length > 0){\n				flipDropDown($unitdd,unit);\n				$input.attr('unit',unit).removeAttr('no-unit');\n			}\n		}\n		value = value.replace(/[^0-9.]/g,'');//strip non-numeric characters, but allow decimals.\n		$input.val(value);\n	}\n\n}\n\n\nfunction updateAlignPicker(id,value,triggerChange){\n	var $input = $(\"#\"+id);\n	if($input.length > 0){\n		$input.val(value).parents(\".align-contain:first\")\n			.find(\".align-picker[value=\"+value+\"]\").addClass('active').siblings().removeClass('active');\n		if(triggerChange!=null){\n			$input.trigger('change');\n		}\n	}\n}\n\nfunction bindSlider($obj,force){\n	if(typeof $obj=='undefined'){ return false; }\n	else if($obj.hasClass('bound')){ return false; } //already bound.\n	var $p = $obj.parents(\".slider-wrap:first\");\n	var $t = $p.find(\".slider:first\");\n	var $ls = $p.find(\"input:first\");//could potentially be 2 inputs.\n	var m = ($ls.attr(\"unit\"))?$ls.attr(\"unit\"):'px';//unit measurement.  could be px, em, etc.\n	//var m = 'px';//hardcoded for now.  not working for em...yet.\n	var step = (m=='em')?0.01:1;\n	if($ls.attr(\"step\")){\n		step=$ls.attr(\"step\")*1;\n	}\n	var orientation = ($ls.hasClass('font-size'))?'vertical':'horizontal';\n	var $text_indent = $p.find(\"input.text-indent\");\n	if($ls.attr(\"tmp-val\")){\n		$ls.val($ls.attr(\"tmp-val\"));\n		$ls.removeAttr(\"tmp-val\");\n	}\n	$t.addClass('bound').slider({\n		min:$ls.attr(\"min\")*1,\n		max:$ls.attr(\"max\")*1,\n		range:'min',\n		step:step,\n		orientation: orientation,\n		value: ($ls.val()&&$ls.val()!='')?$ls.val().replace(m,''):14,\n		slide: function(event,ui){\n			//$p.find(\"input.sliderInput\").val(ui.value+m);//.display\").text(ui.value+m);\n			$ls.val(ui.value+m).trigger('change');\n			if($text_indent.length>0){\n				$text_indent.val(ui.value+m).trigger('change');\n			}\n		},\n		stop: function(){\n			setChangesMade();\n		}\n	});\n\n	$obj.addClass('bound');\n	// if(force!=null){\n	// 	var current = $t.slider(\"option\",\"value\");\n	// 	$t.slider(\"option\",\"value\",current+step);\n	// }\n}\n\nfunction updateColorPicker(id,value,triggerChange){\n	var $id = $(\"#\"+id);\n	if($id.length>0){\n		if(value=='inherit'){\n			value='rgba(0,0,0,0)';\n		}\n		$id.val(value).css('background',value);\n		if(triggerChange!=null){\n			$id.addClass('changes-made');\n		}\n	}\n}\n\nfunction toggleBackgroundOptions($input,triggerChange){//this thing flips the background options div and shows the subsequent values.\n	var $parent = $input.parents(\".uiChooser:first\");\n	$parent.removeClass('is-color is-image is-none').addClass('is-'+$input.val())\n		.find(\"div.header-bg-content\").hide().end()\n		.find(\"div.header-bg-content[type='\"+$input.val()+\"']:first\").show();\n	if(triggerChange!=null){\n	 	if($input.val()=='image'){\n			var currentBg = $parent.find(\".currentBackground:first\").css('background-image');\n			if(typeof currentBg==='undefined'||currentBg==''||currentBg.match(/empty-bg/)){\n				setTimeout(function(){\n					$parent.find(\".currentBackground:first\").click();\n				},0);\n			}\n		}\n	}\n}\n\nfunction chooseBgPosition($input,value,triggerChange){\n	if(triggerChange!=null){\n		$input.val(value).addClass('changes-made').trigger('change');\n	} else {\n		$input.val(value);\n	}\n	var $square = $input.parents(\"div.squarePosWrap:first\").find(\"div.squarePos[pos='\"+value+\"']:first\");\n	if($square.length > 0){\n		$square.addClass('selected').siblings().removeClass('selected');\n	}\n}\n\nfunction hideHeader($target){\n	//this is called when background type of 'none' is chosen. hide the header by default.\n	updateColorPicker(\"header-bg-color\",'none',true);\n	// $(\"#header-height-slider\").val(0).addClass('changes-made');\n	// $(\"#header-min-height-slider\").val(0).addClass('changes-made');\n	//updateElementBorder(\"header\",{},true);//empty out the border.\n	//updateBorderForObject($target,{});\n	$target.css({\n		'background-image':'none','background':'none','height':'auto','border':0\n	});\n}\n\nfunction updateHeaderCoords(id,$obj){\n	var p = { top:$obj.position().top,left:$obj.position().left };\n	$(\"#\"+id+'-position-top').val(p['top']+'px').trigger('change');\n	$(\"#\"+id+'-position-left').val(p['left']+'px').trigger('change');\n	setChangesMade();\n}\n\nfunction isPrivateEvent(){\n	if($.inArray($(\"#private-type-input\").val(),['all','when_where_rsvp'])>-1){\n		return true;\n	} else{\n		return false;\n	}\n}\n\n//Modified the function from SOURCE: http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\nfunction elementInViewport(el) {\n	if(typeof el==='undefined'||el==null|| typeof el.offset == 'undefined' ||typeof el.offset()==='undefined'||el.offset()==null){\n		return true;//ironic, but we never want to scroll if the element doesn't exist, so 'true' is the answer we want.\n 	}\n\n	var top = el.offset().top;\n	var height = el.outerHeight(true);\n	return (\n		top < (window.pageYOffset + window.innerHeight) &&\n		(top + height) > window.pageYOffset //&&\n	);\n}\n\nfunction getSectionByElement(element){\n	var params = { chunk: false, section: false, fontsOrStyles: false };\n\n	if (element == 'description_text') {\n		params.chunk = 'design';\n		params.section = '#description_text_theme_styles'\n	}\n	else if (element == 'host') {\n		params.chunk = 'design';\n		params.section = '#host_theme_styles';\n	}\n	else if (element == 'legal-language') {\n		params.chunk = 'design';\n		params.section = '#button_theme_styles';\n		//params.fontsOrStyles = 'styles';\n		params.advChange = 'open';\n	}\n	else if (element == 'rsvp') {\n		params.chunk = 'design';\n		params.section = '#buttonTabHead';\n	}\n	else if (element == 'attendees') {\n		params.chunk = 'design';\n		params.section = '#buttonTabHead';\n		params.advChange = 'open';\n	}\n	else if (element == 'title') {\n		params.chunk = 'design';\n		params.section = '#title_theme_styles';\n	}\n	else if (element == 'subtitle') {\n		params.chunk = 'design';\n		params.section = '#subtitle_theme_styles';\n	}\n	else if ( $.inArray(element,['when','when-year','when-month','when-day','when-dow','when-time',\n	'when-end-year','when-end-month','when-end-day','when-end-dow','when-end-time','when-tbd']) > - 1 )\n	{\n		params.chunk = 'design';\n		params.section = '#when_theme_styles';\n		params.subsection = 'element-subtitle';\n		params.fontsOrStyles = 'styles';\n	}\n	else if ($.inArray(element,['where','where-venue','where-address','where-city','where-state',\n		'where-zip','when-tbd']) > -1 ){\n		params.chunk = 'design';\n		params.section = '#where_theme_styles';\n		params.fontsOrStyles = 'styles';\n	}\n	else if (element == 'social-links') {\n		params.chunk = 'design';\n		params.section = '#share-buttons';\n		params.subsection = 'element-social-links';\n	}\n	else if (element == 'hash') {\n		params.chunk = 'design';\n		params.section = '#hash_theme_styles';\n		params.subsection = 'element-hash';\n	}\n	return params;\n}\n\nfunction updateMainCanvasCClasses() {\n	var func = function(className,n) {\n		var classes = className.replace(/\\s\\s*/g,' ').split(/ /);\n		for (var i in classes) {\n			if ((''+classes[i]).match(/^c[0-9][0-9]*/)) {\n				classes[i] = 'c'+n;\n			}\n		}\n		return classes.join(' ');\n	}\n	var $mc = $('#main-canvas');\n	$mc.find('.layoutGrp').each(function(){\n		var $lg = $(this);\n		var n = $lg.find('> .layoutGrp:visible').length;\n		$lg[0].className = func($lg[0].className,n);\n	});\n	$mc.find('.element .children').each(function(){\n		var $c = $(this);\n		var n = $c.find('> .sf:visible').length;\n		$c[0].className = func($c[0].className,n);\n	});\n\n//	hideShowSortBtn()\n	//updateFinetuneSectionCountDisplay();\n}\nfunction updateFLCxN(){\n	// this bit updates the x1, x2, x3, etc.. classes for the nesting styles\n	var func = function(className,x) {\n		var classes = className.replace(/\\s\\s*/g,' ').split(/ /);\n		var joy = false;\n		for (var i in classes) {\n			if ((''+classes[i]).match(/^x[0-9][0-9]*/)) {\n				classes[i] = 'x'+x;\n				joy = true;\n			}\n		}\n		if (!joy) { classes.push('x'+x); }\n		return classes.join(' ');\n	}\n	var recur = function($parent,x) {\n		$parent.find('> .ft-grp').each(function(){\n			var $t = $(this);\n			$t[0].className = func($t[0].className,x);\n			recur($t,x+1);\n		});\n	}\n	var $ftc = $('#finetune-layout-contain');\n	recur($ftc,1);\n}\n\nfunction checkForScroll(){\n	var thisHeight = $('#basicsTabWrap').outerHeight() + $('#buttonTabWrap').outerHeight() + $('#sectionTabWrap').outerHeight()\n	var containHeight = $('#allSectionsContain').outerHeight() - 10\n\n	var scrollPos = $('#allSectionsContain').scrollTop()\n\n	if( containHeight < thisHeight &&  scrollPos > 3 ){\n		$('#sections-wrap').addClass('containIsScrolling')\n	} else {\n		$('#sections-wrap').removeClass('containIsScrolling')\n	}\n\n}\n\n$('#allSectionsContain').on('scroll', function(){\n	checkForScroll()\n})\n\nfunction checkPaneSectionHeight(){\n\n	var $accordion = $(\"#finetune-layout-contain\").find(\".section.open .accordion:first\");\n	var $asc = $('#allSectionsContain');\n	var $elementsContain = $('#elementsContain');\n\n	var h = windowHeight - bottomUtilHeight;\n\n	$elementsContain.css('top','0px');\n\n	h -= $('#elementsHeader').outerHeight();\n	h -= $('#topBodyContain').outerHeight();\n	h -= 35; // margins...\n	//var sectionHeight = h - 280\n\n	$asc.css('height', h+'px')\n\n\n	innerHeight = $('#finetune-layout-contain').outerHeight() + $('#buttonTabWrap').outerHeight() + $('#basicsTabWrap').outerHeight() + $('#addReorderTools').outerHeight()\n\n	if ( innerHeight > h ){\n		$('#finetune-block').addClass('isScrolling')\n	} else {\n		$('#finetune-block').removeClass('isScrolling')\n	}\n\n	blockCount = $('#finetune-layout-contain').find('.master_group').find('.section:not(.adminBlock):not(.hide)').length\n\n	if( blockCount > 0 ){\n		$('#finetune-layout-contain').find('.master_group').removeClass('hide')\n	}\n\n	checkForScroll()\n\n}\n\n\nfunction updateFinetuneSectionCountDisplay(){\n	var count = $('#finetune-layout-contain').find('.ele-wrapper:not(.adminBlock)').length;\n	$('#finetune-section-count-display').html(count);\n\n	if(count == 0){\n		$('#sectionTabWrap').removeClass('open').addClass('empty')\n		$('#inline-reorder-init').addClass('hideReorderBtn')\n		// $('#addSecBtn').addClass('emptySec')\n	} else if (count == 1 ){\n		$('#sectionTabWrap').removeClass('empty')\n		// $('#addSecBtn').addClass('emptySec')\n		$('#inline-reorder-init').addClass('hideReorderBtn')\n	} else if (count > 1) {\n		$('#sectionTabWrap').removeClass('empty')\n		//$('#addSecBtn').removeClass('emptySec')\n		$('#inline-reorder-init').removeClass('hideReorderBtn')\n	}\n\n	checkPaneSectionHeight()\n\n}\n\nfunction hideShowSortBtn(){\n	var count = $('#finetune-layout-contain').find('.ele-wrapper:not(.adminBlock),').length;\n	if(count <= 1){\n		$('#inline-reorder-init').hide()\n	} else {\n		$('#inline-reorder-init').show()\n	}\n}\n\n$.fn.openAccordion = function(){\n	var $section = $(this);\n	if( $section.hasClass('noContent') || $section.hasClass('is-hidden') ){ //nothing to open. simply close the siblings.\n		$section.siblings().each(function(){ $(this).closeAccordion(); });\n	} else { //normal use-case. open this section and close it's siblings.\n		$section.addClass('expanded').css('overflow','visible').siblings().each(function(){ $(this).closeAccordion(); });\n	}\n\n}\n\n$.fn.closeAccordion = function(args){\n	//$(this).find(\".content-trigger.open\").click();//close any advanced options.\n	$(this).removeClass('expanded').css('overflow','hidden');\n}\n\nfunction getTargetFromObject($obj){\n	var target_id = $obj.attr(\"target\");\n	if(typeof target_id!=='undefined'){\n			var $target = $(\"#\"+target_id).parents(\".layoutGrp:first\");\n		if($target.length < 1){\n			$target = $(\".\"+target_id);\n		}\n		if($target.length > 0){\n			// if($target.length > 1){\n			// 	return $target[0];\n			// } else{\n			return $target;\n				//}\n		} else{\n			return false;\n		}\n	}else{\n		return false;\n	}\n}\n\n// this updates the myriad split out when-xxxx elements\nfunction updateSplitWhenBlocks(params) {\n	// same month/day logic\n	var start = getDateObj(params.start);\n	var end = (params.end) ? getDateObj(params.end) : false;\n	$('body').removeClass('date-tbd event-has-end-time sesm sesd mult-day');\n	var bodyClasses = [];\n	if (start == false && params.start == 'TBD') {\n		bodyClasses.push('date-tbd');\n	}\n	else {\n		if (params.hide_end_date && params.hide_end_date == true) {\n		} else {\n			bodyClasses.push('event-has-end-time');\n			// same year\n			if (start && end && start.getFullYear() == end.getFullYear()) {\n				// same month\n				if (start && end && start.getMonth() == end.getMonth()) {\n					bodyClasses.push('sesm');\n					// same day\n					if (start && end && start.getDate() == end.getDate()) {\n						bodyClasses.push('sesd');\n					}\n				}\n			} else if( start && end && start.getFullYear() !== end.getFullYear() ){\n				// DIFFRERNET YEAR\n				bodyClasses.push('dif-year');\n			}\n			// duration > 24 hours - mult-day\n			if (end.getTime() - start.getTime() > (60*60*24*1000)) {\n				bodyClasses.push('mult-day');\n			}\n		}\n	}\n\n	// zero indexed\n	var dispMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n	 	dispMonthsShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n	 	dispDows = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n	 	dispDowsShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n		// st, nd, rd, th\n\n	var getGroupMode = function($ele) {\n		if(typeof $ele!=='undefined'){\n			var $lg = $ele.parents('.layoutGrp:first');\n			if ($lg.length == 1) {\n				var $sec = $('#ft'+$lg.attr('id'));\n				var grp = ftGetGrp($sec);\n				if (grp && grp.mode) {\n					return grp.mode;\n				}\n			}\n		}\n		return false;\n	}\n\n	var modifyOnPageWhens = function(mode,dateObj) {\n		var $year = (mode=='start') ? $('#element-when-year') : $('#element-when-end-year');\n		if ($year.length == 1) {\n			var disp = dateObj.getFullYear();\n			var gmode = getGroupMode($year);\n			if (gmode && gmode == 'short') {\n				disp = (''+dateObj.getFullYear()).substr(2);\n			}\n			$year.find('.date .year').html(disp);\n		}\n		var $month = (mode=='start') ? $('#element-when-month') : $('#element-when-end-month');\n		if ($month.length == 1) {\n			var disp = dispMonths[dateObj.getMonth()];\n			var gmode = getGroupMode($month);\n			if (gmode && gmode == 'short') {\n				disp = dispMonthsShort[dateObj.getMonth()];\n			}\n			$month.find('.date .month').html(disp);\n		}\n		var $day = (mode=='start') ? $('#element-when-day') : $('#element-when-end-day');\n		if ($day.length > 0) {\n			var disp = dateObj.getDate();\n			var gmode = getGroupMode($month);\n			if (gmode == 'short') {\n				if (disp=='2'||disp=='22'){\n					disp+='nd';\n				} else if (disp=='3'||disp=='23'){\n					disp+='rd';\n				} else if (disp=='1'||disp=='21'||disp=='31'){\n					disp+='st';\n				} else {\n					disp+='th';\n				}\n			}\n			$day.find('.date .day').html(disp);\n			if (mode == 'end') {\n				var $day = $('#element-when-day');\n				$day.find('.date.end .day').html(disp);\n			}\n\n		}\n		var $dow = (mode=='start') ? $('#element-when-dow') : $('#element-when-end-dow');\n		if ($dow.length > 0) {\n			var disp = dispDows[dateObj.getDay()];\n			var gmode = getGroupMode($month);\n			if (gmode && gmode == 'short') {\n				disp = dispDowsShort[dateObj.getDay()];\n			}\n			$dow.find('.date .dow').html(disp);\n			if (mode == 'end') {\n				var $dow = $('#element-when-dow');\n				$dow.find('.date.end .dow').html(disp);\n			}\n		}\n		var $time = (mode=='start') ? $('#element-when-time') : $('#element-when-end-time');\n		if ($time.length > 0) {\n			var meridian = 'am';\n			var hour = dateObj.getHours();\n			if (hour > 12) {\n				hour -= 12;\n				meridian = 'pm';\n			} else if (hour == 12) {//12 is a tricky one.  AM vs PM extra check below.\n				meridian = 'pm';\n			} else if (hour == 0) {\n				hour = 12;\n			}\n\n			var minute = ('00'+dateObj.getMinutes()).slice(-2);\n			var $contain = $time.find('.time');\n			$contain.find('.hour span').html(hour);\n			$contain.find('.minute span').html(minute);\n			$contain.find('.meridian span').html(meridian);\n			//.time[h|i|a]\n			$contain.attr({\n				'h': ('00'+dateObj.getHours()).slice(-2),\n				'i': minute,\n				'a': meridian\n			});\n			$contain.attr('i', minute);\n			$contain.attr('a', meridian);\n			if (mode == 'end') {\n				var $time = $('#element-when-time');\n				var $contain = $time.find('.time.end');\n				$contain.find('.hour span').html(hour);\n				$contain.find('.minute span').html(minute);\n				$contain.find('.meridian span').html(meridian);\n				//.time[h|i|a]\n				$contain.attr({\n					'h': ('00'+dateObj.getHours()).slice(-2),\n					'i': minute,\n					'a': meridian\n				});\n			}\n		}\n\n		// execute callback function, for custom JS formatting of the date (eg: setting day of the week)\n		if ( typeof customAfterUpdatingWhens == 'function' ) {\n			customAfterUpdatingWhens(mode,dateObj);\n		}\n	};\n\n	// always call start before end\n	if (start !== false) {\n		modifyOnPageWhens('start',start);\n	}\n	if (end !== false) {\n		modifyOnPageWhens('end',end);\n	}\n\n\n	$('body').addClass(bodyClasses.join(' '));\n}\nfunction getDateObj(date)\n{ // {{{\n	if (date &&\n		date.date && (''+date.date).match(/[0-9]{2}\\/[0-9]{2}\\/[0-9]{2}/i) &&\n		date.time && (''+date.time).match(/[0-9]{1,2}:[0-9]{2}a|pm/i)\n	) {\n		// date.date = MM/DD/YY => 12/01/13 for december 1st 2013\n		// date.time = h:mmpm => 10:30pm | 9:30am | 8:00am\n		// build the mysql datetime string\n		var datetimeString = ''\n		// date\n		var parts = (''+date.date).split('/');\n		datetimeString += ((''+parts[2]).length == 2) ? '20'+parts[2] : parts[2];\n		datetimeString += '-'+parts[0];\n		datetimeString += '-'+parts[1];\n		datetimeString += ' ';\n		// time\n		var parts = (''+date.time).split(':');\n		var hour = ((''+parts[0]).length == 1) ? '0'+parts[0] : parts[0];\n		var minute = (''+parts[1]).replace(/[^0-9]*/g,'');\n		if (parts[1].match(/pm/i) && parseInt(hour) < 12) {\n			hour = parseInt(hour) + 12\n		} else if (parts[1].match(/am/i) && parseInt(hour) >= 12) {\n			hour = parseInt(hour) - 12\n		}\n		datetimeString += ((''+hour).length == 1) ? '0'+hour : hour;\n		datetimeString += ':';\n		datetimeString += ((''+minute).length == 1) ? '0'+minute : minute;\n		datetimeString += ':00';\n\n		// build a javascript Date object\n		var parts = (''+datetimeString).split(/ |-|:/);\n		var dateObj = new Date(parseInt(parts[0]),parseInt(parts[1])-1,parseInt(parts[2]),parseInt(parts[3]),parseInt(parts[4]),parseInt(parts[5]));\n		return dateObj;\n	}\n	return false;\n} // }}}\n\nfunction resetHeaderCoords(){\n	var $blocks = $(\"#main-canvas\").find(\".element-title,.element-subtitle\");\n	$blocks.addClass('trans01');\n	setTimeout(function(){\n		$blocks.removeClass('abs').css('left',\"\").css('top',\"\");\n		var $title_block = $(\"#finetune-all-tools\").find(\".accordion[section-name='title']:first\");\n		var $subtitle_block = $(\"#finetune-all-tools\").find(\".accordion[section-name='subtitle']:first\");\n		updateBlockClasses($title_block,'abs',true);\n		updateBlockClasses($subtitle_block,'abs',true);\n\n		setTimeout(function(){\n			$blocks.removeClass('trans01');\n		},1000);\n	},100);\n	$(\"#title-position-left,#title-position-top,#subtitle-position-left,#subtitle-position-top\").val('').addClass('changes-made');\n}\n\nfunction editNavBlock($grp){//takes a $grp as an argument and poulates the nav embed modal accordingly.\n	var options = '<div class=\"option\" value=\"\">Select Target</div>';\n	var optionsModal = '<div class=\"option\" value=\"\">Select Modal</div>';\n	var $nav_embed = $(\"#nav-embed\");\n	var $sf = $grp.find(\".sf:first\");\n	var block_type = $sf.attr('block-type');//ie nav or button.\n	$nav_embed.attr( { \"sfid\":$sf.prop('id'), 'block-type': block_type });\n\n	var $dd = $nav_embed.find(\"div.nav-link-target-dd\");\n	$dd.find(\"div.options\").empty();//clear out the dropdown of links.\n\n	var $ddd = $nav_embed.find(\"div.nav-modal-target-dd\");\n	$ddd.find(\"div.options\").empty();//clear out the dropdown of links.\n\n	//loop through the elements on the right-hand side of page and repopulate the dropdown of viable targets.\n	var matches = [];\n	var matchesModal = [];\n	$(\"#finetune-layout-contain\").find(\".ft-grp\").each(function(){\n		var $t = $(this);\n		var gid = $t.attr('id').replace('ftg-','g-')\n\n		if($t.attr(\"group-type\")!=='undefined'){\n			var $element = $t.find(\".element:first\");\n			var sfid = $element.attr(\"e\");//should be in format custom-block-$id\n			if(typeof sfid!=='undefined'){\n				if( sfid.match(/custom-block/) && ! $element.text().match(/^nav$/i) ){//no need for nav in here.\n					var id = sfid.replace('custom-block-','');\n					if( $.inArray(id,matches) < 0 && $element.text()!='undefined' ){//make sure we're not adding dupes/empty groups to the array.\n						options+='<div class=\"option\" value=\"to'+id+'\">'+$element.text().substring(0,50)+'</div>';\n						matches.push(id);\n					}\n				}\n			}\n		}\n		///check for modals\n		if($(\"#\"+gid).attr(\"modalid\")) {\n			var id = $(\"#\"+gid).attr('modalId');\n			//var id = $element.context.attributes[5].value;\n				if( $.inArray(id,matchesModal) < 0){//make sure we're not adding dupes to the array.\n					optionsModal+='<div class=\"option\" value=\"'+id+'\">Modal '+id+'</div>';\n					matchesModal.push(id);\n				}\n		}\n\n	});\n	if($(\"#togallery\").length > 0){\n		options+='<div class=\"option\" value=\"togallery\">Gallery</div>';\n	}\n\n	$dd.data('splash-dropdown',false)\n		.find(\".current\").text('Select Target').end()\n		.find(\"div.options\").append(options);//unbind the dropdown and repopulate\n	$nav_embed.find(\"li.navLi\").remove();\n\n	$ddd.data('splash-dropdown',false)\n		.find(\".current\").text('Select Modal').end()\n		.find(\"div.options\").append(optionsModal);//unbind the dropdown and repopulate\n\n	if($grp!=null){\n		var button = false;\n		if(block_type=='button'){ //special case for button\n			var $selector = $sf;//only 1!\n			button = true;\n			linkingModal.grabBtnText($sf.find(\".button-link\"));\n		} else {\n			var $selector = $grp.find(\".nav-item\");\n		}\n\n		$selector.each(function(){\n			var $t = $(this);\n			var $new_row = $(\"#blankNavItemRow\").clone().removeClass('hide').removeAttr(\"id\");\n			if(button){\n				$new_row.addClass('navLi').attr(\"sfid\",$t.prop(\"id\")).find(\"input.nav-name\").val($t.find('.button-link').text().trim());\n			} else {\n				$new_row.addClass('navLi').attr(\"sfid\",$t.prop(\"id\")).find(\"input.nav-name\").val($t.find(\".body\").text().trim());\n			}\n			if(button){\n				var $a = $t.find(\".button-link:first\");///linki s the button\n			} else {\n				var $a = $t.find(\"a:first\");//see if there's a link.\n			}\n			if($a.length > 0){\n				var $link = $a.prop(\"href\").split('#');//get everything after the hash.\n				if($link.length > 1){\n					//delete($link[0]);\n					var type = 'section';\n					var $link = $link[1].toLowerCase();\n					if($link=='rsvp' || $link=='button'){\n						type = 'rsvp';\n					} else if ($link == 'top' || $link == 'event'){\n						type = 'top';\n					} else if ($link=='custom-content'){\n						type = 'custom-content';\n					} else if($link=='guest-list'){\n						type = 'guest-list';\n					}\n\n					$new_row.find(\"input.external-link\").val('');\n\n				} else{\n					var type = 'external'\n					$link = $link[0];//assume external link.\n					if($link.trim()!=''){\n						//flipDropDown($new_row.find(\"div.nav-action-dropdown\"),'external',true);\n						$new_row.find(\"input.external-link\").val($a.prop(\"href\"));\n					}\n				}\n			}\n\n			$(\"#nav-items-list\").append($new_row);\n			setTimeout(function(){\n				flipDropDown($new_row.find(\"div.nav-action-dropdown\"),type,true);\n				flipDropDown($new_row.find(\"div.nav-link-target-dd\"),$link);\n				flipDropDown($new_row.find(\"div.nav-modal-target-dd\"),$link);\n			},0);\n		});\n	}\n	setTimeout(function(){\n		if($nav_embed.find(\"li.navLi\").length < 1){\n			addNewNavItem();\n		}\n	},0);\n	$nav_embed.fireSimpleModal();\n	return false;\n\n\n}\n\nfunction addNewListItem($p,returnObject){\n	var block_type = $p.attr(\"block-type\");\n\n	if($p.hasClass('ticker') && ! $p.hasClass('editingTicker')){\n		$p.addClass('editingTicker').removeClass('active').find('.ticker-item').show().css('position', 'relative')\n		$(this).removeClass('editTicker').html('<span class=\"bigger em1\">&#10010;</span><small class=\"block\">ADD ITEM</small>')\n		$p.prepend('<div class=\"doneEditingTicker nu-btn m clean\">Done</div>');\n		if($p.hasClass('scrollBlock')){\n			$p.find('.children').stop().clearQueue()\n			$p.find('.children:last').remove().end().find('.children:last').remove()\n		}\n\n	} else {\n		var $child_nest = $p.find(\".children:first\");\n		if($child_nest.length > 0){ //append to child nest if applicable.\n			var cloned=false;\n\n			var $last_item = $child_nest.find(\".list-item:last\");\n\n			if ( block_type == 'event-hub' ) {\n\n				$new_item = $p.find('.template-hub-item').clone().removeClass('template-hub-item').addClass('event-hub-item').addClass('list-item');\n\n			} else if($last_item.length > 0){\n				cloned=true;\n				var $new_item = $last_item.clone();\n				$new_item.find(\"div.edit-tools\").remove();\n			} else {\n				if(block_type=='list'){//special case. every block has list. so need to further specify with this one.\n					var $new_item = $(\"#blank-groups\").find(\".sf[block-type=\"+block_type+\"]:first\").find(\".list-item:first\").clone();\n				} else {\n					var $new_item = $(\"#blank-groups\").find(\".sf.\"+block_type+\":first\").find(\".list-item:first\").clone();\n				}\n			}\n\n			//finetuneDeActivateEditable($new_item);\n			$new_item.find('.crp-enabled').removeClass('crp-enabled').end().find(\".editable\").removeClass('editable hasTiny');\n			$new_item.removeClass(\"tp-enabled\").removeAttr(\"id\").find(\".editable\").each(function(){\n				finetuneDeActivateEditable($(this));\n			});\n			//removeClass('editable hasTiny').removeAttr(\"id\");//remove editable so it gets bound again.\n\n			var group_id = $p.parents(\".layoutGrp:first\").prop(\"id\");//should be in format 'g-$groupnumber';\n			var $acc = ftGetAccordion(group_id);//now find the corresponding accordion for this group so we can assign the proper mode for this new item.\n			//assuming we get in, grab the mode of this block so we can apply it to the new item.\n			var options = {};\n			$new_item.addClass('newbie');\n			if($acc.length > 0){\n\n				if(!$acc.hasClass('bound')){\n					var grp = ftGetGrp($acc);\n					bindAndPopulateAccordion($acc,grp);\n					var mode = grp['mode']||'';//should never be empty.\n					var img_shape = grp['img_shape']||'';\n					if(!cloned){\n						var $modes = $acc.find(\".modes[type='\"+block_type+\"']\");\n						if($modes.length>0){\n							var rem = '';\n							$modes.find(\".nu-btn\").each(function(){\n								rem+=$(this).attr(\"value\")+' ';\n							});\n						}\n						$new_item.removeClass(rem).addClass(mode);\n					}\n\n					options.mode = mode;\n					options.img_shape = img_shape;\n\n				} else {\n					var $mode = $acc.find(\"input.mode\");\n					var mode = $mode.val();\n					if(!cloned){\n						var rem = '';\n						$mode.parents(\".modes:first\").find(\".nu-btn\").each(function(){\n							rem += $(this).attr(\"value\")+' ';\n						});\n						$new_item.removeClass(rem).addClass(mode);\n					}\n\n					options.mode = mode;\n					var $shape = $acc.find(\"input.img_shape:first\");\n					if($shape.length > 0){\n						options.img_shape = $shape.val();\n					}\n				}\n			}\n			//append the child to the parent.\n\n			//get count of children.\n			var x = $child_nest.find(\".sf\").length + Math.floor((Math.random() * 100000000) + 100);\n			//The above function is getting a random interger in order to help prevent duplicates when adding children to a block.\n\n			$child_nest.append($new_item);\n			updateMainCanvasCClasses();\n\n			var csfid = $p.attr(\"id\")+\"-new-\"+x;\n\n			if(finetuneNewBlockIds.length > 0){\n				for(i=0;i < finetuneNewBlockIds.length; i++) {\n					var wosfid = csfid.replace('sfid-','');\n					if(finetuneNewBlockIds[i][0] == wosfid) {\n						x++;\n						var csfid = $p.attr(\"id\")+\"-new-\"+x;\n					}\n				}\n			}\n\n			if (csfid.match(/^sfid.new.[0-9]*.new.[0-9]*$/)) {\n\n				csfid = csfid.replace('-new-','');\n			}\n\n			$new_item.prop(\"id\",csfid).show();\n\n			var mysfid = (''+$new_item.attr('id')).replace('sfid-','');\n\n			options = $.extend(true,{},options);\n\n			for(var key in options){\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][options]['+key+']'] = options[key];\n			}\n\n			var item_type = $new_item.data('img-block-type');//new way of finding block type.\n			if(typeof item_type==='undefined'){//legacy fallback.\n				item_type = $new_item.attr('block-type');\n			}\n			finetuneEditedFields['data[SplashFeed]['+mysfid+'][type]'] = item_type;\n			finetuneEditedFields['data[SplashFeed]['+mysfid+'][body]'] = $new_item.find(\".body\").html();\n			//save the title.\n			if($new_item.hasClass('schedule-item')){\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][title]'] = $new_item.find(\".timeHolder\").val();\n			} else{\n				finetuneEditedFields['data[SplashFeed]['+mysfid+'][title]'] = $new_item.find(\".title\").html();\n			}\n			finetuneEditedFields['data[SplashFeed]['+mysfid+'][sort_order]'] = 999;\n			if ($new_item.hasClass('wImg')) {\n				var $img = $new_item.find('.image img:first');\n				if( $img.parents(\".list-item:first\").hasClass('no-shape')){\n					var src = $img.attr('src');\n				} else {\n					var src = $img.parents(\".image:first\").css('background-image');\n					src = stripUrl(src);\n				}\n\n				if ($img.length == 1 && src != '') {\n					finetuneEditedFields['data[SplashFeed]['+mysfid+'][image_url]'] = src;\n				}\n			}\n\n			if($p.hasClass('ticker')){\n				$new_item.show()\n			}\n\n			finetuneEditedFields['data[SplashFeed]['+mysfid+'][parent_splash_feed_id]'] = (''+$p.attr(\"id\")).replace('sfid-','');\n			finetuneFieldChangesMade();\n			finetuneActivateOnPageEditables();\n		}\n	}\n	if(returnObject!=null){\n		return $new_item;\n	}\n}\n\nfunction addNewNavItem(){\n	var $new_row = $(\"#blankNavItemRow\").clone().addClass('navLi newNavItem').removeClass('hide').removeAttr(\"id\");\n	$(\"#nav-items-list\").append($new_row);\n}\n\nfunction getCurrentVenueValue(){\n	var address = $(\"#venue-address\").val().trim(),\n		city = $(\"#venue-city\").val().trim(),\n		state = $(\"#venue-state\").val().trim(),\n		zip_code = $(\"#venue-zip\").val().trim();\n\n	var venue_string = '';\n	if(address!=''){\n		venue_string=address;\n	}\n	if(city!=''){\n		venue_string+=' '+city;\n	}\n	if(state!=''){\n		venue_string+=' '+state;\n	}\n	if(zip_code!=''){\n		venue_string+=' '+zip_code;\n	}\n	return venue_string;\n}\n\nfunction getVidEmbedCode($this){\n	if($.trim($this.val())!='' && !$this.hasClass('loading')){\n		$this.addClass('loading');\n		$.ajax({\n			url:'/splash/getEmbedCode/'+constants.slug, type:'post', dataType:'json',\n			data: { 'type':'video', 'value':$this.val() },\n			success:function(response){\n				// console.log(response.code.indexOf('autoplay=0'))\n				if(typeof response!=null && typeof response.code!=='undefined'){\n					$this.parents(\".grp:first\").find(\".error-area\").hide().end()\n						.find(\"textarea.vid-embed\").hide().end()\n						.find(\".embed-area\").show().find(\".vid\").html(response.code).end()\n						.find(\".video-url\").val(response.code).end()\n						.find(\".video-thumbnail\").val(response.thumbnail);\n				}\n				$this.removeClass('loading');\n			},\n			error: function(){\n				$this.removeClass('loading').parents(\".grp:first\").find(\".error-area\").show().html('There was an error with that snippet.  Please try again.');\n			}\n		});\n	}\n}\n\nfunction addCustomRTEButtons(editor,params){\n	var fonts = [{ text:'Inherit', value:'Inherit', classes:'fontFamItem' }];\n	$(\"#fontListPrimary\").find(\"div.customFontOpt\").each(function(){\n		var font = $(this).text().trim();\n		fonts.push({ text: font, value: font, classes:'fontFam-'+font.replace(/ /g,'')+' fontFamItem', style: \"font-family:\"+font+\";\"})\n	});\n\n	var fontSizeArr = ['10', '11', '12','14','16','18','20','24','30','36', '48', '60', '72', '80','96', '120', '130', '144', '160', '192'],\n		fontSizes = [],\n		no_opacity;\n\n		for(var x in fontSizeArr){\n			//var thisEmSize = ( fontSizeArr[x] / 16 ) + 'em'\n			var thisPxSize = fontSizeArr[x]+'px'\n			fontSizes.push({ text: fontSizeArr[x], value: thisPxSize, classes:'fontSizeItem' });\n		}\n\n		editor.addButton('showAll', {\n			title : 'Show All',\n			// image : '/img/tiny-align-left.png',\n			onPostRender: function(){\n				this.addClass('show-all');\n			},\n			onclick : function() {\n				var $btn = $(\"#\"+this._id);\n				var $absLayout = $btn.parents(\".mce-abs-layout:first\");\n\n				if($btn.hasClass('active')){ //CLOSE the advanced opts.\n					//$mce.removeClass('showAllOpen');\n					$absLayout.removeClass('showAll');\n					$btn.removeClass('active');\n					$('#rteTextShadowPicker,#rteTextSpacingPicker').hide();\n				} else { //OPEN up.\n					//$mce.addClass('showAllOpen');\n					//$(\"div.mce-tinymce:visible\").hide();\n					$btn.addClass('active');\n					$absLayout.addClass('showAll');\n				}\n				editor.focus();\n\n				// if it already has .showAll, remove it\n			}\n		}),\n\n		editor.addButton('closeButton', {\n			title : 'Close Editor',\n			// image : '/img/tiny-align-left.png',\n			onclick : function() {\n				var $obj = $(\"#\"+tinyMCE.activeEditor.id);\n				//has to be a better way to do this, but appears to work. circle back.\n				setTimeout(function(){\n					$(\"div.mce-tinymce:visible\").hide();\n					$('#rteTextShadowPicker,#rteTextSpacingPicker').hide();\n				},0);\n				//ideally the below snippet would work.  alas, it does not.\n				//tinyMCE.getInstanceById(tinyMCE.activeEditor.id).toolbarElement.style.display = 'none';\n				//setTimeout(function(){\n				editor.focus();\n				$obj.blur().focusout().removeAttr(\"contenteditable\");\n				setTimeout(function(){\n					$obj.attr(\"contenteditable\",true);\n				},50);\n				//},1);\n				// var $node = $(tinyMCE.activeEditor.dom.select('*')[0]);\n				// $node.parents(\".editable:first\").focusout()//.blur();//focusout.\n				// $body.removeClass('editWithMCE');\n			},\n			onPostRender: function(){\n				this.addClass('close-button');\n			}\n		}),\n\n		editor.addButton('fontFamily', {\n		    type: 'listbox',\n		    title: 'Font Family',\n		    text: 'Font Family',\n		    // label: 'fontFam',does nothing\n		    icon: false,\n		    onselect: function(e) {\n		    	editor.focus();\n                editor.execCommand(\"fontName\", false, this.value() );\n                //tinyMCE.activeEditor.dom.addClass(editor.selection.getContent(),'popula');\n                var node = tinymce.activeEditor.selection.getNode();\n				var $node = $(node);\n				var $grp = $node.parents(\"div.layoutGrp:first\");\n\n				if(typeof $node!=='undefined' && $node.hasClass('layoutGrp')){\n					$grp = $node;\n				}\n\n                $node.addClass('fontFamEdited');\n                $node.find('span').each(function(){ $(this).addClass('fontFamEdited') } )\n                if(typeof $grp!=='undefined'){\n\n                	if($grp.hasClass('element-hash') || $grp.hasClass('element-subtitle') || $grp.hasClass('element-title') || $grp.hasClass('element-rsvp') || $grp.find('div[block-type=content]').length > 0 ){\n		            	$grp.css({\"font-family\": \"\" });\n	            		$grp.find('h1, h2, span').each(function(){\n	                		$(this).css('font-family', '')\n	                	})\n\n	                	$grp.css('font-family',this.value());\n	                	var grp = ftGetGrp($grp);\n	                	if(!grp['styles']){ grp['styles'] = {}; }\n	                	grp['styles']['font-family'] = this.value();\n	                	var key = getKeyFromLayoutGrp($grp);\n\n	                	if( isLegacyEvent() ){\n	                		convertTo2OH(key);\n	                	} else {\n	                		finetuneLayoutChangesMade();\n	                	}\n\n	                }\n	            }\n	            setTimeout(function(){\n	            	splash.fontActions.updateOnPageFontsList();\n	            },1);\n\n                fixMceMenu();\n             },\n		    values: fonts,\n		    onPostRender: function() {\n		        // Select the second item by default\n		        this.addClass('custom-font-fam');//value('Some text 2');\n		    },\n		    onclick: function(){\n		    	if(this.active()==true){//remove if active.\n		    		fixMceMenu()\n		    	} else {\n			    	fixMceMenu('fontFamilyMenu')\n				}\n		    }\n		}),\n		editor.addButton('fontSizer', {\n		    type: 'listbox',\n		    title: 'Font Size',\n		    text: '12',\n		    // label: 'fontFam',does nothing\n		    icon: false,\n		    onselect: function(e) {\n		    	editor.focus();\n                var node = tinymce.activeEditor.selection.getNode();\n                var $node = $(node);\n                var $grp = $node.parents(\"div.layoutGrp:first\");\n\n                if( ! $node.hasClass('body') ){//do not add to body.\n        	        $node.find('span').css('font-size',\"\");//this is needed because jquery.css cannot convert font-size into EM.\n        	      //   $node.data('rawFontSize', thisEm) //this is needed because jquery.css cannot convert font-size into EM.\n	            		// .find(\"span\").css('font-size',\"\"); //remove font sizes from any span within this block.\n            	}\n\n               //  var thisEm = this.value().replace(/[^0-9.]/g,'');//strip out all non-numeric values (allow decimals too.)\n               //  thisEm = ( thisEm / 16 ) + 'em' //convert to em.\n              	// editor.execCommand(\"fontSize\", false, thisEm);\n              	var fontSize = this.value();//ie, \"16px\"\n              	editor.execCommand( \"fontSize\", false, fontSize );\n\n              	if(typeof $grp!=='undefined'){\n              		if($grp.hasClass('element-hash') || $grp.hasClass('element-subtitle') || $grp.hasClass('element-title') || $grp.hasClass('element-rsvp')){\n	            		$grp.css('font-size',fontSize).find('span').each(function(){\n	                		$(this).css('font-size', '').trigger('change');\n	                	})\n	                	updateBlockProperty($grp,{ 'font-size':fontSize });\n	                	var grp = ftGetGrp($grp);\n	                	if(!grp['styles']){ grp['styles'] = {}; }\n\n	                	grp['styles']['font-size'] = fontSize;\n	                	\n	                	var key = getKeyFromLayoutGrp($grp);\n						if( isLegacyEvent() ){\n	                		convertTo2OH(key);\n	                	} else {\n	                		finetuneLayoutChangesMade();\n	                	}\n\n              		}\n	            }\n\n                dynamaHead()\n\n		    },\n		    values: fontSizes,//font size values\n		    onPostRender: function() {\n		        // Select the second item by default\n		        this.addClass('custom-font-size');//value('Some text 2');\n		    },\n		    onclick: function(){\n		    	fixMceMenu('sizeMenu')\n		    }\n		}),\n		editor.addButton('colorPicker',{\n			title : 'Color',\n			// image : '/img/tiny-align-left.png',\n			onPostRender: function() {\n			    this.addClass('color-picker');\n			},\n			onclick : function() {\n				editor.focus();\n				var $btn = this;\n				$btn.active(true);\n				var $obj = $(\"#rteColorPicker\");\n				if($obj.length < 1){\n					$(\"body\").append('<input type=\"hidden\" id=\"rteColorPicker\" />');\n					var $obj = $(\"#rteColorPicker\");\n				}\n				var node = editor.selection.getNode();\n			    var $thisEle = $(node).parents('.layoutGrp:first')\n			    var paletteOnly = false\n			    var showPalette = false\n\n			    if ( inDesignerMode() || inAdvancedMode() ){\n			    	showPalette = true;\n			    	paletteOnly = false;\n			    } else if ($thisEle.hasClass('element-title') || $thisEle.hasClass('element-subtitle') ){\n					//if we're in here, then user is in basic mode, but editing title or subtitle.  in which case we want them to have access to the color pallette.\n					paletteOnly = true;\n			    	showPalette = true;\n				}\n\n				var $icon = $(\"#\"+this._id).find(\".mce-ico\");\n				$obj.spectrum({\n					className: 'rteColorPicker',\n					showInput: true, showAlpha: true, preferredFormat: \"rgb\", clickoutFiresChange: true,\n					showPalette: showPalette, palette: constants.palette, showPaletteOnly: paletteOnly,\n					beforeShow:function(color){\n						closeCustomRTEPickers();\n						if(color.alpha=='0'){\n							no_opacity=true;\n						}\n					},\n					show: function(){\n						openColorPicker = true;\n					},\n					move: function(color) {\n						if(no_opacity && color.alpha=='0'){\n							//nice little trick here.  if they open the picker and opacity is set to 0, crank up the opacity to full!\n							var c = ''+(color.toRgbString()).replace(', 0)',', 1)');\n							$obj.spectrum(\"set\", c);\n							no_opacity=false;\n						}\n						editor.focus();\n						editor.execCommand(\"foreColor\", false, color);\n						 var node = editor.selection.getNode();\n						 var $thisEle = $(node).parents('.layoutGrp:first')\n\n						 if( $thisEle.hasClass('element-title') || $thisEle.hasClass('element-subtitle') ){\n						 	$thisEle.addClass('fontColorEdited').css('color', color);\n						 	$thisEle.find('span').each(function(){\n						 		$(this).css('color', '')\n						 	})\n						 }\n\n						$icon.css('color', color.toString()) ;\n					},\n					change: function(color){\n						//editor.execCommand(\"foreColor\", false, color.toRgbString());\n\n					//	var node = tinymce.activeEditor.selection.getNode();\n					//	var $node = $(node)\n\n						var node = tinymce.activeEditor.selection.getNode();\n						var $node = $(node)\n\n						/*\n						//not quite there. almost.\n						var currTxt = getSelectionText();//check the currently selected text again to make sure they haven't re-highlighted.\n						if(highlightedText!==false && highlightedNode!==false){\n							if(highlightedNode.text().match(currTxt)){//only proceed if we find an exact text match within the currently selected node.\n								var x = tinymce.activeEditor.getContent();//get the current editor text.\n								var b = x.replace(highlightedText,'<span class=\"tmpFocus\">'+highlightedText+'</span>');//wrap the highlighted text in a color array.\n								tinymce.activeEditor.setContent(b,{ format: 'html' });//replace the content in the current editor.\n								if(highlightedNode.hasClass('tmpFocus')){\n									var $nodeMatch = highlightedNode;\n								} else {\n									//var $nodeMatch = highlightedNode.find(\".tmpFocus:first\");//find the first block with the .tmpFocus class within the highlighted block of text (should only ever be one at a given time).\n									var $nodeMatch = $(\"#splash-container\").find(\".tmpFocus:first\");\n								}\n								$(\".tmpFocus\").removeClass('tmpFocus');	//so dirty. hate it.\n								if($nodeMatch.length > 0){//only update if we find a match.\n									$node = $nodeMatch;//treat this block as the node.\n									$node.css('color',color);//update the color on the fly, remove tmpFocus for future use.\n								}\n							}\n						}\n\n						setTimeout(function(){\n							//set both values to false for future use.\n							highlightedText=false;\n							highlightedNode = false;\n						},500);	*/\n						$node.addClass('fontColorEdited');\n						$btn.active(false);\n						$icon.css('color',color.toRgbString());\n\n						var $grp = $node.parents(\"div.layoutGrp:first\");\n		                if(typeof $grp!=='undefined'){\n		                	$grp.css({ \"color\": \"\" });\n		                	if( $('body').hasClass('advMode') === false ||  $grp.hasClass('element-hash') || $grp.hasClass('element-subtitle') || $grp.hasClass('element-title') || $grp.hasClass('element-rsvp')){\n		                		$grp.css('color', color.toString())\n		                			.find('span').each(function(){\n			                			$(this).css('color', '')\n			                		})\n\n			                	$grp.css('color', color.toString() )\n        	                	var grp = ftGetGrp($grp);\n        	                	if(!grp['styles']){ grp['styles'] = {}; }\n        	                	grp['styles']['color'] = color.toString();\n        	                	var key = getKeyFromLayoutGrp($grp);\n        						convertTo2OH(key);\n			                	// updateBlockProperty($grp,{ 'color':color.toString() });\n\n		                	} else {\n		                		// console.log('not itle')\n		                	}\n\n		                }\n\n					},\n					hide: function(color) {\n						// editor.focus();\n						// editor.execCommand(\"foreColor\", false, color);\n\n						//set both values to false for future use.\n						highlightedText=false;\n						highlightedNode = false;\n\n						$icon.css('color',color);\n						$btn.active(false);\n						$obj.spectrum(\"destroy\");\n\n					}\n				});\n\n				$('.rteColorPicker').find('.sp-cancel').text('Reset').end().find('.sp-choose').text('Done')\n\n				setTimeout(function(){\n					$obj.spectrum(\"show\");\n				},1);\n			}\n		}),\n\n		editor.addButton('imgPicker',{\n			title : 'Insert Image',\n			//image : '/img/tiny-align-center.png',\n			onPostRender: function() {\n			    // Select the second item by default\n			    this.addClass('insert-image');//value('Some text 2');\n			},\n			onclick : function() {\n				//nice little trick.  create a temp input and give it 'st-p-' value.  stp makes it so image picker\n				//defaults to upload image, instead of gallery.\n				var $new_input = $(\"<input type='hidden' value='st-p-1' />\");\n				pickAndOrCropNewImage($new_input,{\n					done: function(newSrc,dims){\n						editor.focus();\n						editor.selection.setContent('<img class=\"rteImg\" src=\"'+newSrc+'\" />');\n						var $obj = $(\"#\"+editor.id);\n						if($obj.length > 0){//change the image after inserting one.\n							$obj.trigger('change');\n						}\n\n					}\n				});\n			}\n		}),\n\n		editor.addButton('aligner', {\n			title : 'Text Align',\n			type: 'listbox',\n			onselect: function(e) {\n				var $btn = $(\"#\"+this._id);\n				$btn.find(\"i.mce-ico\").removeClass('mce-align-left mce-align-center mce-align-right mce-align-justify').addClass('mce-align-'+this.value());\n\n				if(params!=null){\n\n					var node = tinymce.activeEditor.selection.getNode();\n					if(typeof node!=='undefined'){\n						//} && $(node).parents('.element:first').is('#element-rsvp') ){\n						var $node = $(node),\n							$grp = $node.parents('.layoutGrp:first');\n\n						if($node.parents(\".element:first\").is(\"#element-rsvp\")){\n							$('#element-rsvp').css('text-align', this.value() )\n						} else if($grp.hasClass('button')){\n							$node.css('text-align',this.value());//('fongtFamEdited');\n						} else {\n							if( ($grp.hasClass('element-title') || $grp.hasClass('element-subtitle') ) ){\n\n								//themeStylesChanged();\n							}\n							$grp.css('text-align', this.value() );\n						}\n\n						updateBlockProperty( $grp, { \"text-align\":this.value() });\n					}\n					// } else {\n					// 	var field_id = params.field_id;\n					// 	silentTrigger=true;\n					// 	updateAlignPicker(field_id+\"-align-input\",this.value(),true);\n\n					// 	//$(\"#element-\"+field_id).parents(\".layoutGrp:first\").css('text-align',this.value());\n					// 	setTimeout(function(){\n					// 		silentTrigger=false;\n					// 	},0);\n					// }\n\n				} else {\n\n					// editor\n					//tinymce.activeEditor.formatter.apply('text_align', {value : this.value()});\n	                //var node = tinyMCE.activeEditor.dom.select('*')[0];\n	                //$(tinymce.activeEditor.selection.getNode());\n	                var node = tinymce.activeEditor.selection.getNode();\n	                if(typeof node!=='undefined'){\n	                	var $node = $(node);\n		                if($node.parent(\"p\").length > 0){\n		                	$node = $node.parent(\"p\");\n		                }\n\n		                $thisPar = $node.parents('.layoutGrp:first')\n\n		               if( $(\"#acc-ft\"+$thisPar.prop(\"id\") ).length > 0 && $thisPar.find('.audio').length == 0 && $thisPar.find('.full-list-item').length == 0  && $thisPar.find('.full-image-list-item').length == 0  ){\n\n		                	$thisPar.css('text-align',this.value())\n\n		                	var thisVal = this.value()\n\n		                	$thisPar.find('div, span, h4, a, h1, p').each(function(){\n			                	$(this).css('text-align', '' )\n			                })\n\n			                $thisPar.find('a, h1, p').each(function(){\n			                	$(this).css('text-align', thisVal )\n			                })\n\n			                if( $thisPar.find('.schedule').length != 0 ){\n			                	$thisPar.find('.title h1').css('text-align', thisVal )\n			                }\n\n			               	if( $thisPar.find('.sf:first').attr('block-type') == 'content' ) {\n			               		$thisPar.find('.sf:first').removeClass('leftLay centerLay rightLay')\n			               		$thisPar.find('.sf:first').find('.body h1').css('text-align', '').trigger('change')\n			               	}\n\n			                updateBlockProperty( $thisPar, { \"text-align\":this.value() });\n\n\n\n		                } else {\n		                	$node.css('text-align',this.value());//('fongtFamEdited');\n		                }\n\n\n\n\n	    	            //$node.css('text-align',this.value());//('fontFamEdited');\n	        		}\n	        	}\n	        },\n			onclick:function(e){\n				fixMceMenu('alignerMenu');\n			},\n			values: [\n				{ text:'', classes:'align-left', value:'left'},\n				{ text:'', classes:'align-center', value:'center'},\n				{ text:'', classes:'align-right', value:'right'},\n				{ text:'', classes:'align-justify', value:'justify'}\n			]\n		}),\n\n		editor.addButton('spacing', {\n			title : 'Spacing',\n			image : '/img/tiny-align.png',\n		    onPostRender: function() {\n		        this.addClass('spacing-button');\n		    },\n		    onclick: function(){\n		  		var $btn = this;\n		  		var $picker = $(\"#rteTextSpacingPicker\");\n		  		$('#rteTextShadowPicker').hide();\n		  		if($btn.active()==true){\n		  			//close it.\n		  			$btn.active(false);\n		  			$picker.hide();\n		  		} else {//show it.\n		  			//editor.focus();\n		  			$btn.active(true);\n		  			//var node = tinyMCE.activeEditor.dom.select('*')[0];\n		  			//$(tinymce.activeEditor.selection.getNode());\n		  			var node = tinymce.activeEditor.selection.getNode();\n		  			//$(node).addClass('fontColorEdited');\n		  			if(typeof node!=='undefined'){\n		  				var $node = $(node);\n						var $parent = $node.parents(\".layoutGrp:first\");\n		               	var $inputs = $picker.find(\"input.letter-spacing,input.line-height\");\n		               	$inputs.attr(\"gid\",$parent.prop(\"id\"));\n		               	if(!$picker.hasClass('slidersBound')){\n		               		bindAllInnerSliders($picker);\n							//UPDATE THE PROPER VALUES WORK IN PROGRESS.\n							// var lineHeight = $parent.css(\"line-height\");\n							// var letterSpacing = $parent.css('letter-spacing');\n							// $picker.find(\"input.line-height\").parents(\".slider:first\").slider(\"value\",lineHeight);\n							// $picker.find(\"input.letter-spacing\").parents(\".slider:first\").slider(\"value\",letterSpacing);\n\n						}\n						setTimeout(function(){\n							$picker.show();\n						},10);\n					}\n				}\n		    }\n		}),\n\n		editor.addButton('shadow', {\n			title : 'Text Shadow',\n			// image : '/img/tiny-align-right.png',\n		    onPostRender: function() {\n		        this.addClass('shadow-button');\n		    },\n		    onclick: function(){\n		    	var $btn = this;\n		    	var $picker = $(\"#rteTextShadowPicker\");\n		    	$('#rteTextSpacingPicker').hide();\n		    	if($btn.active()==true){\n		    		//close it.\n		    		$btn.active(false);\n		    		$picker.hide();\n		    	} else {//show it.\n		    		//editor.focus();\n		    		$btn.active(true);\n\n		    		//var node = tinyMCE.activeEditor.dom.select('*')[0];\n		    		//$(tinymce.activeEditor.selection.getNode());\n		    		var node = tinymce.activeEditor.selection.getNode();\n		    		if(typeof node!=='undefined'){\n		    			var $node = $(node);\n		    			var $parent = $node.parents(\".layoutGrp:first\");\n		    			var $inputs = $picker.find(\"input.meta-color,input.style-ctrl,input.shadow-input\");\n		    			$inputs.attr(\"gid\",$parent.prop(\"id\"));\n\n				    	// fixMceMenu('shadowPicker');\n		               	if(!$picker.hasClass('slidersBound')){\n		               		bindAllInnerSliders($picker);\n						}\n						setTimeout(function(){\n							$picker.show();\n						},10);\n					}\n		    	}\n		    }\n\n		});\n}\n\nfunction updateHeaderAndBodyPicker(){\n	var hasBG = $(\"#headerIsBg\").val(),\n		$bgUrl = getTargetById('header');\n	//decides whether we display header and body control, or just one.\n	if(hasBG == 1 ){ //if headerIsBg, no need for two selectors.  Only background section.\n		$bgUrl.addClass('noBG')\n	} else { //normal. header and background section.\n		$bgUrl.removeClass('noBG')\n	}\n}\n\nfunction bindAllInnerSliders($picker){//loops through all sliders in a section, ie text shadow.\n	$picker.addClass('slidersBound').find(\".slider\").each(function(){\n		var $t = $(this);\n		if(!$t.hasClass('bound')){\n			var $i = $t.parents(\".slider-wrap:first\").find(\"input:first\");\n			bindSlider($i,true);\n		}\n	});\n}\n\nfunction toggleContentTab($obj,forceOpen){\n	//this is used to display the \"tab\" ie basics, button, or custom in the content section of teh nav bar.\n	if($obj.hasClass('contentTabWrap')){//if yes, then we already have what we're looking for.\n		var $wrap = $obj;\n	} else { //otherwise, we assume an item inside of the tab.\n		var $wrap = $obj.parents(\".contentTabWrap:first\");\n	}\n\n	if( $wrap.hasClass('open') && !forceOpen ){//if we are forcing open, then do. not. close.\n		$wrap.removeClass('open').find(\"div.mainCard.expanded\").closeAccordion();\n	} else {\n		$('#allSectionsContain').find('.contentTabWrap').removeClass('open').find(\"div.mainCard.expanded\").closeAccordion();\n		$wrap.addClass('open');\n	}\n	//needs to be called in a set timeout call after.\n	setTimeout(function(){\n		setWindowHeight($(\"#allSectionsContainInner\"));\n	},1);\n\n}\nfunction updateEditorOpts(){\n\n	if(typeof tinyMCE !=='undefined' && typeof tinyMCE.activeEditor !== 'undefined' \n		&& typeof tinyMCE.activeEditor.selection!=='undefined'\n	){\n		var $node = $(tinyMCE.activeEditor.selection.getNode());\n\n		var fontFamily = $node.css(\"font-family\"),\n			color = $node.css('color'),\n			fontSize = $node.css(\"font-size\");\n\n		if(typeof fontFamily!=='undefined' && fontFamily!=''){\n			fontFamily = fontFamily.replace(/'/g,'');\n			fontFamily = fontFamily.replace(/\"/g,'');\n			var fontFamilyDisplay = fontFamily.split(',')[0]; //only take whatever's before the \",\" - ie. Chewy, arial bold -> Chewy.\n			var $rte = $(\"div.mce-tinymce\");\n			$rte.find(\".mce-custom-font-fam\").find(\"span:first\").text(fontFamilyDisplay);\n			var $item = $(\"div.mce-fontFamItem.mce-fontFam-\"+fontFamily.replace(/ /g,'')+\":first\");\n			if($item.length > 0){\n				$item.addClass('mce-active').attr(\"aria-pressed\",\"true\").siblings().removeClass('mce-active').attr(\"aria-pressed\",\"false\");\n			}\n		}\n		if(typeof color!=='undefined' && color!=''){\n			if(typeof $rte==='undefined'){\n				var $rte = $(\"div.mce-tinymce\");\n			}\n			$rte.find(\"i.mce-i-colorPicker:first\").css('color',color);\n		}\n		if(typeof fontSize!=='undefined' && fontSize!=''){\n			if(typeof $rte==='undefined'){\n				var $rte = $(\"div.mce-tinymce\");\n			}\n			\n			var num = parseInt(fontSize);\n\n			// var rawFontSize = $node.data('rawFontSize');//if this exists, we have the fontsize value in EM.\n			// if(typeof rawFontSize!=='undefined'){\n			// 	num = (rawFontSize.replace(/[^0-9.]/g,'')*1)*16;\n			// }\n\n			$rte.find(\".mce-custom-font-size\").find(\"span:first\").text(num);\n			var $item = $(\"div.mce-fontFamItem.mce-fontFam-\"+num+\":first\");\n			if($item.length > 0){\n				$item.addClass('mce-active').attr(\"aria-pressed\",\"true\").siblings().removeClass('mce-active').attr(\"aria-pressed\",\"false\");\n			}\n		}\n	}\n}\n\n//used to update the image controls in the image modal via the hidden dropdowns.\n//var id = ($(\"#cropAnyPhoto\").hasClass('editHead'))?'header':'body';\nfunction populateAdvancedImgControls($layoutGrp){\n\n	var grp = ftGetGrp($layoutGrp);\n 	if(grp && grp['styles']){\n 		var bg_size = grp['styles']['background-size']||'',\n 			bg_pos = grp['styles']['background-position']||'',\n 			bg_repeat = grp['styles']['background-repeat']||'';\n			bg_attachment = grp['styles']['background-attachment']||'scroll';\n	} else {\n		var bg_size = '',\n			bg_pos	 = '',\n			bg_repeat = '',\n			bg_attachment='scroll';\n	}\n\n	flipDropDown($(\"#img-modal-background-size\"),bg_size);\n	flipDropDown($(\"#img-modal-background-repeat\"),bg_repeat);\n	chooseBgPosition($(\"#img-modal-background-position\"),bg_pos);\n	if(bg_attachment=='fixed'){\n		setCheck($(\"#img-modal-background-attachment\"),1);\n	} else {\n	 	setCheck($(\"#img-modal-background-attachment\"),0);\n 	}\n}\n\nfunction closeCurrentTab(tab){\n\n	if(tab=='colors'){\n		resetColorText()\n		cancelCustomColors()\n	} else if(tab=='fonts'){\n		cancelCustomFonts()\n	} else if(tab=='theme'){\n		//cancelThemeChanges()\n	} else if(tab=='content'){\n		closeCustomSection();\n	}\n\n}\n\nfunction closeSecAccords( thisAccord ){\n	if(typeof thisAccord!=='undefined'){\n		var $t = thisAccord;\n		$t.removeClass('open').parents('.contentTabWrap:first').removeClass('expanded')\n		$('#allSectionsContain').removeClass('open')\n		$('#finetune-sections').find('.sectionContain').removeClass('open')\n		$('#elementsHeader').removeClass('isBackBtn').text('Elements')\n\n		setVisibleAccordionHeight();\n	}\n}\n\nfunction openPlannersModal(){\n\n	$('body').addClass('settingsOpen')\n\n	$(\"#simple-modal-wrap\").css('background', 'rgba(255,255,255,0.8)')\n\n	$(\"#event-planners-modal\").removeClass('expanded').addClass('sidebar');\n	$(\"#settingsTxt\").text('Edit Settings');\n	$(\"#edit-settings\").removeClass('plannersOpen onlyVenue onlyDate').fireSimpleModal({persistent: true });\n	$(\"#edit-settings\").find(\"li.newbie\").removeClass('newbie');\n	var $previous_collabs = $(\"#previous-collabs\");\n	if(!$previous_collabs.hasClass('loaded')){\n		$previous_collabs.html(constants.spinner_html);\n		$.post(constants.finetune_formBase+\"/events/pullRecentCollabs\",{event_id:constants.event_id },function(response){\n			$previous_collabs.addClass('loaded').html(response);\n		});\n	}\n\n    //setting Up FAQs\n    if($('#settingsFAQWrap').hasClass('loaded')) {\n    	//don't load data\n    }\n    else {\n\n    	$.ajax({\n			  url: constants.finetune_formBase+\"/faq/remoteFaq\",\n			  data: {}\n			}).done(function(response) {\n			  	  $('#settingsFAQWrap').html(response);\n			  	  $(\".questionsByCategory:first\").removeClass('hide');\n\n			  	  $('#settingsFAQWrap').find('a').each(function(){\n			  	  	$(this).attr('target', '_blank')\n			  	  })\n\n			  	  $('#settingsFAQWrap').addClass('loaded');\n	    });\n	}\n\n	$(\"#eventKeywordsTags\").find(\"input:first\").val('').attr(\"placeholder\",\"Enter Tags Here\");\n}\n\nfunction scrollToObject($obj1,$obj2){//inner pane scrolling.  a thing of beauty.\n	ignore_scroll = true;\n	$obj1.animate({\n		scrollTop:  $obj2.offset().top - $obj1.offset().top + $obj1.scrollTop()\n	}, 200, function(){\n		ignore_scroll = false;\n	});\n}\n\nfunction openSectionsAccord(){\n	$('#sectionTabWrap').addClass('open')\n}\n\nfunction bindVertAlign(){\n	var $vert = $(\"#header-vertical-align\");\n	if(!$vert.hasClass('bound')){\n		setTimeout(function(){\n			flipMode($vert, { val: $vert.val(), force: false });\n			$vert.addClass('bound');\n		},50);\n	}\n}\n$.fn.expandCardHead = function( ){\n	var $t = $(this);\n	if($t.hasClass('mainCard') && !$t.hasClass('noContent') ){ //if it's an accordion, open it up and close it's friends.\n		$t.css('overflow','hidden').addClass('expanded').siblings().each(function(){\n			$(this).closeAccordion();\n		});\n	} else {\n		$t.siblings().each(function(){ $(this).closeAccordion();});\n	}\n\n	if($t.prop(\"id\")=='title_theme_styles'){\n		bindVertAlign();\n	}\n}\n\nfunction closeCustomRTEPickers(){\n	$(\"#rteTextSpacingPicker,#rteTextShadowPicker\").hide();\n	$(\"div.mce-shadow-button,div.mce-spacing-button\").removeClass('mce-active').attr(\"aria-pressed\",false);\n}\n\nfunction addSectionModal(){\n	setTimeout(function(){\n		var $parent = $(\"#add-new-section\");\n		$parent.find(\".slideCirc[num='slide1']\").click();\n		if ($('#gallery-container').length == 0) {\n			$parent.find('.addSection[block-type=\"gallery\"]').find('.nu-btn:first').removeClass('disabled');\n		} else {\n			$parent.find('.addSection[block-type=\"gallery\"]').find('.nu-btn:first').addClass('disabled pt');\n		}\n		if ($('#element-facebook-comments').length == 1) {\n			$parent.find('.addSection[element=\"facebook-comments\"]').find('.nu-btn:first').addClass('disabled');\n		} else {\n			$parent.find('.addSection[element=\"facebook-comments\"]').find('.nu-btn:first').removeClass('disabled');\n		}\n\n		var $s = $(\"#saved-elements\");\n		if($s.length > 0 && $s.hasClass('not-loaded') ){\n			//var $lastSection = $parent.find(\".sectionType:last\");\n			var $saveElementBlock = $s.find(\".element-adder-content\");\n			$saveElementBlock.html(\"<div class='thisLoader loading'><div class='nu-loader med'></div></div>\");\n			$.ajax({\n				url: \"/splash/pullElementLibrary\",\n				dataType: 'json',\n				type: 'POST',\n				success:function(response){\n					var html_to_add = '';\n					if(response['blocks']){\n						var blocks_to_append = [];\n						$saveElementBlock.empty();\n						for(var x in response['blocks']){\n							var $markup = $('<div section-type=\"custom-layout-block\" class=\"addSection\"><div class=\"custom-image\" style=\"background:url('+response['blocks'][x]['LayoutBlock']['thumbnail']+');\">'+\n								'</div><span>'+response['blocks'][x]['LayoutBlock']['title']+'</span></div>');\n							var layout_val = $.parseJSON(response['blocks'][x]['LayoutBlock']['value']);\n							$markup.data('layout',layout_val).data('tags',response['blocks'][x]['LayoutBlock']['tags']);\n							//console.log(\"DATA !\",$markup.find(\".addSection\").data());\n							//html_to_add+=$markup.html();\n							$saveElementBlock.append($markup);\n						}\n						// $saveElementBlock.html(html_to_add)\n					}\n					if(response['tags']){\n						var tags = '<div class=\"option\" value=\"\">All</div>';\n						for(var x in response['tags']){\n							tags+='<div class=\"option\" value=\"'+response['tags'][x]+'\">'+response['tags'][x]+'</div>';\n						}\n						$(\"#elementLibTags\").show().find(\".options\").html(tags);\n					}\n					//$lastSection.append(blocks_to_append);\n					$s.removeClass('not-loaded');\n				},\n				error:function(){\n\n				}\n			})\n		}\n		$parent.fireSimpleModal();\n		return false;\n	}, 10);\n}\n\nfunction loadToggleState() {\n	if(inAdvancedMode() ){\n		/////Added a new function to handle the grossness that was this section\n		changeLayout.advanced( true );\n	}\n	else if( inDesignerMode()) {\n		changeLayout.designer( true );\n	}\n	else if(!inDesignerMode() && !inAdvancedMode()) {\n		/////Added a new function to handle the grossness that was this sections\n		changeLayout.basic();\n	}\n\n	// CHECK IF USER IS VIEWING AS BUILDER\n\n	if( ! inBuilderView() ){\n		changeLayout.viewAsUser();\n	}\n\n}\n\n//AssetEditor will be called every time the asset modal is requested\n//data will be a large JSON object\nvar AssetEditor = function(data) {\n\n	var initMode = data.initMode || 'css', //mode is either css, partyCss, ticketCss, js, partyJs, ticketJs, theme_styles, layout\n		$el = {}, //elements within the modal, cache the jQuery objects to vars\n		activeMode = initMode,\n		codemirrorInstance,\n		isSaving = false; //we can use this bool to prevent concurrent ajax requests within this modal\n\n	var toggleLoadingState = function(saving) {\n		if(saving) {\n			$('#custom-editor-main', $el.root).addClass('saving');\n			isSaving = true;\n		}\n		else {\n			$('#custom-editor-main', $el.root).removeClass('saving');\n			isSaving = false;\n		}\n	}\n\n	var saveTheme = function() {\n		var postData = {};\n		postData = getChangedInputsArray(finetuneGetThemeStyleInputs());\n		postData['event_id'] = constants.event_id;\n		postData['name'] = $(\"#admin-theme-title\").val(),\n		postData['description'] = $(\"#admin-theme-description\").val(),\n		postData['abbr'] = $(\"#admin-theme-abbr\").val()||postData['name'].replace(' ','');\n		postData['event_type'] = $(\"#admin-theme-event-type\").val()||'',\n		postData['default_theme'] = $(\"#admin-theme-default\").val(),\n		postData['active'] = $(\"#admin-theme-public\").val(),\n		//postData['image_url'] = $(\"#admin-theme-photo\").val();\n		//postData['parent_id'] = $(\"#admin-theme-parent-id\").val();\n		postData['data[EventSetting][layout]'] = JSON.stringify(finetuneGetEventLayout(true));\n\n		if(data.theme.id){\n			postData['theme_id'] = data.theme.id;\n		}\n\n		//need to do this to include photo uploads\n		//FormData IS supported by browser\n		if('FormData' in window) {\n			var formData = new FormData();\n			//put that upload photo in there...\n			if($('#image_url').get(0).files.length) formData.append('image_url', $('#image_url').get(0).files[0]);\n\n			for(var d in postData) {\n				formData.append(d, postData[d]);\n			}\n		}\n		else {\n			//FormData NOT supported by browser\n			formData = postData;\n		}\n		toggleLoadingState(true);\n		$.ajax({url:'/splash/saveTheme/'+constants.slug,\n			type:'post',\n			data: formData,\n			dataType:'json',\n            //Options to tell JQuery not to process data or worry about content-type\n            cache: false,\n            processData: false,\n            contentType: false,\n			success:function(response){\n				if(response && response.isTheme && response.isTheme.image_url) $('#theme-image_url').attr('src', response.isTheme.image_url);\n\n				if(typeof response.theme_id!=='undefined'){\n					data.theme.id = response.theme_id;\n					setTaggable(true);\n				}\n			},\n			complete: function() {\n				toggleLoadingState(false);\n			}\n		});\n		return false;\n	}\n\n	var toggleSaveable = function(isSaveable) {\n		if(isSaveable) {\n			$el.codeForm.find('.saveForm').show();\n			$el.codeSection.removeClass('readonly');\n		}\n		else {\n			$el.codeForm.find('.saveForm').hide();\n			$el.codeSection.addClass('readonly');\n		}\n	}\n\n	var showCode = function(_mode) {\n		//put the code into the editor\n		var activeCode = data.modes[activeMode].code;\n		ACE_instance.setValue(activeCode, -1);\n		ACE_instance.setReadOnly(false);\n		toggleSaveable(true);\n		//set the syntax mode of the editor\n		ACE_instance.getSession().setMode(\"ace/mode/\" + activeSyntaxMode());\n	}\n\n	var setActiveTabs = function() {\n		$el.subnav.children('li').removeClass('active');\n		$el.subnav.find('a[data-editor-mode=\"' + activeMode + '\"').parent().addClass('active');\n\n		$el.nav.children('li').removeClass('active');\n		$el.nav.find('[data-nav=\"' + data.modes[activeMode].nav + '\"').parent().addClass('active');\n	}\n\n	var subnavClick = function() {\n		changeMode($(this).data('editor-mode'));\n		setActiveTabs();\n		return false;\n	}\n\n	var showSubnav = function() {\n		$el.subnav.hide();\n		$el.subnav.filter('[data-subnav=\"' + data.modes[activeMode].subnav + '\"]').show();\n		setActiveTabs();\n	}\n\n	var changeMode = function(changeToMode) {\n		activeMode = changeToMode;\n		//this mode does not use the code editor screen\n		if(data.modes[activeMode].panel && data.modes[activeMode].panel !== 'code-edit-section') {\n			showSubnav();\n			$el.panels.hide();\n			$el.versionsList.hide();\n			$el.panels.filter('#'+ data.modes[activeMode].panel).show();\n		}\n		//show code editor\n		else {\n			$el.panels.hide();\n			$el.versionsList.show();\n			$el.codeEditor.show(); //$el.panels.children('#code-edit-section')\n			showCode();\n			showSubnav();\n			loadVersionsList();\n		}\n	}\n\n	var navClick = function() {\n		var changeToMode = $(this).data('editor-mode');\n		changeMode(changeToMode);\n		return false;\n	}\n\n	var saveForm = function($form) {\n		toggleLoadingState(true);\n		$form.ajaxSubmit({\n			url: data.submit_url + activeMode,\n			success: function(response, statusText, xhr, $form){\n				$el.root.replaceWith(response);\n			},\n			complete: function() {\n				toggleLoadingState(false);\n			}\n		});\n	}\n\n	var saveAjaxForm = function() {\n		saveForm($(this));\n		return false;\n	}\n\n	var saveActiveCode = function() {\n		//save the contents of the editor into the data object\n		data.modes[activeMode].code = ACE_instance.getValue();\n		$el.codeInput.val(data.modes[activeMode].code).attr('name', activeMode);\n		saveForm($el.codeForm);\n		return false;\n	}\n\n	var writeTag = function(tag_name) {\n		$('#theme-tag-list', $el.root).append('<li data-delete-tagname=\"' + tag_name + '\">' + tag_name + '<span>×</span></li>');\n	}\n\n	var saveSingleTag = function(tag_name) {\n		var postData = {tag_names: [tag_name], theme_ids: [data.theme.id]};\n		writeTag(tag_name); //only writing a single tag\n		$.post('/address_book/saveTags', postData);\n	}\n\n	var deleteSingleTag = function(tag_name) {\n		var postData = {tag_names: [tag_name], theme_ids: [data.theme.id], deleteTag: true};\n		$.post('/address_book/saveTags', postData);\n	}\n\n	//returns the syntax type based on the mode\n	var activeSyntaxMode = function() {\n		return data.modes[activeMode].syntax;\n	}\n\n	//resize the codemirror frame nicely\n	var resizeACE = function() {\n		$el.codeForm.find('#custom-code-editor-holder').height( $(window).height() - 220 );\n		ACE_instance.resize(true);\n	}\n\n	//load the version list for a particular `mode` and show it in the versions list in the left drawer\n	var loadVersionsList = function() {\n		var versions = data.modes[activeMode].versions || null,\n			html = '<ul><li><a href=\"\" data-version-path=\"current\" class=\"active\">Current Version</a></li>';\n		if(versions && versions.length) {\n			for(var v in versions) {\n				html += '<li><a href=\"\" data-version-index=\"' + v + '\" data-version-path=\"' + data.modes[activeMode].versions[v].path + '\" data-version-filename=\"' + data.modes[activeMode].versions[v].filename + '\">' + data.modes[activeMode].versions[v].time + '</a></li>';\n			}\n		}\n		html += '</ul>';\n		$el.versionsList.find('.insert-list').html(html);\n		return false;\n	}\n\n	var setTaggable = function(taggable) {\n		if(taggable) $('#theme-tag-holder', $el.root).removeClass('disabled');\n		else $('#theme-tag-holder', $el.root).addClass('disabled');\n	}\n\n	//display a particular version of a code file\n	var displayVersion = function() {\n		var filepath = $(this).data('version-path'),\n			$link = $(this);\n		//the `current` version link was clicked, just show the current code\n		if(filepath === 'current') {\n			showCode(activeMode);\n		}\n		else {\n			toggleLoadingState(true);\n			$.ajax({\n				url: filepath + '?v=' + new Date().getTime(),\n				processData: false,\n				success: function(code) {\n					data.modes[activeMode].version_code = code;\n					ACE_instance.setValue(code, -1);\n					ACE_instance.setReadOnly(true);\n				},\n				complete: function(jqXHR, textStatus) {\n					toggleLoadingState(false);\n					toggleSaveable(false);\n				}\n			});\n		}\n		//do highlighting\n		$el.versionsList.find('a').removeClass('active');\n		$link.addClass('active');\n		return false;\n	}\n\n	//debug the editor vars\n	window.logAssetEditor = function() {\n		return {data: data, changeMode: changeMode};\n	}\n\n	//event bindings and initializing things\n	var domReady = function() {\n		//collect elements\n		$el.root = $('#custom-style-editor-container');\n		$el.saveCode = $('.submit-code', $el.root);\n		$el.codeSection = $('#code-edit-section', $el.root);\n		$el.codeForm = $('form', $el.codeSection);\n		$el.codeTextarea = $('textarea', $el.codeForm);\n		$el.codeInput = $('.code-input', $el.codeForm);\n		$el.fileSection = $('#file-manager-section', $el.root);\n		$el.fileForm = $('form', $el.fileSection);\n		$el.subnav = $('#custom-editor-subnav ul', $el.root);\n		$el.nav = $('#custom-editor-nav ul', $el.root);\n		$el.panels = $('#asset-panels', $el.root).children();\n		$el.codeEditor = $el.panels.filter('#code-edit-section');\n		$el.themeForm = $('#theme-settings-form', $el.root);\n		$el.versionsList= $('.versions-list', $el.root);\n		$el.versionsToggler = $('.versions-toggler', $el.versionsList);\n\n		//nav event\n		$('[data-editor-mode]', $el.nav).on('click', navClick);\n		$('[data-editor-mode]', $el.subnav).on('click', subnavClick);\n\n		//binding for adding theme tags on enter\n		$('#theme-add-tag', $el.root).on('keyup', function(e) {\n			var $input = $(this);\n			if(e.keyCode === 13 && $.trim($input.val())) {\n				saveSingleTag( $input.val() );\n				$input.val('');\n			}\n			return false;\n		});\n\n		//binding for deleting tags\n		$el.root.on('click', '[data-delete-tagname]', function() {\n			$tag = $(this);\n			deleteSingleTag( $tag.data('delete-tagname') );\n			$tag.remove();\n		});\n\n		//display a version on a click of a link with data-version-path attr\n		$el.versionsList.on('click', 'a[data-version-path]', displayVersion);\n\n		$el.versionsList.removeClass('open');\n		//version drawer toggle open/close\n		$el.versionsToggler.on('click', function() {\n			var isOpen = $el.versionsList.toggleClass('open').hasClass('open');\n\n			//when the versions list becomes closed, show the current code\n			if(isOpen) {\n				if('localStorage' in window) window.localStorage.setItem('versionsOpen', 1);\n				$el.codeForm.removeClass('full');\n			}\n			else {\n				if('localStorage' in window) window.localStorage.removeItem('versionsOpen');\n				var currentVersionList = $('[data-version-path=\"current\"]', $el.versionsList);\n				displayVersion.call(currentVersionList); //simulate a click on the current version item ;)\n				$el.codeForm.addClass('full');\n			}\n\n			return false;\n		});\n\n		//open versionList if localStorage says so ;)\n		//this was done to keep the versions list\n		//if('localStorage' in window && window.localStorage.getItem('versionsOpen')) {\n		//	$el.versionsList.addClass('open');\n		//}\n		//else {\n			$el.codeForm.addClass('full');\n		//}\n		setTaggable( (data.theme && data.theme.id) );\n\n		$el.root.find('.save-codeform').on('click', saveActiveCode);\n\n		//bind two forms\n		$el.fileForm.on('submit', saveAjaxForm);\n		$el.themeForm.on('submit', saveTheme);\n\n		//copy button on the files tab behavior\n		$el.root.on('click', '.fileTable [data-copy]', function() {\n		    var  $this = $(this),\n		         $target = $('#copytarget-' + $this.data('copytarget')),\n		         link = $this.data('copy'),\n		         width = $target.width(),\n		         original = $target.clone(),\n		         $input = $('<input />', {val: link, css: {width: width}});\n		    $target.replaceWith($input);\n		    $input.select();\n		    $input.on('blur', function() { $input.replaceWith(original); });\n		    return false;\n		});\n\n		//create ACE instance and do setup routine\n		ACE_instance = ace.edit(\"custom-code-editor\");\n		ACE_instance.setTheme(\"ace/theme/monokai\");\n		ACE_instance.setShowPrintMargin(false);\n		ACE_instance.setOptions({fontSize: '11pt'});\n		changeMode(activeMode);\n		showSubnav();\n		loadVersionsList();\n\n		//always keep codemirror big\n		$(window).resize(resizeACE);\n		resizeACE();\n\n		//do some things to the modal and the body itself\n		$('body').addClass('lockItUp custom-editor');\n		$('.close-modal', $el.root).click(function(){\n			$('body').removeClass('lockItUp custom-editor');\n		});\n\n		//allow closing the modal by clicking the transparent overlay\n		$('#simple-modal-ajax').on('click.closeEditor', function(e) {\n			if($(e.target).is('#simple-modal-ajax')) {\n				closeSimpleModal();\n				$('#simple-modal-ajax').unbind('click.closeEditor');\n				$('body').removeClass('lockItUp custom-editor');\n			}\n		});\n\n\n		if( ! $('body').hasClass('advMode') ){\n			// IF NOT IN BUILDER MODE\n			var confirmMessage = '<div class=\"adv-mode-info\"><div class=\"title-wrap\"><div class=\"top-icon icon-f-wrench\"></div><h3 class=\"semiBold\">Need more control?</h3>' +\n									 '<h3 class=\"subtitle\">Request access to Builder Mode!</h3></div>' +\n									 '<div class=\"loading-wrap hide\"><h3>Sending Request...</h3></div>'+\n									 '<div class=\"done-wrap hide\"><h3 class=\"semiBold\">Access Requested!</h3><h3 class=\"subtitle\">There\\'s an email coming your way. Just a few short questions, and then you\\'ll be off and running!<small>Don\\'t see the email? Check your \"Promotions\" folder</small></h3><button class=\"done-btn\">Okay, Thanks</button></div>' +\n									 '<div class=\"inner-wrap\">' +\n									 '<div class=\"remix-themes\"><h5 class=\"semiBold\">Create Themes</h5><p>Build original Splash layouts from scratch, or remix existing ones.</p></div>' +\n									 '<div class=\"write-code\"><h5 class=\"semiBold\">Write Code</h5><p>Control every last detail with CSS.</p></div></div></div>';\n				SplashUI.confirm(function(confirm) {\n\n					if(confirm){\n\n						window.open('http://builder.splashthat.com/', '_blank');\n\n					}\n\n					$('.splashui-confirm').remove()\n\n					closeSimpleModal()\n\n					setTimeout(function(){\n						$('body').removeClass('custom-editor')\n					}, 10)\n\n				}, confirmMessage, 'Request Access', 'builder-mode-modal', true);\n		}\n	}\n\n	//call dom ready for bindings as soon as AssetEditor is called\n	$(domReady);\n}\n\nfunction getSelectionNode() {\n	var n = false;\n	if (window.getSelection) {\n	    n = window.getSelection().focusNode.parentNode;\n	} else if (document.selection && document.selection.type != \"Control\") {\n	    n = document.selection.createRange().parentElement();\n	}\n	if(n!==false){\n		n = $(n);//jquery-ify it.\n		if(n.parents(\".fontFamEdited\").length > 0){\n			n = n.parents(\".fontFamEdited:first\");//go futher out if we can.\n		}\n	}\n	return n;\n}\n\n//function to find currently selected text.  via http://stackoverflow.com/questions/5379120/get-the-highlighted-selected-text\nfunction getSelectionText() {\n    var text = \"\";\n    if (window.getSelection) {\n        text = window.getSelection().toString();\n    } else if (document.selection && document.selection.type != \"Control\") {\n        text = document.selection.createRange().text;\n    }\n    return text;\n}\n\nfunction addElementButtons(){\n	if( $('body').hasClass('advMode') ){ // IF IN ADV MODE\n		$(\"#splash-container\").find(\"div.drop-area\").each(function(){\n			var $t = $(this);\n			if($t.find(\".layoutGrp\").length < 1){//if there's no groups within this drop-area, it's empty.\n				$t.addClass('not-edited').find(\".add-placeholder\").remove();//remove existing add-placeholder instances prior.\n				$t.append('<div class=\"grp p0 add-placeholder\"><div class=\"nu-btn nu-btn-sleek square outlined onPageAddSec abs tl50 xy-50\">Add Element</div></div>');\n			} else {\n				$t.removeClass('not-edited').find(\".add-placeholder\").remove();\n			}\n		});\n	} else { // IF BASIC MODE, ADD ADDER BTN TO BELOW LAST ELEMENT\n		$(\"#splash-container\").find(\"div.drop-area\").each(function(){\n			var $t = $(this);\n			if(!$t.parent().hasClass('container-ele')) {\n				$t.find(\".add-placeholder\").remove();\n			}\n		});\n		var $masterGroup = findMasterGroup();\n		if($masterGroup.length > 0){\n			$masterGroup.append($(\"#addSecOnPage\"));\n		} else {\n			var $lastEle = $('.layoutGrp:last')\n			$(\"#addSecOnPage\").insertAfter( $lastEle )\n		}\n	}\n}\n\nfunction getColumnContainerMarkup(type){\n	var markup;\n	if (type == '3-columns') {\n		markup = {\n			group: [\n				{'width':'w1-3', 'name':'Column 1', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-3', 'name':'Column 2', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-3', 'name':'Column 3', 'contain':true, 'drop-area':true, 'class': 'not-edited' }\n			],\n			'class':'container-3col container-ele element',\n			'contain':true,\n			'name': 'Container (3 col)'\n		};\n	} else if (type == '2-columns') {\n		markup = {\n			group: [\n				{'width':'w1-2', 'name':'Column 1', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-2', 'name':'Column 2', 'contain':true, 'drop-area':true, 'class': 'not-edited' }\n			],\n			'class':'container-2col container-ele element ',\n			'contain':true,\n			'name': 'Container (2 col)'\n		};\n	} else if (type == '4-columns') {\n		markup = {\n			group: [\n				{'width':'w1-4', 'name':'Column 1', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-4', 'name':'Column 2', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-4', 'name':'Column 3', 'contain':true, 'drop-area':true, 'class': 'not-edited' },\n				{'width':'w1-4', 'name':'Column 4', 'contain':true, 'drop-area':true, 'class': 'not-edited' }\n			],\n			'class':'container-4col container-ele element',\n			'contain':true,\n			'name': 'Container (4 col)'\n		};\n	} else if (type == '1-column') {\n		markup = {\n			group: [\n				{'width':'w1-1', 'name':'Column 1', 'contain':true, 'drop-area':true, 'class': 'not-edited' }\n			],\n			'class':'container-1col container-ele element',\n			'contain':true,\n			'name': 'Container (1 col)'\n		};\n	}\n	else if (type == 'modal') {\n		markup = {\n			group: [\n					{\n						'width':'w1-1',\n						'name':'Modal',\n						'contain':true,\n						'drop-area':true,\n						'modalId':modal.uniqueID(),\n						'styles': {\n							'min-width':'400px',\n							'min-height':'200px',\n							'max-width': '600px',\n							'max-height':'602px',\n							'background-color':'rgba(255, 255, 255, 1.0)'\n						}\n					}\n			],\n			'class':'container-1col container-ele element isModal',\n			'styles': {\n				'background-color':'rgba(0, 0, 0, 0.75)'\n			},\n			'contain':true,\n			'name': 'Modal Bkg'\n		};\n	}\n	return markup;\n\n}\n\n\nfunction saveAutoBackup(){\n	var stageCount = $('#stagesWrap').find('.stages-list > .stage').length;\n\n	var params = {}\n\n	params.isBackup = true\n\n	var backupName = 'Auto Backup'\n	params.stageName = backupName\n\n	createNewStage( params )\n\n}\n\n///NEW ADV MODE LAYOUT SWITCH...TAKES INTO ACCOUNT COLUMNS AND CONTAINER ITEMS TOO\n	var changeLayout = {\n		ftContain: $('#finetune-layout-contain'),\n		ftNestContain: $(\"#nestedLayoutContainer\"),\n		ftAllContain: $('#allSectionsContain'),\n		basic: function() {\n			var getCustomBlocks = \"custom-block\";\n			var RSVPHiddenCheck = $(\"#extraRSVPControls\").parents('.ft-grp:first').find('input.hide-section').val();\n			if(RSVPHiddenCheck == \"1\") {\n				var $rsvpHidden = $(\"#extraRSVPControls\").find('.hideBtnToggle');\n				$rsvpHidden.addClass('checked');\n				$rsvpHidden.find('input:first').val('1');\n			}\n			if(RSVPHiddenCheck == \"0\" || typeof RSVPHiddenCheck == \"undefined\"  ) {\n				var $rsvpHidden = $(\"#extraRSVPControls\").find('.hideBtnToggle');\n				$rsvpHidden.removeClass('checked');\n				$rsvpHidden.find('input:first').val('0');\n			}\n			$('body').removeClass('designerMode advMode editColors editFonts editSwatchColor')\n			$('#designer-toggle').removeClass('active').parents('.toggle-wrap:first').removeClass(\"active\");\n			changeLayout.ftNestContain.addClass('hide');\n			changeLayout.ftAllContain.removeClass('hide');\n			$('.moveCursor').addClass('hide');\n			$(\"#finetune-layout-cliff\").before(changeLayout.ftContain);\n			$('#allSectionsContain').removeClass('collapse icon-f-wide-darr');\n			$('#buttonTabWrap .advopt-cover').after($(\"#extraRSVPControls\"));\n\n			changeLayout.ftContain.find('.ft-grp').addClass('hide');\n			$(\".ft-grp.grp-wrapper\").find('.title:first').addClass('hideSidebar');\n			closeCustomSection(); // THIS IS A FIX FOR SWITCHING TO BASIC MODE FROM ADV WHEN ON THE LAYOU TAB\n\n			setTimeout(function(){\n				changeLayout.ftContain.find('.ft-grp').each(\n					function() {\n						var groupType = $(this).attr('group-type');\n						if(groupType !== undefined && groupType.indexOf(getCustomBlocks) > -1){\n								//alert(groupType);\n								changeLayout.ftContain.find('.ft-grp[group-type=\"'+groupType+'\"]').removeClass('hide');\n						}\n					}\n				);\n				changeLayout.ftContain.find('.grp-wrapper').removeClass('hide');\n				setWindowHeight($(\"#allSectionsContainInner\"));\n			},100);\n\n\n			JSCookies.removeItem('advancedMode', '/', 'splashthat.com')\n			JSCookies.setItem('designerMode', false);\n\n			var thisMode = 'basic-designer';\n\n			if( constants.is_builder == 1 ){\n				thisMode = 'basic-builder'\n			}\n\n			constants.designer_mode = thisMode\n			$('#simple-modal-wrap').find('a[data-tab=\"builder-elements\"]:first').addClass('hide');\n			$.post(constants.finetune_formBase+'/account/saveUserField', {field: 'designer_mode', value: thisMode });\n\n			finetuneDeActivateOnPageEditables();\n			finetuneActivateOnPageEditables();\n			makeGrpsSortable(true);\n			addElementButtons();\n		},\n		designer: function( skipBackup ){\n			var getCustomBlocks = \"custom-block\";\n			var RSVPHiddenCheck = $(\"#extraRSVPControls\").parents('.ft-grp:first').find('input.hide-section').val();\n			if(RSVPHiddenCheck == \"1\") {\n				var $rsvpHidden = $(\"#extraRSVPControls\").find('.hideBtnToggle');\n				$rsvpHidden.addClass('checked');\n				$rsvpHidden.find('input:first').val('1');\n			}\n			if(RSVPHiddenCheck == \"0\" || typeof RSVPHiddenCheck == \"undefined\"  ) {\n				var $rsvpHidden = $(\"#extraRSVPControls\").find('.hideBtnToggle');\n				$rsvpHidden.removeClass('checked');\n				$rsvpHidden.find('input:first').val('0');\n			}\n			$('#designer-toggle').addClass('active').parents('.toggle-wrap:first').addClass(\"active\");\n			$('body').addClass('designerMode').removeClass('advMode');\n			changeLayout.ftContain.find('.ft-grp').removeClass('hide');\n			$(\".ft-grp.grp-wrapper\").find('.title:first').removeClass('hideSidebar');\n			$('#buttonTabWrap .advopt-cover').after($(\"#extraRSVPControls\"));\n			changeLayout.ftContain.find('.ft-grp').addClass('hide');\n			if( $('body').hasClass('finetuneOpen') ){\n				openFinetuneBar() // THIS IS A FIX FOR SWITCHING TO BASIC MDOE FROM ADV WHEN ON THE LAYOUT TAB\n			}\n			setTimeout(function(){\n				changeLayout.ftContain.find('.ft-grp').each(\n					function() {\n						var groupType = $(this).attr('group-type');\n						if(groupType !== undefined && groupType.indexOf(getCustomBlocks) > -1){\n								//alert(groupType);\n								changeLayout.ftContain.find('.ft-grp[group-type=\"'+groupType+'\"]').removeClass('hide');\n						}\n					}\n				);\n				changeLayout.ftContain.find('.grp-wrapper').removeClass('hide');\n				setWindowHeight($(\"#allSectionsContainInner\"));\n			},100);\n\n			JSCookies.removeItem('advancedMode', '/', 'splashthat.com')\n			JSCookies.setItem('designerMode', true);\n			changeLayout.ftAllContain.removeClass('hide');\n			changeLayout.ftNestContain.addClass('hide');\n			//$(\"#admin-group-clusters\").append(changeLayout.ftContain);\n			$(\"#finetune-layout-cliff\").before(changeLayout.ftContain);\n			setWindowHeight(changeLayout.ftNestContain);\n			finetuneDeActivateOnPageEditables();\n			finetuneActivateOnPageEditables();\n			makeGrpsSortable();\n			addElementButtons();\n			makeGrpsSortable(true);\n\n\n			var stageCount = $('#stagesWrap').find('.stages-list > .stage').length\n\n			constants.designer_mode = 'designer'\n\n			if( !skipBackup){\n\n				$.post(constants.finetune_formBase+'/account/saveUserField', {field: 'designer_mode', value: 'designer'});\n\n				saveAutoBackup()\n			}\n\n		},\n		advanced: function ( skipBackup ) {\n			//$('#builder-toggle').addClass('active').parents('.toggle-wrap:first').addClass(\"active\");\n\n			// IF HAS BUILDER THIS IS BUILDER TOGGLE, TOGGLE ADV MODE\n			$('#designer-toggle').addClass('active builder-toggle').parents('.toggle-wrap:first').addClass(\"active\");\n\n			$('body').addClass('advMode').removeClass('designerMode');\n\n			$('.moveCursor').removeClass('hide');\n			changeLayout.ftNestContain.removeClass('hide');\n			changeLayout.ftAllContain.addClass('hide');\n		changeLayout.ftContain.find('.ft-grp').removeClass('hide');\n			$(\".ft-grp.grp-wrapper\").find('.title:first').removeClass('hideSidebar');\n			if( $('body').hasClass('finetuneOpen') ){\n				openFinetuneBar() // THIS IS A FIX FOR SWITCHING TO BASIC MDOE FROM ADV WHEN ON THE LAYOUT TAB\n			}\n\n			JSCookies.setItem('designerMode', false);\n			JSCookies.setItem('advancedMode', true, Infinity, '/', 'splashthat.com');\n\n			$(\"#admin-group-clusters\").append(changeLayout.ftContain);\n			setWindowHeight(changeLayout.ftNestContain);\n			finetuneDeActivateOnPageEditables();\n			finetuneActivateOnPageEditables();\n			makeGrpsSortable();\n			addElementButtons();\n\n\n			var stageCount = $('#stagesWrap').find('.stages-list > .stage').length\n\n			constants.designer_mode = 'builder'\n\n			if( !skipBackup){\n\n				$.post(constants.finetune_formBase+'/account/saveUserField', {field: 'designer_mode', value: 'builder'});\n				saveAutoBackup()\n\n			}\n\n		},\n		viewAsUser: function(){\n			JSCookies.setItem('viewAsBuilder', false);\n\n			constants.is_builder = 0\n\n			$('body').removeClass('advMode')\n			$('#designer-toggle').removeClass('builder-toggle')\n			$('#finetune-sections').find(\".design-pane-utils .outer-title\").find(\"span:first\").text('Designer Mode')\n			$('#simple-modal-wrap').find('a[data-tab=\"builder-elements\"]:first').addClass('hide');\n\n		},\n		viewAsBuilder: function(){\n			JSCookies.setItem('viewAsBuilder', true);\n\n			constants.is_builder = 1\n			$('#simple-modal-wrap').find('a[data-tab=\"builder-elements\"]:first').removeClass('hide');\n			$('#designer-toggle').addClass('builder-toggle').addClass('active')\n			$('#finetune-sections').find(\".design-pane-utils .outer-title\").addClass('active').find(\"span:first\").text('Designer Mode')\n\n		}\n	}\n\nvar layoutFunction = {\n	highlightSidebar: function($someFtGrp){ //expects g-id of ftg-Id object or false for rmeoving hover state..\n		if(!finetuneOpen){\n			return false;\n		}\n		var gid = ftGetId($someFtGrp);\n		if($someFtGrp.hasClass('ft-grp')){\n			if(gid){\n				var ftgId = gid.replace('ftg-','g-');\n				$(\"#g-\"+gid).addClass('hovering');\n			}\n		} else {\n			if(gid){\n				var $ftg = $(\"#ftg-\"+gid).addClass('hovering');\n				$ftg.children('span.title').addClass('dragging');\n				if($ftg.parent().hasClass('collapsed')){\n					//$ftg.parent().removeClass('collapsed');\n					//layoutFunction.scrollToSection(ftgId);\n				}\n			}\n		}\n	},\n	removeHighlight: function($grp) { //expects g-id of ftg-Id object or false for rmeoving hover state..\n		if(!finetuneOpen){\n			return false;\n		}\n		if($grp !== false){\n			var gid = $grp.attr('id');\n			if(gid){\n				var ftgId = gid.replace('g-','ftg-');\n				$(\"#\"+ftgId).children('span.title').removeClass('dragging');\n				// layoutFunction.scrollToSection(ftgId);\n			}\n		}\n	},\n	scrollToSection: function(ftgId) {//expects ftg-Id\n		var ftg = $('#'+ftgId);\n		if(ftg){\n			var ftgOffset = ftg.position().top;\n			var containerHeight = $(\"#nestedLayoutContainer\").height();\n			//generate_ftg_positions();\n			//$(\"#nestedLayoutContainer\").animate({scrollTop:$(\"#\"+ftgId).position().top*2});\n		}\n	},\n	checkToolsViewport: function($el) {\n		var elOffset = $el.offset(),\n		    elHeight = $el.height(),\n			scrollPos = window.pageYOffset || document.documentElement.scrollTop,\n			tools = $el.find('.edit-tools-layout'),\n			topOfTool = elOffset.top - tools.height();\n		//reset the top position css each time\n		tools.css({top: ''});\n		//always put the tooltip at the top of the modal\n\n		if( $('#splash-container').scrollTop() <= 5 ){\n			// CHECKS TO MAKE SURE USER HASNT SCROLLED ON THE PAGE AT ALL\n			return false\n		}\n\n		if($el.parent().hasClass('isModalFront')) {\n			tools.css({top: 0});\n		}\n		//the top of the hovered element is off the top of the viewport\n		else if(scrollPos > topOfTool ) {\n			tools.css({top: (scrollPos - elOffset.top) + 'px'});\n		}\n	},\n	checkBtnViewPort: function($btn){\n		if($btn.hasClass('button') || $btn.hasClass('element-rsvp')){\n			$btn.find('.inner').find('.rsvp-bg-wrap input').css('background-color',$btn.css('background-color'));\n			$btn.find('.inner').find('.rsvp-color-wrap input').css('background-color',$btn.css('color'));\n			if($btn.width() < 280){\n				var deleteButton = $btn.find('.edit-tools').find(\".inner\").children();\n				deleteButton.css(\"margin\",\"0\").css(\"width\",\"60px !important\");\n			}\n			else {\n			 	return false;\n			}\n		}\n	},\n	keepEditTools: function($btn) {//after clicking on color picker makes sure edit tools stay visible\n		$(\"#splash-container\").hover();\n		$(this).parents('.layoutGrp:first').addClass('hovering').addClass('the-focus');\n	}\n}\n\nvar addBtnTime\n\nvar setWindowHeight = function($container) {\n\n	    var fullfinetuneHt = $(window).height();\n		var fintuneHeadHt = $(\".sectionHead\").height();\n		var containerMaxHeight = fullfinetuneHt-fintuneHeadHt-150;\n		var height = 'height';\n\n		$('#finetune-sections').css('height', fullfinetuneHt + 'px')\n\n		if(!inAdvancedMode()){\n			height ='max-height';\n			var headHeight = $('#finetune-sections').find('.sectionHead:first').outerHeight()\n			containerMaxHeight = fullfinetuneHt-headHeight - 30\n			$container.css('overflow','auto')\n			$('#allSectionsContain').css('height', $('#finetune-sections').outerHeight() - headHeight  + 'px')\n		}\n\n		$container.css(height,containerMaxHeight);\n\n		clearTimeout( addBtnTime )\n\n		addBtnTime = setTimeout(function(){\n\n			if( $container.attr('id') == 'allSectionsContainInner' ){\n				var innerStuffHeight = $('#basicsTabWrap').outerHeight() + $('#buttonTabWrap').outerHeight() + $('#sectionTabWrap').outerHeight()\n\n				if( innerStuffHeight > $container.outerHeight() ){\n					$container.addClass('isScrolling')\n				} else {\n					$container.removeClass('isScrolling')\n				}\n			}\n\n		}, 250)\n\n		//$container.css('max-height',containerMaxHeight);\n	}\n\nfunction openEmbedModal(block_type,gid){ //method for opening map, iframe, audio and video embed modals.\n	var $modal = $(\"#\"+block_type+'-embed');\n	var $layoutGrp = $(\"#g-\"+gid);\n	if($modal.length > 0){\n		if(block_type=='map'){\n			var $img = $layoutGrp.find(\".grp.embed\").find(\"img\");\n			if(typeof $img!=='undefined'){//} && typeof $img[0]!=='undefined'){//grab the actual IMAGE TAG\n				$(\"#map-hidden-img\").prop(\"src\",$img.prop(\"src\")).show();\n				$(\"#map-embed-placeholder\").hide();\n			} else {\n				$(\"#map-hidden-img\").prop(\"src\",\"\");\n				$(\"#map-embed-placeholder\").show();\n			}\n			var $a = $layoutGrp.find(\".grp.embed\").find(\"a.embed-url\");\n			if($a.length > 0){\n				$(\"#venue-map-url\").val($a.prop(\"href\"));\n			} else {\n				$(\"#venue-map-url\").val();\n			}\n			$(\"#venue-search-map-embed\").val('').focus();\n			// load width, height and zoom\n			var map_opts = $(\"#g-\"+gid).find('.sf.map:first').data('splashFeedOptions');\n			if ( typeof map_opts != 'undefined' ) {\n				$('#map-embed-width').val( typeof map_opts.width != 'undefined' ? map_opts.width : $('#map-embed-width').val() );\n				$('#map-embed-height').val( typeof map_opts.height != 'undefined' ? map_opts.height : $('#map-embed-height').val() );\n				$('#map-embed-zoom').val( typeof map_opts.zoom != 'undefined' ? map_opts.zoom : $('#map-embed-zoom').val() );\n			}\n\n		} else {\n			var iframe = $layoutGrp.find(\".grp.embed\").html().trim();\n			$modal.find(\"textarea:first\").val(iframe);\n		}\n		$modal.addClass('editing').attr(\"group-id\",gid).fireSimpleModal({persistent: true });\n	}\n}\n\nfunction setEditMobileLink(){\n\n}\n\nfunction getElementContainer(type){//this is the only place the header container is defined.  let's keep it that way.\n}\n\nfunction generateClassesFromGroup(group){\n	var classes = [];\n	if (group['width']){\n		if(group['width'].match(/^w/) ) {\n			classes.push(group['width']);\n		} else if(group['width'].match(/-/) ){\n			classes.push('w'+group['width']);\n		}\n	}\n	if (group['class']) {\n		classes.push(group['class']);\n	}\n	if(group['position']){\n		classes.push('p-'+group['position']);\n	}\n	if(group['drop-area']){\n		classes.push('drop-area');\n	}\n	if(group['editable_bg']){\n		classes.push('editable_bg');\n	}\n	if(group['tieBgToHeader'] && group['tieBgToHeader'] == 1){\n		classes.push('tieBgToHeader');\n	}\n\n	if(group['link-to-swatch'] && group['link-to-swatch']==1){\n		classes.push('link-to-swatch');\n		if(group['swatches']){\n			var swatches = buildSwatches(group['swatches']);\n			if(swatches!=''){\n				classes.push(swatches);\n			}\n		}\n	}\n\n	if(group['link-to-font'] && group['link-to-font']==1){\n		classes.push('link-to-font');\n		if(group['font_combos']){\n			var swatches = buildSwatches(group['font_combos']);\n			if(swatches!=''){\n				classes.push(swatches);\n			}\n		}	\n	}\n\n	if(group['repeatable-block-id'] ){\n		classes.push('has-items');\n	}\n\n\n	if (typeof group.master_group!=='undefined' && group.master_group == '1') {\n		classes.push('master_group');\n		classes.push('container-ele');\n	}\n\n	if (group.group){\n		classes.push('c'+group.group.length);\n		if(group.group.length > 0) {\n			classes.push('p-grp');\n		}\n	}\n\n	if(group.element){\n		classes.push('element-'+group.element);\n	}\n\n	if (group.set_as_body){\n		classes.push('event-body');\n	}\n\n	if (group.eventImage){\n		classes.push('event-bg-url');\n	}\n\n	return classes;\n}\n\nfunction generateAttributesFromGroup(group){\n	var attr = {};\n	if(group['lock_type']){\n		attr['lock'] = group['lock_type'];\n	}\n\n	if(group['modalId']){\n		attr['modalId'] = group['modalId'];\n	}\n\n	if(group['repeatable-block-id'] ){\n		attr['data-repeatable-block-id'] = group['repeatable-block-id'];\n	}\n\n	return attr;\n}\n\nfunction editStage(params, $stage){\n	if ( typeof $stage !== 'undefined' )\n		$stage.find('.save-scheduling-opts').text('Saving');\n	$.ajax({\n		url: \"/splash/editStage\",\n		type: 'POST',\n		dataType: 'json',\n		data: params,\n		success:function(response){\n			if ( typeof $stage !== 'undefined' ) {\n				$stage.find('.scheduling-opts').hide();\n				$stage.find('.stage-utils').show();\n				if ( typeof params['fields']['scheduled_for'] !== undefined ) {\n					$stage.find('.mode-scheduling-opts').val(params['fields']['scheduled_for'] );\n					if ( params['fields']['scheduled_for'] == 'event_start' )\n						$stage.find('.scheduled-for').text( 'Scheduled for: Event Start Date' );\n					else if ( params['fields']['scheduled_for'] == 'event_end' )\n						$stage.find('.scheduled-for').text( 'Scheduled for: Event End Date' );\n					else\n						$stage.find('.scheduled-for').text( '' );\n				}\n				$stage.find('.save-scheduling-opts').text('Save');\n			}\n		},\n		error:function(){\n			alert('There was an error editing the name for your stage.  Please try again.');\n		}\n	});\n}\n\nfunction loadThemeTab($block,params){//used to grab tabs of theme modal on the fly.  pulling from backend now.\n	if($block.hasClass('unloaded')){\n		$block.addClass('loading');\n		$.ajax({\n			url:\"/splash/loadThemes\",\n			data: { type: params['type'], current_theme_id: constants.theme_id },\n			type: 'POST',\n			dataType: 'json',\n			success:function(response){\n\n				var currentCount = 0;\n\n				$block.removeClass('loading unloaded');\n				if(response['themes'] && response['themes'].length > 0) {\n					var theme_html = '';\n					for(var x in response['themes']){\n						var theme_id = response['themes'][x]['SplashTheme']['id'];\n						if( !allThemes[theme_id] ){\n							allThemes[theme_id] = response['themes'][x]['SplashTheme'];\n						}\n						var $new_theme = $(\"#blank-theme-card\").clone();\n						$new_theme.find(\".theme-option:first\").prop('id','splash-theme-'+theme_id).attr('value',theme_id);\n						if(theme_id==constants.theme_id){\n							$new_theme.find(\".theme-option:first\").addClass(\"current-theme\");\n\n							currentCount = currentCount + 1;\n						}\n\n						$new_theme.find(\".theme-card-wrap .nameText\").text('View '+allThemes[theme_id]['name']).prop('title',allThemes[theme_id]['name']);\n						$new_theme.find(\".theme-card-wrap\").css('background-image','url('+allThemes[theme_id]['image_url']+')').prop('title',allThemes[theme_id]['name']);\n\n						var thisDesc = allThemes[theme_id]['description']\n						if( ! thisDesc ){\n							thisDesc = 'Click below to set this as your theme.';\n						}\n\n						$new_theme.find(\".theme-desc\").text( thisDesc ).end()\n								.find(\".theme-deets .nameText\").text(allThemes[theme_id]['name']);\n						theme_html += $new_theme.html();\n					}\n					$block.append(theme_html);\n\n					if( currentCount == 0 ){\n						// IF NO THEMES FOUND AS 'CURRENT' (if custom theme, etc)\n						// (FOR CURRENT THEME TAB IN THEME MODAL)\n						var $new_theme = $(\"#blank-theme-card\").clone();\n						$new_theme.find(\".theme-option:first\").prop('id','splash-theme-'+constants.theme_id).attr('value',constants.theme_id);\n\n						$new_theme.find(\".theme-card-wrap .nameText\").text('View '+constants.thisTheme).prop('title',constants.thisTheme);\n						$new_theme.find(\".theme-card-wrap\").css('background-image','url('+constants.thisThemeImg+')').prop('title',constants.thisTheme);\n\n						$new_theme.find('.theme-option:first').addClass('current-theme')\n\n						var thisDesc = thisDesc = 'Click below to set this as your theme.';\n\n						$new_theme.find(\".theme-desc\").text( thisDesc ).end()\n								.find(\".theme-deets .nameText\").text(constants.thisTheme);\n						theme_html += $new_theme.html();\n\n						$block.append(theme_html);\n					}\n\n				} else {\n					$block.addClass('no-results').html('No results found!');\n				}\n\n\n\n			},\n			error: function(){\n				alert('There was an error loading themes.  Please refresh the page and try again.');\n			}\n		})\n	}\n\n}\n\nfunction isLegacyEvent(){//one place in JS to check for legacy.\n	if($body.hasClass('isLegacy')){\n		return true;\n	} else {\n		return false;\n	}\n}\n\n//THIS FUNCTION CONVERTS EVENT_SETTING.THEME_STYLES PROPERTIES TO EVENT_SETTING.LAYOUT PROPERTIES.\nfunction convertTo2OH(key){\n	if( ! isLegacyEvent() ){\n		return false;//no need to update if not legacy.\n	}\n\n	var keys = ['title','subtitle','rsvp','when','where','host','hash','header'];\n\n	if(key!=null && $.inArray(key,keys) > - 1 && EventSettingThemeStyles){\n\n		// if(key!=null){\n		// 	keys = [key];\n		// }\n		//for(var x in keys){\n		//var key = keys[x];\n\n		//only loop through if we're given an exact key match.//ie title, when, where, rsvp.\n		//also, make sure the themeStyles array exists and is not empty before proceeding.\n		if(typeof EventSettingThemeStyles[key]!=='undefined' && typeof EventSettingThemeStyles[key]['styles']!=='undefined'){\n\n			if(key=='header'){ ///this deals with header being able to be anywhere on page.  No distinct ID to reference.\n				var $layoutGrp = getTargetById('header');\n			} else if(key == 'when') {\n				var $layoutGrp = $('.mega-date-wrap');\n			} else if(key == 'where') {\n				var $layoutGrp = $('.mega-location-wrap');\n			} else {\n				var $layoutGrp = $(\"#element-\"+key).parents(\".layoutGrp:first\");\n			}\n\n			if($layoutGrp.length > 0 && $layoutGrp !== 'undefined'){\n				var grp = ftGetGrp($layoutGrp);\n\n				// var $accordion = ftGetAccordion($layoutGrp);\n				// $accordion.empty().removeClass('bound');\n				if(!grp['styles']) {\n					grp['styles'] = {};\n				}\n\n				for(var y in EventSettingThemeStyles[key]['styles']){\n					grp['styles'][y] = EventSettingThemeStyles[key]['styles'][y];\n					//updateBlockProperty($layoutGrp,grp['styles'][y]);\n				}\n\n				if( key == 'where' || key == 'when'){\n					$layoutGrp.find('.layoutGrp').each(function(){\n						var thisGrp = ftGetGrp( $(this) );\n\n						// SETS COLOR OF CHILDREN IN MEGA LOCATION WRAP / MEGA DATE WRAP to INHERIT IF SET\n						if( typeof thisGrp['styles'] !== 'undefined' && typeof thisGrp['styles']['color'] !== 'undefined' ){\n							thisGrp['styles']['color'] = 'inherit'\n						}\n\n					})\n				}\n\n				setTimeout(function(){\n					//sections to unset.\n					finetuneEditedFields['data[EventSetting][theme_styles]['+key+'][bkup_styles]'] = EventSettingThemeStyles[key]['styles'];\n					finetuneEditedFields['data[EventSetting][theme_styles]['+key+'][styles]'] = '';\n				},1);\n\n\n			}\n		}\n		//}\n		// debugger;\n		/*\n		if(key=='rsvp'){\n			if(!grp['styles']['background-color']){\n				grp['styles']['background-color'] = EventSettingThemeStyles['rsvp']['styles']['background-color'];\n			}\n			if(!grp['styles']['color']){\n				grp['styles']['color'] = EventSettingThemeStyles['rsvp']['styles']['color'];\n			}\n		}\n		*/\n\n		finetuneLayoutChangesMade();\n		finetuneFieldChangesMade();\n\n	}\n}\n\n//linking modal functions\nvar linkingModal = {\n	getHeight: function() {\n		linkingModal.currentHeight = $(\"#nav-embed\").height() - 200;\n		$(\"#nav-items-list\").css('height',linkingModal.currentHeight);\n	},\n	toNav: function() {\n\n	},\n	toButton: function() {\n\n	},\n	grabBtnText: function($btnObj) {\n		var btnText = $btnObj.text();\n		$('input.nav-name').val(btnText)\n	},\n	updateBtnText: function() {\n\n	}\n}\n\nfunction editHeadBG( $t, editing ){\n	setTimeout(function(){\n		var $div = $(\"#cropAnyPhoto\");\n		var group_id = $div.data(\"group-id\");\n		var $liveGroup = ftGetLayoutGrp(group_id);\n		var grp = ftGetGrp($liveGroup);\n		var headType = grp['bg-type']||'image';\n\n		if ( headType == 'color' ){\n			$div.addClass('isColor')\n			$('#topImageNav').find('.topNavBtn').removeClass('active').end().find('.addColor').addClass('active')\n			$('.editBgWrap').removeClass('is-image is-color').addClass('is-color');\n			setTimeout(function(){//just to be safe. make sure it gets the color first.\n				addColorPickerToModal()\n			},1);\n		} else if (headType == 'image') {\n			$div.addClass('isImage')\n		} else if (headType == 'video'){\n			vidID = $('body').find('.event-bg-url').find('.vidBG').find('iframe').attr('video-id')\n			$div.addClass('isVideo')\n			$('#topImageNav').find('.topNavBtn').removeClass('active').end().find('.editCurrent').addClass('active editVid')\n			$('#imgContentWrap').find('.latestVid').addClass('loading').html('<iframe id=\"demoPlayer\" vidID=\"'+vidID+'\" width=\"100%\" height=\"265px\" src=\"//www.youtube.com/embed/'+vidID+'?version=3&rel=0&showinfo=0&autohide=1\" frameborder=\"0\" allowfullscreen=\"\"></iframe>');\n		}\n\n		if( editing == 'head'){\n			$div.addClass('editHead');\n		} else if( editing == 'bg' ) {\n			$div.addClass('editBG');\n		}\n\n		trackIndicativeEvent('imageModalOpen',{'type':editing});\n\n		$('#topImageNav').find('.active:first').click() // MAKE SURE CORRECT TAB / TAB CONTENT IS BEING SHOWN\n\n	},1);\n}\n\n$.fn.addEditTools = function(){\n	var $editTools;\n	var $layoutGrp = $(this);\n	var $sf = $layoutGrp.find(\".sf:first\");\n	var block_type = $sf.attr(\"block-type\");\n	var classes = $layoutGrp.attr('class');\n	if($layoutGrp.find(\".layoutGrp\").length > 0){ //if there are groups WITHIN this group, the block type cannot be relied on\n		block_type = false;\n	}\n\n	if( $layoutGrp.offset().top <= 60 ){\n		$layoutGrp.addClass('flipToolsDown')\n	}\n\n	var group_id = $layoutGrp.prop('id');\n	var has_items = false;\n\n	if( $layoutGrp.hasClass('container-ele') ){ // IF CONTAINER\n		 $editTools = $('#finetune-on-page-container-tools').clone();\n	} else if( $.inArray(block_type, ['map', 'iframe', 'audio', 'video']) > -1){ //.find('.media.embed').length > 0 ){ // IF EMBED - Map, Video, Audio, Iframe\n		 $editTools = $('#finetune-on-page-embed-tools').clone();\n\n		 var $mediaBtn = $editTools.find('.edit-media-jump')\n		 $mediaBtn.addClass( 'edit-' + block_type ).find('span').text(block_type);\n\n		 if( $layoutGrp.parents(\"div.drop-area\").length < 1) {//if this block is not in a draggable area, then remove it.\n		 	$editTools.find(\".drag-handle\").remove();\n		 }\n\n		 var nuClass = ''\n		 if( block_type == 'map' ){\n		 	nuClass = 'icon-f-map'\n		 } else if ( block_type == 'iframe' ){\n		 	nuClass = 'icon-f-iframe-1'\n		 } else if ( block_type == 'audio' ){\n		 	nuClass = 'icon-f-audio'\n		 } else if ( block_type == 'video') {\n		 	nuClass = 'icon-f-video'\n		 }\n\n		 $mediaBtn.find('i').each(function(){ //update the associated icon.\n		 	$(this).addClass( nuClass )\n		 })\n	} else if( $layoutGrp.hasClass('container-ele') ){ // IF CONTAINER\n		 $editTools = $('#finetune-on-page-container-tools').clone();\n	} else if( $.inArray( block_type, ['speakers','sponsors','images'] ) > -1 ){ // IF LIST TYPE (SPEAKERS, SPONSORS, ETC)\n		 $editTools = $('#finetune-on-page-list-tools').clone();\n		 has_items = true;\n	} else if( $.inArray( block_type, ['list', 'schedule', 'schedule-list', 'headline', 'quote', 'event-hub', 'nav','countdown','attendees'] ) > -1 ){\n		$editTools = $('#finetune-on-page-text-list-tools').clone();\n		has_items = true;\n		if( $.inArray( block_type, ['headline', 'quote', 'countdown', 'attendees'] ) > -1 ) {\n			has_items = false;\n		}\n	} else if( $.inArray( block_type, ['comments'] ) > -1 ){\n		$editTools = $('#finetune-on-page-comments-tools').clone();\n	} else if ( $layoutGrp.hasClass('element-host') ){\n		$editTools = $('#finetune-on-page-host-tools').clone();\n	} else if( classes.match(/element-title|element-subtitle|element-hash/g) ){\n		$editTools = $('#finetune-on-page-basic-tools').clone();\n	} else if ( classes.match(/mega-date-wrap|mega-location-wrap/g) ){\n		$editTools = $('#finetune-on-page-datevenue-tools').clone();\n\n		var nuClass = 'icon-f-ele-navigation'\n		var nuText = 'Venue'\n		if( classes.match(/mega-date-wrap/g) ){\n			nuClass = 'icon-f-calendar-2'\n			nuText = 'Date'\n		}\n\n		$editTools.find('.edit-date').attr('title',nuText)\n					.find('i').attr('class','').addClass( nuClass ).end()\n					.find('span').text( nuText )\n\n	} else if ( classes.match(/element-social-links/g) ){\n		$editTools = $('#finetune-on-page-social-tools').clone();\n	} else if ( block_type == 'social-links-v2' ){\n		has_items = true;\n		$editTools = $('#finetune-on-page-social-links-tools').clone();\n	} else if ( block_type == 'image' ){\n		$editTools = $('#finetune-on-page-image-tools').clone();\n	} else if( block_type == 'button' || block_type == 'attendees' || $layoutGrp.hasClass('element-rsvp') ) {\n		$editTools = $('#finetune-on-page-link-tools').clone();\n	} else if ( $layoutGrp.hasClass('element-gallery') ){\n		$editTools = $('#finetune-on-page-gallery-tools').clone();\n	} else {\n		$editTools = $('#finetune-on-page-default-tools').clone();\n	}\n\n	if(block_type=='img_gal'){\n		has_items=true;\n	}\n\n	if($layoutGrp.parents(\".mega-location-wrap\").length > 0 || $layoutGrp.parents(\".mega-date-wrap\").length > 0){\n		return; //no need for hover states on these.\n	}\n	$editTools.removeAttr('id');\n\n	/*if($t.hasClass('drop-area')){\n		$editTools.find(\".inner:first\")\n			.prepend('<div class=\"column-switch regular grp nofl\" style=\"\" title=\"Change Columns\" tip=\"Switch Columns\">'+\n					'<i show=\"default\" class=\"icon-f-ele-columns\"></i><i show=\"hover\" class=\"icon-f-ele-columns\"></i>');\n	}*/\n	if( $layoutGrp.hasClass('editable_bg') ){//has a background that can be edited.  give it an extra button.\n		$editTools.find(\".inner:first\")\n			.prepend('<div class=\"edit-bg regular grp nofl\" style=\"\" title=\"Edit Background\" tip=\"Edit Background\">'+\n					'<i show=\"default\" class=\"icon-f-image\"></i><i show=\"hover\" class=\"icon-f-image\"></i><span class=\"inline-label\">Background</span><span class=\"inline-state\">Background</span></div>');\n	}\n\n\n	// $layoutGrp.find(\".edit-tools.editToolsFor-\"+tid).hide();\n	$layoutGrp.append('<div class=\"edit-tools editToolsFor-'+group_id+'\">'+$editTools.html()+'</div>');\n	if( $layoutGrp.hasClass('drop-area') && $layoutGrp.hasClass('not-edited') ) {//special addition for any columns.  Add Element button appended.\n		$layoutGrp.find(\".add-placeholder\").remove();//remove existing add-placeholder instances prior.\n		$layoutGrp.append('<div class=\"grp p0 add-placeholder\"><div class=\"nu-btn nu-btn-sleek square outlined onPageAddSec abs tl50 xy-50\">Add Element</div></div>');\n	}\n\n	if(has_items){ //if the element has children - ie speakers, sponsors, schedule, list, event hub.\n		$layoutGrp.addClass('has-items')\n			.find(\".list-item\").each(function(){\n				var $editItemTools = $('#finetune-on-page-item-tools').clone();\n				$editItemTools.removeAttr('id');\n				var $t = $(this);\n				if($t.hasClass('event-hub-item') || $t.hasClass('full-list-item')){\n					$('<div class=\"grp w1-3 regular event-link icon-f-ele-event-hub tip-trig left\" tip=\"Edit Event\"></div>').insertAfter( $editItemTools.find(\".inner\").find(\".drag-handle\") );\n					$editItemTools.find(\".w1-2\").addClass('w1-3').removeClass('w1-2');\n				} else if($t.hasClass('nav-item')){\n					$editItemTools.find(\".inner\").append('<div class=\"grp w1-3 regular nav-link icon-f-link tip-trig left\" tip=\"Edit Link\"></div>');\n					$editItemTools.find(\".w1-2\").addClass('w1-3').removeClass('w1-2');\n				}\n\n				$t.append('<div class=\"edit-tools items\">'+$editItemTools.html()+'</div>');\n			});\n\n	}\n\n}\n\nfunction closeFakeModal(){\n	if( $('body').hasClass('dateVenueModal') ){ // DATE / VENUE MODALS CLOSE\n		$('body').removeClass('settingsOpen dateVenueModal')\n		$(\"#edit-settings\").removeClass('onlyVenue onlyDate')\n	} else if ( $('body').hasClass('settingsOpen') ){ // CLOSE SETTINGS MODAL\n		$('body').removeClass('settingsOpen')\n	}\n}\n\nfunction findMasterGroup(){//one centralized function to return what we define as the master group.\n	return $(\"#splash-container\").find(\"div.layoutGrp.master_group:first\");\n}\n\nfunction addHeaderHovers() { //puts the inline edit header edit bg styles in place.\n	var $header = getTargetById('header');\n	$(\"#hdr-tools\").remove();\n	$header.append('<div id=\"hdr-tools\"><div id=\"changeHeaderInline\" class=\"pointer inline editHead editBG\">Edit Header</div><div id=\"changeBgInline\" class=\"pointer inline  editBG\">Edit Background</div></div>');\n}\n\nfunction stripUrl(src){//takes an image in the format url('www.website.com') -> www.website.com\n	src = (''+src).replace(/^url\\('?\"?/,'').replace(/'?\"?\\)$/,'');\n	return src;\n}\n\nfunction setParentFontSize() {\n	var $grp = $node.parents(\"div.layoutGrp:first\");\n    if(typeof $grp!=='undefined'){\n    	$grp.css({ \"font-size\": \"\" });\n    		$node = $grp;\n    		$node.find('span').each(function(){\n        		$(this).css('font-size', '')\n        	})\n\n        	$node.css('font-size', color.toString() )\n        	updateBlockProperty($grp,{ 'font-size':color.toString() });\n    }\n}\n\n//NEW ADD ELEMENT FUNCTION -- FOOTER CHECK and LOAD\nfunction addElementScroll() {\n	var curPos = $( window ).scrollTop() + $( window ).height();\n	var footerHeight = $( '#footer' ).outerHeight();\n\n	if( curPos > $( document ).height() - footerHeight ) {\n		var newBottom = curPos - $( '#footer' ).offset().top;\n		if ( newBottom > footerHeight ) {\n			newBottom = footerHeight;\n		}\n		$( '#nuAddSecBtn' ).css( 'bottom', newBottom + 16 )\n\n		} else {\n		$( '#nuAddSecBtn' ).css( 'bottom', 16 );\n	}\n}\n\nfunction loadEventHubModal(sfid,params){\n	sfid = 'sfid-'+sfid.replace('sfid-','');\n	$(\"#eventHubSimpleModal\").attr(\"sfid\",sfid).fireSimpleModal();\n	if(params!=null && typeof params.editing!=='undefined'){\n		$(\"#eventHubSimpleModal\").data('editing-row',params.editing);\n	} else {\n		$(\"#eventHubSimpleModal\").data('editing-row',false);\n	}\n\n	if(!$(\"#eventHubContentArea\").hasClass('loaded')){\n		$(\"#reloadEventHubDD\").click();\n		$(\"#eventHubContentArea\").addClass('loaded');\n	}\n}\n\nfunction updateFavIcon(value){\n	if(value!=''){\n		value = stripUrl(value);\n		$(\"#favicon\").prop(\"href\",value);\n		if($(\"#favIconInputSrc\").val().trim()==''){//if its an empty favIcon input, populate it.\n			$(\"#favIconOutput\").prop('src',value);\n			//$(\"#favIconInputSrc\").val(value).trigger('change');\n		}\n	}\n}\nvar adminPane = {\n	disabledArray:['master-group','set-as-body','set-as-repeatable'],\n	disabledMessages:['set master-group on group level', 'set body on group level', 'set repeatable on group level'],\n	hideCheckBox: function($ftgrp) {\n		var $accordion = ftGetAccordion($ftgrp);\n		var $propertyPanelLabels = $accordion.find('.layout-ctrl.props label');\n		var $checkBox = $propertyPanelLabels.children('input');\n		if(!$ftgrp.hasClass('grp-wrapper')){\n			for(var i=0;i<$checkBox.length;i++){\n				adminPane.disableCheckBox(adminPane.disabledArray[i],adminPane.disabledMessages[i]);\n				$('.'+adminPane.disabledArray[i]).parents('div.check-opt').on('click',function(){\n					return false;\n				});\n			}\n		}\n		else if($ftgrp.hasClass('grp-wrapper')){\n			for(var i=0;i<$checkBox.length;i++){\n				var $checkedLabel = $('.'+adminPane.disabledArray[i]).parents('div.check-opt');\n				$('.'+adminPane.disabledArray[i]).parents('div.check-opt').removeClass('disabled');\n				// $('.'+adminPane.disabledArray[i]).parents('div.check-opt').on('click',function(){\n				// 	adminPane.checkedElsewhere($(this));\n				// });\n			}\n		}\n	},\n	disableCheckBox: function(checkBoxName, message) {\n		var $parentContainer = $('input.'+checkBoxName).parents('div.check-opt');\n		if(adminPane.disabledArray.indexOf(checkBoxName) > -1) {\n				$parentContainer.addClass('disabled');\n				//$parentContainer.find('label:first').text(message);\n		}\n	},\n	checkedElsewhere: function($checkboxName) {\n		var master_group = findMasterGroup();\n		var master_ftgrp = master_group.prop('id').replace('g-','ftg-');\n		var master_title = $('#'+master_ftgrp).find('span.title:first').text();\n		var master_input = $checkboxName.children('label').children('input').prop('class');\n		var master_inputVal = $checkboxName.children('label').children('input').val();\n\n		$checkboxName.children('label').removeClass('checked');\n		if(master_group && master_input == 'master-group' && master_inputVal == 0) {\n			var setMasterMessage = 'Would you like to set this as the master group and remove '+master_title+' as the current master group?';\n					SplashUI.ask(function( response ) {\n						if(response){\n							onpageUndo();\n						}\n					}, setMasterMessage, 'Ok');\n		}\n	}\n};\nfunction resetDesignTabs(){	//closes all inner logic in design tabs. ie editing swatch, font combos, etc.\n	if(inAdvancedMode()){\n		$('body').removeClass('editLinks editColors editSwatchColor editFonts')\n		$('#swatchDonutWrap').removeClass('editing')\n		$('#advColorWrap').removeClass('editingSwatch')\n		$('#colorSwatchContain').removeClass('chooseColor linking-text');\n		resizeColorWheel()\n	}\n	$('body').removeClass('settingsOpen')\n\n}\n\n\n/* used to update a specific field in the event settings table. */\nfunction updateSettingsField(params,_callback){\n	params['event_id'] = constants.event_id;\n	$.ajax({\n		url: \"/splash/saveSettingsField\",\n		data: params,\n		type: 'POST',\n		success:function(response){\n			if(typeof _callback=='function'){\n				_callback(response);\n			}\n		},\n		error:function(){\n		}\n	});\n}\n\nvar repeatableItems = {\n	addToPage: function($parentLayoutGrp, block_id){\n\n		if(typeof constants['repeatable_items'][block_id]!=='undefined'){//if we already have the value, much easier.\n			var groups = $.parseJSON(constants['repeatable_items'][block_id]['LayoutBlock']['value']);\n			//var groups = constants['repeatable_items'][block_id]['LayoutBlock']['layout'];\n			if (groups && groups.group && groups.group.length == 1) {\n				groups = groups.group[0];\n			}\n			groups.cloningFromElementLibrary = true;\n			var $parentFtg = ftGetFtGrp($parentLayoutGrp);\n			groups.appendToBlock = $parentFtg.prop('id');//a raw string id - ie. ftg-52\n			addNewSection(groups);\n			updateNestAttr();\n		} else {\n			repeatableItems.lookup($parentLayoutGrp, block_id);\n		}\n	},\n	lookup: function($parentLayoutGrp, block_id){\n		$.ajax({\n			url:\"/splash/pullCustomElement\",\n			data: { block_id: block_id, event_id: constants.event_id },\n			type: 'POST',\n			dataType: 'json',\n			success:function(data){ //cache the layout block after looking up the first time.\n				constants['repeatable_items'][block_id] = data;\n				repeatableItems.addToPage($parentLayoutGrp, block_id);\n			},\n			error:function(){\n				alert('There was an error adding content to your page.  Please try again.');\n			}\n		});\n	},\n	clearRepeatableForBlock: function(block_id){//empties it out so you can switch what is assigned to a block on the fly.\n		if(typeof constants['repeatable_items'][block_id] !== 'undefined'){\n			delete constants['repeatable_items'][block_id];\n		}\n	},\n	save: function(params,_callback){\n		$.ajax({\n			url:\"/splash/saveCustomElement\",\n			data: params,\n			type: 'POST',\n			dataType: 'json',\n			success: function(response){\n				if(typeof _callback == 'function'){\n					_callback(response);\n				}\n			},\n			error: function(){\n				//could not save..\n				if(typeof _callback == 'function'){\n					_callback(false);\n				}\n			}\n		});\n	}\n}\n\n\n// -----------------------------------------------------\n//\n//  SPLASH ELEMENTS\n//  comments, countdown, nav\n//\n// -----------------------------------------------------\n$(function() {\n\n	// -----------------------------------------------------\n	// Countdown\n\n	if ( typeof CountdownElement == 'undefined' )\n		CountdownElement = {};\n\n	jQuery.extend( CountdownElement, {\n\n		layouts: ['plain','plain-only-days'],\n\n		toggleLayout: function ( $sf ) {\n\n			var i;\n			for ( i = 0; i < CountdownElement.layouts.length; i++ ) {\n				if( $sf.hasClass( CountdownElement.layouts[i] ) ) {\n					$sf.removeClass( CountdownElement.layouts[i] );\n					var new_layout = i == CountdownElement.layouts.length -1 ? 0 : i+1;\n					$sf.addClass( CountdownElement.layouts[new_layout] );\n					return CountdownElement.layouts[new_layout];\n				}\n			}\n		},\n	});\n\n	// -----------------------------------------------------\n	// Nav\n\n	if ( typeof NavElement == 'undefined' ){\n		NavElement = {};\n	}\n\n	jQuery.extend( NavElement, {\n\n		modes : ['s1','s2','horizontal-hamburger','horizontal-dropdown'],\n\n		toggleMode: function( $sf ) {\n\n			var i,j;\n			var new_layout = -1;\n\n			for ( i = 0; i < NavElement.modes.length; i++ ) {\n				if( $sf.hasClass( NavElement.modes[i] ) ) {\n\n					// remove all layout classes\n					for ( j = 0; j < NavElement.modes.length; j++ ) {\n						$sf.removeClass( NavElement.modes[j] );\n						$sf.find('.nav-item').removeClass( NavElement.modes[j] );\n					}\n\n					// get the new one\n					var new_layout = i == NavElement.modes.length -1 ? 0 : i+1;\n\n					// apply it\n					if ( NavElement.modes[new_layout] != 's1' && NavElement.modes[new_layout] != 's2' ) {\n						$sf.addClass( NavElement.modes[new_layout] );\n					}\n					$sf.find('.nav-item').addClass( NavElement.modes[new_layout] );\n					return NavElement.modes[new_layout];\n				}\n			}\n\n			// in case now layout was set, we set the default one\n			if ( new_layout == -1 ) {\n				$sf.addClass( NavElement.modes[2] );\n				$sf.find('.nav-item').addClass( NavElement.modes[2] );\n				return NavElement.modes[2];\n			}\n		}\n	});\n\n\n	// -----------------------------------------------------\n	// Comments\n\n	if ( typeof CommentsElement == 'undefined' )\n		CommentsElement = {};\n\n	// CommentsElement object, encapsulates all logic and UI operations related with this element\n	jQuery.extend( CommentsElement, {\n\n		// toggles the sorting class in the element\n		toggleSorting: function( $sf ) {\n			if( $sf.hasClass('oldestToNewest') ) {\n				$sf.addClass('newestToOldest').removeClass('oldestToNewest');\n				return 'newestToOldest';\n			}\n			else {\n				$sf.addClass('oldestToNewest').removeClass('newestToOldest');\n				return 'oldestToNewest';\n			}\n		},\n	});\n\n	// -----------------------------------------------------\n	// Hub Element\n\n	if ( typeof HubElement == 'undefined' )\n		HubElement = {};\n\n	// HubElement object, encapsulates all logic and UI operations related with this element\n	jQuery.extend( HubElement, {\n\n		//editing the event being linked to in a given event hub.\n		editEventLink: function( $event_hub_item ) {\n\n\n			var sfid = (''+$event_hub_item.parents(\".layoutGrp:first\").find(\".sf:first\").prop('id')).replace('sfid-','');//ie. 5678\n			loadEventHubModal(sfid,{'editing': $splashFeed.prop('id') });\n			var event_id = $event_hub_item.find(\"input.linkto:first\").val();\n			if(event_id>0){\n				flipDropDown($(\"#event-hub-selector\"),event_id,true);\n				var val = $splashFeed.attr('completed')||0;\n				setCheck($(\"#eventHubMarkAsComplete\"),val);\n			} else {\n				$(\"#current-event-hub-id\").val(0);\n				$(\"#event-hub-selector\").find(\".current\").text('Select');\n			}\n			return false;\n		},\n\n		reloadEventHubDD: function () {\n			$(\"#eventHubContentArea\")\n				.html('<div class=\"thisLoader loading\"><div class=\"nu-loader small\"></div></div>')\n				.load(\"/address_book/addToEventHub/\",{ event_id: constants.event_id },function(response){\n					var sfid = $(\"#eventHubSimpleModal\").attr(\"sfid\").replace('sfid-','');\n					var $splashFeed = $(\"#sfid-\"+sfid);\n					if($splashFeed.length > 0){\n						var event_id = $splashFeed.find(\"input.linkto:first\").val();\n						if(event_id>0){\n							flipDropDown($(\"#event-hub-selector\"),event_id,true);\n						}\n					}\n				}\n			);\n		},\n\n		saveEventHubOption: function () {\n			var event_id = $(\"#current-event-hub-id\").val()*1;\n			if(event_id <= 0){\n				alert('Please select a valid event.');\n				return false;\n			}\n			var $option = $(\"#event-hub-selector\").find(\".option[event-id='\"+event_id+\"']\");\n			if($option.length < 1){\n				alert('Invalid event.');\n				return false;\n			}\n			var $modal = $(\"#eventHubSimpleModal\");\n\n			var title = $option.text(),\n				sched_date = $option.attr(\"sched-date\"),\n				sched_time = $option.attr(\"sched-time\"),\n				sfid = 'sfid-'+$modal.attr(\"sfid\").replace('sfid-','');\n\n			var $sf = $(\"#\"+sfid);//ie. sfid-xxxxx\n			var editing_row = false;\n			if(typeof $modal.data('editing-row') && $modal.data('editing-row')!==false ){\n				editing_row = true;\n				var $newItem = $(\"#\"+$modal.data('editing-row'));//this will be the current event-hub-item splashfeed object. no need to add a new one.\n				if($newItem.length < 1) { //just to be safe.\n					var $newItem = addNewListItem($sf,true);\n				}\n			} else {\n				var $newItem = addNewListItem($sf,true);\n			}\n\n			if($sf.length > 0 && $newItem.length > 0){\n				var nid = $newItem.prop(\"id\").replace('sfid-','');\n\n				finetuneDeActivateOnPageEditables();\n				finetuneActivateOnPageEditables();\n\n				var group_id = $sf.parents(\".layoutGrp:first\").prop(\"id\");//should be in format 'g-$groupnumber';\n				var $acc = $(\"#acc-ft\"+group_id);//now find the corresponding accordion for this group so we can assign the proper mode for this new item.\n				var grp = ftGetGrp($acc);\n\n				var options = {};\n				options['mode']=grp['mode']||'collage-layout';\n				options['img_shape'] = grp['img_shape']||'';\n\n				if($(\"#eventHubMarkAsComplete\").val()=='1'){\n					$newItem.attr(\"completed\",\"1\");\n					options['completed']=1;\n				} else{\n					$newItem.removeAttr(\"completed\");\n					options['completed']=0;\n				}\n				if($(\"#eventHubMarkAsFeatured\").val()=='1'){\n					$newItem.addClass('featured');\n					options['featured']=1;\n				} else{\n					$newItem.removeClass('featured');\n					options['featured']=0;\n				}\n\n				$sf.removeClass('empty-hub');\n\n				finetuneEditedFields['data[SplashFeed]['+nid+'][options]'] = $.extend(true,{},options);\n				finetuneEditedFields['data[SplashFeed]['+nid+'][foreign_event_id]'] = event_id;\n				finetuneFieldChangesMade();\n\n				// -----------------------\n				// Here we load the new hub item with the event information\n\n				// -----------------------\n				$newItem.find(\".grp.image\").addClass('updating');\n\n				var parameters = {};\n				parameters['action'] = 'hub';\n				parameters['method'] = 'getEventInfo';\n				parameters['event_id'] = event_id;\n\n				$.ajax({\n					url: '',\n					type: 'POST',\n					data: parameters\n				})\n				.done( function( response ) {\n\n					response = $.parseJSON ( response.replace(/&/g,'&') );\n\n\n					if ( typeof response['result'] == 'undefined' || typeof response['result']['errors'] != 'undefined' ) {\n						console.log ( 'Hub Element, retrieve info for new event errors' );\n					}\n					else if ( typeof response['result']['events'] != 'undefined' && typeof response['result']['events'][event_id] != 'undefined' ){\n\n						// if response is cool, get layout, populate it and render it\n						var new_hub_item_info = response['result']['events'][event_id];\n						var $layout = $sf.find('.template-hub-item').clone();\n						$new_hub_item = HubElement.populateTemplate( $layout, new_hub_item_info, nid );\n						HubElement.applyMode( $new_hub_item, $sf.parents(\".layoutGrp:first\").attr(\"mode\") );\n						$sf.find('.children').append( $new_hub_item );\n						$newItem.remove(); // removing old new placeholder\n\n						// update the data structures: events and sorting\n						HubElement.events[ $sf.attr('id').replace('sfid-','') ][ nid ] = new_hub_item_info;\n						HubElement.sorting[ $sf.attr('id').replace('sfid-','') ].push( nid );\n\n					} else {\n						console.log ( 'Hub Element, retrieve info for new event errors: unknown response' );\n					}\n				})\n				.fail( function() {\n					console.log('Hub Element, retrieve info for new event: request error');\n				})\n\n				closeSimpleModal();\n			}\n		}\n	});\n\n	$(\"#main-canvas\").on('click','.edit-tools .event-link',function(e){\n		var $splashFeed = $(this).parents(\".event-hub-item:first\");\n		HubElement.editEventLink($splashFeed);\n	});\n	$(\"#simple-modal-wrap\").on('click','#reloadEventHubDD',function(){\n		HubElement.reloadEventHubDD();\n	});\n	//adding or editing an event being linked to in a hub.\n	$(\"#simple-modal-wrap\").on('click','#saveEventHubOption',function(){\n		HubElement.saveEventHubOption();\n	});\n\n\n	// -----------------------------------------------------\n	// Attendees\n\n	if ( typeof AttendeesElement == 'undefined' ){\n		AttendeesElement = {};\n	}\n\n	jQuery.extend( AttendeesElement, {\n\n		modes : ['on-page','modal'],\n\n		toggleMode: function( $sf ) {\n\n			var i,j;\n			var new_layout = -1;\n\n			for ( i = 0; i < AttendeesElement.modes.length; i++ ) {\n				if( $sf.hasClass( AttendeesElement.modes[i] ) ) {\n\n					// remove all layout classes\n					for ( j = 0; j < AttendeesElement.modes.length; j++ ) {\n						$sf.removeClass( AttendeesElement.modes[j] );\n					}\n\n					// get the new one\n					var new_layout = i == AttendeesElement.modes.length -1 ? 0 : i+1;\n\n					// apply it\n					$sf.addClass( AttendeesElement.modes[new_layout] );\n					return AttendeesElement.modes[new_layout];\n				}\n			}\n\n			// in case now layout was set, we set the default one\n			if ( new_layout == -1 ) {\n				$sf.addClass( AttendeesElement.modes[0] );\n				return AttendeesElement.modes[0];\n			}\n		}\n	});\n\n\n\n	// -----------------------------------------------------\n	// Social Links. VERSION v2\n\n	if ( typeof SocialLinksElement == 'undefined' ){\n		SocialLinksElement = {};\n	}\n\n	jQuery.extend( SocialLinksElement, {\n\n		modes : ['horizontal','vertical'],\n\n		toggleMode: function( $sf ) {\n\n			var i,j;\n			var new_layout = -1;\n\n			for ( i = 0; i < SocialLinksElement.modes.length; i++ ) {\n				if( $sf.hasClass( SocialLinksElement.modes[i] ) ) {\n\n					// remove all layout classes\n					for ( j = 0; j < SocialLinksElement.modes.length; j++ ) {\n						$sf.removeClass( SocialLinksElement.modes[j] );\n					}\n\n					// get the new one\n					var new_layout = i == SocialLinksElement.modes.length -1 ? 0 : i+1;\n\n					// apply it\n					$sf.addClass( SocialLinksElement.modes[new_layout] );\n					return SocialLinksElement.modes[new_layout];\n				}\n			}\n\n			// in case now layout was set, we set the default one\n			if ( new_layout == -1 ) {\n				$sf.addClass( SocialLinksElement.modes[0] );\n				return SocialLinksElement.modes[0];\n			}\n		},\n\n		plusButtonAction: function ( $sf ) {\n			SocialLinksElement.openModal( $sf.closest('.layoutGrp') );\n		},\n\n		openModal: function ( $layoutGrp ) {\n			var sfid = $layoutGrp.find('.sf:first').attr('id').replace('sfid-','');\n			$social_links_embed = $('#social-links-embed');\n			$social_links_embed.html( $social_links_embed.html().replace(/\\[SplashFeed\\]\\[[0-9]+\\]/g,'[SplashFeed]['+sfid+']') );\n\n			var options = $layoutGrp.find('.sf:first').data('splashFeedOptions');\n			if ( typeof options != 'undefined' && typeof options.fields != 'undefined' ) {\n\n				// use options to populate the embed on the fly\n			}\n\n			// Go thru the children elements and populate the modal with their info\n\n			$social_links_embed.find('#social-links-list .section').addClass('hide'); // hide all, and then show the ones that apply\n			$.each( $layoutGrp.find('.social-links-item'), function( index, social_links_item ){\n\n				var options = $(social_links_item).data('splashFeedOptions');\n				if ( typeof options != 'undefined' && typeof options.type != 'undefined' ) {\n\n					var $thisItem = $('#social-links-list .'+options.type);\n					$thisItem.html( $thisItem.html().replace(/\\[SplashFeed\\]\\[[0-9]+\\]/g, '[SplashFeed]['+$(social_links_item).attr('id').replace('sfid-','')+']') );\n					$thisItem.removeClass('hide');\n\n					if ( options.type == 'twitter-tweet' ) {\n						if ( typeof options.body != 'undefined' ) {\n							$thisItem.find('.twitter-body').val( options.body );\n						}\n					}\n					else if ( options.type == 'facebook-share' ) {\n						if ( typeof options.name != 'undefined' ) {\n							$thisItem.find('.facebook-name').val( options.name );\n						}\n						if ( typeof options.description != 'undefined' ) {\n							$thisItem.find('.facebook-description').val( options.description );\n						}\n					}\n				}\n			});\n\n			$social_links_embed.fireSimpleModal();\n		},\n\n		saveSettings: function ( $saveButton ) {\n\n			$saveButton.text('Saving').addClass('in-progress');\n\n			var postData = {};\n\n			$('#social-links-embed .changes-made').each( function() {\n				postData[ $(this).attr('name') ] = $(this).val();\n				$(this).removeClass('changes-made');\n			});\n\n			saveEventData( postData, $saveButton, function() {\n\n				$saveButton.text('Saved').removeClass('in-progress');\n				setTimeout(function(){\n					$saveButton.text('Save');\n					closeFakeModal();\n					closeSimpleModal();\n				},500);\n\n			});\n		}\n	});\n\n	// editing the fields in the attendees modal\n	$('#main-canvas').on('click','.edit-tools .social-modal',function(){\n		SocialLinksElement.openModal( $(this).closest(\".layoutGrp\") );\n		return false;\n	});\n	// editing the fields in the attendees modal\n	$('#social-links-embed').on('click','.saveLink',function(){\n		SocialLinksElement.saveSettings( $(this) );\n	});\n	$(\"#social-links-embed\").on('change', \"input, textarea\", function(){\n		$(this).addClass('changes-made');\n	});\n});\n\n\n// Video options...longer than I wanted, but handles vimeo and youtube\nvar videoOptions = {\n	videoType: '',\n	gid: '',\n	video: '',\n	checkType: function($input, videoURL) {\n		videoOptions.video = videoURL;\n		videoOptions.inputURL = $input;\n		//reset video controls\n		$('#video-embed .videoCheckBoxes .video-controls').parents('.check-opt:first').removeClass('hide');\n		$('#video-embed .videoCheckBoxes').addClass('hide');\n		if(typeof videoURL !== 'undefined') {\n			var currentSrc = videoURL;\n			if(currentSrc.indexOf('youtube') > -1){\n				videoOptions.videoType = 'youtube';\n				$('#video-embed .videoCheckBoxes').removeClass('hide');\n			}\n			if(currentSrc.indexOf('vimeo') > -1) {\n				videoOptions.videoType = 'vimeo';\n				$('#video-embed .videoCheckBoxes').removeClass('hide');\n				$('#video-embed .videoCheckBoxes .video-controls').parents('.check-opt:first').addClass('hide');\n			}\n		}\n		else {\n			return false;\n		}\n	},\n	checkAutoplay: function() {\n\n		videoOptions.videoIframe = $(\"#video-embed .vid iframe:first\");\n		if(videoOptions.videoType == 'youtube') {\n			var newUrl = videoOptions.videoIframe.attr('src').concat('&autoplay=1');\n\n		}\n		if(videoOptions.videoType == 'vimeo'){\n			var vimeoOrder = ((videoOptions.videoIframe.attr('src').indexOf('?') > -1) ? '&' : '?');\n			var newUrl = videoOptions.videoIframe.attr('src').concat(vimeoOrder+'autoplay=1');\n		}\n		videoOptions.inputURL.val('');\n		videoOptions.inputURL.val(newUrl);\n		videoOptions.videoIframe.attr('src',newUrl);\n		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n	},\n	checkControls: function() {\n		videoOptions.videoIframe = $(\"#video-embed .vid iframe:first\");\n		if(videoOptions.videoType == 'youtube') {\n			var newUrl = videoOptions.videoIframe.attr('src').concat('&controls=0');\n			console.log('controlsURL: '+ newUrl);\n		}\n		videoOptions.inputURL.val('');\n		videoOptions.inputURL.val(newUrl);\n		videoOptions.videoIframe.attr('src', newUrl);\n		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n	},\n	checkLoop: function() {\n		videoOptions.videoIframe = $(\"#video-embed .vid iframe:first\");\n		var str = videoOptions.videoIframe.attr('src');\n		var videoId = str.substring(str.lastIndexOf('/')+1,str.lastIndexOf('?'));\n		if(videoOptions.videoType == 'youtube') {\n			var newUrl = videoOptions.videoIframe.attr('src').concat('&loop=1&playlist='+videoId+'');\n		}\n		if(videoOptions.videoType == 'vimeo') {\n			var vimeoOrder = ((videoOptions.videoIframe.attr('src').indexOf('?') > -1) ? '&' : '?');\n			var newUrl = videoOptions.videoIframe.attr('src').concat(vimeoOrder+'loop=1');\n		}\n		videoOptions.inputURL.val('');\n		videoOptions.inputURL.val(newUrl);\n		videoOptions.videoIframe.attr('src', newUrl);\n		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n	},\n	checkMute: function() {\n		videoOptions.removeOption('mute');\n		if(videoOptions.videoType == 'youtube') {\n			var newUrl = videoOptions.videoIframe.attr('src').concat('&enablejsapi=1&muting=true');\n			videoOptions.videoIframe.attr('src', newUrl);\n			//var player = videoOptions.videoIframe.getElementById('player');\n		}\n		if(videoOptions.videoType == 'vimeo') {\n			var vimeoOrder = ((videoOptions.videoIframe.attr('src').indexOf('?') > -1) ? '&' : '?');\n			var newUrl = videoOptions.videoIframe.attr('src').concat(vimeoOrder+'api=1');\n			videoOptions.videoIframe.attr('src', newUrl);\n			//var player = videoOptions.videoIframe.getElementById('player');\n		}\n	},\n	removeOption: function(option) {\n		if(option == 'autoplay') {\n			//alert('removeMe');\n			if(videoOptions.videoType == 'youtube') {\n				var newUrl = videoOptions.videoIframe.attr('src').replace('&autoplay=1','');\n			}\n			if(videoOptions.videoType == 'vimeo'){\n				var vimeoOrder = ((videoOptions.videoIframe.attr('src').indexOf('?') > -1) ? '&' : '?');\n				var newUrl = videoOptions.videoIframe.attr('src').replace(vimeoOrder+'autoplay=1','');\n			}\n		}\n		if(option == 'controls') {\n			//alert('removeMe');\n			if(videoOptions.videoType == 'youtube') {\n				var newUrl = videoOptions.videoIframe.attr('src').replace('&controls=0','');\n				videoOptions.inputURL.val('');\n				videoOptions.inputURL.val(newUrl);\n				videoOptions.videoIframe.attr('src', newUrl);\n			}\n			if(videoOptions.videoType == 'vimeo'){\n				// button gets hidden don't need this\n			}\n		}\n		if(option == 'loop') {\n			//alert('removeMe');\n			if(videoOptions.videoType == 'youtube') {\n				var str = videoOptions.videoIframe.attr('src');\n				var videoId = str.substring(str.lastIndexOf('/')+1,str.lastIndexOf('?'));\n				var newUrl = videoOptions.videoIframe.attr('src').replace('&loop=1&playlist='+videoId+'', '');\n				videoOptions.inputURL.val('');\n				videoOptions.inputURL.val(newUrl);\n				videoOptions.videoIframe.attr('src', newUrl);\n			}\n			if(videoOptions.videoType == 'vimeo'){\n				var vimeoOrder = ((videoOptions.videoIframe.attr('src').indexOf('?') > -1) ? '&' : '?');\n				var newUrl = videoOptions.videoIframe.attr('src').replace(vimeoOrder+'loop=1','');\n			}\n		}\n		videoOptions.inputURL.val(newUrl);\n		videoOptions.videoIframe.attr('src', newUrl);\n		finetuneFieldChangesMade();\n		finetuneLayoutChangesMade();\n	}\n};\nfunction onPlayerReady(event) {\n  event.target.mute();\n  // Anything else you want to do, like start playback...\n}\n\nvar galleryCarousel = {//Fun titles for Gallery Carousel\n	sfid: '',\n	init: function($sf) {\n		console.log($sf);\n		galleryCarousel.getTitle();\n		galleryCarousel.sfid = $sf.attr('id');\n	},\n	getTitle: function() {\n		$inputContain = $(\"#simple-modal-wrap #galleryWrap\").find(\".open\");\n		$input = $inputContain.find('input:first');\n		console.log($input)\n		$input.on('keyup', function() {\n			galleryCarousel.newTitle = $input.val();\n		});\n	},\n	setTitle: function() {\n		$gallery = $(\"#main-canvas\").find('#'+galleryCarousel.sfid);\n		setTimeout(function(){\n			$gallery.find('.title:first').html('<h1>The Best Of #' + galleryCarousel.newTitle+'</h1>');\n			$gallery.find('.title:first').trigger('change');\n			finetuneFieldChangesMade();\n			finetuneLayoutChangesMade();\n		},500);\n	}\n};\n\n// ------------------------------------\n// Settings modal - Share Settings\n\n// -- Buttons to test the social link content.\n$('.simple-modal').on('click', '.twitter.section .share-test', function() {\n	SocialBtns.fireTweet( $(this).closest('.section.twitter').find('.twitter-body:first').val() );\n});\n$('.simple-modal').on('click', '.facebook.section .share-test', function() {\n	SocialBtns.fireFacebookShare(\n		$(this).closest('.section.twitter').find('.facebook-name:first').val(),\n		$(this).closest('.section.twitter').find('.facebook-description:first').val()\n	);\n});\n$('.simple-modal').on('click', '.linkedin.section .share-test', function() {\n	SocialBtns.fireLinkedInShare(\n		$(this).closest('.section.twitter').find('.linkedin-name:first').val(),\n		$(this).closest('.section.twitter').find('.linkedin-description:first').val()\n	);\n});\n\n// -- Twitter char count\n$(\".simple-modal .twitter.section .twitter-body\").on('input propertychange change keyup paste', function() {\n	updateTwitterChars( $(this) );\n});\nfunction updateTwitterChars( $input ){\n	var length = $input.val().length;\n	var remaining = 140 - length;\n	if( remaining <= 20 ){\n		$input.closest('.twitter.section').find('.twitter-char-count').addClass('warning').text(remaining);\n	} else {\n		$input.closest('.twitter.section').find('.twitter-char-count').removeClass('warning').text(remaining);\n	}\n}\n\n// -- Section toggle\n$('#socialDataWrap .share-btn').on('click', function() {\n	$(this).addClass('selected').siblings().removeClass('selected');\n	var section = $(this).attr('class').match(/twitter|facebook|linkedin|email/);\n	if ( section != null ) {\n		$('#socialDataWrap .sections>div').addClass('hide').filter('.section.'+section[0]).removeClass('hide');\n	}\n});\n// ------------------------------------\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/finetune.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 495253,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "function str_replace (search, replace, subject, count) {\n    // *example 1: str_replace(' ', '.', 'Kevin van Zonneveld');\n    // *returns 1: 'Kevin.van.Zonneveld'\n    // *example 2: str_replace(['{name}', 'l'], ['hello', 'm'], '{name}, lars');\n    // *returns 2: 'hemmo, mars'\n\n    var i = 0, j = 0, temp = '', repl = '', sl = 0, fl = 0,\n            f = [].concat(search),\n            r = [].concat(replace),\n            s = subject,\n            ra = r instanceof Array, sa = s instanceof Array;\n    s = [].concat(s);\n    if (count) {\n        this.window[count] = 0;\n    }\n\n    for (i=0, sl=s.length; i < sl; i++) {\n        if (s[i] === '') {\n            continue;\n        }\n        for (j=0, fl=f.length; j < fl; j++) {\n            temp = s[i]+'';\n            repl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];\n            s[i] = (temp).split(f[j]).join(repl);\n            if (count && s[i] !== temp) {\n                this.window[count] += (temp.length-s[i].length)/f[j].length;}\n        }\n    }\n    return sa ? s : s[0];\n}\n\nfunction is_numeric(input)\n{\n   return (input - 0) == input && input.length > 0;\n}\n\nfunction stripos ( f_haystack, f_needle, f_offset ){\n    // Finds position of first occurrence of a string within another, case insensitive\n    //\n    // version: 1008.1718\n    // discuss at: http://phpjs.org/functions/stripos    // +     original by: Martijn Wieringa\n    // +      revised by: Onno Marsman\n    // *         example 1: stripos('ABC', 'a');\n    // *         returns 1: 0\n    var haystack = (f_haystack+'').toLowerCase();    var needle = (f_needle+'').toLowerCase();\n    var index = 0;\n\n    if ((index = haystack.indexOf(needle, f_offset)) !== -1) {\n        return index;\n    }\n    return false;\n}\n\nfunction addCommas(nStr){\n	nStr += '';\n	x = nStr.split('.');\n	x1 = x[0];\n	x2 = x.length > 1 ? '.' + x[1] : '';\n	var rgx = /(\\d+)(\\d{3})/;\n	while (rgx.test(x1)) {\n		x1 = x1.replace(rgx, '$1' + ',' + '$2');\n	}\n	return x1.replace(/\\$-/,'-$') + x2;\n}\n\nfunction isValidEmail(val){\n	var reg = /^([A-Za-z0-9_\\-\\.\\+:])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n	return reg.test($.trim(val));\n}\n\nfunction pad(number, length) {\n	var str = '' + number;\n   	while (str.length < length) {\n        str = '0' + str;\n    }\n    return str;\n}\n\n\nfunction handleAjaxErrorResponse(response){\n		//alert('handleAjaxErrorResponse: '+response.status);\n		if ( response.responseText && response.responseText == 'unauthorized' ){\n			window.location.reload(true);\n			//alert(\"redirecting\");\n		}else{\n			$(\"#inline_login\").val(window.location);\n			//$.facebox( {div:\"#login-form\"}, 'inactivity' );\n			console.log('cool!');\n			//$(\"#facebox\").addClass('inactivity');\n		}\n		 // stop checking the server for them updates\n		checkForUpdates = false;\n	}\n\nfunction ucwords (str) {\n    return (str + '').replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n        return $1.toUpperCase();\n    });\n}\n\n\nvar checkForUpdates = true;\n\nvar _gaq = _gaq || [];\n  _gaq.push(['_setAccount', 'UA-19623827-1']);\n  _gaq.push(['_trackPageview']);\n\n  (function() {\n    //var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n //   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n  //  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n  })();\n\n  function gaEvent(category,action,userType)\n  {\n  	  //category - model (event. user, contact, etc)\n  	  //action - (login, create, modify, delete, )\n  	  //userType = (admin, planner)\n  	  _gaq.push(['_trackEvent',category,action,userType]);\n  }\n\n	//user is \"finished typing,\" do something\n	function doneTypingDomain ($inputObj) {\n		var obj_input = true;\n		var bad_chars = false;\n\n		if( $('#event-domain').hasClass('skipThis') ){\n			$(\"#valid-domain\").val('1');\n			return false;\n		}\n\n		if($inputObj!=null){\n			var $obj = $inputObj;\n			var domain_val = $obj.val();\n			if(domain_val.match(/^www\\./)||domain_val.match(/\\./g)||domain_val.match(/ /g)||domain_val.match(/^https?:\\/\\//)){\n				bad_chars = true;\n			}\n			var domain_name = $.trim($obj.val().replace(/^https?:\\/\\//,'').replace(/^www\\./,'').replace(/\\./g,'').replace(/ /g,''));\n			if(domain_name!=$obj.val()){//only change the value if it's not the current value. otherwise the keyup is annoying.\n				$obj.val(domain_name);			\n			}\n		} else {\n			var $obj = $(\"#event-domain-field\");\n			var domain_val = $(\"#event-domain-field\").text();\n			\n			if(domain_val.match(/^www\\./)||domain_val.match(/\\./g)||domain_val.match(/ /g)||domain_val.match(/^https?:\\/\\//)){\n				bad_chars = true;\n			}\n\n			if($obj.length > 0){\n				var domain_name = $.trim($obj.text().replace(/^https?:\\/\\//,'').replace(/^www\\./,'').replace(/\\./g,'').replace(/ /g,''));\n				\n				if(domain_val!=$(\"#event-domain\").val()){\n					if(bad_chars){\n						$obj.text(domain_name);						\n					}\n					obj_input = false;\n					$(\"#event-domain\").val(domain_name);\n					if(typeof domain_changes!=='undefined'){\n						domain_changes = true;\n					}\n				} else if(bad_chars){\n					obj_input = false;\n					$(\"#event-domain\").val(domain_name);\n					if(typeof domain_changes!=='undefined'){\n						domain_changes = true;\n					}\n				}\n\n			} else {\n				if($(\"#dupe-event-domain\").length > 0){//duplicating from event index.\n					var $obj = $(\"#dupe-event-domain\");\n				} else {\n					var $obj = $(\"#event-domain\");\n				}\n				var domain_name = $.trim($obj.val().replace(/^https?:\\/\\//,'').replace(/^www\\./,'').replace(/\\./g,'').replace(/ /g,''));\n				if(domain_name!=$obj.val()){//only change the value if it's not the current value. otherwise the keyup is annoying.\n					if(bad_chars){\n						$obj.val(domain_name);		\n					}\n					if(typeof domain_changes!=='undefined'){\n						domain_changes = true;\n					}	\n				}\n			}\n		}	\n\n		if(domain_name == ''){\n			//if they've got nothing filled out,\n			//then no need to tell them it's not a valid domain til we submit the form.\n			$(\"#domain-check\").hide();\n			$(\"#valid-domain\").val(0);\n			return false;\n		}\n\n		//make sure it's a valid domain\n		var reg = /^([a-z0-9])([a-z0-9_-])+([a-z0-9])$/i;\n		if(!reg.test(domain_name)){\n			\n			$obj.addClass('error-border');\n			var error_msg = '&#10006;  Not a valid domain.';\n			if(obj_input){\n				if($obj.val().length < 3){\n				 	error_msg = '&#10006; 3 character minimum.';\n				}				\n			} else{\n				if($obj.text().length < 3){\n				 	error_msg = '&#10006; 3 character minimum.';\n				}				\n			}\n			if($inputObj!=null){\n				$inputObj.addClass('error').parents(\".simple-modal:first\").removeClass('success domainTaken').addClass('error');\n				// $(\"#domain-check\").removeClass('success').addClass('error').hide().html('').fadeIn(100);\n				//$inputObj.addClass('error');\n				//$('#domain-check').append('<div id=\"domainStateText\" class=\"hide\">3 character</br>minimum.</div>')\n\n			} else{\n				if( $('body').hasClass('createPage') ){\n					$(\"#domain-check\").removeClass('success').addClass('error').hide().html(error_msg).fadeIn(100);\n				} else {\n					$(\"#domain-check\").removeClass('success').addClass('error').hide().html('').fadeIn(100);\n					$('#domain-input').addClass('error')\n					$('#domain-check').append('<div id=\"domainStateText\" class=\"hide\">3 character</br>minimum.</div>')\n				}\n				$(\"#valid-domain\").val(0);\n				//changeCompletionStatus($obj.parents(\"div.section\").attr(\"num\"),false);\n			}\n			\n			current_text = domain_name;\n\n			return false;\n		}\n\n		if(domain_name != current_text){ //prevent unnecessary calls if the text hasn't changed.\n			// if(typeof constants!=='undefined' && typeof constants.ocbDomain!=='undefined'){\n			// 	var domain_check = 'http://'+constants.ocbDomain+\"/splash/checkDomainAvailability\";\n			// } else {\n			var domain_check = \"/splash/checkDomainAvailability\";\n			//}\n			$.post(domain_check, { domain: domain_name, event_id: constants.event_id }, function(response){\n				var jq = $.parseJSON(response);\n				if(jq.taken){\n					$(\"#event-domain\").addClass('error-border');\n					\n					if($inputObj!=null){\n						$inputObj.removeClass('success').addClass('error').parents(\".simple-modal:first\").removeClass('success').addClass('error domainTaken');\n					} else{\n						if( $('body').hasClass('createPage') ){\n							$(\"#domain-check\").removeClass('success').addClass('error').hide().html(\"&#10006; Domain not available.\").fadeIn(100);\n						} else {\n							$(\"#domain-check\").removeClass('success').addClass('error').hide().html(\"\").fadeIn(100);\n							$('#domain-input').addClass('error')\n							$('#domain-check').append('<div id=\"domainStateText\" class=\"hide\">Domain not</br>available.</div>')\n						}\n					}\n\n					if($(\"#splashDomainLink\").length){ //aka on create page.\n						$(\"#splashDomainLink\").hide();\n						$(\"#splashDomainManual\").show();\n					}\n					$(\"#valid-domain\").val(0);\n					\n					//changeCompletionStatus($obj.parents(\"div.section\").attr(\"num\"),false);\n\n					return false;\n				}\n				else{\n					if($inputObj!=null){\n						$inputObj.removeClass('error').addClass('success').parents(\".simple-modal:first\").removeClass('error domainTaken').addClass('success');\n					} else {\n						$obj.removeClass('error-border');\n						if( $('body').hasClass('createPage') ){\n							$(\"#domain-check\").removeClass('error').addClass('success').hide().html(\"&#10003;Great domain!\").fadeIn(100);\n						} else {\n							$(\"#domain-check\").removeClass('error').addClass('success').hide().html(\"&#10003;\").fadeIn(100);\n							$('#domain-input').removeClass('error')\n							$('#domain-check').append('<div id=\"domainStateText\" class=\"hide\">Great Domain!</div>')\n						}\n					}	\n\n					$(\"#valid-domain\").val('1');\n				\n				}\n				current_text = domain_name;\n				$obj.addClass('changes-made');\n				\n			});\n		}\n	}\n	function getHash(){\n		var href=window.location.href.split('#');\n		var hash ='';\n		if(href.length){\n			hash = $.trim(href.pop());\n		}\n		return hash;\n	}\n\n	function capitalizeFirstLetter(string){\n		if(typeof string === 'undefined' || string == null){\n			return;\n		}\n		\n		return string.charAt(0).toUpperCase() + string.slice(1);\n	}\n\n	function getHash(){\n		var href=window.location.href.split('#');\n		var hash ='';\n		if(href.length > 1){\n			hash = $.trim(href.pop());\n		}\n		return hash;\n	}\n\n	function formatSuffix(dateText){\n		var suffix = \"\";\n		switch(dateText.charAt(dateText.length - 1)){\n			case '1': suffix = 'st'; break;\n			case '2': suffix = 'nd'; break;\n			case '3': suffix = 'rd'; break;\n 				default: suffix = 'th';\n		}\n\n		var two_digits = dateText.substr(-2);\n		if(two_digits == '13' || two_digits == '12' || two_digits == '11'){//check for teen exceptions\n			suffix = 'th';\n		}\n\n		var date_value = dateText+suffix;\n		return date_value;\n	}\n\n	// function getDayOfWeek(day_number){\n\n	// 	if(days[day_number].length){\n\n	// 	}\n	// }\n\n    var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];   \n    var months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n    function getMonthName(month){\n    	return months[month];\n    }\n    function getDayName(day){\n    	return days[day];\n    }\n    // Date.prototype.getMonthName = function() {\n    //     return months[this.getMonth()];\n    // };\n    // Date.prototype.getDayName = function() {\n    //     return days[ this.getDay() ];\n    // };\n	//})();\nvar current_text; //needed for ondonetyping function.\nvar typingTimer; //timer identifier\nvar doneTypingInterval = 600; //default time to fire after done typing.\nvar openAccountDropdown = false;\n$(document).ready(function(){\n\n	$('#plannersDropdown').click(function(){\n		$('#event-contact-count').click();\n		return false\n	})\n\n	$(\"#accountDropdown\").click(function(){\n		var $this = $(this);\n		\n		if(!$this.hasClass('open')){\n			$this.addClass('open');\n			openAccountDropdown=true;\n		}\n			\n	});\n	$(\"#closeAccountDropdown\").click(function(){\n		$(\"#accountDropdown\").removeClass('open');\n		openAccountDropdown=false;		\n		return false;\n	});\n	$(\"#dropdownAvatar\").click(function(){\n		if($(\"#accountDropdown\").hasClass('open')){\n			$(\"#accountDropdown\").removeClass('open');\n			openAccountDropdown=false;		\n			return false;\n		}\n	});\n	$(\"html\").click(function(e){\n		if(openAccountDropdown){\n			if( e.target.id!='accountDropdown' && $(e.target).parents(\"#accountDropdown\").length<1 ){\n				$(\"#accountDropdown\").removeClass('open');\n				openAccountDropdown=false;\n			}\n		}\n	});\n\n	$.fn.truncate = function(limit){\n		if($(this).val().length < limit ){\n			return $(this).val();\n		} else{\n			return $(this).val().substr(0,limit)+'..';\n		}\n	}\n	$.fn.adjustWidth = function(){\n		if($(this).val().length < 5){\n			$(this).width(50);\n		}\n		else{\n			$(this).width($(this).val().length * 10);\n		}\n	}\n\n});\n\nfunction closeSimpleModal(){\n	modal_visible = false;\n	var $addNewSection = $(\"#add-new-section\");\n	if($addNewSection.length > 0 && $addNewSection.is(\":visible\")){\n		//unselect whatever section type was selected.\n		$addNewSection.removeClass('set').find(\".active\").removeClass('active');\n	}\n\n	$(\"#simple-modal-wrap\").removeClass('persistent').find(\".simple-modal\").hide();\n	$(\"#simple-modal-ajax\").removeClass('email-send').empty();\n	if( !$(\"#planning-tools\").hasClass('expanded') ){\n		$(\"body\").removeClass('lockItUp showSimple');\n	} else {\n		$(\"body\").removeClass('showSimple');\n	}\n	$(\"#finetune-block\").removeClass('persistent first-view');\n	\n			\n}\n\nfunction closeRevealModal(){\n	$(\"div.zurb-ajax-modal,div.reveal-modal-bg\").fadeOut('fast',function(){\n		$(this).remove();\n		if($(\"#planning-tools\").hasClass('expanded')){\n			$(\"body\").addClass('lockItUp');\n		}\n	});\n}\nvar modal_visible = false;\nvar modal_offset;\n\n\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/site_functions.js",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 13561,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/app_controller.php",
			"settings":
			{
				"buffer_size": 71501,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_theme.php",
			"settings":
			{
				"buffer_size": 23764,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_rsvp.php",
			"settings":
			{
				"buffer_size": 59416,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/config/bootstrap.php",
			"settings":
			{
				"buffer_size": 6384,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "<?\n$block = (isset($block)) ? $block : false;\nif ($block !== false) {\n\n	$options = array();\n	if (isset($block['SplashFeed']['options']) && !empty($block['SplashFeed']['options'])) {\n		$options = array_merge($options,$block['SplashFeed']['options']);\n	}\n	?>\n	<div class=\"grp p0 sf <?=$block['SplashFeed']['type']?>\" id=\"sfid-<?=$block['SplashFeed']['id']?>\" block-type=\"<?=$block['SplashFeed']['type']?>\">\n\n		<div class=\"body grp p0\">\n			<div>\n				<i class=\"icon-f-twitter-bird inline\"></i>\n			</div>\n			<div>\n				<i class=\"icon-f-linkedin-squared inline\"></i>\n			</div>\n			<div>\n				<i class=\"icon-f-fb-f inline\"></i>\n			</div>\n		</div>\n\n	<?php\n		echo $this->element('splash/custom-block-ftscript',array('block'=>$block));\n	?>\n	</div>\n<?php\n}\n",
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-social-links.ctp",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 743,
				"line_ending": "Unix",
				"name": "hola"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/models/user.php",
			"settings":
			{
				"buffer_size": 57235,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/addressbook.css",
			"settings":
			{
				"buffer_size": 55406,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/nu-global-nav.ctp",
			"settings":
			{
				"buffer_size": 17538,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/styl/nu-global-nav.styl",
			"settings":
			{
				"buffer_size": 6952,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/cake/libs/view/elements/sql_dump.ctp",
			"settings":
			{
				"buffer_size": 2125,
				"line_ending": "Unix"
			}
		},
		{
			"settings":
			{
				"buffer_size": 0,
				"line_ending": "Unix"
			}
		},
		{
			"settings":
			{
				"buffer_size": 0,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/social-links-embed.ctp",
			"settings":
			{
				"buffer_size": 3105,
				"line_ending": "Unix"
			}
		}
	],
	"build_system": "",
	"command_palette":
	{
		"height": 67.0,
		"selected_items":
		[
			[
				"package sett",
				"Preferences: Package Control Settings – Default"
			],
			[
				"package",
				"Package Control: Add Repository"
			],
			[
				"preferences",
				"Preferences: Settings - Default"
			],
			[
				"packag",
				"Preferences: Browse Packages"
			]
		],
		"width": 449.0
	},
	"console":
	{
		"height": 126.0,
		"history":
		[
			"import urllib.request,os,hashlib; h = '7183a2d3e96f11eeadd761d777e62404' + 'e330c659d4bb41d3bdf022e94cab3cd0'; pf = 'Package Control.sublime-package'; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( 'http://sublime.wbond.net/' + pf.replace(' ', '%20')).read(); dh = hashlib.sha256(by).hexdigest(); print('Error validating download (got %s instead of %s), please try manual install' % (dh, h)) if dh != h else open(os.path.join( ipp, pf), 'wb' ).write(by)"
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Users/guillermo/sites/oneclipboard.com/app",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers"
	],
	"file_history":
	[
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/finetune.js",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/custom_fonts.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/admin/custom_themes.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/user-toolbar-gallery.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/__clutter__/fieldNameXML.xml",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/file_element.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/splash-layout.styl",
		"/Users/guillermo/sites/oneclipboard.com/app/models/splash_comment.php",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers/sites_controller.php",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers/events_controller.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/edit_settings.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers/stats_api_controller.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/AutoFormat.RemoveEmpty.RemoveNbsp.Exceptions.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/social-links-embed.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/URI.OverrideAllowedSchemes.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/models/splash_theme.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/config/core.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/linked-in.js",
		"/Users/guillermo/sites/oneclipboard.com/app/list_contacts.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/usermgmt/listing.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/event-listing-item.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/blank-avatar.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/add-to-cal.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/attendees-embed.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/attendee.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/contacts/add_tags.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash-b1.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/splash-theme-billabong.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/splash-theme-flybridgesummit.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/images/custom-splash/sweetlife/fonts/VinylObliqueRegular-demo.html",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/custom-legacy.css",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-schedule-item.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/models/organization.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/braintree/braintree-php.2.25.0/lib/Braintree/IsNode.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/stripe-php-1.7.11/test/Stripe/InvoiceTest.php",
		"/Users/guillermo/sites/oneclipboard.com/app/index.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-social-links-2.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list-item.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-blog.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash-theme-sweet.css",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-content.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/images/custom-splash/sweetlife/fonts/vinylregular-webfont.svg",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/layout.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/models/layout_block.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/contacts/listing_ajax.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash-admin-head.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/nu-add-tag-modal.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/admin/custom_theme_access.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/inline_login.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/invites-index.js",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/edit_ticket_receipt.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/include/PHPExcel/Style/Conditional.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/Cache.DefinitionImpl.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/edit_event_photo.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/rsvp-settings.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/rsvp-row.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/rsvp-dropdown.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/email/html/rsvp_closed_notify.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/event-contact-li-new.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/models/reminder_email.php",
		"/Users/guillermo/sites/oneclipboard.com/app/config/routes.php",
		"/Users/guillermo/sites/oneclipboard.com/app/signup.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/custom-block-add.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/shells/tasks/addenda.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/contacts/add_note.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/models/user.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/table-sorter-custom.js",
		"/Users/guillermo/sites/oneclipboard.com/app/models/social_query.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/URI.AllowedSchemes.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/view_countdown.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/date_countdown2.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/date_countdown.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/country-select.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/tinymce_4.0.11/skins/lightgray/fonts/tinymce-small.svg",
		"/Users/guillermo/sites/oneclipboard.com/app/include/PHPExcel/Calculation/FormulaToken.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-button.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/blank-custom-question.ctp.old",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/save_quick_data.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/splash/BtTicketOrder.php",
		"/Users/guillermo/sites/oneclipboard.com/app/config/bootstrap.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/custom-content.css",
		"/Users/guillermo/sites/oneclipboard.com/app/views/events/custom-style-editor.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/tmp/cache/models/cake_model_read_unsubscribes",
		"/Users/guillermo/sites/oneclipboard.com/app/tmp/cache/persistent/cake_core_object_map",
		"/Users/guillermo/sites/oneclipboard.com/app/models/comment.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/Output.CommentScriptContents.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/styl/comm-events-index.styl",
		"/Users/guillermo/Library/Application Support/Sublime Text 3/Packages/Package Control/Package Control.sublime-settings",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings-old.ctp",
		"/Users/guillermo/Library/Application Support/Sublime Text 3/Packages/Default/Preferences.sublime-settings",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/splash-theme-kreltrip.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/facebox/faceboxOLD.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/fonts/fontello.svg",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/src/_old/events.manage.bkp.js",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/splash-layout.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/splash-layout.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/styl/nu-global-nav.styl",
		"/Users/guillermo/sites/oneclipboard.com/app/include/PHPExcel/Style/NumberFormat.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/addressbook/nv/models/bullet.js",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/venue-block.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/payout-settings.css",
		"/Users/guillermo/sites/oneclipboard.com/app/views/pages/pay.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/page-action-settings.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/email/html/notify_owner_uploaded_photos.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/elements/logged-out-modal.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/views/usermgmt/login.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/img/logo.png.bckup",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/Output.Newline.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers/address_book_controller.php",
		"/Users/guillermo/sites/oneclipboard.com/app/controllers/admin_controller.php",
		"/Users/guillermo/sites/oneclipboard.com/app/models/address_book_email.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/comm-events-index.css",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/addressbook/nv/models/cumulativeLineChart.js",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/addressbook.css",
		"/Users/guillermo/sites/oneclipboard.com/app/models/site_email.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/shells/tasks/update_birthday.php",
		"/Users/guillermo/sites/oneclipboard.com/app/views/layouts/subsite-layout.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/splash-layout-legacy-2.css",
		"/Users/guillermo/sites/oneclipboard.com/app/views/contract_library_documents/edit.ctp",
		"/Users/guillermo/sites/oneclipboard.com/app/models/event_date.php",
		"/Users/guillermo/sites/oneclipboard.com/app/models/address_book_phone_number.php",
		"/Users/guillermo/sites/oneclipboard.com/app/vendors/htmlpurifier/standalone/HTMLPurifier/ConfigSchema/schema/URI.SafeIframeRegexp.txt",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/inc/year.php",
		"/Users/guillermo/sites/oneclipboard.com/app/include/PHPExcel/CachedObjectStorage/MemorySerialized.php",
		"/Users/guillermo/sites/oneclipboard.com/app/webroot/js/splash-elements.js",
		"/Users/guillermo/sites/oneclipboard.com/app/models/event_logo.php"
	],
	"find":
	{
		"height": 35.0
	},
	"find_in_files":
	{
		"height": 93.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"SocialLinksEl",
			"encodeBlockOptions",
			"SocialB",
			"openMo",
			"saveLink",
			"splash-box-",
			"splash-box-]",
			"color #f",
			"openMo",
			".section.tw",
			"social-links-v2",
			"$('#template-social-links-modal-row')",
			"$.each",
			"ew_block.find('.children .",
			"ock_opts['parent",
			"$blank",
			"Layout.elementNa",
			"blank",
			"splashFeedo",
			"addNewSection",
			"addSection",
			"editNav",
			"nav-embed",
			"SocialLinks",
			"absolute",
			"absoulte",
			"====",
			"nav-items-list",
			"nav-items-list ",
			"gmail-link",
			"/calendar",
			" nav-action-dropdown",
			"share-test",
			"overflow hi",
			"addToHubLink",
			"removeFromHubBtn",
			"saveEventData",
			"addNewItem",
			"Element.openM",
			"nav-embed",
			"av-item').addClass( NavE",
			"ss( NavElement.modes",
			"addNewItem",
			"SocialLi",
			"mode",
			"AttendeesElement.to",
			"social-links-item",
			"AttendeesElement.to",
			"item",
			"list-i",
			"h3",
			"editable",
			"layoutJump",
			"attendees",
			"flipMode",
			"AttendeesElement.to",
			"toggleMode",
			"social-links-2",
			"social-links",
			"comments",
			"addNewItem",
			"Anh",
			"icon-f-tb-add",
			"finetune-layout-instructs",
			"list",
			"-comments",
			"finetune-",
			"finetune=",
			"nav",
			"nav-i",
			"string",
			"tting']['rsvp_field",
			"entSetting']['rsvp_fi",
			"SplashFee",
			"SplashFeed",
			"AttendeesE",
			"saveEventData",
			"AttendeesE",
			"saveEventSe",
			"AttendeesE",
			"nav-embed",
			"Include Ca",
			"Include Hum",
			"custom",
			"reloadRSVPBlock",
			"populateRsvpCustomQuestions",
			"populateRsvpCustomQuestions()",
			"save-rsvp-setting",
			"splash-box",
			"bigger",
			"color_secondary_hover",
			"splash-b",
			"removeFromHubBtn",
			".removeFromHubBtn",
			"v",
			"removeFromHubBtn",
			".removeFromHubBtn",
			"splash-b",
			"c-se",
			"splash-btn",
			"c-pr",
			"c-",
			"splash-b",
			"comments",
			"c-se",
			"c-p",
			"splash-b",
			"splash-pri",
			"bg-tw",
			"secondary",
			"attendees",
			"modal",
			"nav-embed",
			"editNavBlock",
			"nav-link",
			"-attendees",
			"iv').addClass('hide'",
			"social",
			"inline-edit-actions",
			"-comments",
			"countdown-",
			"ettingsForm.on('click','.add-hel",
			"#rsvp-m",
			"nu-dro",
			"user",
			"composeP",
			"Auth",
			"composeP"
		],
		"highlight": false,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 15,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/edit-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9040,
						"regions":
						{
						},
						"selection":
						[
							[
								1098,
								1098
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 63,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/user-planning.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 398911,
						"regions":
						{
						},
						"selection":
						[
							[
								219669,
								219669
							]
						],
						"settings":
						{
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 175488.0,
						"zoom_level": 1.0
					},
					"stack_index": 22,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_contact.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 46638,
						"regions":
						{
						},
						"selection":
						[
							[
								1137,
								1137
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 64,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/rsvps.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 26161,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 65,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/account_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 172915,
						"regions":
						{
						},
						"selection":
						[
							[
								1282,
								1294
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 367.0,
						"zoom_level": 1.0
					},
					"stack_index": 51,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/dashboard.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 127106,
						"regions":
						{
						},
						"selection":
						[
							[
								68011,
								68026
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 29086.0,
						"zoom_level": 1.0
					},
					"stack_index": 40,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/nu-global-nav.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10953,
						"regions":
						{
						},
						"selection":
						[
							[
								7220,
								7220
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 66,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/payout-settings.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11963,
						"regions":
						{
						},
						"selection":
						[
							[
								372,
								372
							]
						],
						"settings":
						{
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 67,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/address_book/columns.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 112859,
						"regions":
						{
						},
						"selection":
						[
							[
								59246,
								59246
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 15581.0,
						"zoom_level": 1.0
					},
					"stack_index": 68,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/addressbook/addressbook.therefore.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 260483,
						"regions":
						{
						},
						"selection":
						[
							[
								68284,
								68284
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": -0.0,
						"translation.y": 20884.0,
						"zoom_level": 1.0
					},
					"stack_index": 69,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/email/html/invite_reminder.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3162,
						"regions":
						{
						},
						"selection":
						[
							[
								1759,
								1759
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 199.0,
						"zoom_level": 1.0
					},
					"stack_index": 70,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/event-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9112,
						"regions":
						{
						},
						"selection":
						[
							[
								7601,
								7601
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2079.0,
						"zoom_level": 1.0
					},
					"stack_index": 25,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/edit_settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 69,
						"regions":
						{
						},
						"selection":
						[
							[
								69,
								69
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 71,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 147580,
						"regions":
						{
						},
						"selection":
						[
							[
								142403,
								142403
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 60953.0,
						"zoom_level": 1.0
					},
					"stack_index": 72,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-attendees.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1578,
						"regions":
						{
						},
						"selection":
						[
							[
								283,
								273
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 44,
					"type": "text"
				},
				{
					"buffer": 15,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-comments.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8875,
						"regions":
						{
						},
						"selection":
						[
							[
								1399,
								1399
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-ftscript.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 886,
						"regions":
						{
						},
						"selection":
						[
							[
								886,
								886
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7551,
						"regions":
						{
						},
						"selection":
						[
							[
								3063,
								3064
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 630.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/main-ui.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 30791,
						"regions":
						{
						},
						"selection":
						[
							[
								27476,
								27476
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 13702.0,
						"zoom_level": 1.0
					},
					"stack_index": 73,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-site.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 130824,
						"regions":
						{
						},
						"selection":
						[
							[
								128316,
								128316
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 60969.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"type": "text"
				},
				{
					"buffer": 20,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/create.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10227,
						"regions":
						{
						},
						"selection":
						[
							[
								1034,
								1041
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 74,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-site.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 130824,
						"regions":
						{
						},
						"selection":
						[
							[
								1072,
								1072
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 48,
					"type": "text"
				},
				{
					"buffer": 21,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/rsvp-form.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 36816,
						"regions":
						{
						},
						"selection":
						[
							[
								5065,
								5029
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1364.0,
						"zoom_level": 1.0
					},
					"stack_index": 35,
					"type": "text"
				},
				{
					"buffer": 22,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/settings-modal.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 15339,
						"regions":
						{
						},
						"selection":
						[
							[
								977,
								977
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": -0.0,
						"translation.y": 440.0,
						"zoom_level": 1.0
					},
					"stack_index": 41,
					"type": "text"
				},
				{
					"buffer": 23,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/user-elements.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 237055,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 98039.0,
						"zoom_level": 1.0
					},
					"stack_index": 75,
					"type": "text"
				},
				{
					"buffer": 24,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/ticket-payout-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 28709,
						"regions":
						{
						},
						"selection":
						[
							[
								2596,
								2596
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 696.0,
						"zoom_level": 1.0
					},
					"stack_index": 76,
					"type": "text"
				},
				{
					"buffer": 25,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_setting.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 93833,
						"regions":
						{
						},
						"selection":
						[
							[
								88202,
								88202
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 35797.0,
						"zoom_level": 1.0
					},
					"stack_index": 77,
					"type": "text"
				},
				{
					"buffer": 26,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/finetune.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 41921,
						"regions":
						{
						},
						"selection":
						[
							[
								37918,
								37918
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 12783.0,
						"zoom_level": 1.0
					},
					"stack_index": 78,
					"type": "text"
				},
				{
					"buffer": 27,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/design.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11338,
						"regions":
						{
						},
						"selection":
						[
							[
								10056,
								10056
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2267.0,
						"zoom_level": 1.0
					},
					"stack_index": 79,
					"type": "text"
				},
				{
					"buffer": 28,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/admin-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5100,
						"regions":
						{
						},
						"selection":
						[
							[
								3863,
								3863
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 167.0,
						"zoom_level": 1.0
					},
					"stack_index": 80,
					"type": "text"
				},
				{
					"buffer": 29,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/social.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10364,
						"regions":
						{
						},
						"selection":
						[
							[
								949,
								949
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 81,
					"type": "text"
				},
				{
					"buffer": 30,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/time_zone.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2854,
						"regions":
						{
						},
						"selection":
						[
							[
								1191,
								1191
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 82,
					"type": "text"
				},
				{
					"buffer": 31,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/gallerysort.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4994,
						"regions":
						{
						},
						"selection":
						[
							[
								2054,
								2054
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 83,
					"type": "text"
				},
				{
					"buffer": 32,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/sites_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 112619,
						"regions":
						{
						},
						"selection":
						[
							[
								60995,
								60995
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 20962.0,
						"zoom_level": 1.0
					},
					"stack_index": 38,
					"type": "text"
				},
				{
					"buffer": 33,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_feed.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 67359,
						"regions":
						{
						},
						"selection":
						[
							[
								46186,
								46186
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 24438.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"type": "text"
				},
				{
					"buffer": 34,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list-item.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4938,
						"regions":
						{
						},
						"selection":
						[
							[
								4106,
								4106
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1289.0,
						"zoom_level": 1.0
					},
					"stack_index": 20,
					"type": "text"
				},
				{
					"buffer": 35,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_comment.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12882,
						"regions":
						{
						},
						"selection":
						[
							[
								1959,
								1959
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 62,
					"type": "text"
				},
				{
					"buffer": 36,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/finetune-layout.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 96075,
						"regions":
						{
						},
						"selection":
						[
							[
								82359,
								82359
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 37777.0,
						"zoom_level": 1.0
					},
					"stack_index": 28,
					"type": "text"
				},
				{
					"buffer": 37,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-button.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1388,
						"regions":
						{
						},
						"selection":
						[
							[
								993,
								993
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 32,
					"type": "text"
				},
				{
					"buffer": 38,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-list.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4883,
						"regions":
						{
						},
						"selection":
						[
							[
								4270,
								4272
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1176.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"type": "text"
				},
				{
					"buffer": 39,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/page-action-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8902,
						"regions":
						{
						},
						"selection":
						[
							[
								8776,
								8521
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2215.0,
						"zoom_level": 1.0
					},
					"stack_index": 37,
					"type": "text"
				},
				{
					"buffer": 40,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/planning-tools.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21095,
						"regions":
						{
						},
						"selection":
						[
							[
								18535,
								18535
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 6552.0,
						"zoom_level": 1.0
					},
					"stack_index": 27,
					"type": "text"
				},
				{
					"buffer": 41,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/nav-embed.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4136,
						"regions":
						{
						},
						"selection":
						[
							[
								1994,
								1994
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 212.0,
						"zoom_level": 1.0
					},
					"stack_index": 21,
					"type": "text"
				},
				{
					"buffer": 42,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/registration_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 27809,
						"regions":
						{
						},
						"selection":
						[
							[
								1482,
								1482
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 114.0,
						"zoom_level": 1.0
					},
					"stack_index": 50,
					"type": "text"
				},
				{
					"buffer": 43,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/layout.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 46085,
						"regions":
						{
						},
						"selection":
						[
							[
								1980,
								1980
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 137.0,
						"zoom_level": 1.0
					},
					"stack_index": 46,
					"type": "text"
				},
				{
					"buffer": 44,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/inline-edit-actions.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6965,
						"regions":
						{
						},
						"selection":
						[
							[
								5033,
								5033
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1828.0,
						"zoom_level": 1.0
					},
					"stack_index": 31,
					"type": "text"
				},
				{
					"buffer": 45,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/contacts-index.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 53745,
						"regions":
						{
						},
						"selection":
						[
							[
								12019,
								12019
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4751.0,
						"zoom_level": 1.0
					},
					"stack_index": 52,
					"type": "text"
				},
				{
					"buffer": 46,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/attendees.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 121111,
						"regions":
						{
						},
						"selection":
						[
							[
								30972,
								30972
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 53,
					"type": "text"
				},
				{
					"buffer": 47,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/admin.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9464,
						"regions":
						{
						},
						"selection":
						[
							[
								596,
								596
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 54,
					"type": "text"
				},
				{
					"buffer": 48,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/admin/event_types.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7414,
						"regions":
						{
						},
						"selection":
						[
							[
								4190,
								4190
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1173.0,
						"zoom_level": 1.0
					},
					"stack_index": 55,
					"type": "text"
				},
				{
					"buffer": 49,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/blank-group.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1118,
						"regions":
						{
						},
						"selection":
						[
							[
								37,
								37
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 58,
					"type": "text"
				},
				{
					"buffer": 50,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/legacy/splash/blank-group.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1118,
						"regions":
						{
						},
						"selection":
						[
							[
								271,
								271
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 59,
					"type": "text"
				},
				{
					"buffer": 51,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2798,
						"regions":
						{
						},
						"selection":
						[
							[
								2062,
								2062
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 24,
					"type": "text"
				},
				{
					"buffer": 52,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/add-new-section.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9296,
						"regions":
						{
						},
						"selection":
						[
							[
								6687,
								6687
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 3284.0,
						"zoom_level": 1.0
					},
					"stack_index": 30,
					"type": "text"
				},
				{
					"buffer": 53,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-countdown.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2176,
						"regions":
						{
						},
						"selection":
						[
							[
								913,
								913
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 57,
					"type": "text"
				},
				{
					"buffer": 54,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/settings-modal.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23463,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 84,
					"type": "text"
				},
				{
					"buffer": 55,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/venue-search.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4740,
						"regions":
						{
						},
						"selection":
						[
							[
								4283,
								4283
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 128.0,
						"zoom_level": 1.0
					},
					"stack_index": 85,
					"type": "text"
				},
				{
					"buffer": 56,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/map-embed.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3836,
						"regions":
						{
						},
						"selection":
						[
							[
								2519,
								2519
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 301.0,
						"zoom_level": 1.0
					},
					"stack_index": 86,
					"type": "text"
				},
				{
					"buffer": 57,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/address_book_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 99263,
						"regions":
						{
						},
						"selection":
						[
							[
								47482,
								47494
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 87,
					"type": "text"
				},
				{
					"buffer": 58,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/api_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 129553,
						"regions":
						{
						},
						"selection":
						[
							[
								59916,
								59916
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 22829.0,
						"zoom_level": 1.0
					},
					"stack_index": 29,
					"type": "text"
				},
				{
					"buffer": 59,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/photos_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11576,
						"regions":
						{
						},
						"selection":
						[
							[
								11128,
								11140
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 88,
					"type": "text"
				},
				{
					"buffer": 60,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/event-datepicker.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4167,
						"regions":
						{
						},
						"selection":
						[
							[
								2910,
								2910
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 289.0,
						"zoom_level": 1.0
					},
					"stack_index": 89,
					"type": "text"
				},
				{
					"buffer": 61,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/splash-elements.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 69290,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 26593.0,
						"zoom_level": 1.0
					},
					"stack_index": 56,
					"type": "text"
				},
				{
					"buffer": 62,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/legacy/splash/finetune.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 56751,
						"regions":
						{
						},
						"selection":
						[
							[
								10412,
								10425
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2506.0,
						"zoom_level": 1.0
					},
					"stack_index": 90,
					"type": "text"
				},
				{
					"buffer": 63,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/event-form.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6717,
						"regions":
						{
						},
						"selection":
						[
							[
								6151,
								6151
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1014.0,
						"zoom_level": 1.0
					},
					"stack_index": 91,
					"type": "text"
				},
				{
					"buffer": 64,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/create-form-nu.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7014,
						"regions":
						{
						},
						"selection":
						[
							[
								4967,
								4967
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1164.0,
						"zoom_level": 1.0
					},
					"stack_index": 92,
					"type": "text"
				},
				{
					"buffer": 65,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/splash-layout.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 69821,
						"regions":
						{
						},
						"selection":
						[
							[
								3043,
								3043
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1428.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"type": "text"
				},
				{
					"buffer": 66,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/eventfeed/legacy-splash-layout.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5537,
						"regions":
						{
						},
						"selection":
						[
							[
								366,
								366
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 93,
					"type": "text"
				},
				{
					"buffer": 67,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/splash/splash-layout-legacy-2.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 61401,
						"regions":
						{
						},
						"selection":
						[
							[
								899,
								899
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 454.0,
						"zoom_level": 1.0
					},
					"stack_index": 94,
					"type": "text"
				},
				{
					"buffer": 68,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/user-elements.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 151928,
						"regions":
						{
						},
						"selection":
						[
							[
								108672,
								108672
							]
						],
						"settings":
						{
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 92992.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"type": "text"
				},
				{
					"buffer": 69,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/rsvp-settings.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 30835,
						"regions":
						{
						},
						"selection":
						[
							[
								28295,
								28312
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 11872.0,
						"zoom_level": 1.0
					},
					"stack_index": 39,
					"type": "text"
				},
				{
					"buffer": 70,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/theme-modal.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2962,
						"regions":
						{
						},
						"selection":
						[
							[
								824,
								824
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1.0,
						"zoom_level": 1.0
					},
					"stack_index": 95,
					"type": "text"
				},
				{
					"buffer": 71,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/splash_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 66871,
						"regions":
						{
						},
						"selection":
						[
							[
								4873,
								4845
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": -0.0,
						"translation.y": 2404.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"type": "text"
				},
				{
					"buffer": 72,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/contacts/view.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 26125,
						"regions":
						{
						},
						"selection":
						[
							[
								17139,
								17139
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 9537.0,
						"zoom_level": 1.0
					},
					"stack_index": 96,
					"type": "text"
				},
				{
					"buffer": 73,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/app_model.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21501,
						"regions":
						{
						},
						"selection":
						[
							[
								20805,
								20805
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage"
						},
						"translation.x": -0.0,
						"translation.y": 9102.0,
						"zoom_level": 1.0
					},
					"stack_index": 97,
					"type": "text"
				},
				{
					"buffer": 74,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/finetune.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 66989,
						"regions":
						{
						},
						"selection":
						[
							[
								28946,
								28946
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 98,
					"type": "text"
				},
				{
					"buffer": 75,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/config/core.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7485,
						"regions":
						{
						},
						"selection":
						[
							[
								6262,
								6262
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 99,
					"type": "text"
				},
				{
					"buffer": 76,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/layouts/subsite-layout.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23775,
						"regions":
						{
						},
						"selection":
						[
							[
								1898,
								1898
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 100,
					"type": "text"
				},
				{
					"buffer": 77,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/vendors/debug.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 575,
						"regions":
						{
						},
						"selection":
						[
							[
								110,
								110
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 101,
					"type": "text"
				},
				{
					"buffer": 78,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/config/database.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1506,
						"regions":
						{
						},
						"selection":
						[
							[
								269,
								269
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 61,
					"type": "text"
				},
				{
					"buffer": 79,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/splash/simple-page.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22393,
						"regions":
						{
						},
						"selection":
						[
							[
								2075,
								2075
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 102,
					"type": "text"
				},
				{
					"buffer": 80,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/events_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 301614,
						"regions":
						{
						},
						"selection":
						[
							[
								34028,
								34028
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 22.0,
						"translation.y": 10389.0,
						"zoom_level": 1.0
					},
					"stack_index": 36,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 147580,
						"regions":
						{
						},
						"selection":
						[
							[
								3657,
								3657
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": -0.0,
						"translation.y": 1244.0,
						"zoom_level": 1.0
					},
					"stack_index": 103,
					"type": "text"
				},
				{
					"buffer": 81,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/events/create_flow_b.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7896,
						"regions":
						{
						},
						"selection":
						[
							[
								1101,
								1108
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 104,
					"type": "text"
				},
				{
					"buffer": 82,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/social-links.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2125,
						"regions":
						{
						},
						"selection":
						[
							[
								1444,
								1444
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"type": "text"
				},
				{
					"buffer": 83,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/sites/view.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22388,
						"regions":
						{
						},
						"selection":
						[
							[
								8531,
								8531
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1984.0,
						"zoom_level": 1.0
					},
					"stack_index": 23,
					"type": "text"
				},
				{
					"buffer": 84,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/create.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 39035,
						"regions":
						{
						},
						"selection":
						[
							[
								2865,
								2865
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1085.0,
						"zoom_level": 1.0
					},
					"stack_index": 105,
					"type": "text"
				},
				{
					"buffer": 85,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-create.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3551,
						"regions":
						{
						},
						"selection":
						[
							[
								921,
								921
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 106,
					"type": "text"
				},
				{
					"buffer": 86,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/new-create.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 60914,
						"regions":
						{
						},
						"selection":
						[
							[
								47620,
								47620
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 107,
					"type": "text"
				},
				{
					"buffer": 25,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_setting.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 93833,
						"regions":
						{
						},
						"selection":
						[
							[
								5984,
								5984
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 108,
					"type": "text"
				},
				{
					"buffer": 87,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/finetune.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 495253,
						"regions":
						{
						},
						"selection":
						[
							[
								485353,
								485353
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 215992.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"type": "text"
				},
				{
					"buffer": 88,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/site_functions.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 13561,
						"regions":
						{
						},
						"selection":
						[
							[
								10432,
								10432
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 4170.0,
						"zoom_level": 1.0
					},
					"stack_index": 34,
					"type": "text"
				},
				{
					"buffer": 89,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/app_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 71501,
						"regions":
						{
						},
						"selection":
						[
							[
								70503,
								70503
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 109,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7551,
						"regions":
						{
						},
						"selection":
						[
							[
								1370,
								1370
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 110,
					"type": "text"
				},
				{
					"buffer": 90,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_theme.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23764,
						"regions":
						{
						},
						"selection":
						[
							[
								2300,
								2300
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 42,
					"type": "text"
				},
				{
					"buffer": 73,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/app_model.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21501,
						"regions":
						{
						},
						"selection":
						[
							[
								21001,
								21001
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 8929.0,
						"zoom_level": 1.0
					},
					"stack_index": 111,
					"type": "text"
				},
				{
					"buffer": 22,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/settings-modal.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 15339,
						"regions":
						{
						},
						"selection":
						[
							[
								840,
								840
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 112,
					"type": "text"
				},
				{
					"buffer": 68,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/user-elements.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 151928,
						"regions":
						{
						},
						"selection":
						[
							[
								151902,
								151902
							]
						],
						"settings":
						{
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 113,
					"type": "text"
				},
				{
					"buffer": 32,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/sites_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 112619,
						"regions":
						{
						},
						"selection":
						[
							[
								21527,
								21527
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": -0.0,
						"translation.y": 6304.0,
						"zoom_level": 1.0
					},
					"stack_index": 114,
					"type": "text"
				},
				{
					"buffer": 33,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/splash_feed.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 67359,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": -0.0,
						"translation.y": 4972.0,
						"zoom_level": 1.0
					},
					"stack_index": 115,
					"type": "text"
				},
				{
					"buffer": 91,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_rsvp.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 59416,
						"regions":
						{
						},
						"selection":
						[
							[
								16442,
								16442
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 7242.0,
						"zoom_level": 1.0
					},
					"stack_index": 116,
					"type": "text"
				},
				{
					"buffer": 61,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/splash-elements.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 69290,
						"regions":
						{
						},
						"selection":
						[
							[
								69286,
								69286
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 26625.0,
						"zoom_level": 1.0
					},
					"stack_index": 45,
					"type": "text"
				},
				{
					"buffer": 92,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/config/bootstrap.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6384,
						"regions":
						{
						},
						"selection":
						[
							[
								5034,
								5034
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1177.0,
						"zoom_level": 1.0
					},
					"stack_index": 60,
					"type": "text"
				},
				{
					"buffer": 93,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-social-links.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 743,
						"regions":
						{
						},
						"selection":
						[
							[
								405,
								406
							]
						],
						"settings":
						{
							"auto_name": "hola",
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 33,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7551,
						"regions":
						{
						},
						"selection":
						[
							[
								899,
								899
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 117,
					"type": "text"
				},
				{
					"buffer": 86,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/new-create.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 60914,
						"regions":
						{
						},
						"selection":
						[
							[
								48961,
								48961
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 118,
					"type": "text"
				},
				{
					"buffer": 80,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/events_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 301614,
						"regions":
						{
						},
						"selection":
						[
							[
								34548,
								34548
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 119,
					"type": "text"
				},
				{
					"buffer": 83,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/sites/view.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22388,
						"regions":
						{
						},
						"selection":
						[
							[
								20310,
								20310
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 120,
					"type": "text"
				},
				{
					"buffer": 78,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/config/database.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1506,
						"regions":
						{
						},
						"selection":
						[
							[
								693,
								693
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 121,
					"type": "text"
				},
				{
					"buffer": 94,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/user.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 57235,
						"regions":
						{
						},
						"selection":
						[
							[
								57235,
								57235
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 24925.0,
						"zoom_level": 1.0
					},
					"stack_index": 47,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/event-site.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 130824,
						"regions":
						{
						},
						"selection":
						[
							[
								50078,
								50078
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 22325.0,
						"zoom_level": 1.0
					},
					"stack_index": 43,
					"type": "text"
				},
				{
					"buffer": 29,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/social.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10364,
						"regions":
						{
						},
						"selection":
						[
							[
								8371,
								8371
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2087.0,
						"zoom_level": 1.0
					},
					"stack_index": 122,
					"type": "text"
				},
				{
					"buffer": 58,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/api_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 129553,
						"regions":
						{
						},
						"selection":
						[
							[
								2342,
								2342
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 624.0,
						"zoom_level": 1.0
					},
					"stack_index": 123,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 147580,
						"regions":
						{
						},
						"selection":
						[
							[
								147490,
								147003
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 62245.0,
						"zoom_level": 1.0
					},
					"stack_index": 49,
					"type": "text"
				},
				{
					"buffer": 95,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/addressbook.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 55406,
						"regions":
						{
						},
						"selection":
						[
							[
								1115,
								1115
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 124,
					"type": "text"
				},
				{
					"buffer": 57,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/controllers/address_book_controller.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 99263,
						"regions":
						{
						},
						"selection":
						[
							[
								46252,
								46252
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 125,
					"type": "text"
				},
				{
					"buffer": 96,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/nu-global-nav.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 17538,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 126,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/nu-global-nav.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10953,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 127,
					"type": "text"
				},
				{
					"buffer": 97,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/addressbook/styl/nu-global-nav.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6952,
						"regions":
						{
						},
						"selection":
						[
							[
								3496,
								3496
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 128,
					"type": "text"
				},
				{
					"buffer": 76,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/layouts/subsite-layout.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23775,
						"regions":
						{
						},
						"selection":
						[
							[
								2600,
								2600
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 129,
					"type": "text"
				},
				{
					"buffer": 22,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/css/styl/settings-modal.styl",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 15339,
						"regions":
						{
						},
						"selection":
						[
							[
								4496,
								4496
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/Stylus/editors/Stylus.tmbundle/Syntaxes/Stylus.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2918.0,
						"zoom_level": 1.0
					},
					"stack_index": 130,
					"type": "text"
				},
				{
					"buffer": 72,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/contacts/view.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 26125,
						"regions":
						{
						},
						"selection":
						[
							[
								1624,
								1626
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 131,
					"type": "text"
				},
				{
					"buffer": 83,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/sites/view.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22388,
						"regions":
						{
						},
						"selection":
						[
							[
								7870,
								7870
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1852.0,
						"zoom_level": 1.0
					},
					"stack_index": 132,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/main-ui.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 30791,
						"regions":
						{
						},
						"selection":
						[
							[
								29371,
								29371
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 133,
					"type": "text"
				},
				{
					"buffer": 98,
					"file": "/Users/guillermo/sites/oneclipboard.com/cake/libs/view/elements/sql_dump.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2125,
						"regions":
						{
						},
						"selection":
						[
							[
								350,
								448
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 51.0,
						"zoom_level": 1.0
					},
					"stack_index": 134,
					"type": "text"
				},
				{
					"buffer": 99,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/Text/Plain text.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 18,
					"type": "text"
				},
				{
					"buffer": 100,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/Text/Plain text.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 17,
					"type": "text"
				}
			]
		},
		{
			"selected": 3,
			"sheets":
			[
				{
					"buffer": 82,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/social-links.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2125,
						"regions":
						{
						},
						"selection":
						[
							[
								664,
								675
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"type": "text"
				},
				{
					"buffer": 43,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/toolbar/layout.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 46085,
						"regions":
						{
						},
						"selection":
						[
							[
								823,
								823
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 19,
					"type": "text"
				},
				{
					"buffer": 101,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/social-links-embed.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3105,
						"regions":
						{
						},
						"selection":
						[
							[
								865,
								865
							]
						],
						"settings":
						{
							"auto_name": "",
							"history_list_is_closing": true,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"type": "text"
				},
				{
					"buffer": 61,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/webroot/js/splash-elements.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 69290,
						"regions":
						{
						},
						"selection":
						[
							[
								68479,
								68479
							]
						],
						"settings":
						{
							"history_list_is_closing": true,
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 26722.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/settings/share-settings.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7551,
						"regions":
						{
						},
						"selection":
						[
							[
								2226,
								2230
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 155.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/views/elements/splash/custom-block-ftscript.ctp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 886,
						"regions":
						{
						},
						"selection":
						[
							[
								886,
								886
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"type": "text"
				},
				{
					"buffer": 25,
					"file": "/Users/guillermo/sites/oneclipboard.com/app/models/event_setting.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 93833,
						"regions":
						{
						},
						"selection":
						[
							[
								248,
								248
							]
						],
						"settings":
						{
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 26,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 23.0
	},
	"input":
	{
		"height": 31.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.5,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.find_results":
	{
		"height": 100.0
	},
	"project": "splash.sublime-project",
	"replace":
	{
		"height": 42.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
			[
				"",
				"webroot/js/finetune.js"
			],
			[
				"customfts",
				"views/elements/splash/custom-block-ftscript.ctp"
			],
			[
				"ftscr",
				"views/elements/splash/custom-block-ftscript.ctp"
			],
			[
				"customblocklist",
				"views/elements/splash/custom-block-list.ctp"
			],
			[
				"fientu",
				"webroot/js/finetune.js"
			],
			[
				"splashele",
				"webroot/js/splash-elements.js"
			],
			[
				"sociallink",
				"views/elements/splash/social-links.ctp"
			],
			[
				"eventsite",
				"webroot/js/event-site.js"
			],
			[
				"splashfee",
				"models/splash_feed.php"
			],
			[
				"sharesettt",
				"views/elements/settings/share-settings.ctp"
			],
			[
				"finetu",
				"webroot/js/finetune.js"
			],
			[
				"userele",
				"webroot/css/styl/user-elements.styl"
			],
			[
				"splashla",
				"webroot/css/styl/splash-layout.styl"
			],
			[
				"fine",
				"webroot/js/finetune.js"
			],
			[
				"fnetu",
				"webroot/js/finetune.js"
			],
			[
				"sharesett",
				"views/elements/settings/share-settings.ctp"
			],
			[
				"sociallinks",
				"views/elements/splash/social-links.ctp"
			],
			[
				"sociallinke",
				"views/elements/social-links-embed.ctp"
			],
			[
				"customblockfts",
				"views/elements/splash/custom-block-ftscript.ctp"
			],
			[
				"customblockli",
				"views/elements/splash/custom-block-list.ctp"
			],
			[
				"customlistite",
				"views/elements/splash/custom-block-list-item.ctp"
			],
			[
				"nave",
				"views/elements/nav-embed.ctp"
			],
			[
				"userplan",
				"webroot/css/styl/user-planning.styl"
			],
			[
				"view",
				"views/sites/view.ctp"
			],
			[
				"customblo",
				"views/elements/splash/custom-block.ctp"
			],
			[
				"eventsett",
				"models/event_setting.php"
			],
			[
				"attendeese",
				"views/elements/attendees-embed.ctp"
			],
			[
				"nav",
				"views/elements/nav-embed.ctp"
			],
			[
				"navemb",
				"views/elements/nav-embed.ctp"
			],
			[
				"customlist",
				"views/elements/splash/custom-block-list.ctp"
			],
			[
				"customblock",
				"views/elements/splash/custom-block.ctp"
			],
			[
				"customblocklisti",
				"views/elements/splash/custom-block-list-item.ctp"
			],
			[
				"finetunela",
				"webroot/js/finetune-layout.js"
			],
			[
				"apicon",
				"controllers/api_controller.php"
			],
			[
				"sociallin",
				"views/elements/splash/social-links.ctp"
			],
			[
				"organi",
				"models/organization.php"
			],
			[
				"p",
				"views/elements/splash/custom-block-list.ctp"
			],
			[
				"inlineedi",
				"views/elements/splash/inline-edit-actions.ctp"
			],
			[
				"customblockbu",
				"views/elements/splash/custom-block-button.ctp"
			],
			[
				"customblockna",
				"~/sites/oneclipboard.com/app/views/elements/splash/custom-block-social-links.ctp"
			],
			[
				"layout",
				"views/elements/toolbar/layout.ctp"
			],
			[
				"inlineedit",
				"views/elements/splash/inline-edit-actions.ctp"
			],
			[
				"addnewse",
				"views/elements/add-new-section.ctp"
			],
			[
				"sitefun",
				"webroot/js/site_functions.js"
			],
			[
				"ftscrip",
				"views/elements/splash/custom-block-ftscript.ctp"
			],
			[
				"eventscon",
				"controllers/events_controller.php"
			],
			[
				"navem",
				"views/elements/nav-embed.ctp"
			],
			[
				"rsvp",
				"views/elements/splash/rsvp-form.ctp"
			],
			[
				"sitescon",
				"controllers/sites_controller.php"
			],
			[
				"splashlay",
				"webroot/css/styl/splash-layout.styl"
			],
			[
				"socialli",
				"views/elements/splash/social-links.ctp"
			],
			[
				"addnew",
				"views/elements/add-new-section.ctp"
			],
			[
				"cusotmatten",
				"views/elements/splash/custom-block-attendees.ctp"
			],
			[
				"inlineeditt",
				"views/elements/splash/inline-edit-actions.ctp"
			],
			[
				"rsvpsett",
				"webroot/js/rsvp-settings.js"
			],
			[
				"user.pp",
				"models/user.php"
			],
			[
				"event.hp",
				"models/event.php"
			],
			[
				"user.php",
				"models/user.php"
			],
			[
				"regis",
				"controllers/registration_controller.php"
			],
			[
				"account",
				"controllers/account_controller.php"
			],
			[
				"countdo",
				"views/elements/splash/custom-block-countdown.ctp"
			],
			[
				"ftscript",
				"views/elements/splash/custom-block-ftscript.ctp"
			],
			[
				"custombutton",
				"views/elements/splash/custom-block-button.ctp"
			],
			[
				"cusotmblockco",
				"views/elements/splash/custom-block-comments.ctp"
			],
			[
				"data",
				"config/database.php"
			],
			[
				"bootstr",
				"config/bootstrap.php"
			],
			[
				"splashcom",
				"models/splash_comment.php"
			],
			[
				"splashcp",
				"models/splash_comment.php"
			],
			[
				"customcomm",
				"views/elements/splash/custom-block-comments.ctp"
			],
			[
				"event.php",
				"models/event.php"
			],
			[
				"splashcomme",
				"models/splash_comment.php"
			],
			[
				"subsi",
				"views/layouts/subsite-layout.ctp"
			],
			[
				"shareset",
				"views/elements/settings/share-settings.ctp"
			],
			[
				"databa",
				"config/database.php"
			],
			[
				"nuglo",
				"webroot/css/addressbook/nu-global-nav.css"
			],
			[
				"payoutsett",
				"webroot/css/styl/payout-settings.styl"
			],
			[
				"nuglobal",
				"webroot/css/addressbook/styl/nu-global-nav.styl"
			],
			[
				"nuglobalnav",
				"webroot/css/addressbook/nu-global-nav.css"
			],
			[
				"nuglobalna",
				"views/elements/nu-global-nav.ctp"
			],
			[
				"eventcon",
				"models/event_contact.php"
			],
			[
				"addressbookcon",
				"controllers/address_book_controller.php"
			],
			[
				"addressbook",
				"webroot/css/addressbook/addressbook.css"
			],
			[
				"userpla",
				"webroot/css/styl/user-planning.styl"
			],
			[
				"settingsmoda",
				"webroot/css/styl/settings-modal.styl"
			],
			[
				"sub",
				"views/layouts/subsite-layout.ctp"
			],
			[
				"splashlayoutlega",
				"webroot/css/splash/splash-layout-legacy-2.css"
			],
			[
				"social",
				"views/elements/splash/social-links.ctp"
			],
			[
				"editsettin",
				"views/elements/splash/edit-settings.ctp"
			],
			[
				"editsett",
				"views/events/edit_settings.ctp"
			],
			[
				"adminset",
				"views/elements/settings/admin-settings.ctp"
			],
			[
				"settingsmo",
				"webroot/css/styl/settings-modal.styl"
			],
			[
				"usreele",
				"webroot/css/styl/user-elements.styl"
			],
			[
				"design",
				"views/elements/toolbar/design.ctp"
			],
			[
				"toolbarsocia",
				"views/elements/toolbar/social.ctp"
			],
			[
				"api",
				"controllers/api_controller.php"
			],
			[
				"toolbarso",
				"views/elements/toolbar/social.ctp"
			],
			[
				"subsite",
				"views/layouts/subsite-layout.ctp"
			],
			[
				"adminsett",
				"views/elements/settings/admin-settings.ctp"
			],
			[
				"events",
				"controllers/events_controller.php"
			],
			[
				"event",
				"controllers/events_controller.php"
			],
			[
				"shares",
				"views/elements/settings/share-settings.ctp"
			],
			[
				"fin",
				"webroot/js/finetune.js"
			],
			[
				"sharese",
				"views/elements/settings/share-settings.ctp"
			],
			[
				"settings",
				"webroot/css/styl/settings-modal.styl"
			],
			[
				"userplann",
				"webroot/css/styl/user-planning.styl"
			],
			[
				"finetune",
				"webroot/css/finetune.css"
			],
			[
				"userlee",
				"webroot/css/styl/user-elements.styl"
			],
			[
				"event-site",
				"webroot/js/event-site.js"
			],
			[
				"sitesview",
				"views/sites/view.ctp"
			],
			[
				"event.p",
				"models/event.php"
			],
			[
				"appmo",
				"app_model.php"
			],
			[
				"organiza",
				"models/organization.php"
			],
			[
				"admincon",
				"controllers/admin_controller.php"
			],
			[
				"rsvpform",
				"views/elements/splash/rsvp-form.ctp"
			],
			[
				"gallerysort",
				"webroot/css/eventfeed/gallerysort.css"
			],
			[
				"time",
				"models/time_zone.php"
			],
			[
				"mainui",
				"webroot/js/main-ui.js"
			],
			[
				"create.",
				"webroot/js/create.js"
			],
			[
				"eventcreate",
				"webroot/js/event-create.js"
			],
			[
				"timezon",
				"models/time_zone.php"
			],
			[
				"newcrea",
				"webroot/js/new-create.js"
			],
			[
				"eventrs",
				"models/event_rsvp.php"
			],
			[
				"core",
				"config/core.php"
			],
			[
				"settingsmodal",
				"webroot/css/styl/settings-modal.styl"
			],
			[
				"crea.js",
				"webroot/js/new-create.js"
			],
			[
				"create.js",
				"webroot/js/event-create.js"
			],
			[
				"create",
				"views/events/create_flow_b.ctp"
			],
			[
				"eventcontr",
				"controllers/events_controller.php"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 150.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
